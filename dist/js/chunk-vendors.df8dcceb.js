(self["webpackChunkelomoas_ar"]=self["webpackChunkelomoas_ar"]||[]).push([[998],{9662:function(e,t,n){var r=n(614),o=n(6330),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),o=n(30),i=n(3070).f,a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},5787:function(e,t,n){var r=n(7976),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,o,i,a=n(4019),s=n(9781),c=n(7854),u=n(614),l=n(111),d=n(2597),f=n(648),p=n(6330),h=n(8880),g=n(8052),v=n(3070).f,m=n(7976),y=n(9518),A=n(7674),b=n(5112),E=n(9711),_=n(9909),w=_.enforce,S=_.get,C=c.Int8Array,I=C&&C.prototype,O=c.Uint8ClampedArray,T=O&&O.prototype,R=C&&y(C),N=I&&y(I),P=Object.prototype,k=c.TypeError,D=b("toStringTag"),x=E("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",j=a&&!!A&&"Opera"!==f(c.opera),M=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},U=function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||d(B,t)||d(F,t)},V=function(e){var t=y(e);if(l(t)){var n=S(t);return n&&d(n,L)?n[L]:V(t)}},W=function(e){if(!l(e))return!1;var t=f(e);return d(B,t)||d(F,t)},H=function(e){if(W(e))return e;throw k("Target is not a typed array")},Q=function(e){if(u(e)&&(!A||m(R,e)))return e;throw k(p(e)+" is not a typed array constructor")},G=function(e,t,n,r){if(s){if(n)for(var o in B){var i=c[o];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(a){try{i.prototype[e]=t}catch(u){}}}N[e]&&!n||g(N,e,n?t:j&&I[e]||t,r)}},K=function(e,t,n){var r,o;if(s){if(A){if(n)for(r in B)if(o=c[r],o&&d(o,e))try{delete o[e]}catch(i){}if(R[e]&&!n)return;try{return g(R,e,n?t:j&&R[e]||t)}catch(i){}}for(r in B)o=c[r],!o||o[e]&&!n||g(o,e,t)}};for(r in B)o=c[r],i=o&&o.prototype,i?w(i)[L]=o:j=!1;for(r in F)o=c[r],i=o&&o.prototype,i&&(w(i)[L]=o);if((!j||!u(R)||R===Function.prototype)&&(R=function(){throw k("Incorrect invocation")},j))for(r in B)c[r]&&A(c[r],R);if((!j||!N||N===P)&&(N=R.prototype,j))for(r in B)c[r]&&A(c[r].prototype,N);if(j&&y(T)!==N&&A(T,N),s&&!d(N,D))for(r in M=!0,v(N,D,{get:function(){return l(this)?this[x]:void 0}}),B)c[r]&&h(c[r],x,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:M&&x,aTypedArray:H,aTypedArrayConstructor:Q,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:K,getTypedArrayConstructor:V,isView:U,isTypedArray:W,TypedArray:R,TypedArrayPrototype:N}},1318:function(e,t,n){var r=n(5656),o=n(1400),i=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c),l=o(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9671:function(e,t,n){var r=n(9974),o=n(8361),i=n(7908),a=n(6244),s=function(e){var t=1==e;return function(n,s,c){var u,l,d=i(n),f=o(d),p=r(s,c),h=a(f);while(h-- >0)if(u=f[h],l=p(u,h,d),l)switch(e){case 0:return u;case 1:return h}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},4326:function(e,t,n){var r=n(1702),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:function(e,t,n){var r=n(1694),o=n(614),i=n(4326),a=n(5112),s=a("toStringTag"),c=Object,u="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=c(e),s))?n:u?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},7741:function(e,t,n){var r=n(1702),o=Error,i=r("".replace),a=function(e){return String(o(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=i(e,s,"");return e}},9920:function(e,t,n){var r=n(2597),o=n(3887),i=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=a.f,u=i.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),o=n(3070),i=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:function(e,t,n){var r=n(6339),o=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},8052:function(e,t,n){var r=n(614),o=n(3070),i=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(r(n)&&i(n,u,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(l){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,o,i=n(7854),a=n(8113),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(e,t,n){var r=n(7293),o=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},2109:function(e,t,n){var r=n(7854),o=n(1236).f,i=n(8880),a=n(8052),s=n(3072),c=n(9920),u=n(4705);e.exports=function(e,t){var n,l,d,f,p,h,g=e.target,v=e.global,m=e.stat;if(l=v?r:m?r[g]||s(g,{}):(r[g]||{}).prototype,l)for(d in t){if(p=t[d],e.dontCallGetSet?(h=o(l,d),f=h&&h.value):f=l[d],n=u(v?d:g+(m?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(l,d,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var r=n(4374),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(e,t,n){var r=n(1702),o=n(9662),i=n(4374),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,n){var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:function(e,t,n){var r=n(4374),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),o=n(614),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),o=n(7293),i=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),o=n(7293),i=n(4326),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},9587:function(e,t,n){var r=n(614),o=n(111),i=n(7674);e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},2788:function(e,t,n){var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},8340:function(e,t,n){var r=n(111),o=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},9909:function(e,t,n){var r,o,i,a=n(8536),s=n(7854),c=n(1702),u=n(111),l=n(8880),d=n(2597),f=n(5465),p=n(6200),h=n(3501),g="Object already initialized",v=s.TypeError,m=s.WeakMap,y=function(e){return i(e)?o(e):r(e,{})},A=function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}};if(a||f.state){var b=f.state||(f.state=new m),E=c(b.get),_=c(b.has),w=c(b.set);r=function(e,t){if(_(b,e))throw new v(g);return t.facade=e,w(b,e,t),t},o=function(e){return E(b,e)||{}},i=function(e){return _(b,e)}}else{var S=p("state");h[S]=!0,r=function(e,t){if(d(e,S))throw new v(g);return t.facade=e,l(e,S,t),t},o=function(e){return d(e,S)?e[S]:{}},i=function(e){return d(e,S)}}e.exports={set:r,get:o,has:i,enforce:y,getterFor:A}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},111:function(e,t,n){var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),o=n(614),i=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),o=n(614),i=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),l=u.enforce,d=u.get,f=Object.defineProperty,p=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),h=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&i(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=l(e);return i(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return o(this)&&d(this).source||c(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},133:function(e,t,n){var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(e,t,n){var r=n(7854),o=n(614),i=n(2788),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:function(e,t,n){var r,o=n(9670),i=n(6048),a=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200),d=">",f="<",p="prototype",h="script",g=l("IE_PROTO"),v=function(){},m=function(e){return f+h+d+e+f+"/"+h+d},y=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},A=function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&r?y(r):A():y(r);var e=a.length;while(e--)delete b[p][a[e]];return b()};s[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=o(e),n=new v,v[p]=null,n[g]=e):n=b(),void 0===t?n:i.f(n,t)}},6048:function(e,t,n){var r=n(9781),o=n(3353),i=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);var n,r=s(t),o=c(t),u=o.length,l=0;while(u>l)i.f(e,n=o[l++],r[n]);return e}},3070:function(e,t,n){var r=n(9781),o=n(4664),i=n(3353),a=n(9670),s=n(4948),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),c=n(4948),u=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(n){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),o=n(748),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),o=n(614),i=n(7908),a=n(6200),s=n(8544),c=a("IE_PROTO"),u=Object,l=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);while(t.length>u)o(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},1956:function(e,t,n){var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),o=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),o=n(614),i=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),o=n(9711),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:function(e,t,n){var r=n(7854),o=n(3072),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},2309:function(e,t,n){var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var r=n(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},5656:function(e,t,n){var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),o=Object;e.exports=function(e){return o(r(e))}},4590:function(e,t,n){var r=n(3002),o=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw o("Wrong offset");return n}},3002:function(e,t,n){var r=n(9303),o=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw o("The argument can't be less than 0");return t}},7593:function(e,t,n){var r=n(6916),o=n(111),i=n(2190),a=n(8173),s=n(2140),c=n(5112),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},1340:function(e,t,n){var r=n(648),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(133),c=n(3307),u=o("wks"),l=r.Symbol,d=l&&l["for"],f=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):f(t)}return u[e]}},9191:function(e,t,n){"use strict";var r=n(5005),o=n(2597),i=n(8880),a=n(7976),s=n(7674),c=n(9920),u=n(2626),l=n(9587),d=n(6277),f=n(8340),p=n(7741),h=n(2914),g=n(9781),v=n(1913);e.exports=function(e,t,n,m){var y="stackTraceLimit",A=m?2:1,b=e.split("."),E=b[b.length-1],_=r.apply(null,b);if(_){var w=_.prototype;if(!v&&o(w,"cause")&&delete w.cause,!n)return _;var S=r("Error"),C=t((function(e,t){var n=d(m?t:e,void 0),r=m?new _(e):new _;return void 0!==n&&i(r,"message",n),h&&i(r,"stack",p(r.stack,2)),this&&a(w,this)&&l(r,this,C),arguments.length>A&&f(r,arguments[A]),r}));if(C.prototype=w,"Error"!==E?s?s(C,S):c(C,S,{name:!0}):g&&y in _&&(u(C,_,y),u(C,_,"prepareStackTrace")),c(C,_),!v)try{w.name!==E&&i(w,"name",E),w.constructor=C}catch(I){}return C}}},2262:function(e,t,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),a=n(9303),s=n(1223);r({target:"Array",proto:!0},{at:function(e){var t=o(this),n=i(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},7287:function(e,t,n){"use strict";var r=n(2109),o=n(9671).findLastIndex,i=n(1223);r({target:"Array",proto:!0},{findLastIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLastIndex")},7635:function(e,t,n){"use strict";var r=n(2109),o=n(9671).findLast,i=n(1223);r({target:"Array",proto:!0},{findLast:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLast")},6699:function(e,t,n){"use strict";var r=n(2109),o=n(1318).includes,i=n(7293),a=n(1223),s=i((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:s},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},1703:function(e,t,n){var r=n(2109),o=n(7854),i=n(2104),a=n(9191),s="WebAssembly",c=o[s],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=a(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(c&&c[e]){var n={};n[e]=a(s+"."+e,t,u),r({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},6314:function(e,t,n){var r=n(2109),o=n(2597);r({target:"Object",stat:!0},{hasOwn:o})},2087:function(e,t,n){var r=n(7854),o=n(9781),i=n(7045),a=n(7066),s=n(7293),c=r.RegExp,u=c.prototype,l=o&&s((function(){var e=!0;try{c(".","d")}catch(l){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(i.hasIndices="d"),i)o(a,i[a]);var s=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return s!==r||n!==r}));l&&i(u,"flags",{configurable:!0,get:a})},4506:function(e,t,n){"use strict";var r=n(2109),o=n(1702),i=n(4488),a=n(9303),s=n(1340),c=n(7293),u=o("".charAt),l=c((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(e){var t=s(i(this)),n=t.length,r=a(e),o=r>=0?r:n+r;return o<0||o>=n?void 0:u(t,o)}})},8675:function(e,t,n){"use strict";var r=n(260),o=n(6244),i=n(9303),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("at",(function(e){var t=a(this),n=o(t),r=i(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}))},2958:function(e,t,n){"use strict";var r=n(260),o=n(9671).findLastIndex,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findLastIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3408:function(e,t,n){"use strict";var r=n(260),o=n(9671).findLast,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findLast",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3462:function(e,t,n){"use strict";var r=n(7854),o=n(6916),i=n(260),a=n(6244),s=n(4590),c=n(7908),u=n(7293),l=r.RangeError,d=r.Int8Array,f=d&&d.prototype,p=f&&f.set,h=i.aTypedArray,g=i.exportTypedArrayMethod,v=!u((function(){var e=new Uint8ClampedArray(2);return o(p,e,{length:1,0:3},1),3!==e[1]})),m=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(v)return o(p,this,n,t);var r=this.length,i=a(n),u=0;if(i+t>r)throw l("Wrong length");while(u<i)this[t+u]=n[u++]}),!v||m)},7461:function(e,t,n){n(7287)},3048:function(e,t,n){n(7635)},1118:function(e,t,n){n(2958)},7380:function(e,t,n){n(3408)},2801:function(e,t,n){"use strict";var r=n(2109),o=n(7854),i=n(5005),a=n(9114),s=n(3070).f,c=n(2597),u=n(5787),l=n(9587),d=n(6277),f=n(3678),p=n(7741),h=n(9781),g=n(1913),v="DOMException",m=i("Error"),y=i(v),A=function(){u(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),o=m(t);return o.name=v,s(r,"stack",a(1,p(o.stack,1))),l(r,this,A),r},b=A.prototype=y.prototype,E="stack"in m(v),_="stack"in new y(1,2),w=y&&h&&Object.getOwnPropertyDescriptor(o,v),S=!!w&&!(w.writable&&w.configurable),C=E&&!S&&!_;r({global:!0,constructor:!0,forced:g||C},{DOMException:C?A:y});var I=i(v),O=I.prototype;if(O.constructor!==I)for(var T in g||s(O,"constructor",a(1,I)),f)if(c(f,T)){var R=f[T],N=R.s;c(I,N)||s(I,N,a(6,R.c))}},385:function(){},4870:function(e,t,n){"use strict";n.d(t,{BK:function(){return Qe},Bj:function(){return i},EB:function(){return c},Fl:function(){return ze},IU:function(){return Ne},Jd:function(){return C},PG:function(){return Ie},SU:function(){return Ve},Um:function(){return we},WL:function(){return He},X$:function(){return R},X3:function(){return Re},XI:function(){return Be},Xl:function(){return Pe},dq:function(){return je},iH:function(){return Me},j:function(){return O},lk:function(){return I},nZ:function(){return s},qj:function(){return _e},qq:function(){return E},yT:function(){return Te}});var r=n(7139);let o;class i{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&o&&(this.parent=o,this.index=(o.scopes||(o.scopes=[])).push(this)-1)}run(e){if(this.active){const t=o;try{return o=this,e()}finally{o=t}}else 0}on(){o=this}off(){o=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function a(e,t=o){t&&t.active&&t.effects.push(e)}function s(){return o}function c(e){o&&o.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&v)>0,d=e=>(e.n&v)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];l(o)&&!d(o)?o.delete(e):t[n++]=o,o.w&=~v,o.n&=~v}t.length=n}},h=new WeakMap;let g=0,v=1;const m=30;let y;const A=Symbol(""),b=Symbol("");class E{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let e=y,t=w;while(e){if(e===this)return;e=e.parent}try{return this.parent=y,y=this,w=!0,v=1<<++g,g<=m?f(this):_(this),this.fn()}finally{g<=m&&p(this),v=1<<--g,y=this.parent,w=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){y===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let w=!0;const S=[];function C(){S.push(w),w=!1}function I(){const e=S.pop();w=void 0===e||e}function O(e,t,n){if(w&&y){let t=h.get(e);t||h.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=u());const o=void 0;T(r,o)}}function T(e,t){let n=!1;g<=m?d(e)||(e.n|=v,n=!l(e)):n=!e.has(y),n&&(e.add(y),y.deps.push(e))}function R(e,t,n,o,i,a){const s=h.get(e);if(!s)return;let c=[];if("clear"===t)c=[...s.values()];else if("length"===n&&(0,r.kJ)(e))s.forEach(((e,t)=>{("length"===t||t>=o)&&c.push(e)}));else switch(void 0!==n&&c.push(s.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&c.push(s.get("length")):(c.push(s.get(A)),(0,r._N)(e)&&c.push(s.get(b)));break;case"delete":(0,r.kJ)(e)||(c.push(s.get(A)),(0,r._N)(e)&&c.push(s.get(b)));break;case"set":(0,r._N)(e)&&c.push(s.get(A));break}if(1===c.length)c[0]&&N(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);N(u(e))}}function N(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&P(r,t);for(const r of n)r.computed||P(r,t)}function P(e,t){(e!==y||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const k=(0,r.fY)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),x=F(),L=F(!1,!0),j=F(!0),M=B();function B(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ne(this);for(let t=0,o=this.length;t<o;t++)O(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Ne)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){C();const n=Ne(this)[t].apply(this,e);return I(),n}})),e}function F(e=!1,t=!1){return function(n,o,i){if("__v_isReactive"===o)return!e;if("__v_isReadonly"===o)return e;if("__v_isShallow"===o)return t;if("__v_raw"===o&&i===(e?t?Ae:ye:t?me:ve).get(n))return n;const a=(0,r.kJ)(n);if(!e&&a&&(0,r.RI)(M,o))return Reflect.get(M,o,i);const s=Reflect.get(n,o,i);return((0,r.yk)(o)?D.has(o):k(o))?s:(e||O(n,"get",o),t?s:je(s)?a&&(0,r.S0)(o)?s:s.value:(0,r.Kn)(s)?e?Se(s):_e(s):s)}}const U=W(),V=W(!0);function W(e=!1){return function(t,n,o,i){let a=t[n];if(Oe(a)&&je(a)&&!je(o))return!1;if(!e&&!Oe(o)&&(Te(o)||(o=Ne(o),a=Ne(a)),!(0,r.kJ)(t)&&je(a)&&!je(o)))return a.value=o,!0;const s=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),c=Reflect.set(t,n,o,i);return t===Ne(i)&&(s?(0,r.aU)(o,a)&&R(t,"set",n,o,a):R(t,"add",n,o)),c}}function H(e,t){const n=(0,r.RI)(e,t),o=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&R(e,"delete",t,void 0,o),i}function Q(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&D.has(t)||O(e,"has",t),n}function G(e){return O(e,"iterate",(0,r.kJ)(e)?"length":A),Reflect.ownKeys(e)}const K={get:x,set:U,deleteProperty:H,has:Q,ownKeys:G},q={get:j,set(e,t){return!0},deleteProperty(e,t){return!0}},z=(0,r.l7)({},K,{get:L,set:V}),Y=e=>e,J=e=>Reflect.getPrototypeOf(e);function X(e,t,n=!1,r=!1){e=e["__v_raw"];const o=Ne(e),i=Ne(t);n||(t!==i&&O(o,"get",t),O(o,"get",i));const{has:a}=J(o),s=r?Y:n?De:ke;return a.call(o,t)?s(e.get(t)):a.call(o,i)?s(e.get(i)):void(e!==o&&e.get(t))}function Z(e,t=!1){const n=this["__v_raw"],r=Ne(n),o=Ne(e);return t||(e!==o&&O(r,"has",e),O(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function $(e,t=!1){return e=e["__v_raw"],!t&&O(Ne(e),"iterate",A),Reflect.get(e,"size",e)}function ee(e){e=Ne(e);const t=Ne(this),n=J(t),r=n.has.call(t,e);return r||(t.add(e),R(t,"add",e,e)),this}function te(e,t){t=Ne(t);const n=Ne(this),{has:o,get:i}=J(n);let a=o.call(n,e);a||(e=Ne(e),a=o.call(n,e));const s=i.call(n,e);return n.set(e,t),a?(0,r.aU)(t,s)&&R(n,"set",e,t,s):R(n,"add",e,t),this}function ne(e){const t=Ne(this),{has:n,get:r}=J(t);let o=n.call(t,e);o||(e=Ne(e),o=n.call(t,e));const i=r?r.call(t,e):void 0,a=t.delete(e);return o&&R(t,"delete",e,void 0,i),a}function re(){const e=Ne(this),t=0!==e.size,n=void 0,r=e.clear();return t&&R(e,"clear",void 0,void 0,n),r}function oe(e,t){return function(n,r){const o=this,i=o["__v_raw"],a=Ne(i),s=t?Y:e?De:ke;return!e&&O(a,"iterate",A),i.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}}function ie(e,t,n){return function(...o){const i=this["__v_raw"],a=Ne(i),s=(0,r._N)(a),c="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,l=i[e](...o),d=n?Y:t?De:ke;return!t&&O(a,"iterate",u?b:A),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:c?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ae(e){return function(...t){return"delete"!==e&&this}}function se(){const e={get(e){return X(this,e)},get size(){return $(this)},has:Z,add:ee,set:te,delete:ne,clear:re,forEach:oe(!1,!1)},t={get(e){return X(this,e,!1,!0)},get size(){return $(this)},has:Z,add:ee,set:te,delete:ne,clear:re,forEach:oe(!1,!0)},n={get(e){return X(this,e,!0)},get size(){return $(this,!0)},has(e){return Z.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:oe(!0,!1)},r={get(e){return X(this,e,!0,!0)},get size(){return $(this,!0)},has(e){return Z.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:oe(!0,!0)},o=["keys","values","entries",Symbol.iterator];return o.forEach((o=>{e[o]=ie(o,!1,!1),n[o]=ie(o,!0,!1),t[o]=ie(o,!1,!0),r[o]=ie(o,!0,!0)})),[e,n,t,r]}const[ce,ue,le,de]=se();function fe(e,t){const n=t?e?de:le:e?ue:ce;return(t,o,i)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get((0,r.RI)(n,o)&&o in t?n:t,o,i)}const pe={get:fe(!1,!1)},he={get:fe(!1,!0)},ge={get:fe(!0,!1)};const ve=new WeakMap,me=new WeakMap,ye=new WeakMap,Ae=new WeakMap;function be(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ee(e){return e["__v_skip"]||!Object.isExtensible(e)?0:be((0,r.W7)(e))}function _e(e){return Oe(e)?e:Ce(e,!1,K,pe,ve)}function we(e){return Ce(e,!1,z,he,me)}function Se(e){return Ce(e,!0,q,ge,ye)}function Ce(e,t,n,o,i){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=i.get(e);if(a)return a;const s=Ee(e);if(0===s)return e;const c=new Proxy(e,2===s?o:n);return i.set(e,c),c}function Ie(e){return Oe(e)?Ie(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Oe(e){return!(!e||!e["__v_isReadonly"])}function Te(e){return!(!e||!e["__v_isShallow"])}function Re(e){return Ie(e)||Oe(e)}function Ne(e){const t=e&&e["__v_raw"];return t?Ne(t):e}function Pe(e){return(0,r.Nj)(e,"__v_skip",!0),e}const ke=e=>(0,r.Kn)(e)?_e(e):e,De=e=>(0,r.Kn)(e)?Se(e):e;function xe(e){w&&y&&(e=Ne(e),T(e.dep||(e.dep=u())))}function Le(e,t){e=Ne(e),e.dep&&N(e.dep)}function je(e){return!(!e||!0!==e.__v_isRef)}function Me(e){return Fe(e,!1)}function Be(e){return Fe(e,!0)}function Fe(e,t){return je(e)?e:new Ue(e,t)}class Ue{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ne(e),this._value=t?e:ke(e)}get value(){return xe(this),this._value}set value(e){e=this.__v_isShallow?e:Ne(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:ke(e),Le(this,e))}}function Ve(e){return je(e)?e.value:e}const We={get:(e,t,n)=>Ve(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return je(o)&&!je(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function He(e){return Ie(e)?e:new Proxy(e,We)}function Qe(e){const t=(0,r.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=Ke(e,n);return t}class Ge{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ke(e,t,n){const r=e[t];return je(r)?r:new Ge(e,t,n)}class qe{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new E(e,(()=>{this._dirty||(this._dirty=!0,Le(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Ne(this);return xe(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ze(e,t,n=!1){let o,i;const a=(0,r.mf)(e);a?(o=e,i=r.dG):(o=e.get,i=e.set);const s=new qe(o,i,a||!i,n);return s}},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return a},Ah:function(){return De},Cn:function(){return V},FN:function(){return Tn},Fl:function(){return Qn},HY:function(){return Kt},Ho:function(){return gn},JJ:function(){return X},Jd:function(){return ke},Ko:function(){return qe},P$:function(){return ue},Q2:function(){return Qe},Q6:function(){return ge},U2:function(){return de},Uk:function(){return vn},Us:function(){return Dt},Wm:function(){return fn},Xn:function(){return Ne},Y3:function(){return _},Y8:function(){return ae},YP:function(){return te},_:function(){return dn},aZ:function(){return ve},bv:function(){return Re},dD:function(){return U},dG:function(){return _n},dl:function(){return be},f3:function(){return Z},h:function(){return Gn},iD:function(){return rn},ic:function(){return Pe},kq:function(){return yn},lA:function(){return an},lR:function(){return Gt},m0:function(){return $},nK:function(){return he},se:function(){return Ee},sv:function(){return zt},uE:function(){return mn},up:function(){return We},wF:function(){return Te},wg:function(){return Zt},wy:function(){return Be},xv:function(){return qt}});n(6699),n(1703);var r=n(4870),o=n(7139);function i(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){s(i,t,n)}return o}function a(e,t,n,r){if((0,o.mf)(e)){const a=i(e,t,n,r);return a&&(0,o.tI)(a)&&a.catch((e=>{s(e,t,n)})),a}const c=[];for(let o=0;o<e.length;o++)c.push(a(e[o],t,n,r));return c}function s(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,a))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void i(s,null,10,[e,o,a])}c(e,n,o,r)}function c(e,t,n,r=!0){console.error(e)}let u=!1,l=!1;const d=[];let f=0;const p=[];let h=null,g=0;const v=[];let m=null,y=0;const A=Promise.resolve();let b=null,E=null;function _(e){const t=b||A;return e?t.then(this?e.bind(this):e):t}function w(e){let t=f+1,n=d.length;while(t<n){const r=t+n>>>1,o=k(d[r]);o<e?t=r+1:n=r}return t}function S(e){d.length&&d.includes(e,u&&e.allowRecurse?f+1:f)||e===E||(null==e.id?d.push(e):d.splice(w(e.id),0,e),C())}function C(){u||l||(l=!0,b=A.then(D))}function I(e){const t=d.indexOf(e);t>f&&d.splice(t,1)}function O(e,t,n,r){(0,o.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),C()}function T(e){O(e,h,p,g)}function R(e){O(e,m,v,y)}function N(e,t=null){if(p.length){for(E=t,h=[...new Set(p)],p.length=0,g=0;g<h.length;g++)h[g]();h=null,g=0,E=null,N(e,t)}}function P(e){if(N(),v.length){const e=[...new Set(v)];if(v.length=0,m)return void m.push(...e);for(m=e,m.sort(((e,t)=>k(e)-k(t))),y=0;y<m.length;y++)m[y]();m=null,y=0}}const k=e=>null==e.id?1/0:e.id;function D(e){l=!1,u=!0,N(e),d.sort(((e,t)=>k(e)-k(t)));o.dG;try{for(f=0;f<d.length;f++){const e=d[f];e&&!1!==e.active&&i(e,null,14)}}finally{f=0,d.length=0,P(e),u=!1,b=null,(d.length||p.length||v.length)&&D(e)}}new Set;new Map;function x(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||o.kT;let i=n;const s=t.startsWith("update:"),c=s&&t.slice(7);if(c&&c in r){const e=`${"modelValue"===c?"model":c}Modifiers`,{number:t,trim:a}=r[e]||o.kT;a&&(i=n.map((e=>e.trim()))),t&&(i=n.map(o.He))}let u;let l=r[u=(0,o.hR)(t)]||r[u=(0,o.hR)((0,o._A)(t))];!l&&s&&(l=r[u=(0,o.hR)((0,o.rs)(t))]),l&&a(l,e,6,i);const d=r[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,a(d,e,6,i)}}function L(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;const a=e.emits;let s={},c=!1;if(!(0,o.mf)(e)){const r=e=>{const n=L(e,t,!0);n&&(c=!0,(0,o.l7)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||c?((0,o.kJ)(a)?a.forEach((e=>s[e]=null)):(0,o.l7)(s,a),r.set(e,s),s):(r.set(e,null),null)}function j(e,t){return!(!e||!(0,o.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,o.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,o.RI)(e,(0,o.rs)(t))||(0,o.RI)(e,t))}let M=null,B=null;function F(e){const t=M;return M=e,B=e&&e.type.__scopeId||null,t}function U(e){B=e}function V(){B=null}function W(e,t=M,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&tn(-1);const o=F(t),i=e(...n);return F(o),r._d&&tn(1),i};return r._n=!0,r._c=!0,r._d=!0,r}function H(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:a,propsOptions:[c],slots:u,attrs:l,emit:d,render:f,renderCache:p,data:h,setupState:g,ctx:v,inheritAttrs:m}=e;let y,A;const b=F(e);try{if(4&n.shapeFlag){const e=i||r;y=An(f.call(e,e,p,a,g,h,v)),A=l}else{const e=t;0,y=An(e.length>1?e(a,{attrs:l,slots:u,emit:d}):e(a,null)),A=t.props?l:Q(l)}}catch(_){Jt.length=0,s(_,e,1),y=fn(zt)}let E=y;if(A&&!1!==m){const e=Object.keys(A),{shapeFlag:t}=E;e.length&&7&t&&(c&&e.some(o.tR)&&(A=G(A,c)),E=gn(E,A))}return n.dirs&&(E=gn(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),y=E,F(b),y}const Q=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,o.F7)(n))&&((t||(t={}))[n]=e[n]);return t},G=(e,t)=>{const n={};for(const r in e)(0,o.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function K(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:s,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!o&&!s||s&&s.$stable)||r!==a&&(r?!a||q(r,a,u):!!a);if(1024&c)return!0;if(16&c)return r?q(r,a,u):!!a;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!j(u,n))return!0}}return!1}function q(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!j(n,i))return!0}return!1}function z({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const Y=e=>e.__isSuspense;function J(e,t){t&&t.pendingBranch?(0,o.kJ)(e)?t.effects.push(...e):t.effects.push(e):R(e)}function X(e,t){if(On){let n=On.provides;const r=On.parent&&On.parent.provides;r===n&&(n=On.provides=Object.create(r)),n[e]=t}else 0}function Z(e,t,n=!1){const r=On||M;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,o.mf)(t)?t.call(r.proxy):t}else 0}function $(e,t){return ne(e,null,t)}const ee={};function te(e,t,n){return ne(e,t,n)}function ne(e,t,{immediate:n,deep:s,flush:c,onTrack:u,onTrigger:l}=o.kT){const d=On;let f,p,h=!1,g=!1;if((0,r.dq)(e)?(f=()=>e.value,h=(0,r.yT)(e)):(0,r.PG)(e)?(f=()=>e,s=!0):(0,o.kJ)(e)?(g=!0,h=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),f=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?ie(e):(0,o.mf)(e)?i(e,d,2):void 0))):f=(0,o.mf)(e)?t?()=>i(e,d,2):()=>{if(!d||!d.isUnmounted)return p&&p(),a(e,d,3,[v])}:o.dG,t&&s){const e=f;f=()=>ie(e())}let v=e=>{p=b.onStop=()=>{i(e,d,4)}};if(xn)return v=o.dG,t?n&&a(t,d,3,[f(),g?[]:void 0,v]):f(),o.dG;let m=g?[]:ee;const y=()=>{if(b.active)if(t){const e=b.run();(s||h||(g?e.some(((e,t)=>(0,o.aU)(e,m[t]))):(0,o.aU)(e,m)))&&(p&&p(),a(t,d,3,[e,m===ee?void 0:m,v]),m=e)}else b.run()};let A;y.allowRecurse=!!t,A="sync"===c?y:"post"===c?()=>kt(y,d&&d.suspense):()=>T(y);const b=new r.qq(f,A);return t?n?y():m=b.run():"post"===c?kt(b.run.bind(b),d&&d.suspense):b.run(),()=>{b.stop(),d&&d.scope&&(0,o.Od)(d.scope.effects,b)}}function re(e,t,n){const r=this.proxy,i=(0,o.HD)(e)?e.includes(".")?oe(r,e):()=>r[e]:e.bind(r,r);let a;(0,o.mf)(t)?a=t:(a=t.handler,n=t);const s=On;Rn(this);const c=ne(i,a.bind(r),n);return s?Rn(s):Nn(),c}function oe(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ie(e,t){if(!(0,o.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))ie(e.value,t);else if((0,o.kJ)(e))for(let n=0;n<e.length;n++)ie(e[n],t);else if((0,o.DM)(e)||(0,o._N)(e))e.forEach((e=>{ie(e,t)}));else if((0,o.PO)(e))for(const n in e)ie(e[n],t);return e}function ae(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Re((()=>{e.isMounted=!0})),ke((()=>{e.isUnmounting=!0})),e}const se=[Function,Array],ce={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:se,onEnter:se,onAfterEnter:se,onEnterCancelled:se,onBeforeLeave:se,onLeave:se,onAfterLeave:se,onLeaveCancelled:se,onBeforeAppear:se,onAppear:se,onAfterAppear:se,onAppearCancelled:se},setup(e,{slots:t}){const n=Tn(),o=ae();let i;return()=>{const a=t.default&&ge(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==zt){0,s=t,e=!0;break}}const c=(0,r.IU)(e),{mode:u}=c;if(o.isLeaving)return fe(s);const l=pe(s);if(!l)return fe(s);const d=de(l,c,o,n);he(l,d);const f=n.subTree,p=f&&pe(f);let h=!1;const{getTransitionKey:g}=l.type;if(g){const e=g();void 0===i?i=e:e!==i&&(i=e,h=!0)}if(p&&p.type!==zt&&(!sn(l,p)||h)){const e=de(p,c,o,n);if(he(p,e),"out-in"===u)return o.isLeaving=!0,e.afterLeave=()=>{o.isLeaving=!1,n.update()},fe(s);"in-out"===u&&l.type!==zt&&(e.delayLeave=(e,t,n)=>{const r=le(o,p);r[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return s}}},ue=ce;function le(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function de(e,t,n,r){const{appear:i,mode:s,persisted:c=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:p,onLeave:h,onAfterLeave:g,onLeaveCancelled:v,onBeforeAppear:m,onAppear:y,onAfterAppear:A,onAppearCancelled:b}=t,E=String(e.key),_=le(n,e),w=(e,t)=>{e&&a(e,r,9,t)},S=(e,t)=>{const n=t[1];w(e,t),(0,o.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:s,persisted:c,beforeEnter(t){let r=u;if(!n.isMounted){if(!i)return;r=m||u}t._leaveCb&&t._leaveCb(!0);const o=_[E];o&&sn(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(r,[t])},enter(e){let t=l,r=d,o=f;if(!n.isMounted){if(!i)return;t=y||l,r=A||d,o=b||f}let a=!1;const s=e._enterCb=t=>{a||(a=!0,w(t?o:r,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,s]):s()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(p,[t]);let i=!1;const a=t._leaveCb=n=>{i||(i=!0,r(),w(n?v:g,[t]),t._leaveCb=void 0,_[o]===e&&delete _[o])};_[o]=e,h?S(h,[t,a]):a()},clone(e){return de(e,t,n,r)}};return C}function fe(e){if(ye(e))return e=gn(e),e.children=null,e}function pe(e){return ye(e)?e.children?e.children[0]:void 0:e}function he(e,t){6&e.shapeFlag&&e.component?he(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ge(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:i);a.type===Kt?(128&a.patchFlag&&o++,r=r.concat(ge(a.children,t,s))):(t||a.type!==zt)&&r.push(null!=s?gn(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ve(e){return(0,o.mf)(e)?{setup:e,name:e.name}:e}const me=e=>!!e.type.__asyncLoader;const ye=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ae(e,t){return(0,o.kJ)(e)?e.some((e=>Ae(e,t))):(0,o.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function be(e,t){_e(e,"a",t)}function Ee(e,t){_e(e,"da",t)}function _e(e,t,n=On){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ie(t,r,n),n){let e=n.parent;while(e&&e.parent)ye(e.parent.vnode)&&we(r,t,n,e),e=e.parent}}function we(e,t,n,r){const i=Ie(t,e,r,!0);De((()=>{(0,o.Od)(r[t],i)}),n)}function Se(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Ce(e){return 128&e.shapeFlag?e.ssContent:e}function Ie(e,t,n=On,o=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;(0,r.Jd)(),Rn(n);const i=a(t,n,e,o);return Nn(),(0,r.lk)(),i});return o?i.unshift(s):i.push(s),s}}const Oe=e=>(t,n=On)=>(!xn||"sp"===e)&&Ie(e,t,n),Te=Oe("bm"),Re=Oe("m"),Ne=Oe("bu"),Pe=Oe("u"),ke=Oe("bum"),De=Oe("um"),xe=Oe("sp"),Le=Oe("rtg"),je=Oe("rtc");function Me(e,t=On){Ie("ec",e,t)}function Be(e,t){const n=M;if(null===n)return e;const r=Vn(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,s,c=o.kT]=t[a];(0,o.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&ie(n),i.push({dir:e,instance:r,value:n,oldValue:void 0,arg:s,modifiers:c})}return e}function Fe(e,t,n,o){const i=e.dirs,s=t&&t.dirs;for(let c=0;c<i.length;c++){const u=i[c];s&&(u.oldValue=s[c].value);let l=u.dir[o];l&&((0,r.Jd)(),a(l,n,8,[e.el,u,e,t]),(0,r.lk)())}}const Ue="components",Ve="directives";function We(e,t){return Ge(Ue,e,!0,t)||e}const He=Symbol();function Qe(e){return Ge(Ve,e)}function Ge(e,t,n=!0,r=!1){const i=M||On;if(i){const n=i.type;if(e===Ue){const e=Wn(n,!1);if(e&&(e===t||e===(0,o._A)(t)||e===(0,o.kC)((0,o._A)(t))))return n}const a=Ke(i[e]||n[e],t)||Ke(i.appContext[e],t);return!a&&r?n:a}}function Ke(e,t){return e&&(e[t]||e[(0,o._A)(t)]||e[(0,o.kC)((0,o._A)(t))])}function qe(e,t,n,r){let i;const a=n&&n[r];if((0,o.kJ)(e)||(0,o.HD)(e)){i=new Array(e.length);for(let n=0,r=e.length;n<r;n++)i[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if((0,o.Kn)(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}const ze=e=>e?Pn(e)?Vn(e)||e.proxy:ze(e.parent):null,Ye=(0,o.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ze(e.parent),$root:e=>ze(e.root),$emit:e=>e.emit,$options:e=>nt(e),$forceUpdate:e=>e.f||(e.f=()=>S(e.update)),$nextTick:e=>e.n||(e.n=_.bind(e.proxy)),$watch:e=>re.bind(e)}),Je={get({_:e},t){const{ctx:n,setupState:i,data:a,props:s,accessCache:c,type:u,appContext:l}=e;let d;if("$"!==t[0]){const r=c[t];if(void 0!==r)switch(r){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(i!==o.kT&&(0,o.RI)(i,t))return c[t]=1,i[t];if(a!==o.kT&&(0,o.RI)(a,t))return c[t]=2,a[t];if((d=e.propsOptions[0])&&(0,o.RI)(d,t))return c[t]=3,s[t];if(n!==o.kT&&(0,o.RI)(n,t))return c[t]=4,n[t];Xe&&(c[t]=0)}}const f=Ye[t];let p,h;return f?("$attrs"===t&&(0,r.j)(e,"get",t),f(e)):(p=u.__cssModules)&&(p=p[t])?p:n!==o.kT&&(0,o.RI)(n,t)?(c[t]=4,n[t]):(h=l.config.globalProperties,(0,o.RI)(h,t)?h[t]:void 0)},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return i!==o.kT&&(0,o.RI)(i,t)?(i[t]=n,!0):r!==o.kT&&(0,o.RI)(r,t)?(r[t]=n,!0):!(0,o.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let c;return!!n[s]||e!==o.kT&&(0,o.RI)(e,s)||t!==o.kT&&(0,o.RI)(t,s)||(c=a[0])&&(0,o.RI)(c,s)||(0,o.RI)(r,s)||(0,o.RI)(Ye,s)||(0,o.RI)(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,o.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Xe=!0;function Ze(e){const t=nt(e),n=e.proxy,i=e.ctx;Xe=!1,t.beforeCreate&&et(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:c,watch:u,provide:l,inject:d,created:f,beforeMount:p,mounted:h,beforeUpdate:g,updated:v,activated:m,deactivated:y,beforeDestroy:A,beforeUnmount:b,destroyed:E,unmounted:_,render:w,renderTracked:S,renderTriggered:C,errorCaptured:I,serverPrefetch:O,expose:T,inheritAttrs:R,components:N,directives:P,filters:k}=t,D=null;if(d&&$e(d,i,D,e.appContext.config.unwrapInjectedRef),c)for(const r in c){const e=c[r];(0,o.mf)(e)&&(i[r]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,o.Kn)(t)&&(e.data=(0,r.qj)(t))}if(Xe=!0,s)for(const r in s){const e=s[r],t=(0,o.mf)(e)?e.bind(n,n):(0,o.mf)(e.get)?e.get.bind(n,n):o.dG;0;const a=!(0,o.mf)(e)&&(0,o.mf)(e.set)?e.set.bind(n):o.dG,c=Qn({get:t,set:a});Object.defineProperty(i,r,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}if(u)for(const r in u)tt(u[r],i,n,r);if(l){const e=(0,o.mf)(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{X(t,e[t])}))}function x(e,t){(0,o.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(f&&et(f,e,"c"),x(Te,p),x(Re,h),x(Ne,g),x(Pe,v),x(be,m),x(Ee,y),x(Me,I),x(je,S),x(Le,C),x(ke,b),x(De,_),x(xe,O),(0,o.kJ)(T))if(T.length){const t=e.exposed||(e.exposed={});T.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});w&&e.render===o.dG&&(e.render=w),null!=R&&(e.inheritAttrs=R),N&&(e.components=N),P&&(e.directives=P)}function $e(e,t,n=o.dG,i=!1){(0,o.kJ)(e)&&(e=st(e));for(const a in e){const n=e[a];let s;s=(0,o.Kn)(n)?"default"in n?Z(n.from||a,n.default,!0):Z(n.from||a):Z(n),(0,r.dq)(s)&&i?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[a]=s}}function et(e,t,n){a((0,o.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function tt(e,t,n,r){const i=r.includes(".")?oe(n,r):()=>n[r];if((0,o.HD)(e)){const n=t[e];(0,o.mf)(n)&&te(i,n)}else if((0,o.mf)(e))te(i,e.bind(n));else if((0,o.Kn)(e))if((0,o.kJ)(e))e.forEach((e=>tt(e,t,n,r)));else{const r=(0,o.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,o.mf)(r)&&te(i,r,e)}else 0}function nt(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,s=i.get(t);let c;return s?c=s:o.length||n||r?(c={},o.length&&o.forEach((e=>rt(c,e,a,!0))),rt(c,t,a)):c=t,i.set(t,c),c}function rt(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&rt(e,i,n,!0),o&&o.forEach((t=>rt(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=ot[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const ot={data:it,props:ut,emits:ut,methods:ut,computed:ut,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:ut,directives:ut,watch:lt,provide:it,inject:at};function it(e,t){return t?e?function(){return(0,o.l7)((0,o.mf)(e)?e.call(this,this):e,(0,o.mf)(t)?t.call(this,this):t)}:t:e}function at(e,t){return ut(st(e),st(t))}function st(e){if((0,o.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ct(e,t){return e?[...new Set([].concat(e,t))]:t}function ut(e,t){return e?(0,o.l7)((0,o.l7)(Object.create(null),e),t):t}function lt(e,t){if(!e)return t;if(!t)return e;const n=(0,o.l7)(Object.create(null),e);for(const r in t)n[r]=ct(e[r],t[r]);return n}function dt(e,t,n,i=!1){const a={},s={};(0,o.Nj)(s,cn,1),e.propsDefaults=Object.create(null),pt(e,t,a,s);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=i?a:(0,r.Um)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function ft(e,t,n,i){const{props:a,attrs:s,vnode:{patchFlag:c}}=e,u=(0,r.IU)(a),[l]=e.propsOptions;let d=!1;if(!(i||c>0)||16&c){let r;pt(e,t,a,s)&&(d=!0);for(const i in u)t&&((0,o.RI)(t,i)||(r=(0,o.rs)(i))!==i&&(0,o.RI)(t,r))||(l?!n||void 0===n[i]&&void 0===n[r]||(a[i]=ht(l,u,i,void 0,e,!0)):delete a[i]);if(s!==u)for(const e in s)t&&(0,o.RI)(t,e)||(delete s[e],d=!0)}else if(8&c){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let i=n[r];if(j(e.emitsOptions,i))continue;const c=t[i];if(l)if((0,o.RI)(s,i))c!==s[i]&&(s[i]=c,d=!0);else{const t=(0,o._A)(i);a[t]=ht(l,u,t,c,e,!1)}else c!==s[i]&&(s[i]=c,d=!0)}}d&&(0,r.X$)(e,"set","$attrs")}function pt(e,t,n,i){const[a,s]=e.propsOptions;let c,u=!1;if(t)for(let r in t){if((0,o.Gg)(r))continue;const l=t[r];let d;a&&(0,o.RI)(a,d=(0,o._A)(r))?s&&s.includes(d)?(c||(c={}))[d]=l:n[d]=l:j(e.emitsOptions,r)||r in i&&l===i[r]||(i[r]=l,u=!0)}if(s){const t=(0,r.IU)(n),i=c||o.kT;for(let r=0;r<s.length;r++){const c=s[r];n[c]=ht(a,t,c,i[c],e,!(0,o.RI)(i,c))}}return u}function ht(e,t,n,r,i,a){const s=e[n];if(null!=s){const e=(0,o.RI)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&(0,o.mf)(e)){const{propsDefaults:o}=i;n in o?r=o[n]:(Rn(i),r=o[n]=e.call(null,t),Nn())}else r=e}s[0]&&(a&&!e?r=!1:!s[1]||""!==r&&r!==(0,o.rs)(n)||(r=!0))}return r}function gt(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},c=[];let u=!1;if(!(0,o.mf)(e)){const r=e=>{u=!0;const[n,r]=gt(e,t,!0);(0,o.l7)(s,n),r&&c.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!u)return r.set(e,o.Z6),o.Z6;if((0,o.kJ)(a))for(let d=0;d<a.length;d++){0;const e=(0,o._A)(a[d]);vt(e)&&(s[e]=o.kT)}else if(a){0;for(const e in a){const t=(0,o._A)(e);if(vt(t)){const n=a[e],r=s[t]=(0,o.kJ)(n)||(0,o.mf)(n)?{type:n}:n;if(r){const e=At(Boolean,r.type),n=At(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,o.RI)(r,"default"))&&c.push(t)}}}}const l=[s,c];return r.set(e,l),l}function vt(e){return"$"!==e[0]}function mt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function yt(e,t){return mt(e)===mt(t)}function At(e,t){return(0,o.kJ)(t)?t.findIndex((t=>yt(t,e))):(0,o.mf)(t)&&yt(t,e)?0:-1}const bt=e=>"_"===e[0]||"$stable"===e,Et=e=>(0,o.kJ)(e)?e.map(An):[An(e)],_t=(e,t,n)=>{if(t._n)return t;const r=W(((...e)=>Et(t(...e))),n);return r._c=!1,r},wt=(e,t,n)=>{const r=e._ctx;for(const i in e){if(bt(i))continue;const n=e[i];if((0,o.mf)(n))t[i]=_t(i,n,r);else if(null!=n){0;const e=Et(n);t[i]=()=>e}}},St=(e,t)=>{const n=Et(t);e.slots.default=()=>n},Ct=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,o.Nj)(t,"_",n)):wt(t,e.slots={})}else e.slots={},t&&St(e,t);(0,o.Nj)(e.slots,cn,1)},It=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=o.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,o.l7)(i,t),n||1!==e||delete i._):(a=!t.$stable,wt(t,i)),s=t}else t&&(St(e,t),s={default:1});if(a)for(const o in i)bt(o)||o in s||delete i[o]};function Ot(){return{app:null,config:{isNativeTag:o.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tt=0;function Rt(e,t){return function(n,r=null){(0,o.mf)(n)||(n=Object.assign({},n)),null==r||(0,o.Kn)(r)||(r=null);const i=Ot(),a=new Set;let s=!1;const c=i.app={_uid:Tt++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Kn,get config(){return i.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,o.mf)(e.install)?(a.add(e),e.install(c,...t)):(0,o.mf)(e)&&(a.add(e),e(c,...t))),c},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),c},component(e,t){return t?(i.components[e]=t,c):i.components[e]},directive(e,t){return t?(i.directives[e]=t,c):i.directives[e]},mount(o,a,u){if(!s){0;const l=fn(n,r);return l.appContext=i,a&&t?t(l,o):e(l,o,u),s=!0,c._container=o,o.__vue_app__=c,Vn(l.component)||l.component.proxy}},unmount(){s&&(e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return i.provides[e]=t,c}};return c}}function Nt(e,t,n,a,s=!1){if((0,o.kJ)(e))return void e.forEach(((e,r)=>Nt(e,t&&((0,o.kJ)(t)?t[r]:t),n,a,s)));if(me(a)&&!s)return;const c=4&a.shapeFlag?Vn(a.component)||a.component.proxy:a.el,u=s?null:c,{i:l,r:d}=e;const f=t&&t.r,p=l.refs===o.kT?l.refs={}:l.refs,h=l.setupState;if(null!=f&&f!==d&&((0,o.HD)(f)?(p[f]=null,(0,o.RI)(h,f)&&(h[f]=null)):(0,r.dq)(f)&&(f.value=null)),(0,o.mf)(d))i(d,l,12,[u,p]);else{const t=(0,o.HD)(d),i=(0,r.dq)(d);if(t||i){const r=()=>{if(e.f){const n=t?p[d]:d.value;s?(0,o.kJ)(n)&&(0,o.Od)(n,c):(0,o.kJ)(n)?n.includes(c)||n.push(c):t?(p[d]=[c],(0,o.RI)(h,d)&&(h[d]=p[d])):(d.value=[c],e.k&&(p[e.k]=d.value))}else t?(p[d]=u,(0,o.RI)(h,d)&&(h[d]=u)):i&&(d.value=u,e.k&&(p[e.k]=u))};u?(r.id=-1,kt(r,n)):r()}else 0}}function Pt(){}const kt=J;function Dt(e){return xt(e)}function xt(e,t){Pt();const n=(0,o.E9)();n.__VUE__=!0;const{insert:i,remove:a,patchProp:s,createElement:c,createText:u,createComment:l,setText:d,setElementText:f,parentNode:p,nextSibling:h,setScopeId:g=o.dG,cloneNode:v,insertStaticContent:m}=e,y=(e,t,n,r=null,o=null,i=null,a=!1,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!sn(e,t)&&(r=$(e),q(e,o,i,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:u,ref:l,shapeFlag:d}=t;switch(u){case qt:A(e,t,n,r);break;case zt:b(e,t,n,r);break;case Yt:null==e&&E(t,n,r,a);break;case Kt:L(e,t,n,r,o,i,a,s,c);break;default:1&d?C(e,t,n,r,o,i,a,s,c):6&d?j(e,t,n,r,o,i,a,s,c):(64&d||128&d)&&u.process(e,t,n,r,o,i,a,s,c,te)}null!=l&&o&&Nt(l,e&&e.ref,i,t||e,!t)},A=(e,t,n,r)=>{if(null==e)i(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,r)=>{null==e?i(t.el=l(t.children||""),n,r):t.el=e.el},E=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r,e.el,e.anchor)},_=({el:e,anchor:t},n,r)=>{let o;while(e&&e!==t)o=h(e),i(e,n,r),e=o;i(t,n,r)},w=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=h(e),a(e),e=n;a(t)},C=(e,t,n,r,o,i,a,s,c)=>{a=a||"svg"===t.type,null==e?O(t,n,r,o,i,a,s,c):k(e,t,o,i,a,s,c)},O=(e,t,n,r,a,u,l,d)=>{let p,h;const{type:g,props:m,shapeFlag:y,transition:A,patchFlag:b,dirs:E}=e;if(e.el&&void 0!==v&&-1===b)p=e.el=v(e.el);else{if(p=e.el=c(e.type,u,m&&m.is,m),8&y?f(p,e.children):16&y&&R(e.children,p,null,r,a,u&&"foreignObject"!==g,l,d),E&&Fe(e,null,r,"created"),m){for(const t in m)"value"===t||(0,o.Gg)(t)||s(p,t,null,m[t],u,e.children,r,a,Z);"value"in m&&s(p,"value",null,m.value),(h=m.onVnodeBeforeMount)&&wn(h,r,e)}T(p,e,e.scopeId,l,r)}E&&Fe(e,null,r,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&A&&!A.persisted;_&&A.beforeEnter(p),i(p,t,n),((h=m&&m.onVnodeMounted)||_||E)&&kt((()=>{h&&wn(h,r,e),_&&A.enter(p),E&&Fe(e,null,r,"mounted")}),a)},T=(e,t,n,r,o)=>{if(n&&g(e,n),r)for(let i=0;i<r.length;i++)g(e,r[i]);if(o){let n=o.subTree;if(t===n){const t=o.vnode;T(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},R=(e,t,n,r,o,i,a,s,c=0)=>{for(let u=c;u<e.length;u++){const c=e[u]=s?bn(e[u]):An(e[u]);y(null,c,t,n,r,o,i,a,s)}},k=(e,t,n,r,i,a,c)=>{const u=t.el=e.el;let{patchFlag:l,dynamicChildren:d,dirs:p}=t;l|=16&e.patchFlag;const h=e.props||o.kT,g=t.props||o.kT;let v;n&&Lt(n,!1),(v=g.onVnodeBeforeUpdate)&&wn(v,n,t,e),p&&Fe(t,e,n,"beforeUpdate"),n&&Lt(n,!0);const m=i&&"foreignObject"!==t.type;if(d?D(e.dynamicChildren,d,u,n,r,m,a):c||V(e,t,u,null,n,r,m,a,!1),l>0){if(16&l)x(u,t,h,g,n,r,i);else if(2&l&&h.class!==g.class&&s(u,"class",null,g.class,i),4&l&&s(u,"style",h.style,g.style,i),8&l){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const a=o[t],c=h[a],l=g[a];l===c&&"value"!==a||s(u,a,c,l,i,e.children,n,r,Z)}}1&l&&e.children!==t.children&&f(u,t.children)}else c||null!=d||x(u,t,h,g,n,r,i);((v=g.onVnodeUpdated)||p)&&kt((()=>{v&&wn(v,n,t,e),p&&Fe(t,e,n,"updated")}),r)},D=(e,t,n,r,o,i,a)=>{for(let s=0;s<t.length;s++){const c=e[s],u=t[s],l=c.el&&(c.type===Kt||!sn(c,u)||70&c.shapeFlag)?p(c.el):n;y(c,u,l,null,r,o,i,a,!0)}},x=(e,t,n,r,i,a,c)=>{if(n!==r){for(const u in r){if((0,o.Gg)(u))continue;const l=r[u],d=n[u];l!==d&&"value"!==u&&s(e,u,d,l,c,t.children,i,a,Z)}if(n!==o.kT)for(const u in n)(0,o.Gg)(u)||u in r||s(e,u,n[u],null,c,t.children,i,a,Z);"value"in r&&s(e,"value",n.value,r.value)}},L=(e,t,n,r,o,a,s,c,l)=>{const d=t.el=e?e.el:u(""),f=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:h,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(i(d,n,r),i(f,n,r),R(t.children,n,f,o,a,s,c,l)):p>0&&64&p&&h&&e.dynamicChildren?(D(e.dynamicChildren,h,n,o,a,s,c),(null!=t.key||o&&t===o.subTree)&&jt(e,t,!0)):V(e,t,n,f,o,a,s,c,l)},j=(e,t,n,r,o,i,a,s,c)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,a,c):M(t,n,r,o,i,a,c):B(e,t,c)},M=(e,t,n,r,o,i,a)=>{const s=e.component=In(e,r,o);if(ye(e)&&(s.ctx.renderer=te),Ln(s),s.asyncDep){if(o&&o.registerDep(s,F),!e.el){const e=s.subTree=fn(zt);b(null,e,t,n)}}else F(s,e,t,n,o,i,a)},B=(e,t,n)=>{const r=t.component=e.component;if(K(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void U(r,t,n);r.next=t,I(r.update),r.update()}else t.el=e.el,r.vnode=t},F=(e,t,n,i,a,s,c)=>{const u=()=>{if(e.isMounted){let t,{next:n,bu:r,u:i,parent:u,vnode:l}=e,d=n;0,Lt(e,!1),n?(n.el=l.el,U(e,n,c)):n=l,r&&(0,o.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&wn(t,u,n,l),Lt(e,!0);const f=H(e);0;const h=e.subTree;e.subTree=f,y(h,f,p(h.el),$(h),e,a,s),n.el=f.el,null===d&&z(e,f.el),i&&kt(i,a),(t=n.props&&n.props.onVnodeUpdated)&&kt((()=>wn(t,u,n,l)),a)}else{let r;const{el:c,props:u}=t,{bm:l,m:d,parent:f}=e,p=me(t);if(Lt(e,!1),l&&(0,o.ir)(l),!p&&(r=u&&u.onVnodeBeforeMount)&&wn(r,f,t),Lt(e,!0),c&&re){const n=()=>{e.subTree=H(e),re(c,e.subTree,e,a,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=H(e);0,y(null,r,n,i,e,a,s),t.el=r.el}if(d&&kt(d,a),!p&&(r=u&&u.onVnodeMounted)){const e=t;kt((()=>wn(r,f,e)),a)}(256&t.shapeFlag||f&&me(f.vnode)&&256&f.vnode.shapeFlag)&&e.a&&kt(e.a,a),e.isMounted=!0,t=n=i=null}},l=e.effect=new r.qq(u,(()=>S(d)),e.scope),d=e.update=()=>l.run();d.id=e.uid,Lt(e,!0),d()},U=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,ft(e,t.props,o,n),It(e,t.children,n),(0,r.Jd)(),N(void 0,e.update),(0,r.lk)()},V=(e,t,n,r,o,i,a,s,c=!1)=>{const u=e&&e.children,l=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:h}=t;if(p>0){if(128&p)return void Q(u,d,n,r,o,i,a,s,c);if(256&p)return void W(u,d,n,r,o,i,a,s,c)}8&h?(16&l&&Z(u,o,i),d!==u&&f(n,d)):16&l?16&h?Q(u,d,n,r,o,i,a,s,c):Z(u,o,i,!0):(8&l&&f(n,""),16&h&&R(d,n,r,o,i,a,s,c))},W=(e,t,n,r,i,a,s,c,u)=>{e=e||o.Z6,t=t||o.Z6;const l=e.length,d=t.length,f=Math.min(l,d);let p;for(p=0;p<f;p++){const r=t[p]=u?bn(t[p]):An(t[p]);y(e[p],r,n,null,i,a,s,c,u)}l>d?Z(e,i,a,!0,!1,f):R(t,n,r,i,a,s,c,u,f)},Q=(e,t,n,r,i,a,s,c,u)=>{let l=0;const d=t.length;let f=e.length-1,p=d-1;while(l<=f&&l<=p){const r=e[l],o=t[l]=u?bn(t[l]):An(t[l]);if(!sn(r,o))break;y(r,o,n,null,i,a,s,c,u),l++}while(l<=f&&l<=p){const r=e[f],o=t[p]=u?bn(t[p]):An(t[p]);if(!sn(r,o))break;y(r,o,n,null,i,a,s,c,u),f--,p--}if(l>f){if(l<=p){const e=p+1,o=e<d?t[e].el:r;while(l<=p)y(null,t[l]=u?bn(t[l]):An(t[l]),n,o,i,a,s,c,u),l++}}else if(l>p)while(l<=f)q(e[l],i,a,!0),l++;else{const h=l,g=l,v=new Map;for(l=g;l<=p;l++){const e=t[l]=u?bn(t[l]):An(t[l]);null!=e.key&&v.set(e.key,l)}let m,A=0;const b=p-g+1;let E=!1,_=0;const w=new Array(b);for(l=0;l<b;l++)w[l]=0;for(l=h;l<=f;l++){const r=e[l];if(A>=b){q(r,i,a,!0);continue}let o;if(null!=r.key)o=v.get(r.key);else for(m=g;m<=p;m++)if(0===w[m-g]&&sn(r,t[m])){o=m;break}void 0===o?q(r,i,a,!0):(w[o-g]=l+1,o>=_?_=o:E=!0,y(r,t[o],n,null,i,a,s,c,u),A++)}const S=E?Mt(w):o.Z6;for(m=S.length-1,l=b-1;l>=0;l--){const e=g+l,o=t[e],f=e+1<d?t[e+1].el:r;0===w[l]?y(null,o,n,f,i,a,s,c,u):E&&(m<0||l!==S[m]?G(o,n,f,2):m--)}}},G=(e,t,n,r,o=null)=>{const{el:a,type:s,transition:c,children:u,shapeFlag:l}=e;if(6&l)return void G(e.component.subTree,t,n,r);if(128&l)return void e.suspense.move(t,n,r);if(64&l)return void s.move(e,t,n,te);if(s===Kt){i(a,t,n);for(let e=0;e<u.length;e++)G(u[e],t,n,r);return void i(e.anchor,t,n)}if(s===Yt)return void _(e,t,n);const d=2!==r&&1&l&&c;if(d)if(0===r)c.beforeEnter(a),i(a,t,n),kt((()=>c.enter(a)),o);else{const{leave:e,delayLeave:r,afterLeave:o}=c,s=()=>i(a,t,n),u=()=>{e(a,(()=>{s(),o&&o()}))};r?r(a,s,u):u()}else i(a,t,n)},q=(e,t,n,r=!1,o=!1)=>{const{type:i,props:a,ref:s,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:d,dirs:f}=e;if(null!=s&&Nt(s,null,n,e,!0),256&l)return void t.ctx.deactivate(e);const p=1&l&&f,h=!me(e);let g;if(h&&(g=a&&a.onVnodeBeforeUnmount)&&wn(g,t,e),6&l)X(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);p&&Fe(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,o,te,r):u&&(i!==Kt||d>0&&64&d)?Z(u,t,n,!1,!0):(i===Kt&&384&d||!o&&16&l)&&Z(c,t,n),r&&Y(e)}(h&&(g=a&&a.onVnodeUnmounted)||p)&&kt((()=>{g&&wn(g,t,e),p&&Fe(e,null,t,"unmounted")}),n)},Y=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Kt)return void J(n,r);if(t===Yt)return void w(e);const i=()=>{a(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,a=()=>t(n,i);r?r(e.el,i,a):a()}else i()},J=(e,t)=>{let n;while(e!==t)n=h(e),a(e),e=n;a(t)},X=(e,t,n)=>{const{bum:r,scope:i,update:a,subTree:s,um:c}=e;r&&(0,o.ir)(r),i.stop(),a&&(a.active=!1,q(s,e,t,n)),c&&kt(c,t),kt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Z=(e,t,n,r=!1,o=!1,i=0)=>{for(let a=i;a<e.length;a++)q(e[a],t,n,r,o)},$=e=>6&e.shapeFlag?$(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&q(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),P(),t._vnode=e},te={p:y,um:q,m:G,r:Y,mt:M,mc:R,pc:V,pbc:D,n:$,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:Rt(ee,ne)}}function Lt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function jt(e,t,n=!1){const r=e.children,i=t.children;if((0,o.kJ)(r)&&(0,o.kJ)(i))for(let o=0;o<r.length;o++){const e=r[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=bn(i[o]),t.el=e.el),n||jt(e,t))}}function Mt(e){const t=e.slice(),n=[0];let r,o,i,a,s;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}i=0,a=n.length-1;while(i<a)s=i+a>>1,e[n[s]]<c?i=s+1:a=s;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,a=n[i-1];while(i-- >0)n[i]=a,a=t[a];return n}const Bt=e=>e.__isTeleport,Ft=e=>e&&(e.disabled||""===e.disabled),Ut=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Vt=(e,t)=>{const n=e&&e.to;if((0,o.HD)(n)){if(t){const e=t(n);return e}return null}return n},Wt={__isTeleport:!0,process(e,t,n,r,o,i,a,s,c,u){const{mc:l,pc:d,pbc:f,o:{insert:p,querySelector:h,createText:g,createComment:v}}=u,m=Ft(t.props);let{shapeFlag:y,children:A,dynamicChildren:b}=t;if(null==e){const e=t.el=g(""),u=t.anchor=g("");p(e,n,r),p(u,n,r);const d=t.target=Vt(t.props,h),f=t.targetAnchor=g("");d&&(p(f,d),a=a||Ut(d));const v=(e,t)=>{16&y&&l(A,e,t,o,i,a,s,c)};m?v(n,u):d&&v(d,f)}else{t.el=e.el;const r=t.anchor=e.anchor,l=t.target=e.target,p=t.targetAnchor=e.targetAnchor,g=Ft(e.props),v=g?n:l,y=g?r:p;if(a=a||Ut(l),b?(f(e.dynamicChildren,b,v,o,i,a,s),jt(e,t,!0)):c||d(e,t,v,y,o,i,a,s,!1),m)g||Ht(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Vt(t.props,h);e&&Ht(t,e,null,u,0)}else g&&Ht(t,l,p,u,1)}},remove(e,t,n,r,{um:o,o:{remove:i}},a){const{shapeFlag:s,children:c,anchor:u,targetAnchor:l,target:d,props:f}=e;if(d&&i(l),(a||!Ft(f))&&(i(u),16&s))for(let p=0;p<c.length;p++){const e=c[p];o(e,t,n,!0,!!e.dynamicChildren)}},move:Ht,hydrate:Qt};function Ht(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:c,children:u,props:l}=e,d=2===i;if(d&&r(a,t,n),(!d||Ft(l))&&16&c)for(let f=0;f<u.length;f++)o(u[f],t,n,2);d&&r(s,t,n)}function Qt(e,t,n,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:c}},u){const l=t.target=Vt(t.props,c);if(l){const c=l._lpa||l.firstChild;if(16&t.shapeFlag)if(Ft(t.props))t.anchor=u(a(e),t,s(e),n,r,o,i),t.targetAnchor=c;else{t.anchor=a(e);let s=c;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,l._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(c,t,l,n,r,o,i)}}return t.anchor&&a(t.anchor)}const Gt=Wt,Kt=Symbol(void 0),qt=Symbol(void 0),zt=Symbol(void 0),Yt=Symbol(void 0),Jt=[];let Xt=null;function Zt(e=!1){Jt.push(Xt=e?null:[])}function $t(){Jt.pop(),Xt=Jt[Jt.length-1]||null}let en=1;function tn(e){en+=e}function nn(e){return e.dynamicChildren=en>0?Xt||o.Z6:null,$t(),en>0&&Xt&&Xt.push(e),e}function rn(e,t,n,r,o,i){return nn(dn(e,t,n,r,o,i,!0))}function on(e,t,n,r,o){return nn(fn(e,t,n,r,o,!0))}function an(e){return!!e&&!0===e.__v_isVNode}function sn(e,t){return e.type===t.type&&e.key===t.key}const cn="__vInternal",un=({key:e})=>null!=e?e:null,ln=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,o.HD)(e)||(0,r.dq)(e)||(0,o.mf)(e)?{i:M,r:e,k:t,f:!!n}:e:null;function dn(e,t=null,n=null,r=0,i=null,a=(e===Kt?0:1),s=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&un(t),ref:t&&ln(t),scopeId:B,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return c?(En(u,n),128&a&&e.normalize(u)):n&&(u.shapeFlag|=(0,o.HD)(n)?8:16),en>0&&!s&&Xt&&(u.patchFlag>0||6&a)&&32!==u.patchFlag&&Xt.push(u),u}const fn=pn;function pn(e,t=null,n=null,i=0,a=null,s=!1){if(e&&e!==He||(e=zt),an(e)){const r=gn(e,t,!0);return n&&En(r,n),en>0&&!s&&Xt&&(6&r.shapeFlag?Xt[Xt.indexOf(e)]=r:Xt.push(r)),r.patchFlag|=-2,r}if(Hn(e)&&(e=e.__vccOpts),t){t=hn(t);let{class:e,style:n}=t;e&&!(0,o.HD)(e)&&(t.class=(0,o.C_)(e)),(0,o.Kn)(n)&&((0,r.X3)(n)&&!(0,o.kJ)(n)&&(n=(0,o.l7)({},n)),t.style=(0,o.j5)(n))}const c=(0,o.HD)(e)?1:Y(e)?128:Bt(e)?64:(0,o.Kn)(e)?4:(0,o.mf)(e)?2:0;return dn(e,t,n,i,a,c,s,!0)}function hn(e){return e?(0,r.X3)(e)||cn in e?(0,o.l7)({},e):e:null}function gn(e,t,n=!1){const{props:r,ref:i,patchFlag:a,children:s}=e,c=t?_n(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&un(c),ref:t&&t.ref?n&&i?(0,o.kJ)(i)?i.concat(ln(t)):[i,ln(t)]:ln(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gn(e.ssContent),ssFallback:e.ssFallback&&gn(e.ssFallback),el:e.el,anchor:e.anchor};return u}function vn(e=" ",t=0){return fn(qt,null,e,t)}function mn(e,t){const n=fn(Yt,null,e);return n.staticCount=t,n}function yn(e="",t=!1){return t?(Zt(),on(zt,null,e)):fn(zt,null,e)}function An(e){return null==e||"boolean"===typeof e?fn(zt):(0,o.kJ)(e)?fn(Kt,null,e.slice()):"object"===typeof e?bn(e):fn(qt,null,String(e))}function bn(e){return null===e.el||e.memo?e:gn(e)}function En(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,o.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),En(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||cn in t?3===r&&M&&(1===M.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=M}}else(0,o.mf)(t)?(t={default:t,_ctx:M},n=32):(t=String(t),64&r?(n=16,t=[vn(t)]):n=8);e.children=t,e.shapeFlag|=n}function _n(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,o.C_)([t.class,r.class]));else if("style"===e)t.style=(0,o.j5)([t.style,r.style]);else if((0,o.F7)(e)){const n=t[e],i=r[e];!i||n===i||(0,o.kJ)(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function wn(e,t,n,r=null){a(e,t,7,[n,r])}const Sn=Ot();let Cn=0;function In(e,t,n){const i=e.type,a=(t?t.appContext:e.appContext)||Sn,s={uid:Cn++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gt(i,a),emitsOptions:L(i,a),emit:null,emitted:null,propsDefaults:o.kT,inheritAttrs:i.inheritAttrs,ctx:o.kT,data:o.kT,props:o.kT,attrs:o.kT,slots:o.kT,refs:o.kT,setupState:o.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=x.bind(null,s),e.ce&&e.ce(s),s}let On=null;const Tn=()=>On||M,Rn=e=>{On=e,e.scope.on()},Nn=()=>{On&&On.scope.off(),On=null};function Pn(e){return 4&e.vnode.shapeFlag}let kn,Dn,xn=!1;function Ln(e,t=!1){xn=t;const{props:n,children:r}=e.vnode,o=Pn(e);dt(e,n,o,t),Ct(e,r);const i=o?jn(e,t):void 0;return xn=!1,i}function jn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,Je));const{setup:a}=n;if(a){const n=e.setupContext=a.length>1?Un(e):null;Rn(e),(0,r.Jd)();const c=i(a,e,0,[e.props,n]);if((0,r.lk)(),Nn(),(0,o.tI)(c)){if(c.then(Nn,Nn),t)return c.then((n=>{Mn(e,n,t)})).catch((t=>{s(t,e,0)}));e.asyncDep=c}else Mn(e,c,t)}else Bn(e,t)}function Mn(e,t,n){(0,o.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,o.Kn)(t)&&(e.setupState=(0,r.WL)(t)),Bn(e,n)}function Bn(e,t,n){const i=e.type;if(!e.render){if(!t&&kn&&!i.render){const t=i.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:s}=i,c=(0,o.l7)((0,o.l7)({isCustomElement:n,delimiters:a},r),s);i.render=kn(t,c)}}e.render=i.render||o.dG,Dn&&Dn(e)}Rn(e),(0,r.Jd)(),Ze(e),(0,r.lk)(),Nn()}function Fn(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function Un(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Fn(e))},slots:e.slots,emit:e.emit,expose:t}}function Vn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Ye?Ye[n](e):void 0}}))}function Wn(e,t=!0){return(0,o.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Hn(e){return(0,o.mf)(e)&&"__vccOpts"in e}const Qn=(e,t)=>(0,r.Fl)(e,t,xn);function Gn(e,t,n){const r=arguments.length;return 2===r?(0,o.Kn)(t)&&!(0,o.kJ)(t)?an(t)?fn(e,null,[t]):fn(e,t):fn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&an(n)&&(n=[n]),fn(e,t,n))}Symbol("");const Kn="3.2.37"},9242:function(e,t,n){"use strict";n.d(t,{F8:function(){return ue},W3:function(){return oe},ri:function(){return he},uT:function(){return B}});n(6699);var r=n(7139),o=n(3396),i=n(4870);const a="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,c=s&&s.createElement("template"),u={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?s.createElementNS(a,e):s.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling)){while(1)if(t.insertBefore(o.cloneNode(!0),n),o===i||!(o=o.nextSibling))break}else{c.innerHTML=r?`<svg>${e}</svg>`:e;const o=c.content;if(r){const e=o.firstChild;while(e.firstChild)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function l(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d(e,t,n){const o=e.style,i=(0,r.HD)(n);if(n&&!i){for(const e in n)p(o,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&p(o,e,"")}else{const r=o.display;i?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=r)}}const f=/\s*!important$/;function p(e,t,n){if((0,r.kJ)(n))n.forEach((n=>p(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=v(e,t);f.test(n)?e.setProperty((0,r.rs)(o),n.replace(f,""),"important"):e[o]=n}}const h=["Webkit","Moz","ms"],g={};function v(e,t){const n=g[t];if(n)return n;let o=(0,r._A)(t);if("filter"!==o&&o in e)return g[t]=o;o=(0,r.kC)(o);for(let r=0;r<h.length;r++){const n=h[r]+o;if(n in e)return g[t]=n}return t}const m="http://www.w3.org/1999/xlink";function y(e,t,n,o,i){if(o&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(m,t.slice(6,t.length)):e.setAttributeNS(m,t,n);else{const o=(0,r.Pq)(t);null==n||o&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function A(e,t,n,o,i,a,s){if("innerHTML"===t||"textContent"===t)return o&&s(o,i,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let c=!1;if(""===n||null==n){const o=typeof e[t];"boolean"===o?n=(0,r.yA)(n):null==n&&"string"===o?(n="",c=!0):"number"===o&&(n=0,c=!0)}try{e[t]=n}catch(u){0}c&&e.removeAttribute(t)}const[b,E]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let _=0;const w=Promise.resolve(),S=()=>{_=0},C=()=>_||(w.then(S),_=b());function I(e,t,n,r){e.addEventListener(t,n,r)}function O(e,t,n,r){e.removeEventListener(t,n,r)}function T(e,t,n,r,o=null){const i=e._vei||(e._vei={}),a=i[t];if(r&&a)a.value=r;else{const[n,s]=N(t);if(r){const a=i[t]=P(r,o);I(e,n,a,s)}else a&&(O(e,n,a,s),i[t]=void 0)}}const R=/(?:Once|Passive|Capture)$/;function N(e){let t;if(R.test(e)){let n;t={};while(n=e.match(R))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,r.rs)(e.slice(2)),t]}function P(e,t){const n=e=>{const r=e.timeStamp||b();(E||r>=n.attached-1)&&(0,o.$d)(k(e,n.value),t,5,[e])};return n.value=e,n.attached=C(),n}function k(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const D=/^on[a-z]/,x=(e,t,n,o,i=!1,a,s,c,u)=>{"class"===t?l(e,o,i):"style"===t?d(e,n,o):(0,r.F7)(t)?(0,r.tR)(t)||T(e,t,n,o,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):L(e,t,o,i))?A(e,t,o,a,s,c,u):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),y(e,t,o,i))};function L(e,t,n,o){return o?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const j="transition",M="animation",B=(e,{slots:t})=>(0,o.h)(o.P$,H(e),t);B.displayName="Transition";const F={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U=B.props=(0,r.l7)({},o.P$.props,F),V=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},W=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function H(e){const t={};for(const r in e)r in F||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:o,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=a,appearActiveClass:l=s,appearToClass:d=c,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,g=Q(i),v=g&&g[0],m=g&&g[1],{onBeforeEnter:y,onEnter:A,onEnterCancelled:b,onLeave:E,onLeaveCancelled:_,onBeforeAppear:w=y,onAppear:S=A,onAppearCancelled:C=b}=t,I=(e,t,n)=>{q(e,t?d:c),q(e,t?l:s),n&&n()},O=(e,t)=>{e._isLeaving=!1,q(e,f),q(e,h),q(e,p),t&&t()},T=e=>(t,n)=>{const r=e?S:A,i=()=>I(t,e,n);V(r,[t,i]),z((()=>{q(t,e?u:a),K(t,e?d:c),W(r)||J(t,o,v,i)}))};return(0,r.l7)(t,{onBeforeEnter(e){V(y,[e]),K(e,a),K(e,s)},onBeforeAppear(e){V(w,[e]),K(e,u),K(e,l)},onEnter:T(!1),onAppear:T(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>O(e,t);K(e,f),ee(),K(e,p),z((()=>{e._isLeaving&&(q(e,f),K(e,h),W(E)||J(e,o,m,n))})),V(E,[e,n])},onEnterCancelled(e){I(e,!1),V(b,[e])},onAppearCancelled(e){I(e,!0),V(C,[e])},onLeaveCancelled(e){O(e),V(_,[e])}})}function Q(e){if(null==e)return null;if((0,r.Kn)(e))return[G(e.enter),G(e.leave)];{const t=G(e);return[t,t]}}function G(e){const t=(0,r.He)(e);return t}function K(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function q(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function z(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Y=0;function J(e,t,n,r){const o=e._endId=++Y,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:s,propCount:c}=X(e,t);if(!a)return r();const u=a+"end";let l=0;const d=()=>{e.removeEventListener(u,f),i()},f=t=>{t.target===e&&++l>=c&&d()};setTimeout((()=>{l<c&&d()}),s+1),e.addEventListener(u,f)}function X(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r(j+"Delay"),i=r(j+"Duration"),a=Z(o,i),s=r(M+"Delay"),c=r(M+"Duration"),u=Z(s,c);let l=null,d=0,f=0;t===j?a>0&&(l=j,d=a,f=i.length):t===M?u>0&&(l=M,d=u,f=c.length):(d=Math.max(a,u),l=d>0?a>u?j:M:null,f=l?l===j?i.length:c.length:0);const p=l===j&&/\b(transform|all)(,|$)/.test(n[j+"Property"]);return{type:l,timeout:d,propCount:f,hasTransform:p}}function Z(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>$(t)+$(e[n]))))}function $(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,re={name:"TransitionGroup",props:(0,r.l7)({},U,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,o.FN)(),r=(0,o.Y8)();let a,s;return(0,o.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!ce(a[0].el,n.vnode.el,t))return;a.forEach(ie),a.forEach(ae);const r=a.filter(se);ee(),r.forEach((e=>{const n=e.el,r=n.style;K(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,q(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const c=(0,i.IU)(e),u=H(c);let l=c.tag||o.HY;a=s,s=t.default?(0,o.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,o.nK)(t,(0,o.U2)(t,u,r,n))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,o.nK)(t,(0,o.U2)(t,u,r,n)),te.set(t,t.el.getBoundingClientRect())}return(0,o.Wm)(l,null,s)}}},oe=re;function ie(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ae(e){ne.set(e,e.el.getBoundingClientRect())}function se(e){const t=te.get(e),n=ne.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}function ce(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=X(r);return o.removeChild(r),i}const ue={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):le(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),le(e,!0),r.enter(e)):r.leave(e,(()=>{le(e,!1)})):le(e,t))},beforeUnmount(e,{value:t}){le(e,t)}};function le(e,t){e.style.display=t?e._vod:"none"}const de=(0,r.l7)({patchProp:x},u);let fe;function pe(){return fe||(fe=(0,o.Us)(de))}const he=(...e)=>{const t=pe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const o=ge(e);if(!o)return;const i=t._component;(0,r.mf)(i)||i.render||i.template||(i.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function ge(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:function(){return p},DM:function(){return k},E9:function(){return re},F7:function(){return S},Gg:function(){return Q},HD:function(){return L},He:function(){return te},Kn:function(){return M},NO:function(){return _},Nj:function(){return ee},Od:function(){return O},PO:function(){return W},Pq:function(){return s},RI:function(){return R},S0:function(){return H},W7:function(){return V},WV:function(){return g},Z6:function(){return b},_A:function(){return q},_N:function(){return P},aU:function(){return Z},dG:function(){return E},e1:function(){return i},fY:function(){return r},hR:function(){return X},hq:function(){return v},ir:function(){return $},j5:function(){return u},kC:function(){return J},kJ:function(){return N},kT:function(){return A},l7:function(){return I},mf:function(){return x},rs:function(){return Y},tI:function(){return B},tR:function(){return C},yA:function(){return c},yk:function(){return j},zw:function(){return m}});const o="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",i=r(o);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=r(a);function c(e){return!!e||""===e}function u(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=L(r)?f(r):u(r);if(o)for(const e in o)t[e]=o[e]}return t}return L(e)||M(e)?e:void 0}const l=/;(?![^(]*\))/g,d=/:(.+)/;function f(e){const t={};return e.split(l).forEach((e=>{if(e){const n=e.split(d);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function p(e){let t="";if(L(e))t=e;else if(N(e))for(let n=0;n<e.length;n++){const r=p(e[n]);r&&(t+=r+" ")}else if(M(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function h(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=g(e[r],t[r]);return n}function g(e,t){if(e===t)return!0;let n=D(e),r=D(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=j(e),r=j(t),n||r)return e===t;if(n=N(e),r=N(t),n||r)return!(!n||!r)&&h(e,t);if(n=M(e),r=M(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!g(e[n],t[n]))return!1}}return String(e)===String(t)}function v(e,t){return e.findIndex((e=>g(e,t)))}const m=e=>L(e)?e:null==e?"":N(e)||M(e)&&(e.toString===F||!x(e.toString))?JSON.stringify(e,y,2):String(e),y=(e,t)=>t&&t.__v_isRef?y(e,t.value):P(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:k(t)?{[`Set(${t.size})`]:[...t.values()]}:!M(t)||N(t)||W(t)?t:String(t),A={},b=[],E=()=>{},_=()=>!1,w=/^on[^a-z]/,S=e=>w.test(e),C=e=>e.startsWith("onUpdate:"),I=Object.assign,O=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},T=Object.prototype.hasOwnProperty,R=(e,t)=>T.call(e,t),N=Array.isArray,P=e=>"[object Map]"===U(e),k=e=>"[object Set]"===U(e),D=e=>"[object Date]"===U(e),x=e=>"function"===typeof e,L=e=>"string"===typeof e,j=e=>"symbol"===typeof e,M=e=>null!==e&&"object"===typeof e,B=e=>M(e)&&x(e.then)&&x(e.catch),F=Object.prototype.toString,U=e=>F.call(e),V=e=>U(e).slice(8,-1),W=e=>"[object Object]"===U(e),H=e=>L(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,Q=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},K=/-(\w)/g,q=G((e=>e.replace(K,((e,t)=>t?t.toUpperCase():"")))),z=/\B([A-Z])/g,Y=G((e=>e.replace(z,"-$1").toLowerCase())),J=G((e=>e.charAt(0).toUpperCase()+e.slice(1))),X=G((e=>e?`on${J(e)}`:"")),Z=(e,t)=>!Object.is(e,t),$=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ee=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},te=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ne;const re=()=>ne||(ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},8799:function(e,t,n){n(6314),n(1703),n(2087),n(6699),n(2801),n(8675),n(3462),n(7380),n(1118),function(t,n){e.exports=n()}(0,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},t=function(e){return e&&e.Math==Math&&e},r=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")(),o={},i=function(e){try{return!!e()}catch(e){return!0}},a=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),c=s,u=Function.prototype.call,l=c?u.bind(u):function(){return u.apply(u,arguments)},d={},f={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,h=p&&!f.call({1:2},1);d.f=h?function(e){var t=p(this,e);return!!t&&t.enumerable}:f;var g,v,m=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y=s,A=Function.prototype,b=A.bind,E=A.call,_=y&&b.bind(E,E),w=y?function(e){return e&&_(e)}:function(e){return e&&function(){return E.apply(e,arguments)}},S=w,C=S({}.toString),I=S("".slice),O=function(e){return I(C(e),8,-1)},T=w,R=i,N=O,P=r.Object,k=T("".split),D=R((function(){return!P("z").propertyIsEnumerable(0)}))?function(e){return"String"==N(e)?k(e,""):P(e)}:P,x=r.TypeError,L=function(e){if(null==e)throw x("Can't call method on "+e);return e},j=D,M=L,B=function(e){return j(M(e))},F=function(e){return"function"==typeof e},U=F,V=function(e){return"object"==typeof e?null!==e:U(e)},W=r,H=F,Q=function(e){return H(e)?e:void 0},G=function(e,t){return arguments.length<2?Q(W[e]):W[e]&&W[e][t]},K=w({}.isPrototypeOf),q=G("navigator","userAgent")||"",z=r,Y=q,J=z.process,X=z.Deno,Z=J&&J.versions||X&&X.version,$=Z&&Z.v8;$&&(v=(g=$.split("."))[0]>0&&g[0]<4?1:+(g[0]+g[1])),!v&&Y&&(!(g=Y.match(/Edge\/(\d+)/))||g[1]>=74)&&(g=Y.match(/Chrome\/(\d+)/))&&(v=+g[1]);var ee=v,te=ee,ne=i,re=!!Object.getOwnPropertySymbols&&!ne((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&te&&te<41})),oe=re&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ie=G,ae=F,se=K,ce=oe,ue=r.Object,le=ce?function(e){return"symbol"==typeof e}:function(e){var t=ie("Symbol");return ae(t)&&se(t.prototype,ue(e))},de=r.String,fe=function(e){try{return de(e)}catch(e){return"Object"}},pe=F,he=fe,ge=r.TypeError,ve=function(e){if(pe(e))return e;throw ge(he(e)+" is not a function")},me=ve,ye=function(e,t){var n=e[t];return null==n?void 0:me(n)},Ae=l,be=F,Ee=V,_e=r.TypeError,we={exports:{}},Se=r,Ce=Object.defineProperty,Ie=function(e,t){try{Ce(Se,e,{value:t,configurable:!0,writable:!0})}catch(r){Se[e]=t}return t},Oe=Ie,Te="__core-js_shared__",Re=r[Te]||Oe(Te,{}),Ne=Re;(we.exports=function(e,t){return Ne[e]||(Ne[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Pe=L,ke=r.Object,De=function(e){return ke(Pe(e))},xe=De,Le=w({}.hasOwnProperty),je=Object.hasOwn||function(e,t){return Le(xe(e),t)},Me=w,Be=0,Fe=Math.random(),Ue=Me(1..toString),Ve=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ue(++Be+Fe,36)},We=r,He=we.exports,Qe=je,Ge=Ve,Ke=re,qe=oe,ze=He("wks"),Ye=We.Symbol,Je=Ye&&Ye.for,Xe=qe?Ye:Ye&&Ye.withoutSetter||Ge,Ze=function(e){if(!Qe(ze,e)||!Ke&&"string"!=typeof ze[e]){var t="Symbol."+e;Ke&&Qe(Ye,e)?ze[e]=Ye[e]:ze[e]=qe&&Je?Je(t):Xe(t)}return ze[e]},$e=l,et=V,tt=le,nt=ye,rt=function(e,t){var n,r;if("string"===t&&be(n=e.toString)&&!Ee(r=Ae(n,e)))return r;if(be(n=e.valueOf)&&!Ee(r=Ae(n,e)))return r;if("string"!==t&&be(n=e.toString)&&!Ee(r=Ae(n,e)))return r;throw _e("Can't convert object to primitive value")},ot=Ze,it=r.TypeError,at=ot("toPrimitive"),st=function(e,t){if(!et(e)||tt(e))return e;var n,r=nt(e,at);if(r){if(void 0===t&&(t="default"),n=$e(r,e,t),!et(n)||tt(n))return n;throw it("Can't convert object to primitive value")}return void 0===t&&(t="number"),rt(e,t)},ct=le,ut=function(e){var t=st(e,"string");return ct(t)?t:t+""},lt=V,dt=r.document,ft=lt(dt)&&lt(dt.createElement),pt=function(e){return ft?dt.createElement(e):{}},ht=pt,gt=!a&&!i((function(){return 7!=Object.defineProperty(ht("div"),"a",{get:function(){return 7}}).a})),vt=a,mt=l,yt=d,At=m,bt=B,Et=ut,_t=je,wt=gt,St=Object.getOwnPropertyDescriptor;o.f=vt?St:function(e,t){if(e=bt(e),t=Et(t),wt)try{return St(e,t)}catch(e){}if(_t(e,t))return At(!mt(yt.f,e,t),e[t])};var Ct={},It=a&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ot=r,Tt=V,Rt=Ot.String,Nt=Ot.TypeError,Pt=function(e){if(Tt(e))return e;throw Nt(Rt(e)+" is not an object")},kt=a,Dt=gt,xt=It,Lt=Pt,jt=ut,Mt=r.TypeError,Bt=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,Ut="enumerable",Vt="configurable",Wt="writable";Ct.f=kt?xt?function(e,t,n){if(Lt(e),t=jt(t),Lt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Wt in n&&!n.writable){var r=Ft(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Vt in n?n.configurable:r.configurable,enumerable:Ut in n?n.enumerable:r.enumerable,writable:!1})}return Bt(e,t,n)}:Bt:function(e,t,n){if(Lt(e),t=jt(t),Lt(n),Dt)try{return Bt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Mt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Ht=Ct,Qt=m,Gt=a?function(e,t,n){return Ht.f(e,t,Qt(1,n))}:function(e,t,n){return e[t]=n,e},Kt={exports:{}},qt=F,zt=Re,Yt=w(Function.toString);qt(zt.inspectSource)||(zt.inspectSource=function(e){return Yt(e)});var Jt,Xt,Zt,$t=zt.inspectSource,en=F,tn=$t,nn=r.WeakMap,rn=en(nn)&&/native code/.test(tn(nn)),on=we.exports,an=Ve,sn=on("keys"),cn=function(e){return sn[e]||(sn[e]=an(e))},un={},ln=rn,dn=r,fn=w,pn=V,hn=Gt,gn=je,vn=Re,mn=cn,yn=un,An="Object already initialized",bn=dn.TypeError,En=dn.WeakMap;if(ln||vn.state){var _n=vn.state||(vn.state=new En),wn=fn(_n.get),Sn=fn(_n.has),Cn=fn(_n.set);Jt=function(e,t){if(Sn(_n,e))throw new bn(An);return t.facade=e,Cn(_n,e,t),t},Xt=function(e){return wn(_n,e)||{}},Zt=function(e){return Sn(_n,e)}}else{var In=mn("state");yn[In]=!0,Jt=function(e,t){if(gn(e,In))throw new bn(An);return t.facade=e,hn(e,In,t),t},Xt=function(e){return gn(e,In)?e[In]:{}},Zt=function(e){return gn(e,In)}}var On={set:Jt,get:Xt,has:Zt,enforce:function(e){return Zt(e)?Xt(e):Jt(e,{})},getterFor:function(e){return function(t){var n;if(!pn(t)||(n=Xt(t)).type!==e)throw bn("Incompatible receiver, "+e+" required");return n}}},Tn=a,Rn=je,Nn=Function.prototype,Pn=Tn&&Object.getOwnPropertyDescriptor,kn=Rn(Nn,"name"),Dn={EXISTS:kn,PROPER:kn&&"something"===function(){}.name,CONFIGURABLE:kn&&(!Tn||Tn&&Pn(Nn,"name").configurable)},xn=r,Ln=F,jn=je,Mn=Gt,Bn=Ie,Fn=$t,Un=Dn.CONFIGURABLE,Vn=On.get,Wn=On.enforce,Hn=String(String).split("String");(Kt.exports=function(e,t,n,r){var o,i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,c=r&&void 0!==r.name?r.name:t;Ln(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!jn(n,"name")||Un&&n.name!==c)&&Mn(n,"name",c),(o=Wn(n)).source||(o.source=Hn.join("string"==typeof c?c:""))),e!==xn?(i?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:Mn(e,t,n)):a?e[t]=n:Bn(t,n)})(Function.prototype,"toString",(function(){return Ln(this)&&Vn(this).source||Fn(this)}));var Qn={},Gn=Math.ceil,Kn=Math.floor,qn=function(e){var t=+e;return t!=t||0===t?0:(t>0?Kn:Gn)(t)},zn=qn,Yn=Math.max,Jn=Math.min,Xn=function(e,t){var n=zn(e);return n<0?Yn(n+t,0):Jn(n,t)},Zn=qn,$n=Math.min,er=function(e){return e>0?$n(Zn(e),9007199254740991):0},tr=er,nr=function(e){return tr(e.length)},rr=B,or=Xn,ir=nr,ar=function(e){return function(t,n,r){var o,i=rr(t),a=ir(i),s=or(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},sr={includes:ar(!0),indexOf:ar(!1)},cr=je,ur=B,lr=sr.indexOf,dr=un,fr=w([].push),pr=function(e,t){var n,r=ur(e),o=0,i=[];for(n in r)!cr(dr,n)&&cr(r,n)&&fr(i,n);for(;t.length>o;)cr(r,n=t[o++])&&(~lr(i,n)||fr(i,n));return i},hr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gr=pr,vr=hr.concat("length","prototype");Qn.f=Object.getOwnPropertyNames||function(e){return gr(e,vr)};var mr={};mr.f=Object.getOwnPropertySymbols;var yr=G,Ar=Qn,br=mr,Er=Pt,_r=w([].concat),wr=yr("Reflect","ownKeys")||function(e){var t=Ar.f(Er(e)),n=br.f;return n?_r(t,n(e)):t},Sr=je,Cr=wr,Ir=o,Or=Ct,Tr=function(e,t,n){for(var r=Cr(t),o=Or.f,i=Ir.f,a=0;a<r.length;a++){var s=r[a];Sr(e,s)||n&&Sr(n,s)||o(e,s,i(t,s))}},Rr=i,Nr=F,Pr=/#|\.prototype\./,kr=function(e,t){var n=xr[Dr(e)];return n==jr||n!=Lr&&(Nr(t)?Rr(t):!!t)},Dr=kr.normalize=function(e){return String(e).replace(Pr,".").toLowerCase()},xr=kr.data={},Lr=kr.NATIVE="N",jr=kr.POLYFILL="P",Mr=kr,Br=r,Fr=o.f,Ur=Gt,Vr=Kt.exports,Wr=Ie,Hr=Tr,Qr=Mr,Gr=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,u=e.stat;if(n=c?Br:u?Br[s]||Wr(s,{}):(Br[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=Fr(n,r))&&a.value:n[r],!Qr(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Hr(i,o)}(e.sham||o&&o.sham)&&Ur(i,"sham",!0),Vr(n,r,i,e)}},Kr=r.Promise,qr=Kt.exports,zr=function(e,t,n){for(var r in t)qr(e,r,t[r],n);return e},Yr=r,Jr=F,Xr=Yr.String,Zr=Yr.TypeError,$r=w,eo=Pt,to=function(e){if("object"==typeof e||Jr(e))return e;throw Zr("Can't set "+Xr(e)+" as a prototype")},no=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=$r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return eo(n),to(r),t?e(n,r):n.__proto__=r,n}}():void 0),ro=Ct.f,oo=je,io=Ze("toStringTag"),ao=function(e,t,n){e&&!n&&(e=e.prototype),e&&!oo(e,io)&&ro(e,io,{configurable:!0,value:t})},so=G,co=Ct,uo=a,lo=Ze("species"),fo=function(e){var t=so(e),n=co.f;uo&&t&&!t[lo]&&n(t,lo,{configurable:!0,get:function(){return this}})},po=K,ho=r.TypeError,go=function(e,t){if(po(t,e))return e;throw ho("Incorrect invocation")},vo=ve,mo=s,yo=w(w.bind),Ao=function(e,t){return vo(e),void 0===t?e:mo?yo(e,t):function(){return e.apply(t,arguments)}},bo={},Eo=bo,_o=Ze("iterator"),wo=Array.prototype,So=function(e){return void 0!==e&&(Eo.Array===e||wo[_o]===e)},Co={};Co[Ze("toStringTag")]="z";var Io=r,Oo="[object z]"===String(Co),To=F,Ro=O,No=Ze("toStringTag"),Po=Io.Object,ko="Arguments"==Ro(function(){return arguments}()),Do=Oo?Ro:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Po(e),No))?n:ko?Ro(t):"Object"==(r=Ro(t))&&To(t.callee)?"Arguments":r},xo=Do,Lo=ye,jo=bo,Mo=Ze("iterator"),Bo=function(e){if(null!=e)return Lo(e,Mo)||Lo(e,"@@iterator")||jo[xo(e)]},Fo=l,Uo=ve,Vo=Pt,Wo=fe,Ho=Bo,Qo=r.TypeError,Go=function(e,t){var n=arguments.length<2?Ho(e):t;if(Uo(n))return Vo(Fo(n,e));throw Qo(Wo(e)+" is not iterable")},Ko=l,qo=Pt,zo=ye,Yo=Ao,Jo=l,Xo=Pt,Zo=fe,$o=So,ei=nr,ti=K,ni=Go,ri=Bo,oi=function(e,t,n){var r,o;qo(e);try{if(!(r=zo(e,"return"))){if("throw"===t)throw n;return n}r=Ko(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return qo(r),n},ii=r.TypeError,ai=function(e,t){this.stopped=e,this.result=t},si=ai.prototype,ci=Ze("iterator"),ui=!1;try{var li=0,di={next:function(){return{done:!!li++}},return:function(){ui=!0}};di[ci]=function(){return this},Array.from(di,(function(){throw 2}))}catch(e){}var fi=function(e,t){if(!t&&!ui)return!1;var n=!1;try{var r={};r[ci]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},pi=w,hi=i,gi=F,vi=Do,mi=$t,yi=function(){},Ai=[],bi=G("Reflect","construct"),Ei=/^\s*(?:class|function)\b/,_i=pi(Ei.exec),wi=!Ei.exec(yi),Si=function(e){if(!gi(e))return!1;try{return bi(yi,Ai,e),!0}catch(e){return!1}},Ci=function(e){if(!gi(e))return!1;switch(vi(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return wi||!!_i(Ei,mi(e))}catch(e){return!0}};Ci.sham=!0;var Ii,Oi,Ti,Ri,Ni=!bi||hi((function(){var e;return Si(Si.call)||!Si(Object)||!Si((function(){e=!0}))||e}))?Ci:Si,Pi=Ni,ki=fe,Di=r.TypeError,xi=function(e){if(Pi(e))return e;throw Di(ki(e)+" is not a constructor")},Li=Pt,ji=xi,Mi=Ze("species"),Bi=function(e,t){var n,r=Li(e).constructor;return void 0===r||null==(n=Li(r)[Mi])?t:ji(n)},Fi=s,Ui=Function.prototype,Vi=Ui.apply,Wi=Ui.call,Hi="object"==typeof Reflect&&Reflect.apply||(Fi?Wi.bind(Vi):function(){return Wi.apply(Vi,arguments)}),Qi=G("document","documentElement"),Gi=w([].slice),Ki=/(?:ipad|iphone|ipod).*applewebkit/i.test(q),qi="process"==O(r.process),zi=r,Yi=Hi,Ji=Ao,Xi=F,Zi=je,$i=i,ea=Qi,ta=Gi,na=pt,ra=Ki,oa=qi,ia=zi.setImmediate,aa=zi.clearImmediate,sa=zi.process,ca=zi.Dispatch,ua=zi.Function,la=zi.MessageChannel,da=zi.String,fa=0,pa={},ha="onreadystatechange";try{Ii=zi.location}catch(e){}var ga=function(e){if(Zi(pa,e)){var t=pa[e];delete pa[e],t()}},va=function(e){return function(){ga(e)}},ma=function(e){ga(e.data)},ya=function(e){zi.postMessage(da(e),Ii.protocol+"//"+Ii.host)};ia&&aa||(ia=function(e){var t=ta(arguments,1);return pa[++fa]=function(){Yi(Xi(e)?e:ua(e),void 0,t)},Oi(fa),fa},aa=function(e){delete pa[e]},oa?Oi=function(e){sa.nextTick(va(e))}:ca&&ca.now?Oi=function(e){ca.now(va(e))}:la&&!ra?(Ri=(Ti=new la).port2,Ti.port1.onmessage=ma,Oi=Ji(Ri.postMessage,Ri)):zi.addEventListener&&Xi(zi.postMessage)&&!zi.importScripts&&Ii&&"file:"!==Ii.protocol&&!$i(ya)?(Oi=ya,zi.addEventListener("message",ma,!1)):Oi=ha in na("script")?function(e){ea.appendChild(na("script")).onreadystatechange=function(){ea.removeChild(this),ga(e)}}:function(e){setTimeout(va(e),0)});var Aa,ba,Ea,_a,wa,Sa,Ca,Ia,Oa={set:ia,clear:aa},Ta=r,Ra=/ipad|iphone|ipod/i.test(q)&&void 0!==Ta.Pebble,Na=/web0s(?!.*chrome)/i.test(q),Pa=r,ka=Ao,Da=o.f,xa=Oa.set,La=Ki,ja=Ra,Ma=Na,Ba=qi,Fa=Pa.MutationObserver||Pa.WebKitMutationObserver,Ua=Pa.document,Va=Pa.process,Wa=Pa.Promise,Ha=Da(Pa,"queueMicrotask"),Qa=Ha&&Ha.value;Qa||(Aa=function(){var e,t;for(Ba&&(e=Va.domain)&&e.exit();ba;){t=ba.fn,ba=ba.next;try{t()}catch(e){throw ba?_a():Ea=void 0,e}}Ea=void 0,e&&e.enter()},La||Ba||Ma||!Fa||!Ua?!ja&&Wa&&Wa.resolve?((Ca=Wa.resolve(void 0)).constructor=Wa,Ia=ka(Ca.then,Ca),_a=function(){Ia(Aa)}):Ba?_a=function(){Va.nextTick(Aa)}:(xa=ka(xa,Pa),_a=function(){xa(Aa)}):(wa=!0,Sa=Ua.createTextNode(""),new Fa(Aa).observe(Sa,{characterData:!0}),_a=function(){Sa.data=wa=!wa}));var Ga=Qa||function(e){var t={fn:e,next:void 0};Ea&&(Ea.next=t),ba||(ba=t,_a()),Ea=t},Ka={},qa=ve,za=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=qa(t),this.reject=qa(n)};Ka.f=function(e){return new za(e)};var Ya=Pt,Ja=V,Xa=Ka,Za=function(e,t){if(Ya(e),Ja(t)&&t.constructor===e)return t;var n=Xa.f(e);return(0,n.resolve)(t),n.promise},$a=r,es=function(){this.head=null,this.tail=null};es.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var ts,ns,rs,os,is=es,as="object"==typeof window,ss=Gr,cs=r,us=G,ls=l,ds=Kr,fs=Kt.exports,ps=zr,hs=no,gs=ao,vs=fo,ms=ve,ys=F,As=V,bs=go,Es=$t,_s=function(e,t,n){var r,o,i,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=Yo(t,l),g=function(e){return r&&oi(r,"normal",e),new ai(!0,e)},v=function(e){return d?(Xo(e),p?h(e[0],e[1],g):h(e[0],e[1])):p?h(e,g):h(e)};if(f)r=e;else{if(!(o=ri(e)))throw ii(Zo(e)+" is not iterable");if($o(o)){for(i=0,a=ei(e);a>i;i++)if((s=v(e[i]))&&ti(si,s))return s;return new ai(!1)}r=ni(e,o)}for(c=r.next;!(u=Jo(c,r)).done;){try{s=v(u.value)}catch(e){oi(r,"throw",e)}if("object"==typeof s&&s&&ti(si,s))return s}return new ai(!1)},ws=fi,Ss=Bi,Cs=Oa.set,Is=Ga,Os=Za,Ts=function(e,t){var n=$a.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},Rs=Ka,Ns=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ps=is,ks=On,Ds=Mr,xs=as,Ls=qi,js=ee,Ms=Ze("species"),Bs="Promise",Fs=ks.getterFor(Bs),Us=ks.set,Vs=ks.getterFor(Bs),Ws=ds&&ds.prototype,Hs=ds,Qs=Ws,Gs=cs.TypeError,Ks=cs.document,qs=cs.process,zs=Rs.f,Ys=zs,Js=!!(Ks&&Ks.createEvent&&cs.dispatchEvent),Xs=ys(cs.PromiseRejectionEvent),Zs="unhandledrejection",$s=!1,ec=Ds(Bs,(function(){var e=Es(Hs),t=e!==String(Hs);if(!t&&66===js)return!0;if(js>=51&&/native code/.test(e))return!1;var n=new Hs((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[Ms]=r,!($s=n.then((function(){}))instanceof r)||!t&&xs&&!Xs})),tc=ec||!ws((function(e){Hs.all(e).catch((function(){}))})),nc=function(e){var t;return!(!As(e)||!ys(t=e.then))&&t},rc=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&cc(t),t.rejection=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(Gs("Promise-chain cycle")):(r=nc(n))?ls(r,n,c,u):c(n)):u(i)}catch(e){l&&!o&&l.exit(),u(e)}},oc=function(e,t){e.notified||(e.notified=!0,Is((function(){for(var n,r=e.reactions;n=r.get();)rc(n,e);e.notified=!1,t&&!e.rejection&&ac(e)})))},ic=function(e,t,n){var r,o;Js?((r=Ks.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),cs.dispatchEvent(r)):r={promise:t,reason:n},!Xs&&(o=cs["on"+e])?o(r):e===Zs&&Ts("Unhandled promise rejection",n)},ac=function(e){ls(Cs,cs,(function(){var t,n=e.facade,r=e.value;if(sc(e)&&(t=Ns((function(){Ls?qs.emit("unhandledRejection",r,n):ic(Zs,n,r)})),e.rejection=Ls||sc(e)?2:1,t.error))throw t.value}))},sc=function(e){return 1!==e.rejection&&!e.parent},cc=function(e){ls(Cs,cs,(function(){var t=e.facade;Ls?qs.emit("rejectionHandled",t):ic("rejectionhandled",t,e.value)}))},uc=function(e,t,n){return function(r){e(t,r,n)}},lc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,oc(e,!0))},dc=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Gs("Promise can't be resolved itself");var r=nc(t);r?Is((function(){var n={done:!1};try{ls(r,t,uc(dc,n,e),uc(lc,n,e))}catch(t){lc(n,t,e)}})):(e.value=t,e.state=1,oc(e,!1))}catch(t){lc({done:!1},t,e)}}};if(ec&&(Qs=(Hs=function(e){bs(this,Qs),ms(e),ls(ts,this);var t=Fs(this);try{e(uc(dc,t),uc(lc,t))}catch(e){lc(t,e)}}).prototype,(ts=function(e){Us(this,{type:Bs,done:!1,notified:!1,parent:!1,reactions:new Ps,rejection:!1,state:0,value:void 0})}).prototype=ps(Qs,{then:function(e,t){var n=Vs(this),r=zs(Ss(this,Hs));return n.parent=!0,r.ok=!ys(e)||e,r.fail=ys(t)&&t,r.domain=Ls?qs.domain:void 0,0==n.state?n.reactions.add(r):Is((function(){rc(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),ns=function(){var e=new ts,t=Fs(e);this.promise=e,this.resolve=uc(dc,t),this.reject=uc(lc,t)},Rs.f=zs=function(e){return e===Hs||e===rs?new ns(e):Ys(e)},ys(ds)&&Ws!==Object.prototype)){os=Ws.then,$s||(fs(Ws,"then",(function(e,t){var n=this;return new Hs((function(e,t){ls(os,n,e,t)})).then(e,t)}),{unsafe:!0}),fs(Ws,"catch",Qs.catch,{unsafe:!0}));try{delete Ws.constructor}catch(e){}hs&&hs(Ws,Qs)}ss({global:!0,wrap:!0,forced:ec},{Promise:Hs}),gs(Hs,Bs,!1),vs(Bs),rs=us(Bs),ss({target:Bs,stat:!0,forced:ec},{reject:function(e){var t=zs(this);return ls(t.reject,void 0,e),t.promise}}),ss({target:Bs,stat:!0,forced:ec},{resolve:function(e){return Os(this,e)}}),ss({target:Bs,stat:!0,forced:tc},{all:function(e){var t=this,n=zs(t),r=n.resolve,o=n.reject,i=Ns((function(){var n=ms(t.resolve),i=[],a=0,s=1;_s(e,(function(e){var c=a++,u=!1;s++,ls(n,t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=zs(t),r=n.reject,o=Ns((function(){var o=ms(t.resolve);_s(e,(function(e){ls(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var fc=Gr,pc=G,hc=Hi,gc=w,vc=i,mc=r.Array,yc=pc("JSON","stringify"),Ac=gc(/./.exec),bc=gc("".charAt),Ec=gc("".charCodeAt),_c=gc("".replace),wc=gc(1..toString),Sc=/[\uD800-\uDFFF]/g,Cc=/^[\uD800-\uDBFF]$/,Ic=/^[\uDC00-\uDFFF]$/,Oc=function(e,t,n){var r=bc(n,t-1),o=bc(n,t+1);return Ac(Cc,e)&&!Ac(Ic,o)||Ac(Ic,e)&&!Ac(Cc,r)?"\\u"+wc(Ec(e,0),16):e},Tc=vc((function(){return'"\\udf06\\ud834"'!==yc("\udf06\ud834")||'"\\udead"'!==yc("\udead")}));yc&&fc({target:"JSON",stat:!0,forced:Tc},{stringify:function(e,t,n){for(var r=0,o=arguments.length,i=mc(o);r<o;r++)i[r]=arguments[r];var a=hc(yc,null,i);return"string"==typeof a?_c(a,Sc,Oc):a}});var Rc=function(e){try{return!!e()}catch(e){return!0}},Nc=!Rc((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Pc=Nc,kc=Function.prototype,Dc=kc.bind,xc=kc.call,Lc=Pc&&Dc.bind(xc,xc),jc=Pc?function(e){return e&&Lc(e)}:function(e){return e&&function(){return xc.apply(e,arguments)}},Mc=jc({}.isPrototypeOf),Bc=function(e){return e&&e.Math==Math&&e},Fc=Bc("object"==typeof globalThis&&globalThis)||Bc("object"==typeof window&&window)||Bc("object"==typeof self&&self)||Bc("object"==typeof e&&e)||function(){return this}()||Function("return this")(),Uc=Nc,Vc=Function.prototype,Wc=Vc.apply,Hc=Vc.call,Qc="object"==typeof Reflect&&Reflect.apply||(Uc?Hc.bind(Wc):function(){return Hc.apply(Wc,arguments)}),Gc=function(e){return"function"==typeof e},Kc={},qc=!Rc((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),zc=Nc,Yc=Function.prototype.call,Jc=zc?Yc.bind(Yc):function(){return Yc.apply(Yc,arguments)},Xc={},Zc={}.propertyIsEnumerable,$c=Object.getOwnPropertyDescriptor,eu=$c&&!Zc.call({1:2},1);Xc.f=eu?function(e){var t=$c(this,e);return!!t&&t.enumerable}:Zc;var tu,nu,ru=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ou=jc,iu=ou({}.toString),au=ou("".slice),su=function(e){return au(iu(e),8,-1)},cu=jc,uu=Rc,lu=su,du=Fc.Object,fu=cu("".split),pu=uu((function(){return!du("z").propertyIsEnumerable(0)}))?function(e){return"String"==lu(e)?fu(e,""):du(e)}:du,hu=Fc.TypeError,gu=function(e){if(null==e)throw hu("Can't call method on "+e);return e},vu=pu,mu=gu,yu=function(e){return vu(mu(e))},Au=Gc,bu=function(e){return"object"==typeof e?null!==e:Au(e)},Eu={},_u=Eu,wu=Fc,Su=Gc,Cu=function(e){return Su(e)?e:void 0},Iu=function(e,t){return arguments.length<2?Cu(_u[e])||Cu(wu[e]):_u[e]&&_u[e][t]||wu[e]&&wu[e][t]},Ou=Iu("navigator","userAgent")||"",Tu=Fc,Ru=Ou,Nu=Tu.process,Pu=Tu.Deno,ku=Nu&&Nu.versions||Pu&&Pu.version,Du=ku&&ku.v8;Du&&(nu=(tu=Du.split("."))[0]>0&&tu[0]<4?1:+(tu[0]+tu[1])),!nu&&Ru&&(!(tu=Ru.match(/Edge\/(\d+)/))||tu[1]>=74)&&(tu=Ru.match(/Chrome\/(\d+)/))&&(nu=+tu[1]);var xu=nu,Lu=xu,ju=Rc,Mu=!!Object.getOwnPropertySymbols&&!ju((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Lu&&Lu<41})),Bu=Mu&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Fu=Iu,Uu=Gc,Vu=Mc,Wu=Bu,Hu=Fc.Object,Qu=Wu?function(e){return"symbol"==typeof e}:function(e){var t=Fu("Symbol");return Uu(t)&&Vu(t.prototype,Hu(e))},Gu=Fc.String,Ku=function(e){try{return Gu(e)}catch(e){return"Object"}},qu=Gc,zu=Ku,Yu=Fc.TypeError,Ju=function(e){if(qu(e))return e;throw Yu(zu(e)+" is not a function")},Xu=Ju,Zu=function(e,t){var n=e[t];return null==n?void 0:Xu(n)},$u=Jc,el=Gc,tl=bu,nl=Fc.TypeError,rl={exports:{}},ol=Fc,il=Object.defineProperty,al=function(e,t){try{il(ol,e,{value:t,configurable:!0,writable:!0})}catch(r){ol[e]=t}return t},sl="__core-js_shared__",cl=Fc[sl]||al(sl,{}),ul=cl;(rl.exports=function(e,t){return ul[e]||(ul[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var ll=gu,dl=Fc.Object,fl=function(e){return dl(ll(e))},pl=fl,hl=jc({}.hasOwnProperty),gl=Object.hasOwn||function(e,t){return hl(pl(e),t)},vl=jc,ml=0,yl=Math.random(),Al=vl(1..toString),bl=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Al(++ml+yl,36)},El=Fc,_l=rl.exports,wl=gl,Sl=bl,Cl=Mu,Il=Bu,Ol=_l("wks"),Tl=El.Symbol,Rl=Tl&&Tl.for,Nl=Il?Tl:Tl&&Tl.withoutSetter||Sl,Pl=function(e){if(!wl(Ol,e)||!Cl&&"string"!=typeof Ol[e]){var t="Symbol."+e;Cl&&wl(Tl,e)?Ol[e]=Tl[e]:Ol[e]=Il&&Rl?Rl(t):Nl(t)}return Ol[e]},kl=Jc,Dl=bu,xl=Qu,Ll=Zu,jl=function(e,t){var n,r;if("string"===t&&el(n=e.toString)&&!tl(r=$u(n,e)))return r;if(el(n=e.valueOf)&&!tl(r=$u(n,e)))return r;if("string"!==t&&el(n=e.toString)&&!tl(r=$u(n,e)))return r;throw nl("Can't convert object to primitive value")},Ml=Pl,Bl=Fc.TypeError,Fl=Ml("toPrimitive"),Ul=function(e,t){if(!Dl(e)||xl(e))return e;var n,r=Ll(e,Fl);if(r){if(void 0===t&&(t="default"),n=kl(r,e,t),!Dl(n)||xl(n))return n;throw Bl("Can't convert object to primitive value")}return void 0===t&&(t="number"),jl(e,t)},Vl=Qu,Wl=function(e){var t=Ul(e,"string");return Vl(t)?t:t+""},Hl=bu,Ql=Fc.document,Gl=Hl(Ql)&&Hl(Ql.createElement),Kl=function(e){return Gl?Ql.createElement(e):{}},ql=Kl,zl=!qc&&!Rc((function(){return 7!=Object.defineProperty(ql("div"),"a",{get:function(){return 7}}).a})),Yl=qc,Jl=Jc,Xl=Xc,Zl=ru,$l=yu,ed=Wl,td=gl,nd=zl,rd=Object.getOwnPropertyDescriptor;Kc.f=Yl?rd:function(e,t){if(e=$l(e),t=ed(t),nd)try{return rd(e,t)}catch(e){}if(td(e,t))return Zl(!Jl(Xl.f,e,t),e[t])};var od=Rc,id=Gc,ad=/#|\.prototype\./,sd=function(e,t){var n=ud[cd(e)];return n==dd||n!=ld&&(id(t)?od(t):!!t)},cd=sd.normalize=function(e){return String(e).replace(ad,".").toLowerCase()},ud=sd.data={},ld=sd.NATIVE="N",dd=sd.POLYFILL="P",fd=sd,pd=Ju,hd=Nc,gd=jc(jc.bind),vd=function(e,t){return pd(e),void 0===t?e:hd?gd(e,t):function(){return e.apply(t,arguments)}},md={},yd=qc&&Rc((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ad=Fc,bd=bu,Ed=Ad.String,_d=Ad.TypeError,wd=function(e){if(bd(e))return e;throw _d(Ed(e)+" is not an object")},Sd=qc,Cd=zl,Id=yd,Od=wd,Td=Wl,Rd=Fc.TypeError,Nd=Object.defineProperty,Pd=Object.getOwnPropertyDescriptor,kd="enumerable",Dd="configurable",xd="writable";md.f=Sd?Id?function(e,t,n){if(Od(e),t=Td(t),Od(n),"function"==typeof e&&"prototype"===t&&"value"in n&&xd in n&&!n.writable){var r=Pd(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Dd in n?n.configurable:r.configurable,enumerable:kd in n?n.enumerable:r.enumerable,writable:!1})}return Nd(e,t,n)}:Nd:function(e,t,n){if(Od(e),t=Td(t),Od(n),Cd)try{return Nd(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Rd("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Ld=md,jd=ru,Md=qc?function(e,t,n){return Ld.f(e,t,jd(1,n))}:function(e,t,n){return e[t]=n,e},Bd=Fc,Fd=Qc,Ud=jc,Vd=Gc,Wd=Kc.f,Hd=fd,Qd=Eu,Gd=vd,Kd=Md,qd=gl,zd=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return Fd(e,this,arguments)};return t.prototype=e.prototype,t},Yd=function(e,t){var n,r,o,i,a,s,c,u,l=e.target,d=e.global,f=e.stat,p=e.proto,h=d?Bd:f?Bd[l]:(Bd[l]||{}).prototype,g=d?Qd:Qd[l]||Kd(Qd,l,{})[l],v=g.prototype;for(o in t)n=!Hd(d?o:l+(f?".":"#")+o,e.forced)&&h&&qd(h,o),a=g[o],n&&(s=e.noTargetGet?(u=Wd(h,o))&&u.value:h[o]),i=n&&s?s:t[o],n&&typeof a==typeof i||(c=e.bind&&n?Gd(i,Bd):e.wrap&&n?zd(i):p&&Vd(i)?Ud(i):i,(e.sham||i&&i.sham||a&&a.sham)&&Kd(c,"sham",!0),Kd(g,o,c),p&&(qd(Qd,r=l+"Prototype")||Kd(Qd,r,{}),Kd(Qd[r],o,i),e.real&&v&&!v[o]&&Kd(v,o,i)))},Jd=Math.ceil,Xd=Math.floor,Zd=function(e){var t=+e;return t!=t||0===t?0:(t>0?Xd:Jd)(t)},$d=Zd,ef=Math.min,tf=function(e){return e>0?ef($d(e),9007199254740991):0},nf=function(e){return tf(e.length)},rf=Ju,of=fl,af=pu,sf=nf,cf=Fc.TypeError,uf=function(e){return function(t,n,r,o){rf(n);var i=of(t),a=af(i),s=sf(i),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw cf("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(o=n(o,a[c],c,i));return o}},lf={left:uf(!1),right:uf(!0)},df=Rc,ff=function(e,t){var n=[][e];return!!n&&df((function(){n.call(null,t||function(){throw 1},1)}))},pf="process"==su(Fc.process),hf=lf.left,gf=xu,vf=pf;Yd({target:"Array",proto:!0,forced:!ff("reduce")||!vf&&gf>79&&gf<83},{reduce:function(e){var t=arguments.length;return hf(this,e,t,t>1?arguments[1]:void 0)}});var mf=Eu,yf=function(e){return mf[e+"Prototype"]},Af=yf("Array").reduce,bf=Mc,Ef=Af,_f=Array.prototype,wf=function(e){var t=e.reduce;return e===_f||bf(_f,e)&&t===_f.reduce?Ef:t},Sf=wf,Cf=Do,If=r.String,Of=function(e){if("Symbol"===Cf(e))throw TypeError("Cannot convert a Symbol value to a string");return If(e)},Tf=Pt,Rf=function(){var e=Tf(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Nf=i,Pf=r.RegExp,kf=Nf((function(){var e=Pf("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Df=kf||Nf((function(){return!Pf("a","y").sticky})),xf={BROKEN_CARET:kf||Nf((function(){var e=Pf("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Df,UNSUPPORTED_Y:kf},Lf={},jf=pr,Mf=hr,Bf=Object.keys||function(e){return jf(e,Mf)},Ff=a,Uf=It,Vf=Ct,Wf=Pt,Hf=B,Qf=Bf;Lf.f=Ff&&!Uf?Object.defineProperties:function(e,t){Wf(e);for(var n,r=Hf(t),o=Qf(t),i=o.length,a=0;i>a;)Vf.f(e,n=o[a++],r[n]);return e};var Gf,Kf=Pt,qf=Lf,zf=hr,Yf=un,Jf=Qi,Xf=pt,Zf=cn("IE_PROTO"),$f=function(){},ep=function(e){return"<script>"+e+"<\/script>"},tp=function(e){e.write(ep("")),e.close();var t=e.parentWindow.Object;return e=null,t},np=function(){try{Gf=new ActiveXObject("htmlfile")}catch(e){}var e,t;np="undefined"!=typeof document?document.domain&&Gf?tp(Gf):((t=Xf("iframe")).style.display="none",Jf.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ep("document.F=Object")),e.close(),e.F):tp(Gf);for(var n=zf.length;n--;)delete np.prototype[zf[n]];return np()};Yf[Zf]=!0;var rp=Object.create||function(e,t){var n;return null!==e?($f.prototype=Kf(e),n=new $f,$f.prototype=null,n[Zf]=e):n=np(),void 0===t?n:qf.f(n,t)},op=i,ip=r.RegExp,ap=op((function(){var e=ip(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),sp=i,cp=r.RegExp,up=sp((function(){var e=cp("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),lp=l,dp=w,fp=Of,pp=Rf,hp=xf,gp=we.exports,vp=rp,mp=On.get,yp=ap,Ap=up,bp=gp("native-string-replace",String.prototype.replace),Ep=RegExp.prototype.exec,_p=Ep,wp=dp("".charAt),Sp=dp("".indexOf),Cp=dp("".replace),Ip=dp("".slice),Op=function(){var e=/a/,t=/b*/g;return lp(Ep,e,"a"),lp(Ep,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Tp=hp.BROKEN_CARET,Rp=void 0!==/()??/.exec("")[1];(Op||Rp||Tp||yp||Ap)&&(_p=function(e){var t,n,r,o,i,a,s,c=this,u=mp(c),l=fp(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=lp(_p,d,l),c.lastIndex=d.lastIndex,t;var f=u.groups,p=Tp&&c.sticky,h=lp(pp,c),g=c.source,v=0,m=l;if(p&&(h=Cp(h,"y",""),-1===Sp(h,"g")&&(h+="g"),m=Ip(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==wp(l,c.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,v++),n=new RegExp("^(?:"+g+")",h)),Rp&&(n=new RegExp("^"+g+"$(?!\\s)",h)),Op&&(r=c.lastIndex),o=lp(Ep,p?n:c,m),p?o?(o.input=Ip(o.input,v),o[0]=Ip(o[0],v),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Op&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Rp&&o&&o.length>1&&lp(bp,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&f)for(o.groups=a=vp(null),i=0;i<f.length;i++)a[(s=f[i])[0]]=o[s[1]];return o});var Np=_p;Gr({target:"RegExp",proto:!0,forced:/./.exec!==Np},{exec:Np});var Pp=rp,kp=Ct,Dp=Ze("unscopables"),xp=Array.prototype;null==xp[Dp]&&kp.f(xp,Dp,{configurable:!0,value:Pp(null)});var Lp,jp,Mp,Bp=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Fp=r,Up=je,Vp=F,Wp=De,Hp=Bp,Qp=cn("IE_PROTO"),Gp=Fp.Object,Kp=Gp.prototype,qp=Hp?Gp.getPrototypeOf:function(e){var t=Wp(e);if(Up(t,Qp))return t[Qp];var n=t.constructor;return Vp(n)&&t instanceof n?n.prototype:t instanceof Gp?Kp:null},zp=i,Yp=F,Jp=qp,Xp=Kt.exports,Zp=Ze("iterator"),$p=!1;[].keys&&("next"in(Mp=[].keys())?(jp=Jp(Jp(Mp)))!==Object.prototype&&(Lp=jp):$p=!0),(null==Lp||zp((function(){var e={};return Lp[Zp].call(e)!==e})))&&(Lp={}),Yp(Lp[Zp])||Xp(Lp,Zp,(function(){return this}));var eh={IteratorPrototype:Lp,BUGGY_SAFARI_ITERATORS:$p},th=eh.IteratorPrototype,nh=rp,rh=m,oh=ao,ih=bo,ah=function(){return this},sh=Gr,ch=l,uh=Dn,lh=F,dh=function(e,t,n,r){var o=t+" Iterator";return e.prototype=nh(th,{next:rh(+!r,n)}),oh(e,o,!1),ih[o]=ah,e},fh=qp,ph=no,hh=ao,gh=Gt,vh=Kt.exports,mh=bo,yh=uh.PROPER,Ah=uh.CONFIGURABLE,bh=eh.IteratorPrototype,Eh=eh.BUGGY_SAFARI_ITERATORS,_h=Ze("iterator"),wh="keys",Sh="values",Ch="entries",Ih=function(){return this},Oh=B,Th=function(e){xp[Dp][e]=!0},Rh=bo,Nh=On,Ph=Ct.f,kh=function(e,t,n,r,o,i,a){dh(n,t,r);var s,c,u,l=function(e){if(e===o&&g)return g;if(!Eh&&e in p)return p[e];switch(e){case wh:case Sh:case Ch:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[_h]||p["@@iterator"]||o&&p[o],g=!Eh&&h||l(o),v="Array"==t&&p.entries||h;if(v&&(s=fh(v.call(new e)))!==Object.prototype&&s.next&&(fh(s)!==bh&&(ph?ph(s,bh):lh(s[_h])||vh(s,_h,Ih)),hh(s,d,!0)),yh&&o==Sh&&h&&h.name!==Sh&&(Ah?gh(p,"name",Sh):(f=!0,g=function(){return ch(h,this)})),o)if(c={values:l(Sh),keys:i?g:l(wh),entries:l(Ch)},a)for(u in c)(Eh||f||!(u in p))&&vh(p,u,c[u]);else sh({target:t,proto:!0,forced:Eh||f},c);return p[_h]!==g&&vh(p,_h,g,{name:o}),mh[t]=g,c},Dh=a,xh="Array Iterator",Lh=Nh.set,jh=Nh.getterFor(xh),Mh=kh(Array,"Array",(function(e,t){Lh(this,{type:xh,target:Oh(e),index:0,kind:t})}),(function(){var e=jh(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Bh=Rh.Arguments=Rh.Array;if(Th("keys"),Th("values"),Th("entries"),Dh&&"values"!==Bh.name)try{Ph(Bh,"name",{value:"values"})}catch(e){}var Fh=pt("span").classList,Uh=Fh&&Fh.constructor&&Fh.constructor.prototype,Vh=Uh===Object.prototype?void 0:Uh,Wh=r,Hh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Qh=Vh,Gh=Mh,Kh=Gt,qh=Ze,zh=qh("iterator"),Yh=qh("toStringTag"),Jh=Gh.values,Xh=function(e,t){if(e){if(e[zh]!==Jh)try{Kh(e,zh,Jh)}catch(t){e[zh]=Jh}if(e[Yh]||Kh(e,Yh,t),Hh[t])for(var n in Gh)if(e[n]!==Gh[n])try{Kh(e,n,Gh[n])}catch(t){e[n]=Gh[n]}}};for(var Zh in Hh)Xh(Wh[Zh]&&Wh[Zh].prototype,Zh);Xh(Qh,"DOMTokenList");var $h=F,eg=V,tg=no,ng=function(e,t,n){var r,o;return tg&&$h(r=t.constructor)&&r!==n&&eg(o=r.prototype)&&o!==n.prototype&&tg(e,o),e},rg=Of,og=function(e,t){return void 0===e?arguments.length<2?"":t:rg(e)},ig=V,ag=Gt,sg=w("".replace),cg=String(Error("zxcasd").stack),ug=/\n\s*at [^:]*:[^\n]*/,lg=ug.test(cg),dg=function(e,t){if(lg&&"string"==typeof e)for(;t--;)e=sg(e,ug,"");return e},fg=m,pg=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",fg(1,7)),7!==e.stack)})),hg=G,gg=je,vg=Gt,mg=K,yg=no,Ag=Tr,bg=ng,Eg=og,_g=function(e,t){ig(t)&&"cause"in t&&ag(e,"cause",t.cause)},wg=dg,Sg=pg,Cg=Gr,Ig=Hi,Og=function(e,t,n,r){var o=r?2:1,i=e.split("."),a=i[i.length-1],s=hg.apply(null,i);if(s){var c=s.prototype;if(gg(c,"cause")&&delete c.cause,!n)return s;var u=hg("Error"),l=t((function(e,t){var n=Eg(r?t:e,void 0),i=r?new s(e):new s;return void 0!==n&&vg(i,"message",n),Sg&&vg(i,"stack",wg(i.stack,2)),this&&mg(c,this)&&bg(i,this,l),arguments.length>o&&_g(i,arguments[o]),i}));l.prototype=c,"Error"!==a&&(yg?yg(l,u):Ag(l,u,{name:!0})),Ag(l,s);try{c.name!==a&&vg(c,"name",a),c.constructor=l}catch(e){}return l}},Tg="WebAssembly",Rg=r.WebAssembly,Ng=7!==Error("e",{cause:7}).cause,Pg=function(e,t){var n={};n[e]=Og(e,t,Ng),Cg({global:!0,forced:Ng},n)},kg=function(e,t){if(Rg&&Rg[e]){var n={};n[e]=Og("WebAssembly."+e,t,Ng),Cg({target:Tg,stat:!0,forced:Ng},n)}};Pg("Error",(function(e){return function(t){return Ig(e,this,arguments)}})),Pg("EvalError",(function(e){return function(t){return Ig(e,this,arguments)}})),Pg("RangeError",(function(e){return function(t){return Ig(e,this,arguments)}})),Pg("ReferenceError",(function(e){return function(t){return Ig(e,this,arguments)}})),Pg("SyntaxError",(function(e){return function(t){return Ig(e,this,arguments)}})),Pg("TypeError",(function(e){return function(t){return Ig(e,this,arguments)}})),Pg("URIError",(function(e){return function(t){return Ig(e,this,arguments)}})),kg("CompileError",(function(e){return function(t){return Ig(e,this,arguments)}})),kg("LinkError",(function(e){return function(t){return Ig(e,this,arguments)}})),kg("RuntimeError",(function(e){return function(t){return Ig(e,this,arguments)}}));let Dg=!0,xg=!0;function Lg(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function jg(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,i),o.apply(this,[e,i])};const i=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(n))return i.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Mg(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Dg=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Bg(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(xg=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Fg(){if("object"==typeof window){if(Dg)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function Ug(e,t){xg&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Vg(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Lg(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=Lg(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=Lg(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Lg(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function Wg(e){return"[object Object]"===Object.prototype.toString.call(e)}function Hg(e){var t;return Wg(e)?Sf(t=Object.keys(e)).call(t,(function(t,n){const r=Wg(e[n]),o=r?Hg(e[n]):e[n],i=r&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[n]:o})}),{}):e}function Qg(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((o=>{o.endsWith("Id")?e(t,t.get(n[o]),r):o.endsWith("Ids")&&n[o].forEach((n=>{e(t,t.get(n),r)}))})))}(e,n,o)}))})),o}var Gg=rl.exports,Kg=bl,qg=Gg("keys"),zg=function(e){return qg[e]||(qg[e]=Kg(e))},Yg=!Rc((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Jg=Fc,Xg=gl,Zg=Gc,$g=fl,ev=Yg,tv=zg("IE_PROTO"),nv=Jg.Object,rv=nv.prototype,ov=ev?nv.getPrototypeOf:function(e){var t=$g(e);if(Xg(t,tv))return t[tv];var n=t.constructor;return Zg(n)&&t instanceof n?n.prototype:t instanceof nv?rv:null},iv=Fc,av=Gc,sv=iv.String,cv=iv.TypeError,uv=jc,lv=wd,dv=function(e){if("object"==typeof e||av(e))return e;throw cv("Can't set "+sv(e)+" as a prototype")},fv=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=uv(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return lv(n),dv(r),t?e(n,r):n.__proto__=r,n}}():void 0),pv={},hv=Zd,gv=Math.max,vv=Math.min,mv=function(e,t){var n=hv(e);return n<0?gv(n+t,0):vv(n,t)},yv=yu,Av=mv,bv=nf,Ev=function(e){return function(t,n,r){var o,i=yv(t),a=bv(i),s=Av(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},_v={includes:Ev(!0),indexOf:Ev(!1)},wv={},Sv=gl,Cv=yu,Iv=_v.indexOf,Ov=wv,Tv=jc([].push),Rv=function(e,t){var n,r=Cv(e),o=0,i=[];for(n in r)!Sv(Ov,n)&&Sv(r,n)&&Tv(i,n);for(;t.length>o;)Sv(r,n=t[o++])&&(~Iv(i,n)||Tv(i,n));return i},Nv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pv=Rv,kv=Nv.concat("length","prototype");pv.f=Object.getOwnPropertyNames||function(e){return Pv(e,kv)};var Dv={};Dv.f=Object.getOwnPropertySymbols;var xv=Iu,Lv=pv,jv=Dv,Mv=wd,Bv=jc([].concat),Fv=xv("Reflect","ownKeys")||function(e){var t=Lv.f(Mv(e)),n=jv.f;return n?Bv(t,n(e)):t},Uv=gl,Vv=Fv,Wv=Kc,Hv=md,Qv={},Gv=Rv,Kv=Nv,qv=Object.keys||function(e){return Gv(e,Kv)},zv=qc,Yv=yd,Jv=md,Xv=wd,Zv=yu,$v=qv;Qv.f=zv&&!Yv?Object.defineProperties:function(e,t){Xv(e);for(var n,r=Zv(t),o=$v(t),i=o.length,a=0;i>a;)Jv.f(e,n=o[a++],r[n]);return e};var em,tm=Iu("document","documentElement"),nm=wd,rm=Qv,om=Nv,im=wv,am=tm,sm=Kl,cm=zg("IE_PROTO"),um=function(){},lm=function(e){return"<script>"+e+"<\/script>"},dm=function(e){e.write(lm("")),e.close();var t=e.parentWindow.Object;return e=null,t},fm=function(){try{em=new ActiveXObject("htmlfile")}catch(e){}var e,t;fm="undefined"!=typeof document?document.domain&&em?dm(em):((t=sm("iframe")).style.display="none",am.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(lm("document.F=Object")),e.close(),e.F):dm(em);for(var n=om.length;n--;)delete fm.prototype[om[n]];return fm()};im[cm]=!0;var pm=Object.create||function(e,t){var n;return null!==e?(um.prototype=nm(e),n=new um,um.prototype=null,n[cm]=e):n=fm(),void 0===t?n:rm.f(n,t)},hm=jc("".replace),gm=String(Error("zxcasd").stack),vm=/\n\s*at [^:]*:[^\n]*/,mm=vm.test(gm),ym=bu,Am=Md,bm={},Em=bm,_m=Pl("iterator"),wm=Array.prototype,Sm=function(e){return void 0!==e&&(Em.Array===e||wm[_m]===e)},Cm={};Cm[Pl("toStringTag")]="z";var Im="[object z]"===String(Cm),Om=Fc,Tm=Im,Rm=Gc,Nm=su,Pm=Pl("toStringTag"),km=Om.Object,Dm="Arguments"==Nm(function(){return arguments}()),xm=Tm?Nm:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=km(e),Pm))?n:Dm?Nm(t):"Object"==(r=Nm(t))&&Rm(t.callee)?"Arguments":r},Lm=xm,jm=Zu,Mm=bm,Bm=Pl("iterator"),Fm=function(e){if(null!=e)return jm(e,Bm)||jm(e,"@@iterator")||Mm[Lm(e)]},Um=Jc,Vm=Ju,Wm=wd,Hm=Ku,Qm=Fm,Gm=Fc.TypeError,Km=function(e,t){var n=arguments.length<2?Qm(e):t;if(Vm(n))return Wm(Um(n,e));throw Gm(Hm(e)+" is not iterable")},qm=Jc,zm=wd,Ym=Zu,Jm=function(e,t,n){var r,o;zm(e);try{if(!(r=Ym(e,"return"))){if("throw"===t)throw n;return n}r=qm(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return zm(r),n},Xm=vd,Zm=Jc,$m=wd,ey=Ku,ty=Sm,ny=nf,ry=Mc,oy=Km,iy=Fm,ay=Jm,sy=Fc.TypeError,cy=function(e,t){this.stopped=e,this.result=t},uy=cy.prototype,ly=function(e,t,n){var r,o,i,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=Xm(t,l),g=function(e){return r&&ay(r,"normal",e),new cy(!0,e)},v=function(e){return d?($m(e),p?h(e[0],e[1],g):h(e[0],e[1])):p?h(e,g):h(e)};if(f)r=e;else{if(!(o=iy(e)))throw sy(ey(e)+" is not iterable");if(ty(o)){for(i=0,a=ny(e);a>i;i++)if((s=v(e[i]))&&ry(uy,s))return s;return new cy(!1)}r=oy(e,o)}for(c=r.next;!(u=Zm(c,r)).done;){try{s=v(u.value)}catch(e){ay(r,"throw",e)}if("object"==typeof s&&s&&ry(uy,s))return s}return new cy(!1)},dy=xm,fy=Fc.String,py=function(e){if("Symbol"===dy(e))throw TypeError("Cannot convert a Symbol value to a string");return fy(e)},hy=py,gy=ru,vy=!Rc((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",gy(1,7)),7!==e.stack)})),my=Yd,yy=Fc,Ay=Mc,by=ov,Ey=fv,_y=function(e,t,n){for(var r=Vv(t),o=Hv.f,i=Wv.f,a=0;a<r.length;a++){var s=r[a];Uv(e,s)||n&&Uv(n,s)||o(e,s,i(t,s))}},wy=pm,Sy=Md,Cy=ru,Iy=function(e,t){if(mm&&"string"==typeof e)for(;t--;)e=hm(e,vm,"");return e},Oy=function(e,t){ym(t)&&"cause"in t&&Am(e,"cause",t.cause)},Ty=ly,Ry=function(e,t){return void 0===e?arguments.length<2?"":t:hy(e)},Ny=vy,Py=Pl("toStringTag"),ky=yy.Error,Dy=[].push,xy=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,o=Ay(Ly,this);Ey?n=Ey(new ky,o?by(this):Ly):(n=o?this:wy(Ly),Sy(n,Py,"Error")),void 0!==t&&Sy(n,"message",Ry(t)),Ny&&Sy(n,"stack",Iy(n.stack,1)),Oy(n,r);var i=[];return Ty(e,Dy,{that:i}),Sy(n,"errors",i),n};Ey?Ey(xy,ky):_y(xy,ky,{name:!0});var Ly=xy.prototype=wy(ky.prototype,{constructor:Cy(1,xy),message:Cy(1,""),name:Cy(1,"AggregateError")});my({global:!0},{AggregateError:xy});var jy=Gc,My=cl,By=jc(Function.toString);jy(My.inspectSource)||(My.inspectSource=function(e){return By(e)});var Fy,Uy,Vy,Wy=My.inspectSource,Hy=Gc,Qy=Wy,Gy=Fc.WeakMap,Ky=Hy(Gy)&&/native code/.test(Qy(Gy)),qy=Fc,zy=jc,Yy=bu,Jy=Md,Xy=gl,Zy=cl,$y=zg,eA=wv,tA="Object already initialized",nA=qy.TypeError,rA=qy.WeakMap;if(Ky||Zy.state){var oA=Zy.state||(Zy.state=new rA),iA=zy(oA.get),aA=zy(oA.has),sA=zy(oA.set);Fy=function(e,t){if(aA(oA,e))throw new nA(tA);return t.facade=e,sA(oA,e,t),t},Uy=function(e){return iA(oA,e)||{}},Vy=function(e){return aA(oA,e)}}else{var cA=$y("state");eA[cA]=!0,Fy=function(e,t){if(Xy(e,cA))throw new nA(tA);return t.facade=e,Jy(e,cA,t),t},Uy=function(e){return Xy(e,cA)?e[cA]:{}},Vy=function(e){return Xy(e,cA)}}var uA,lA,dA,fA={set:Fy,get:Uy,has:Vy,enforce:function(e){return Vy(e)?Uy(e):Fy(e,{})},getterFor:function(e){return function(t){var n;if(!Yy(t)||(n=Uy(t)).type!==e)throw nA("Incompatible receiver, "+e+" required");return n}}},pA=qc,hA=gl,gA=Function.prototype,vA=pA&&Object.getOwnPropertyDescriptor,mA=hA(gA,"name"),yA={EXISTS:mA,PROPER:mA&&"something"===function(){}.name,CONFIGURABLE:mA&&(!pA||pA&&vA(gA,"name").configurable)},AA=Md,bA=function(e,t,n,r){r&&r.enumerable?e[t]=n:AA(e,t,n)},EA=Rc,_A=Gc,wA=pm,SA=ov,CA=bA,IA=Pl("iterator"),OA=!1;[].keys&&("next"in(dA=[].keys())?(lA=SA(SA(dA)))!==Object.prototype&&(uA=lA):OA=!0);var TA=null==uA||EA((function(){var e={};return uA[IA].call(e)!==e}));_A((uA=TA?{}:wA(uA))[IA])||CA(uA,IA,(function(){return this}));var RA={IteratorPrototype:uA,BUGGY_SAFARI_ITERATORS:OA},NA=xm,PA=Im?{}.toString:function(){return"[object "+NA(this)+"]"},kA=Im,DA=md.f,xA=Md,LA=gl,jA=PA,MA=Pl("toStringTag"),BA=function(e,t,n,r){if(e){var o=n?e:e.prototype;LA(o,MA)||DA(o,MA,{configurable:!0,value:t}),r&&!kA&&xA(o,"toString",jA)}},FA=RA.IteratorPrototype,UA=pm,VA=ru,WA=BA,HA=bm,QA=function(){return this},GA=function(e,t,n,r){var o=t+" Iterator";return e.prototype=UA(FA,{next:VA(+!r,n)}),WA(e,o,!1,!0),HA[o]=QA,e},KA=Yd,qA=Jc,zA=GA,YA=ov,JA=BA,XA=bA,ZA=bm,$A=yA.PROPER,eb=RA.BUGGY_SAFARI_ITERATORS,tb=Pl("iterator"),nb="keys",rb="values",ob="entries",ib=function(){return this},ab=function(e,t,n,r,o,i,a){zA(n,t,r);var s,c,u,l=function(e){if(e===o&&g)return g;if(!eb&&e in p)return p[e];switch(e){case nb:case rb:case ob:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[tb]||p["@@iterator"]||o&&p[o],g=!eb&&h||l(o),v="Array"==t&&p.entries||h;if(v&&(s=YA(v.call(new e)))!==Object.prototype&&s.next&&(JA(s,d,!0,!0),ZA[d]=ib),$A&&o==rb&&h&&h.name!==rb&&(f=!0,g=function(){return qA(h,this)}),o)if(c={values:l(rb),keys:i?g:l(nb),entries:l(ob)},a)for(u in c)(eb||f||!(u in p))&&XA(p,u,c[u]);else KA({target:t,proto:!0,forced:eb||f},c);return a&&p[tb]!==g&&XA(p,tb,g,{name:o}),ZA[t]=g,c},sb=yu,cb=bm,ub=fA;md.f;var lb=ab,db="Array Iterator",fb=ub.set,pb=ub.getterFor(db);lb(Array,"Array",(function(e,t){fb(this,{type:db,target:sb(e),index:0,kind:t})}),(function(){var e=pb(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),cb.Arguments=cb.Array;var hb=Fc.Promise,gb=bA,vb=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:gb(e,r,t[r],n);return e},mb=Iu,yb=md,Ab=qc,bb=Pl("species"),Eb=Mc,_b=Fc.TypeError,wb=function(e,t){if(Eb(t,e))return e;throw _b("Incorrect invocation")},Sb=Pl("iterator"),Cb=!1;try{var Ib=0,Ob={next:function(){return{done:!!Ib++}},return:function(){Cb=!0}};Ob[Sb]=function(){return this},Array.from(Ob,(function(){throw 2}))}catch(e){}var Tb=jc,Rb=Rc,Nb=Gc,Pb=xm,kb=Wy,Db=function(){},xb=[],Lb=Iu("Reflect","construct"),jb=/^\s*(?:class|function)\b/,Mb=Tb(jb.exec),Bb=!jb.exec(Db),Fb=function(e){if(!Nb(e))return!1;try{return Lb(Db,xb,e),!0}catch(e){return!1}},Ub=function(e){if(!Nb(e))return!1;switch(Pb(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Bb||!!Mb(jb,kb(e))}catch(e){return!0}};Ub.sham=!0;var Vb,Wb,Hb,Qb,Gb=!Lb||Rb((function(){var e;return Fb(Fb.call)||!Fb(Object)||!Fb((function(){e=!0}))||e}))?Ub:Fb,Kb=Gb,qb=Ku,zb=Fc.TypeError,Yb=wd,Jb=function(e){if(Kb(e))return e;throw zb(qb(e)+" is not a constructor")},Xb=Pl("species"),Zb=function(e,t){var n,r=Yb(e).constructor;return void 0===r||null==(n=Yb(r)[Xb])?t:Jb(n)},$b=jc([].slice),eE=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ou),tE=Fc,nE=Qc,rE=vd,oE=Gc,iE=gl,aE=Rc,sE=tm,cE=$b,uE=Kl,lE=eE,dE=pf,fE=tE.setImmediate,pE=tE.clearImmediate,hE=tE.process,gE=tE.Dispatch,vE=tE.Function,mE=tE.MessageChannel,yE=tE.String,AE=0,bE={},EE="onreadystatechange";try{Vb=tE.location}catch(e){}var _E=function(e){if(iE(bE,e)){var t=bE[e];delete bE[e],t()}},wE=function(e){return function(){_E(e)}},SE=function(e){_E(e.data)},CE=function(e){tE.postMessage(yE(e),Vb.protocol+"//"+Vb.host)};fE&&pE||(fE=function(e){var t=cE(arguments,1);return bE[++AE]=function(){nE(oE(e)?e:vE(e),void 0,t)},Wb(AE),AE},pE=function(e){delete bE[e]},dE?Wb=function(e){hE.nextTick(wE(e))}:gE&&gE.now?Wb=function(e){gE.now(wE(e))}:mE&&!lE?(Qb=(Hb=new mE).port2,Hb.port1.onmessage=SE,Wb=rE(Qb.postMessage,Qb)):tE.addEventListener&&oE(tE.postMessage)&&!tE.importScripts&&Vb&&"file:"!==Vb.protocol&&!aE(CE)?(Wb=CE,tE.addEventListener("message",SE,!1)):Wb=EE in uE("script")?function(e){sE.appendChild(uE("script")).onreadystatechange=function(){sE.removeChild(this),_E(e)}}:function(e){setTimeout(wE(e),0)});var IE,OE,TE,RE,NE,PE,kE,DE,xE={set:fE,clear:pE},LE=Fc,jE=/ipad|iphone|ipod/i.test(Ou)&&void 0!==LE.Pebble,ME=/web0s(?!.*chrome)/i.test(Ou),BE=Fc,FE=vd,UE=Kc.f,VE=xE.set,WE=eE,HE=jE,QE=ME,GE=pf,KE=BE.MutationObserver||BE.WebKitMutationObserver,qE=BE.document,zE=BE.process,YE=BE.Promise,JE=UE(BE,"queueMicrotask"),XE=JE&&JE.value;XE||(IE=function(){var e,t;for(GE&&(e=zE.domain)&&e.exit();OE;){t=OE.fn,OE=OE.next;try{t()}catch(e){throw OE?RE():TE=void 0,e}}TE=void 0,e&&e.enter()},WE||GE||QE||!KE||!qE?!HE&&YE&&YE.resolve?((kE=YE.resolve(void 0)).constructor=YE,DE=FE(kE.then,kE),RE=function(){DE(IE)}):GE?RE=function(){zE.nextTick(IE)}:(VE=FE(VE,BE),RE=function(){VE(IE)}):(NE=!0,PE=qE.createTextNode(""),new KE(IE).observe(PE,{characterData:!0}),RE=function(){PE.data=NE=!NE}));var ZE=XE||function(e){var t={fn:e,next:void 0};TE&&(TE.next=t),OE||(OE=t,RE()),TE=t},$E={},e_=Ju,t_=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=e_(t),this.reject=e_(n)};$E.f=function(e){return new t_(e)};var n_=wd,r_=bu,o_=$E,i_=function(e,t){if(n_(e),r_(t)&&t.constructor===e)return t;var n=o_.f(e);return(0,n.resolve)(t),n.promise},a_=Fc,s_=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},c_=function(){this.head=null,this.tail=null};c_.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var u_,l_,d_,f_="object"==typeof window,p_=Yd,h_=Fc,g_=Iu,v_=Jc,m_=hb,y_=vb,A_=BA,b_=function(e){var t=mb(e),n=yb.f;Ab&&t&&!t[bb]&&n(t,bb,{configurable:!0,get:function(){return this}})},E_=Ju,__=Gc,w_=bu,S_=wb,C_=Wy,I_=ly,O_=function(e,t){if(!t&&!Cb)return!1;var n=!1;try{var r={};r[Sb]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},T_=Zb,R_=xE.set,N_=ZE,P_=i_,k_=function(e,t){var n=a_.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},D_=$E,x_=s_,L_=c_,j_=fA,M_=fd,B_=f_,F_=pf,U_=xu,V_=Pl("species"),W_="Promise",H_=j_.getterFor(W_),Q_=j_.set,G_=j_.getterFor(W_),K_=m_&&m_.prototype,q_=m_,z_=K_,Y_=h_.TypeError,J_=h_.document,X_=h_.process,Z_=D_.f,$_=Z_,ew=!!(J_&&J_.createEvent&&h_.dispatchEvent),tw=__(h_.PromiseRejectionEvent),nw="unhandledrejection",rw=M_(W_,(function(){var e=C_(q_),t=e!==String(q_);if(!t&&66===U_)return!0;if(!z_.finally)return!0;if(U_>=51&&/native code/.test(e))return!1;var n=new q_((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[V_]=r,!(n.then((function(){}))instanceof r)||!t&&B_&&!tw})),ow=rw||!O_((function(e){q_.all(e).catch((function(){}))})),iw=function(e){var t;return!(!w_(e)||!__(t=e.then))&&t},aw=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&dw(t),t.rejection=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(Y_("Promise-chain cycle")):(r=iw(n))?v_(r,n,c,u):c(n)):u(i)}catch(e){l&&!o&&l.exit(),u(e)}},sw=function(e,t){e.notified||(e.notified=!0,N_((function(){for(var n,r=e.reactions;n=r.get();)aw(n,e);e.notified=!1,t&&!e.rejection&&uw(e)})))},cw=function(e,t,n){var r,o;ew?((r=J_.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),h_.dispatchEvent(r)):r={promise:t,reason:n},!tw&&(o=h_["on"+e])?o(r):e===nw&&k_("Unhandled promise rejection",n)},uw=function(e){v_(R_,h_,(function(){var t,n=e.facade,r=e.value;if(lw(e)&&(t=x_((function(){F_?X_.emit("unhandledRejection",r,n):cw(nw,n,r)})),e.rejection=F_||lw(e)?2:1,t.error))throw t.value}))},lw=function(e){return 1!==e.rejection&&!e.parent},dw=function(e){v_(R_,h_,(function(){var t=e.facade;F_?X_.emit("rejectionHandled",t):cw("rejectionhandled",t,e.value)}))},fw=function(e,t,n){return function(r){e(t,r,n)}},pw=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,sw(e,!0))},hw=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Y_("Promise can't be resolved itself");var r=iw(t);r?N_((function(){var n={done:!1};try{v_(r,t,fw(hw,n,e),fw(pw,n,e))}catch(t){pw(n,t,e)}})):(e.value=t,e.state=1,sw(e,!1))}catch(t){pw({done:!1},t,e)}}};rw&&(z_=(q_=function(e){S_(this,z_),E_(e),v_(u_,this);var t=H_(this);try{e(fw(hw,t),fw(pw,t))}catch(e){pw(t,e)}}).prototype,(u_=function(e){Q_(this,{type:W_,done:!1,notified:!1,parent:!1,reactions:new L_,rejection:!1,state:0,value:void 0})}).prototype=y_(z_,{then:function(e,t){var n=G_(this),r=Z_(T_(this,q_));return n.parent=!0,r.ok=!__(e)||e,r.fail=__(t)&&t,r.domain=F_?X_.domain:void 0,0==n.state?n.reactions.add(r):N_((function(){aw(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),l_=function(){var e=new u_,t=H_(e);this.promise=e,this.resolve=fw(hw,t),this.reject=fw(pw,t)},D_.f=Z_=function(e){return e===q_||e===d_?new l_(e):$_(e)}),p_({global:!0,wrap:!0,forced:rw},{Promise:q_}),A_(q_,W_,!1,!0),b_(W_),d_=g_(W_),p_({target:W_,stat:!0,forced:rw},{reject:function(e){var t=Z_(this);return v_(t.reject,void 0,e),t.promise}}),p_({target:W_,stat:!0,forced:!0},{resolve:function(e){return P_(this===d_?q_:this,e)}}),p_({target:W_,stat:!0,forced:ow},{all:function(e){var t=this,n=Z_(t),r=n.resolve,o=n.reject,i=x_((function(){var n=E_(t.resolve),i=[],a=0,s=1;I_(e,(function(e){var c=a++,u=!1;s++,v_(n,t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=Z_(t),r=n.reject,o=x_((function(){var o=E_(t.resolve);I_(e,(function(e){v_(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var gw=Jc,vw=Ju,mw=$E,yw=s_,Aw=ly;Yd({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=mw.f(t),r=n.resolve,o=n.reject,i=yw((function(){var n=vw(t.resolve),o=[],i=0,a=1;Aw(e,(function(e){var s=i++,c=!1;a++,gw(n,t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--a||r(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var bw=Ju,Ew=Iu,_w=Jc,ww=$E,Sw=s_,Cw=ly,Iw="No one promise resolved";Yd({target:"Promise",stat:!0},{any:function(e){var t=this,n=Ew("AggregateError"),r=ww.f(t),o=r.resolve,i=r.reject,a=Sw((function(){var r=bw(t.resolve),a=[],s=0,c=1,u=!1;Cw(e,(function(e){var l=s++,d=!1;c++,_w(r,t,e).then((function(e){d||u||(u=!0,o(e))}),(function(e){d||u||(d=!0,a[l]=e,--c||i(new n(a,Iw)))}))})),--c||i(new n(a,Iw))}));return a.error&&i(a.value),r.promise}});var Ow=hb,Tw=Iu,Rw=Gc,Nw=Zb,Pw=i_;Yd({target:"Promise",proto:!0,real:!0,forced:!!Ow&&Rc((function(){Ow.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Nw(this,Tw("Promise")),n=Rw(e);return this.then(n?function(n){return Pw(t,e()).then((function(){return n}))}:e,n?function(n){return Pw(t,e()).then((function(){throw n}))}:e)}});var kw=jc,Dw=Zd,xw=py,Lw=gu,jw=kw("".charAt),Mw=kw("".charCodeAt),Bw=kw("".slice),Fw=function(e){return function(t,n){var r,o,i=xw(Lw(t)),a=Dw(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=Mw(i,a))<55296||r>56319||a+1===s||(o=Mw(i,a+1))<56320||o>57343?e?jw(i,a):r:e?Bw(i,a,a+2):o-56320+(r-55296<<10)+65536}},Uw={codeAt:Fw(!1),charAt:Fw(!0)},Vw=Uw.charAt,Ww=py,Hw=fA,Qw=ab,Gw="String Iterator",Kw=Hw.set,qw=Hw.getterFor(Gw);Qw(String,"String",(function(e){Kw(this,{type:Gw,string:Ww(e),index:0})}),(function(){var e,t=qw(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Vw(n,r),t.index+=e.length,{value:e,done:!1})}));var zw=Eu.Promise,Yw={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Jw=Fc,Xw=xm,Zw=Md,$w=bm,eS=Pl("toStringTag");for(var tS in Yw){var nS=Jw[tS],rS=nS&&nS.prototype;rS&&Xw(rS)!==eS&&Zw(rS,eS,tS),$w[tS]=$w.Array}var oS=zw,iS=oS,aS=qi,sS=a,cS=i,uS=Pt,lS=rp,dS=og,fS=Error.prototype.toString,pS=cS((function(){if(sS){var e=lS(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==fS.call(e))return!0}return"2: 1"!==fS.call({message:1,name:2})||"Error"!==fS.call({})}))?function(){var e=uS(this),t=dS(e.name,"Error"),n=dS(e.message);return t?n?t+": "+n:t:n}:fS,hS={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},gS=Gr,vS=function(e){try{if(aS)return Function('return require("'+e+'")')()}catch(e){}},mS=G,yS=i,AS=rp,bS=m,ES=Ct.f,_S=Lf.f,wS=Kt.exports,SS=je,CS=go,IS=Pt,OS=pS,TS=og,RS=hS,NS=dg,PS=On,kS=a,DS="DOMException",xS="DATA_CLONE_ERR",LS=mS("Error"),jS=mS(DS)||function(){try{(new(mS("MessageChannel")||vS("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==xS&&25==e.code)return e.constructor}}(),MS=jS&&jS.prototype,BS=LS.prototype,FS=PS.set,US=PS.getterFor(DS),VS="stack"in LS(DS),WS=function(e){return SS(RS,e)&&RS[e].m?RS[e].c:0},HS=function(){CS(this,QS);var e=arguments.length,t=TS(e<1?void 0:arguments[0]),n=TS(e<2?void 0:arguments[1],"Error"),r=WS(n);if(FS(this,{type:DS,name:n,message:t,code:r}),kS||(this.name=n,this.message=t,this.code=r),VS){var o=LS(t);o.name=DS,ES(this,"stack",bS(1,NS(o.stack,1)))}},QS=HS.prototype=AS(BS),GS=function(e){return{enumerable:!0,configurable:!0,get:e}},KS=function(e){return GS((function(){return US(this)[e]}))};kS&&_S(QS,{name:KS("name"),message:KS("message"),code:KS("code")}),ES(QS,"constructor",bS(1,HS));var qS=yS((function(){return!(new jS instanceof LS)})),zS=qS||yS((function(){return BS.toString!==OS||"2: 1"!==String(new jS(1,2))})),YS=qS||yS((function(){return 25!==new jS(1,"DataCloneError").code}));qS||25!==jS.DATA_CLONE_ERR||MS.DATA_CLONE_ERR,gS({global:!0,forced:qS},{DOMException:qS?HS:jS});var JS=mS(DS),XS=JS.prototype;for(var ZS in zS&&jS===JS&&wS(XS,"toString",OS),YS&&kS&&jS===JS&&ES(XS,"code",GS((function(){return WS(IS(this).name)}))),RS)if(SS(RS,ZS)){var $S=RS[ZS],eC=$S.s,tC=bS(6,$S.c);SS(JS,eC)||ES(JS,eC,tC),SS(XS,eC)||ES(XS,eC,tC)}var nC=Gr,rC=G,oC=m,iC=Ct.f,aC=je,sC=go,cC=ng,uC=og,lC=hS,dC=dg,fC="DOMException",pC=rC("Error"),hC=rC(fC),gC=function(){sC(this,vC);var e=arguments.length,t=uC(e<1?void 0:arguments[0]),n=uC(e<2?void 0:arguments[1],"Error"),r=new hC(t,n),o=pC(t);return o.name=fC,iC(r,"stack",oC(1,dC(o.stack,1))),cC(r,this,gC),r},vC=gC.prototype=hC.prototype,mC="stack"in pC(fC),yC="stack"in new hC(1,2),AC=mC&&!yC;nC({global:!0,forced:AC},{DOMException:AC?gC:hC});var bC=rC(fC),EC=bC.prototype;if(EC.constructor!==bC)for(var _C in iC(EC,"constructor",oC(1,bC)),lC)if(aC(lC,_C)){var wC=lC[_C],SC=wC.s;aC(bC,SC)||iC(bC,SC,oC(6,wC.c))}var CC="DOMException";ao(G(CC),CC);var IC=w,OC=Kt.exports,TC=Np,RC=i,NC=Ze,PC=Gt,kC=NC("species"),DC=RegExp.prototype,xC=w,LC=qn,jC=Of,MC=L,BC=xC("".charAt),FC=xC("".charCodeAt),UC=xC("".slice),VC=function(e){return function(t,n){var r,o,i=jC(MC(t)),a=LC(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=FC(i,a))<55296||r>56319||a+1===s||(o=FC(i,a+1))<56320||o>57343?e?BC(i,a):r:e?UC(i,a,a+2):o-56320+(r-55296<<10)+65536}},WC={codeAt:VC(!1),charAt:VC(!0)}.charAt,HC=w,QC=De,GC=Math.floor,KC=HC("".charAt),qC=HC("".replace),zC=HC("".slice),YC=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,JC=/\$([$&'`]|\d{1,2})/g,XC=l,ZC=Pt,$C=F,eI=O,tI=Np,nI=r.TypeError,rI=Hi,oI=l,iI=w,aI=function(e,t,n,r){var o=NC(e),i=!RC((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!RC((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[kC]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||n){var s=IC(/./[o]),c=t(o,""[e],(function(e,t,n,r,o){var a=IC(e),c=t.exec;return c===TC||c===DC.exec?i&&!o?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));OC(String.prototype,e,c[0]),OC(DC,o,c[1])}r&&PC(DC[o],"sham",!0)},sI=i,cI=Pt,uI=F,lI=qn,dI=er,fI=Of,pI=L,hI=function(e,t,n){return t+(n?WC(e,t).length:1)},gI=ye,vI=function(e,t,n,r,o,i){var a=n+e.length,s=r.length,c=JC;return void 0!==o&&(o=QC(o),c=YC),qC(i,c,(function(i,c){var u;switch(KC(c,0)){case"$":return"$";case"&":return e;case"`":return zC(t,0,n);case"'":return zC(t,a);case"<":u=o[zC(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var d=GC(l/10);return 0===d?i:d<=s?void 0===r[d-1]?KC(c,1):r[d-1]+KC(c,1):i}u=r[l-1]}return void 0===u?"":u}))},mI=function(e,t){var n=e.exec;if($C(n)){var r=XC(n,e,t);return null!==r&&ZC(r),r}if("RegExp"===eI(e))return XC(tI,e,t);throw nI("RegExp#exec called on incompatible receiver")},yI=Ze("replace"),AI=Math.max,bI=Math.min,EI=iI([].concat),_I=iI([].push),wI=iI("".indexOf),SI=iI("".slice),CI="$0"==="a".replace(/./,"$0"),II=!!/./[yI]&&""===/./[yI]("a","$0");aI("replace",(function(e,t,n){var r=II?"$":"$0";return[function(e,n){var r=pI(this),o=null==e?void 0:gI(e,yI);return o?oI(o,e,r,n):oI(t,fI(r),e,n)},function(e,o){var i=cI(this),a=fI(e);if("string"==typeof o&&-1===wI(o,r)&&-1===wI(o,"$<")){var s=n(t,i,a,o);if(s.done)return s.value}var c=uI(o);c||(o=fI(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var d=[];;){var f=mI(i,a);if(null===f)break;if(_I(d,f),!u)break;""===fI(f[0])&&(i.lastIndex=hI(a,dI(i.lastIndex),l))}for(var p,h="",g=0,v=0;v<d.length;v++){for(var m=fI((f=d[v])[0]),y=AI(bI(lI(f.index),a.length),0),A=[],b=1;b<f.length;b++)_I(A,void 0===(p=f[b])?p:String(p));var E=f.groups;if(c){var _=EI([m],A,y,a);void 0!==E&&_I(_,E);var w=fI(rI(o,void 0,_))}else w=vI(m,a,y,A,E,o);y>=g&&(h+=SI(a,g,y)+w,g=y+m.length)}return h+SI(a,g)}]}),!!sI((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!CI||II);var OI=V,TI=O,RI=Ze("match"),NI=a,PI=r,kI=w,DI=Mr,xI=ng,LI=Gt,jI=Ct.f,MI=Qn.f,BI=K,FI=function(e){var t;return OI(e)&&(void 0!==(t=e[RI])?!!t:"RegExp"==TI(e))},UI=Of,VI=Rf,WI=xf,HI=Kt.exports,QI=i,GI=je,KI=On.enforce,qI=fo,zI=ap,YI=up,JI=Ze("match"),XI=PI.RegExp,ZI=XI.prototype,$I=PI.SyntaxError,eO=kI(VI),tO=kI(ZI.exec),nO=kI("".charAt),rO=kI("".replace),oO=kI("".indexOf),iO=kI("".slice),aO=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,sO=/a/g,cO=/a/g,uO=new XI(sO)!==sO,lO=WI.MISSED_STICKY,dO=WI.UNSUPPORTED_Y,fO=NI&&(!uO||lO||zI||YI||QI((function(){return cO[JI]=!1,XI(sO)!=sO||XI(cO)==cO||"/a/i"!=XI(sO,"i")})));if(DI("RegExp",fO)){for(var pO=function(e,t){var n,r,o,i,a,s,c=BI(ZI,this),u=FI(e),l=void 0===t,d=[],f=e;if(!c&&u&&l&&e.constructor===pO)return e;if((u||BI(ZI,e))&&(e=e.source,l&&(t="flags"in f?f.flags:eO(f))),e=void 0===e?"":UI(e),t=void 0===t?"":UI(t),f=e,zI&&"dotAll"in sO&&(r=!!t&&oO(t,"s")>-1)&&(t=rO(t,/s/g,"")),n=t,lO&&"sticky"in sO&&(o=!!t&&oO(t,"y")>-1)&&dO&&(t=rO(t,/y/g,"")),YI&&(e=(i=function(e){for(var t,n=e.length,r=0,o="",i=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=nO(e,r)))t+=nO(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:tO(aO,iO(e,r+1))&&(r+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||GI(a,l))throw new $I("Invalid capture group name");a[l]=!0,i[i.length]=[l,u],c=!1,l="";continue}c?l+=t:o+=t}return[o,i]}(e))[0],d=i[1]),a=xI(XI(e,t),c?this:ZI,pO),(r||o||d.length)&&(s=KI(a),r&&(s.dotAll=!0,s.raw=pO(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=nO(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+nO(e,++r);return o}(e),n)),o&&(s.sticky=!0),d.length&&(s.groups=d)),e!==f)try{LI(a,"source",""===f?"(?:)":f)}catch(e){}return a},hO=function(e){e in pO||jI(pO,e,{configurable:!0,get:function(){return XI[e]},set:function(t){XI[e]=t}})},gO=MI(XI),vO=0;gO.length>vO;)hO(gO[vO++]);ZI.constructor=pO,pO.prototype=ZI,HI(PI,"RegExp",pO)}qI("RegExp");var mO=r,yO=a,AO=ap,bO=O,EO=Ct.f,_O=On.get,wO=RegExp.prototype,SO=mO.TypeError;yO&&AO&&EO(wO,"dotAll",{configurable:!0,get:function(){if(this!==wO){if("RegExp"===bO(this))return!!_O(this).dotAll;throw SO("Incompatible receiver, RegExp required")}}});const CO=Fg;function IO(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[o("min",n)]=r.ideal,t.optional.push(e),e={},e[o("max",n)]=r.ideal,t.optional.push(e)):(e[o("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const a=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?t=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),CO("chrome: "+JSON.stringify(e)),o(e)}))}e.video=r(e.video)}return CO("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){o(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(i(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return o(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>iS.reject(i(e))))))}}}function OO(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function TO(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const o=new Event("track");o.track=n.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else jg(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function RO(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let o=n.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function NO(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},i=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(i(o(e)))};return t.apply(this,[r,e])}return new iS(((e,n)=>{t.apply(this,[function(t){e(i(o(t)))},n])})).then(n,r)}}function PO(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>Qg(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),jg(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>Qg(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?iS.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():iS.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function kO(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),o.apply(this,arguments)}}function DO(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return kO(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(o.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],o=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const o=this.getSenders().find((e=>e.track===t));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),iS.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=i(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>i(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=a(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=c.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function xO(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function LO(e,t){jg(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var jO=Object.freeze({__proto__:null,shimMediaStream:OO,shimOnTrack:TO,shimGetSendersWithDtmf:RO,shimGetStats:NO,shimSenderReceiverGetStats:PO,shimAddTrackRemoveTrackWithNative:kO,shimAddTrackRemoveTrack:DO,shimPeerConnection:xO,fixNegotiationNeeded:LO,shimGetUserMedia:IO,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,o=n.video&&n.video.height,i=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}),MO={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<r.length;o++)n[(t=r[o].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.getIceParameters=function(e,n){var r=t.splitLines(e);return{usernameFragment:(r=r.concat(t.splitLines(n))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),o=3;o<r.length;o++){var i=r[o],a=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var o=0;return n.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(r+="a=maxptime:"+o+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],o=t.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),a=-1!==o.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),o.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),i&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var o=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=o.length>0,n.compound=0===o.length;var i=t.matchPrefix(e,"a=rtcp-mux");return n.mux=i.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var o=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return o.length>0?{stream:(n=o[0].value.split(" "))[0],track:n[1]}:void 0},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var o=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,o){var i=t.writeRtpDescription(e.kind,n);if(i+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),i},t.getDirection=function(e,n){for(var r=t.splitLines(e),o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(MO);var BO=MO.exports;function FO(e,t,n,r,o){var i=BO.writeRtpDescription(e.kind,t);if(i+=BO.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=BO.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),i+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var s="msid:"+(r?r.id:"-")+" "+a+"\r\n";i+="a="+s,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+BO.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+BO.localCName+"\r\n"),i}function UO(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},o=function(e,t,n,o){var i=r(e.parameters.apt,n),a=r(t.parameters.apt,o);return i&&a&&i.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!o(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var o=t.headerExtensions[r];if(e.uri===o.uri){n.headerExtensions.push(o);break}}})),n}function VO(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function WO(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function HO(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var QO=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function r(t,n,r,o){var i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}var o=function(n){var r=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw HO("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o="string"==typeof r;return o&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=o?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var i=n.iceCandidatePoolSize;i>0;i--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=BO.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},o.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var o=this._createIceAndDtlsTransports();r.iceTransport=o.iceTransport,r.dtlsTransport=o.dtlsTransport}return t||this.transceivers.push(r),r},o.prototype.addTrack=function(t,n){if(this._isClosed)throw HO("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw HO("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},o.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},o.prototype.removeTrack=function(t){if(this._isClosed)throw HO("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw HO("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},o.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},o.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},o.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;o.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},o.prototype._gather=function(t,n){var r=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var i=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var i=new Event("icecandidate");i.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,s=!a||0===Object.keys(a).length;if(s)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),a.component=1,a.ufrag=o.getLocalParameters().usernameFragment;var c=BO.writeCandidate(a);i.candidate=Object.assign(i.candidate,BO.parseCandidate(c)),i.candidate.candidate=c,i.candidate.toJSON=function(){return{candidate:i.candidate.candidate,sdpMid:i.candidate.sdpMid,sdpMLineIndex:i.candidate.sdpMLineIndex,usernameFragment:i.candidate.usernameFragment}}}var u=BO.getMediaSections(r._localDescription.sdp);u[i.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+i.candidate.candidate+"\r\n",r._localDescription.sdp=BO.getDescription(r._localDescription.sdp)+u.join("");var l=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),s||r._dispatchEvent("icecandidate",i),l&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){i.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},o.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},o.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},o.prototype._transceive=function(e,n,r){var o=UO(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:BO.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),r&&e.rtpReceiver&&o.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?o.encodings=e.recvEncodingParameters:o.encodings=[{}],o.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(o.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},o.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(HO("TypeError",'Unsupported type "'+e.type+'"'));if(!VO("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(HO("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=BO.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=BO.parseRtpParameters(e);r.transceivers[t].localCapabilities=n})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=BO.splitSections(r._remoteDescription.sdp),n=t.shift();var o=BO.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var i=r.transceivers[t],a=i.iceGatherer,s=i.iceTransport,c=i.dtlsTransport,u=i.localCapabilities,l=i.remoteCapabilities;if((!BO.isRejected(e)||0!==BO.matchPrefix(e,"a=bundle-only").length)&&!i.rejected){var d=BO.getIceParameters(e,n),f=BO.getDtlsParameters(e,n);o&&(f.role="server"),r.usingBundle&&0!==t||(r._gather(i.mid,t),"new"===s.state&&s.start(a,d,o?"controlling":"controlled"),"new"===c.state&&c.start(f));var p=UO(u,l);r._transceive(i,p.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(o){var i=this;if(-1===["offer","answer"].indexOf(o.type))return Promise.reject(HO("TypeError",'Unsupported type "'+o.type+'"'));if(!VO("setRemoteDescription",o.type,i.signalingState)||i._isClosed)return Promise.reject(HO("InvalidStateError","Can not set remote "+o.type+" in state "+i.signalingState));var a={};i.remoteStreams.forEach((function(e){a[e.id]=e}));var s=[],c=BO.splitSections(o.sdp),u=c.shift(),l=BO.matchPrefix(u,"a=ice-lite").length>0,d=BO.matchPrefix(u,"a=group:BUNDLE ").length>0;i.usingBundle=d;var f=BO.matchPrefix(u,"a=ice-options:")[0];return i.canTrickleIceCandidates=!!f&&f.substr(14).split(" ").indexOf("trickle")>=0,c.forEach((function(r,c){var f=BO.splitLines(r),p=BO.getKind(r),h=BO.isRejected(r)&&0===BO.matchPrefix(r,"a=bundle-only").length,g=f[0].substr(2).split(" ")[2],v=BO.getDirection(r,u),m=BO.parseMsid(r),y=BO.getMid(r)||BO.generateIdentifier();if(h||"application"===p&&("DTLS/SCTP"===g||"UDP/DTLS/SCTP"===g))i.transceivers[c]={mid:y,kind:p,protocol:g,rejected:!0};else{var A,b,E,_,w,S,C,I,O;!h&&i.transceivers[c]&&i.transceivers[c].rejected&&(i.transceivers[c]=i._createTransceiver(p,!0));var T,R,N=BO.parseRtpParameters(r);h||(T=BO.getIceParameters(r,u),(R=BO.getDtlsParameters(r,u)).role="client"),C=BO.parseRtpEncodingParameters(r);var P=BO.parseRtcpParameters(r),k=BO.matchPrefix(r,"a=end-of-candidates",u).length>0,D=BO.matchPrefix(r,"a=candidate:").map((function(e){return BO.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===o.type||"answer"===o.type)&&!h&&d&&c>0&&i.transceivers[c]&&(i._disposeIceAndDtlsTransports(c),i.transceivers[c].iceGatherer=i.transceivers[0].iceGatherer,i.transceivers[c].iceTransport=i.transceivers[0].iceTransport,i.transceivers[c].dtlsTransport=i.transceivers[0].dtlsTransport,i.transceivers[c].rtpSender&&i.transceivers[c].rtpSender.setTransport(i.transceivers[0].dtlsTransport),i.transceivers[c].rtpReceiver&&i.transceivers[c].rtpReceiver.setTransport(i.transceivers[0].dtlsTransport)),"offer"!==o.type||h)"answer"!==o.type||h||(b=(A=i.transceivers[c]).iceGatherer,E=A.iceTransport,_=A.dtlsTransport,w=A.rtpReceiver,S=A.sendEncodingParameters,I=A.localCapabilities,i.transceivers[c].recvEncodingParameters=C,i.transceivers[c].remoteCapabilities=N,i.transceivers[c].rtcpParameters=P,D.length&&"new"===E.state&&(!l&&!k||d&&0!==c?D.forEach((function(e){WO(A.iceTransport,e)})):E.setRemoteCandidates(D)),d&&0!==c||("new"===E.state&&E.start(b,T,"controlling"),"new"===_.state&&_.start(R)),!UO(A.localCapabilities,A.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&A.sendEncodingParameters[0].rtx&&delete A.sendEncodingParameters[0].rtx,i._transceive(A,"sendrecv"===v||"recvonly"===v,"sendrecv"===v||"sendonly"===v),!w||"sendrecv"!==v&&"sendonly"!==v?delete A.rtpReceiver:(O=w.track,m?(a[m.stream]||(a[m.stream]=new e.MediaStream),n(O,a[m.stream]),s.push([O,w,a[m.stream]])):(a.default||(a.default=new e.MediaStream),n(O,a.default),s.push([O,w,a.default]))));else{(A=i.transceivers[c]||i._createTransceiver(p)).mid=y,A.iceGatherer||(A.iceGatherer=i._createIceGatherer(c,d)),D.length&&"new"===A.iceTransport.state&&(!k||d&&0!==c?D.forEach((function(e){WO(A.iceTransport,e)})):A.iceTransport.setRemoteCandidates(D)),I=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(I.codecs=I.codecs.filter((function(e){return"rtx"!==e.name}))),S=A.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var x,L=!1;"sendrecv"===v||"sendonly"===v?(L=!A.rtpReceiver,w=A.rtpReceiver||new e.RTCRtpReceiver(A.dtlsTransport,p),L&&(O=w.track,m&&"-"===m.stream||(m?(a[m.stream]||(a[m.stream]=new e.MediaStream,Object.defineProperty(a[m.stream],"id",{get:function(){return m.stream}})),Object.defineProperty(O,"id",{get:function(){return m.track}}),x=a[m.stream]):(a.default||(a.default=new e.MediaStream),x=a.default)),x&&(n(O,x),A.associatedRemoteMediaStreams.push(x)),s.push([O,w,x]))):A.rtpReceiver&&A.rtpReceiver.track&&(A.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===A.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),A.associatedRemoteMediaStreams=[]),A.localCapabilities=I,A.remoteCapabilities=N,A.rtpReceiver=w,A.rtcpParameters=P,A.sendEncodingParameters=S,A.recvEncodingParameters=C,i._transceive(i.transceivers[c],!1,L)}}})),void 0===i._dtlsRole&&(i._dtlsRole="offer"===o.type?"active":"passive"),i._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?i._updateSignalingState("have-remote-offer"):i._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===i.remoteStreams.indexOf(n)){i.remoteStreams.push(n);var o=new Event("addstream");o.stream=n,e.setTimeout((function(){i._dispatchEvent("addstream",o)}))}s.forEach((function(e){var t=e[0],o=e[1];n.id===e[2].id&&r(i,t,o,[n])}))}})),s.forEach((function(e){e[2]||r(i,e[0],e[1],[])})),e.setTimeout((function(){i&&i.transceivers&&i.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},o.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},o.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},o.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},o.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(HO("InvalidStateError","Can not call createOffer after close"));var r=n.transceivers.filter((function(e){return"audio"===e.kind})).length,o=n.transceivers.filter((function(e){return"video"===e.kind})).length,i=arguments[0];if(i){if(i.mandatory||i.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==i.offerToReceiveAudio&&(r=!0===i.offerToReceiveAudio?1:!1===i.offerToReceiveAudio?0:i.offerToReceiveAudio),void 0!==i.offerToReceiveVideo&&(o=!0===i.offerToReceiveVideo?1:!1===i.offerToReceiveVideo?0:i.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--r<0&&(e.wantReceive=!1):"video"===e.kind&&--o<0&&(e.wantReceive=!1)}));r>0||o>0;)r>0&&(n._createTransceiver("audio"),r--),o>0&&(n._createTransceiver("video"),o--);var a=BO.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(r,o){var i=r.track,a=r.kind,s=r.mid||BO.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(o,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(a);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=r.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];i&&t>=15019&&"video"===a&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,a)),r.localCapabilities=c,r.sendEncodingParameters=u})),"max-compat"!==n._config.bundlePolicy&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){a+=FO(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),a+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,a+="a="+BO.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(a+="a=end-of-candidates\r\n"))}));var s=new e.RTCSessionDescription({type:"offer",sdp:a});return Promise.resolve(s)},o.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(HO("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(HO("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=BO.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var o=BO.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,i){if(!(i+1>o)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var s=UO(e.localCapabilities,e.remoteCapabilities);!s.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=FO(e,s,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var i=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(i)},o.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,o){if(!n._remoteDescription)return o(HO("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var i=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){i=a;break}var s=n.transceivers[i];if(!s)return o(HO("OperationError","Can not add ICE candidate"));if(s.rejected)return r();var c=Object.keys(e.candidate).length>0?BO.parseCandidate(e.candidate):{};if("tcp"===c.protocol&&(0===c.port||9===c.port))return r();if(c.component&&1!==c.component)return r();if((0===i||i>0&&s.iceTransport!==n.transceivers[0].iceTransport)&&!WO(s.iceTransport,c))return o(HO("OperationError","Can not add ICE candidate"));var u=e.candidate.trim();0===u.indexOf("a=")&&(u=u.substr(2)),(t=BO.getMediaSections(n._remoteDescription.sdp))[i]+="a="+(c.type?u:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=BO.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var l=0;l<n.transceivers.length&&(n.transceivers[l].rejected||(n.transceivers[l].iceTransport.addRemoteCandidate({}),(t=BO.getMediaSections(n._remoteDescription.sdp))[l]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=BO.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));l++);r()}))},o.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw HO("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var i=["createOffer","createAnswer"];return i.forEach((function(e){var t=o.prototype[e];o.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(i=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=o.prototype[e];o.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=o.prototype[e];o.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),o};function GO(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((e=>iS.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e))))}}function KO(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function qO(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=QO(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((e=>{if(e&&(e.urls||e.url)){let t=e.urls||e.url;e.url&&!e.urls&&Ug("RTCIceServer.url","RTCIceServer.urls");const r="string"==typeof t;return r&&(t=[t]),t=t.filter((e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}(e.iceServers,t.version),Fg("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function zO(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}var YO=Object.freeze({__proto__:null,shimPeerConnection:qO,shimReplaceTrack:zO,shimGetUserMedia:GO,shimGetDisplayMedia:KO}),JO=Gr,XO=Kr,ZO=i,$O=G,eT=F,tT=Bi,nT=Za,rT=Kt.exports;if(JO({target:"Promise",proto:!0,real:!0,forced:!!XO&&ZO((function(){XO.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=tT(this,$O("Promise")),n=eT(e);return this.then(n?function(n){return nT(t,e()).then((function(){return n}))}:e,n?function(n){return nT(t,e()).then((function(){throw n}))}:e)}}),eT(XO)){var oT=$O("Promise").prototype.finally;XO.prototype.finally!==oT&&rT(XO.prototype,"finally",oT,{unsafe:!0})}function iT(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){Ug("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function aT(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function sT(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!o)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(o,i)}}function cT(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):iS.resolve(new Map)}}function uT(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),jg(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function lT(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){Ug("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function dT(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function fT(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function pT(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function hT(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?iS.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function gT(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?iS.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var vT=Object.freeze({__proto__:null,shimOnTrack:aT,shimPeerConnection:sT,shimSenderGetStats:cT,shimReceiverGetStats:uT,shimRemoveStream:lT,shimRTCDataChannel:dT,shimAddTransceiver:fT,shimGetParameters:pT,shimCreateOffer:hT,shimCreateAnswer:gT,shimGetUserMedia:iT,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,iS.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}});function mT(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function yT(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function AT(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),iS.resolve()):o},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),iS.resolve()):o};let s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),iS.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),iS.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),iS.resolve()):r},t.addIceCandidate=s}function bT(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(ET(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function ET(e){return e&&void 0!==e.video?Object.assign({},e,{video:Hg(e.video)}):e}function _T(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(Ug("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function wT(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ST(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function CT(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var IT=Object.freeze({__proto__:null,shimLocalStreamsAPI:mT,shimRemoteStreamsAPI:yT,shimCallbacksAPI:AT,shimGetUserMedia:bT,shimConstraints:ET,shimRTCIceServerUrls:_T,shimTrackEventTransceiver:wT,shimCreateOfferLegacy:ST,shimAudioContext:CT}),OT="\t\n\v\f\r                　\u2028\u2029\ufeff",TT=gu,RT=py,NT=jc("".replace),PT="[\t\n\v\f\r                　\u2028\u2029\ufeff]",kT=RegExp("^"+PT+PT+"*"),DT=RegExp(PT+PT+"*$"),xT=function(e){return function(t){var n=RT(TT(t));return 1&e&&(n=NT(n,kT,"")),2&e&&(n=NT(n,DT,"")),n}},LT={start:xT(1),end:xT(2),trim:xT(3)},jT=yA.PROPER,MT=Rc,BT=OT,FT=LT.trim;Yd({target:"String",proto:!0,forced:function(e){return MT((function(){return!!BT[e]()||"​᠎"!=="​᠎"[e]()||jT&&BT[e].name!==e}))}("trim")},{trim:function(){return FT(this)}});var UT=yf("String").trim,VT=Mc,WT=UT,HT=String.prototype,QT=function(e){var t=e.trim;return"string"==typeof e||e===HT||VT(HT,e)&&t===HT.trim?WT:t},GT=l;Gr({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return GT(URL.prototype.toString,this)}});var KT={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return QT(e).call(e).split("\n").map((function(e){return QT(e).call(e)}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){var n;return QT(n=t>0?"m="+e:e).call(n)+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<r.length;o++){var i,a;t=QT(i=r[o]).call(i).split("="),n[QT(a=t[0]).call(a)]=t[1]}return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],o=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&o?{usernameFragment:r.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),o=3;o<r.length;o++){var i=r[o],a=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var o=0;return n.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),o>0&&(r+="a=maxptime:"+o+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],o=t.parseRtpParameters(e),i=-1!==o.fecMechanisms.indexOf("RED"),a=-1!==o.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),o.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),i&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var o=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=o.length>0,n.compound=0===o.length;var i=t.matchPrefix(e,"a=rtcp-mux");return n.mux=i.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var o=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return o.length>0?{stream:(n=o[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),o=t.matchPrefix(e,"a=max-message-size:");o.length>0&&(n=parseInt(o[0].substr(19),10)),isNaN(n)&&(n=65536);var i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var o=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,o){var i=t.writeRtpDescription(e.kind,n);if(i+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),i+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),i+="a=mid:"+e.mid+"\r\n",e.direction?i+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?i+="a=sendrecv\r\n":e.rtpSender?i+="a=sendonly\r\n":e.rtpReceiver?i+="a=recvonly\r\n":i+="a=inactive\r\n",e.rtpSender){var a="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";i+="a="+a,i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return i+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),i},t.getDirection=function(e,n){for(var r=t.splitLines(e),o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(KT);var qT=KT.exports;function zT(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=qT.parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,jg(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function YT(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=qT.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=qT.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},o=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},i=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const o=qT.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=o(e),n=i(arguments[0],e);let a;a=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return a.apply(this,arguments)}}function JT(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],o=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},jg(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function XT(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function ZT(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==QT(e).call(e))).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function $T(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?iS.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),iS.resolve())})}var eR=Object.freeze({__proto__:null,shimRTCIceCandidate:zT,shimMaxMessageSize:YT,shimSendThrowTypeError:JT,shimConnectionState:XT,removeExtmapAllowMixed:ZT,shimAddIceCandidateNullOrEmpty:$T});let tR,nR;!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};const n=Fg,r=Vg(e),o={browserDetails:r,commonShim:eR,extractVersion:Lg,disableLog:Mg,disableWarnings:Bg};switch(r.browser){case"chrome":if(!jO||!xO||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),o;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),o;n("adapter.js shimming chrome."),o.browserShim=jO,$T(e,r),IO(e,r),OO(e),xO(e,r),TO(e),DO(e,r),RO(e),NO(e),PO(e),LO(e,r),zT(e),XT(e),YT(e,r),JT(e),ZT(e,r);break;case"firefox":if(!vT||!sT||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),o;n("adapter.js shimming firefox."),o.browserShim=vT,$T(e,r),iT(e,r),sT(e,r),aT(e),lT(e),cT(e),uT(e),dT(e),fT(e),pT(e),hT(e),gT(e),zT(e),XT(e),YT(e,r),JT(e);break;case"edge":if(!YO||!qO||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),o;n("adapter.js shimming edge."),o.browserShim=YO,GO(e),KO(e),qO(e,r),zO(e),YT(e,r),JT(e);break;case"safari":if(!IT||!t.shimSafari)return n("Safari shim is not included in this adapter release."),o;n("adapter.js shimming safari."),o.browserShim=IT,$T(e,r),_T(e),ST(e),AT(e),mT(e),yT(e),wT(e),bT(e),CT(e),zT(e),YT(e,r),JT(e),ZT(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(tR||(tR={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(nR||(nR={}));var rR={exports:{}};
/*!@license
	 * UAParser.js v0.7.28
	 * Lightweight JavaScript-based User-Agent string parser
	 * https://github.com/faisalman/ua-parser-js
	 *
	 * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>
	 * Licensed under MIT License
	 */!function(t,n){!function(e,r){var o="function",i="object",a="string",s="model",c="name",u="type",l="vendor",d="version",f="architecture",p="console",h="mobile",g="tablet",v="smarttv",m="wearable",y="embedded",A={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===a&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},b={rgx:function(e,t){for(var n,a,s,c,u,l,d=0;d<t.length&&!u;){var f=t[d],p=t[d+1];for(n=a=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(s=0;s<p.length;s++)l=u[++a],typeof(c=p[s])===i&&c.length>0?2==c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3==c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):r:this[c[0]]=l?c[1].call(this,l,c[2]):r:4==c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):r):this[c]=l||r;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===i&&t[n].length>0){for(var o=0;o<t[n].length;o++)if(A.has(t[n][o],e))return"?"===n?r:n}else if(A.has(t[n],e))return"?"===n?r:n;return e}},E={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[c,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[c,d],[/opios[\/\s]+([\w\.]+)/i],[d,[c,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[d,[c,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,d],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[d,[c,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[d,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[c,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[d,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure Browser"],d],[/focus\/([\w\.]+)/i],[d,[c,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[d,[c,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[d,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[c,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[c,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[d,[c,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[c,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],d],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[c,d],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[c],[/;fbav\/([\w\.]+);/i],[d,[c,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[c,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[c,d],[/\bgsa\/([\w\.]+)\s.*safari\//i],[d,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[c,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,"Chrome WebView"],d],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[d,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,d],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[c,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[d,b.str,E.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[c,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],d],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[d,[c,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,A.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",A.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,A.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[s,[l,"Samsung"],[u,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[s,[l,"Samsung"],[u,h]],[/\((ip(?:hone|od)[\s\w]*);/i],[s,[l,"Apple"],[u,h]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[l,"Apple"],[u,g]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[s,[l,"Huawei"],[u,g]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[s,[l,"Huawei"],[u,h]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[s,/_/g," "],[l,"Xiaomi"],[u,h]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[s,/_/g," "],[l,"Xiaomi"],[u,g]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[s,[l,"OPPO"],[u,h]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[s,[l,"Vivo"],[u,h]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[s,[l,"Realme"],[u,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[s,[l,"Motorola"],[u,h]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[u,g]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[s,[l,"LG"],[u,g]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[s,[l,"LG"],[u,h]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[s,[l,"Lenovo"],[u,g]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[s,/_/g," "],[l,"Nokia"],[u,h]],[/droid.+;\s(pixel\sc)[\s)]/i],[s,[l,"Google"],[u,g]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[s,[l,"Google"],[u,h]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,"Sony"],[u,h]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[s,"Xperia Tablet"],[l,"Sony"],[u,g]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[s,[l,"OnePlus"],[u,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[s,[l,"Amazon"],[u,g]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[s,"Fire Phone"],[l,"Amazon"],[u,h]],[/\((playbook);[\w\s\),;-]+(rim)/i],[s,l,[u,g]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[u,h]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[s,[l,"ASUS"],[u,g]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[s,[l,"ASUS"],[u,h]],[/(nexus\s9)/i],[s,[l,"HTC"],[u,g]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[u,h]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[l,"Acer"],[u,g]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[s,[l,"Meizu"],[u,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[u,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[l,s,[u,g]],[/\s(surface\sduo)\s/i],[s,[l,"Microsoft"],[u,g]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[s,[l,"Fairphone"],[u,h]],[/\s(u304aa)\sbuild/i],[s,[l,"AT&T"],[u,h]],[/sie-(\w*)/i],[s,[l,"Siemens"],[u,h]],[/[;\/]\s?(rct\w+)\sbuild/i],[s,[l,"RCA"],[u,g]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[s,[l,"Dell"],[u,g]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[s,[l,"Verizon"],[u,g]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[s,[l,"Barnes & Noble"],[u,g]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[s,[l,"NuVision"],[u,g]],[/;\s(k88)\sbuild/i],[s,[l,"ZTE"],[u,g]],[/;\s(nx\d{3}j)\sbuild/i],[s,[l,"ZTE"],[u,h]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[s,[l,"Swiss"],[u,h]],[/[;\/]\s?(zur\d{3})\sbuild/i],[s,[l,"Swiss"],[u,g]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[s,[l,"Zeki"],[u,g]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[u,g]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[u,g]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[s,[l,"NextBook"],[u,g]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[l,"Voice"],s,[u,h]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[l,"LvTel"],s,[u,h]],[/;\s(ph-1)\s/i],[s,[l,"Essential"],[u,h]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[s,[l,"Envizen"],[u,g]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[s,[l,"MachSpeed"],[u,g]],[/[;\/]\s?tu_(1491)\sbuild/i],[s,[l,"Rotor"],[u,g]],[/(shield[\w\s]+)\sbuild/i],[s,[l,"Nvidia"],[u,g]],[/(sprint)\s(\w+)/i],[l,s,[u,h]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[u,h]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[l,"Zebra"],[u,g]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[l,"Zebra"],[u,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[l,s,[u,p]],[/droid.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[u,p]],[/(playstation\s[345portablevi]+)/i],[s,[l,"Sony"],[u,p]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[s,[l,"Microsoft"],[u,p]],[/smart-tv.+(samsung)/i],[l,[u,v]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[u,v]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[l,"LG"],[u,v]],[/(apple)\s?tv/i],[l,[s,"Apple TV"],[u,v]],[/crkey/i],[[s,"Chromecast"],[l,"Google"],[u,v]],[/droid.+aft([\w])(\sbuild\/|\))/i],[s,[l,"Amazon"],[u,v]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[u,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,A.trim],[s,A.trim],[u,v]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[u,v]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[u,m]],[/droid.+;\s(glass)\s\d/i],[s,[l,"Google"],[u,m]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[s,[l,"Zebra"],[u,m]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[l,[u,y]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[s,[u,h]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[s,[u,g]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,A.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]],[/(phone)/i],[[u,h]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[c,[d,b.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,b.str,E.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[c,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[c,"Mac OS"],[d,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[c,d],[/\(bb(10);/i],[d,[c,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[d,[c,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[c,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[c,d],[/(sunos)\s?([\w\.\d]*)/i],[[c,"Solaris"],d],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[c,d]]},w=function(t,n){if("object"==typeof t&&(n=t,t=r),!(this instanceof w))return new w(t,n).getResult();var o=t||(void 0!==e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),i=n?A.extend(_,n):_;return this.getBrowser=function(){var e={name:r,version:r};return b.rgx.call(e,o,i.browser),e.major=A.major(e.version),e},this.getCPU=function(){var e={architecture:r};return b.rgx.call(e,o,i.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return b.rgx.call(e,o,i.device),e},this.getEngine=function(){var e={name:r,version:r};return b.rgx.call(e,o,i.engine),e},this.getOS=function(){var e={name:r,version:r};return b.rgx.call(e,o,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===a&&e.length>255?A.trim(e,255):e,this},this.setUA(o),this};w.VERSION="0.7.28",w.BROWSER={NAME:c,MAJOR:"major",VERSION:d},w.CPU={ARCHITECTURE:f},w.DEVICE={MODEL:s,VENDOR:l,TYPE:u,CONSOLE:p,MOBILE:h,SMARTTV:v,TABLET:g,WEARABLE:m,EMBEDDED:y},w.ENGINE={NAME:c,VERSION:d},w.OS={NAME:c,VERSION:d},t.exports&&(n=t.exports=w),n.UAParser=w;var S=void 0!==e&&(e.jQuery||e.Zepto);if(S&&!S.ua){var C=new w;S.ua=C.getResult(),S.ua.get=function(){return C.getUA()},S.ua.set=function(e){C.setUA(e);var t=C.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"==typeof window?window:e)}(rR,rR.exports);const oR=new(0,rR.exports);let iR=oR.getResult();function aR(e){return e&&oR.setUA(e),iR=oR.getResult(),{name:sR(iR),version:cR(iR),os:uR(iR),osVersion:iR.os.version}}function sR(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return nR.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return nR.CHROME;case"Safari":case"Mobile Safari":return nR.SAFARI;case"Edge":return nR.EDGE;case"Firefox":return nR.FIREFOX;case"QQBrowser":return nR.QQ;case"Opera":return nR.OPERA;case"WeChat":return nR.WECHAT;default:return e.browser.name||""}}function cR(e){let t;return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",t.split(".")[0]}function uR(e){switch(e.os.name){case"Windows":return e.os.version?e.os.name+" "+e.os.version:e.os.name;default:return e.os.name||""}}function lR(){return aR().os}function dR(){const e=aR();return!!("WebKit"===iR.engine.name&&e.os===tR.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==nR.SAFARI||mR()&&e.name!==nR.SAFARI)}function fR(){const e=aR();if(dR()){if(e.os===tR.MAC_OS)return!0;if(e.os===tR.IOS){const e=iR.os.version&&iR.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}function pR(){return"WebKit"===iR.engine.name}function hR(){return aR().name===nR.CHROME}function gR(){return aR().name===nR.SAFARI}function vR(){return aR().name===nR.FIREFOX}function mR(){return aR().os===tR.IOS}function yR(){const e=aR();if(e.os!==tR.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 13===Number(t[0])}function AR(){const e=aR();if(e.os!==tR.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function bR(){const e=aR();if(e.os!==tR.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&0===Number(t[1])}function ER(){const e=aR();if(e.os!==tR.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function _R(){const e=aR();if(e.os!==tR.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}function wR(){return gR()&&navigator.maxTouchPoints>0}function SR(){return aR().name===nR.WECHAT}function CR(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function IR(){const e=aR();return e.name!==nR.EDGE&&e.name!==nR.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function OR(){return aR().os===tR.ANDROID}var TR={exports:{}},RR=Yd,NR=qc,PR=md.f;RR({target:"Object",stat:!0,forced:Object.defineProperty!==PR,sham:!NR},{defineProperty:PR});var kR=Eu.Object,DR=TR.exports=function(e,t,n){return kR.defineProperty(e,t,n)};kR.defineProperty.sham&&(DR.sham=!0);var xR=TR.exports;function LR(e,t,n){return t in e?xR(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jR,MR={exports:{}},BR=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},FR=BR,UR=Object.prototype.toString,VR=(jR=Object.create(null),function(e){var t=UR.call(e);return jR[t]||(jR[t]=t.slice(8,-1).toLowerCase())});function WR(e){return e=e.toLowerCase(),function(t){return VR(t)===e}}function HR(e){return Array.isArray(e)}function QR(e){return void 0===e}var GR=WR("ArrayBuffer");function KR(e){return null!==e&&"object"==typeof e}function qR(e){if("object"!==VR(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var zR=WR("Date"),YR=WR("File"),JR=WR("Blob"),XR=WR("FileList");function ZR(e){return"[object Function]"===UR.call(e)}var $R=WR("URLSearchParams");function eN(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),HR(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var tN=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array)),nN={isArray:HR,isArrayBuffer:GR,isBuffer:function(e){return null!==e&&!QR(e)&&null!==e.constructor&&!QR(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||UR.call(e)===t||ZR(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&GR(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:KR,isPlainObject:qR,isUndefined:QR,isDate:zR,isFile:YR,isBlob:JR,isFunction:ZR,isStream:function(e){return KR(e)&&ZR(e.pipe)},isURLSearchParams:$R,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:eN,merge:function e(){var t={};function n(n,r){qR(t[r])&&qR(n)?t[r]=e(t[r],n):qR(n)?t[r]=e({},n):HR(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)eN(arguments[r],n);return t},extend:function(e,t,n){return eN(t,(function(t,r){e[r]=n&&"function"==typeof t?FR(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,a={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=r[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:VR,kindOfTest:WR,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(QR(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:tN,isFileList:XR},rN=nN;function oN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var iN=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(rN.isURLSearchParams(t))r=t.toString();else{var o=[];rN.forEach(t,(function(e,t){null!=e&&(rN.isArray(e)?t+="[]":e=[e],rN.forEach(e,(function(e){rN.isDate(e)?e=e.toISOString():rN.isObject(e)&&(e=JSON.stringify(e)),o.push(oN(t)+"="+oN(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},aN=nN;function sN(){this.handlers=[]}sN.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},sN.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},sN.prototype.forEach=function(e){aN.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var cN=sN,uN=nN,lN=nN;function dN(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}lN.inherits(dN,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var fN=dN.prototype,pN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){pN[e]={value:e}})),Object.defineProperties(dN,pN),Object.defineProperty(fN,"isAxiosError",{value:!0}),dN.from=function(e,t,n,r,o,i){var a=Object.create(fN);return lN.toFlatObject(e,a,(function(e){return e!==Error.prototype})),dN.call(a,e.message,t,n,r,o),a.name=e.name,i&&Object.assign(a,i),a};var hN=dN,gN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vN=nN,mN=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":vN.isDate(e)?e.toISOString():vN.isArrayBuffer(e)||vN.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,i){if(vN.isPlainObject(o)||vN.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+i);n.push(o),vN.forEach(o,(function(n,o){if(!vN.isUndefined(n)){var a,s=i?i+"."+o:o;if(n&&!i&&"object"==typeof n)if(vN.endsWith(o,"{}"))n=JSON.stringify(n);else if(vN.endsWith(o,"[]")&&(a=vN.toArray(n)))return void a.forEach((function(e){!vN.isUndefined(e)&&t.append(s,r(e))}));e(n,s)}})),n.pop()}else t.append(i,r(o))}(e),t},yN=hN,AN=nN,bN=AN.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),AN.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),AN.isString(r)&&a.push("path="+r),AN.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},EN=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},_N=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},wN=function(e,t){return e&&!EN(t)?_N(e,t):t},SN=nN,CN=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],IN=nN,ON=IN.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=IN.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},TN=hN;function RN(e){TN.call(this,null==e?"canceled":e,TN.ERR_CANCELED),this.name="CanceledError"}nN.inherits(RN,TN,{__CANCEL__:!0});var NN=RN,PN=nN,kN=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yN("Request failed with status code "+n.status,[yN.ERR_BAD_REQUEST,yN.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)},DN=bN,xN=iN,LN=wN,jN=function(e){var t,n,r,o={};return e?(SN.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=SN.trim(e.substr(0,r)).toLowerCase(),n=SN.trim(e.substr(r+1)),t){if(o[t]&&CN.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o},MN=ON,BN=gN,FN=hN,UN=NN,VN=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},WN=function(e){return new Promise((function(t,n){var r,o=e.data,i=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}PN.isFormData(o)&&PN.isStandardBrowserEnv()&&delete i["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(u+":"+l)}var d=LN(e.baseURL,e.url);function f(){if(c){var r="getAllResponseHeaders"in c?jN(c.getAllResponseHeaders()):null,o={data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c};kN((function(e){t(e),s()}),(function(e){n(e),s()}),o),c=null}}if(c.open(e.method.toUpperCase(),xN(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(n(new FN("Request aborted",FN.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new FN("Network Error",FN.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||BN;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new FN(t,r.clarifyTimeoutError?FN.ETIMEDOUT:FN.ECONNABORTED,e,c)),c=null},PN.isStandardBrowserEnv()){var p=(e.withCredentials||MN(d))&&e.xsrfCookieName?DN.read(e.xsrfCookieName):void 0;p&&(i[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&PN.forEach(i,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:c.setRequestHeader(t,e)})),PN.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&"json"!==a&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new UN:e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),o||(o=null);var h=VN(d);h&&-1===["http","https","file"].indexOf(h)?n(new FN("Unsupported protocol "+h+":",FN.ERR_BAD_REQUEST,e)):c.send(o)}))},HN=nN,QN=function(e,t){uN.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},GN=hN,KN=mN,qN={"Content-Type":"application/x-www-form-urlencoded"};function zN(e,t){!HN.isUndefined(e)&&HN.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var YN,JN={transitional:gN,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(YN=WN),YN),transformRequest:[function(e,t){if(QN(t,"Accept"),QN(t,"Content-Type"),HN.isFormData(e)||HN.isArrayBuffer(e)||HN.isBuffer(e)||HN.isStream(e)||HN.isFile(e)||HN.isBlob(e))return e;if(HN.isArrayBufferView(e))return e.buffer;if(HN.isURLSearchParams(e))return zN(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=HN.isObject(e),o=t&&t["Content-Type"];if((n=HN.isFileList(e))||r&&"multipart/form-data"===o){var i=this.env&&this.env.FormData;return KN(n?{"files[]":e}:e,i&&new i)}return r||"application/json"===o?(zN(t,"application/json"),function(e,t,n){if(HN.isString(e))try{return(t||JSON.parse)(e),HN.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||JN.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&HN.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw GN.from(e,GN.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};HN.forEach(["delete","get","head"],(function(e){JN.headers[e]={}})),HN.forEach(["post","put","patch"],(function(e){JN.headers[e]=HN.merge(qN)}));var XN=JN,ZN=nN,$N=XN,eP=function(e){return!(!e||!e.__CANCEL__)},tP=nN,nP=function(e,t,n){var r=this||$N;return ZN.forEach(n,(function(n){e=n.call(r,e,t)})),e},rP=eP,oP=XN,iP=NN;function aP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iP}var sP=nN,cP=function(e,t){t=t||{};var n={};function r(e,t){return sP.isPlainObject(e)&&sP.isPlainObject(t)?sP.merge(e,t):sP.isPlainObject(t)?sP.merge({},t):sP.isArray(t)?t.slice():t}function o(n){return sP.isUndefined(t[n])?sP.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!sP.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return sP.isUndefined(t[n])?sP.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return sP.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);sP.isUndefined(r)&&t!==s||(n[e]=r)})),n},uP="0.27.2",lP=uP,dP=hN,fP={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){fP[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var pP={};fP.transitional=function(e,t,n){function r(e,t){return"[Axios v"+lP+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new dP(r(o," has been removed"+(t?" in "+t:"")),dP.ERR_DEPRECATED);return t&&!pP[o]&&(pP[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var hP=nN,gP=iN,vP=cN,mP=function(e){return aP(e),e.headers=e.headers||{},e.data=nP.call(e,e.data,e.headers,e.transformRequest),e.headers=tP.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),tP.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||oP.adapter)(e).then((function(t){return aP(e),t.data=nP.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return rP(t)||(aP(e),t&&t.response&&(t.response.data=nP.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},yP=cP,AP=wN,bP={assertOptions:function(e,t,n){if("object"!=typeof e)throw new dP("options must be an object",dP.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new dP("option "+i+" must be "+c,dP.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new dP("Unknown option "+i,dP.ERR_BAD_OPTION)}},validators:fP},EP=bP.validators;function _P(e){this.defaults=e,this.interceptors={request:new vP,response:new vP}}_P.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=yP(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&bP.assertOptions(n,{silentJSONParsing:EP.transitional(EP.boolean),forcedJSONParsing:EP.transitional(EP.boolean),clarifyTimeoutError:EP.transitional(EP.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!o){var s=[mP,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),i=Promise.resolve(t);s.length;)i=i.then(s.shift(),s.shift());return i}for(var c=t;r.length;){var u=r.shift(),l=r.shift();try{c=u(c)}catch(e){l(e);break}}try{i=mP(c)}catch(e){return Promise.reject(e)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},_P.prototype.getUri=function(e){e=yP(this.defaults,e);var t=AP(e.baseURL,e.url);return gP(t,e.params,e.paramsSerializer)},hP.forEach(["delete","get","head","options"],(function(e){_P.prototype[e]=function(t,n){return this.request(yP(n||{},{method:e,url:t,data:(n||{}).data}))}})),hP.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(yP(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}_P.prototype[e]=t(),_P.prototype[e+"Form"]=t(!0)}));var wP=_P,SP=NN;function CP(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new SP(e),t(n.reason))}))}CP.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CP.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},CP.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},CP.source=function(){var e;return{token:new CP((function(t){e=t})),cancel:e}};var IP=CP,OP=nN,TP=nN,RP=BR,NP=wP,PP=cP,kP=function e(t){var n=new NP(t),r=RP(NP.prototype.request,n);return TP.extend(r,NP.prototype,n),TP.extend(r,n),r.create=function(n){return e(PP(t,n))},r}(XN);kP.Axios=NP,kP.CanceledError=NN,kP.CancelToken=IP,kP.isCancel=eP,kP.VERSION=uP,kP.toFormData=mN,kP.AxiosError=hN,kP.Cancel=kP.CanceledError,kP.all=function(e){return Promise.all(e)},kP.spread=function(e){return function(t){return e.apply(null,t)}},kP.isAxiosError=function(e){return OP.isObject(e)&&!0===e.isAxiosError},MR.exports=kP,MR.exports.default=kP;var DP=MR.exports;class xP{constructor(e){LR(this,"logger",void 0),LR(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}class LP{constructor(){LR(this,"_events",{}),LR(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let i=0;i<t.length;i+=1){const n=t[i];n.once&&this.off(e,n.listener),n.listener.apply(this,r||[])}}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}const jP=new class extends LP{reportLogUploadError(e){this.emit("REPORT_LOG_UPLOAD",e)}};let MP;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED"}(MP||(MP={}));class BP extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),LR(this,"code",void 0),LR(this,"message",void 0),LR(this,"data",void 0),LR(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return"error"===e&&KP.error(this.toString()),"warning"===e&&KP.warning(this.toString()),this}throw(){throw this.print(),this}}const FP={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function UP(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function VP(e,t,n,r){const o=Object.assign({},FP,r);let i=o.timeout;const a=async()=>{await function(e){return new iS((t=>{window.setTimeout(t,e)}))}(i),i*=o.timeoutFactor,i=Math.min(o.maxRetryTimeout,i)};let s=!1;const c=new iS((async(r,i)=>{t=t||(()=>!1),n=n||(()=>!0);for(let c=0;c<o.maxRetryCount;c+=1){if(s)return i(new BP(MP.OPERATION_ABORTED));try{const n=await e();if(!t(n,c))return r(n);if(c+1===o.maxRetryCount)return r(n);await a()}catch(e){if(!n(e,c))return i(e);if(c+1===o.maxRetryCount)return i(e);await a()}}}));return c.cancel=()=>s=!0,c}function WP(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const HP={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},QP=Date.now(),GP=e=>{for(const t in HP)if(Object.prototype.hasOwnProperty.call(HP,t)&&HP[t]===e)return t;return"DEFAULT"},KP=new class{constructor(){LR(this,"proxyServerURL",void 0),LR(this,"logLevel",HP.DEBUG),LR(this,"uploadState","collecting"),LR(this,"uploadLogWaitingList",[]),LR(this,"uploadLogUploadingList",[]),LR(this,"uploadErrorCount",0),LR(this,"currentLogID",0),LR(this,"url",void 0),LR(this,"extLog",((e,t)=>{this.appendLogToWaitingList(e,t)}))}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[HP.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[HP.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[HP.WARNING].concat(t);this.log.apply(this,r)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[HP.ERROR].concat(t);this.log.apply(this,r)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[HP.DEBUG].concat(t);this.uploadLog.apply(this,r)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){Nk("UPLOAD_LOG",!0)}disableLogUpload(){Nk("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new xP(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-QP<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-QP);const r=Math.max(0,Math.min(4,t[0]));if(t[0]=WP()+" Agora-SDK [".concat(GP(r),"]:"),this.appendLogToWaitingList(r,t),r<this.logLevel)return;const o=WP()+" %cAgora-SDK [".concat(GP(r),"]:");let i=[];if(!Pk("USE_NEW_LOG"))switch(r){case HP.DEBUG:i=[o,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,i);break;case HP.INFO:i=[o,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,i);break;case HP.WARNING:i=[o,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,i);break;case HP.ERROR:i=[o,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,i)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-QP<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-QP);const r=Math.max(0,Math.min(4,t[0]));t[0]=WP()+" Agora-SDK [".concat(GP(r),"]:"),this.appendLogToWaitingList(r,t)}appendLogToWaitingList(e){if(!Pk("UPLOAD_LOG"))return;let t="";for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach((e=>{"object"==typeof e&&(e=JSON.stringify(e)),t+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:t,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:Ak,process_id:Pk("PROCESS_ID"),payload:JSON.stringify(e)};return VP((async()=>{const e=await DP.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(Pk("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(Pk("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>(e.response?jP.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?jP.reportLogUploadError({status:e.request.status,message:e.message}):jP.reportLogUploadError({status:-1,message:e.message}),!0)),{timeout:Pk("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:Pk("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,Pk("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),Pk("UPLOAD_LOG_INTERVAL"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),Pk("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),Pk("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}},qP={debug:console.log,info:console.log,warning:console.warn,error:console.error},zP={debug:"color: #64B5F6;",info:"color: #1E88E5; font-weight: bold;",warning:"color: #FB8C00; font-weight: bold;",error:"color: #B00020; font-weight: bold;"},YP={debug:0,info:1,warning:2,error:3},JP=[];let XP,ZP=0,$P=0,ek=!1;function tk(){const e=new Date;return[e.getTime(),e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()]}function nk(e){if(!Pk("UPLOAD_LOG"))return;let t;switch(e.type){case KD.MISC:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.msg]];break;case KD.INTERNAL_EVENT:case KD.PUBLIC_EVENT:case KD.WEB_EVENT:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.event,e.msg]];break;case KD.INTERNAL_API:case KD.PUBLIC_API:case KD.WEB_API:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.api,e.args,e.result]]}JP.push(t)}function rk(e,t){const[n,r]=tk(),o="warning",i="".concat(r," %cAgora-SDK [").concat(o,"] [INTERNAL API]:"),a={[KD.WEB_API]:"logWebAPI",[KD.PUBLIC_API]:"logPublicAPI",[KD.INTERNAL_API]:"logInternalAPI",[KD.WEB_EVENT]:"logWebEvent",[KD.PUBLIC_EVENT]:"logPublicEvent",[KD.INTERNAL_EVENT]:"logInternalEvent",[KD.MISC]:"logMisc"}[e],s=[i,zP.warning,"Log.".concat(a),t];Pk("USE_NEW_LOG")&&(ik(o)&&qP.warning.apply(console,s),nk({timestamp:n,level:o,module:"Log",instanceId:void 0,type:KD.INTERNAL_API,api:a,args:void 0,result:t.toString()}))}function ok(e){if(Array.isArray(e)){let[t,n]=e;return t||(t="Global"),{module:t,instanceId:n}}let t,n;if("string"!=typeof e.__moduleName)throw new Error("Cannot get __moduleName from log instance.");t=e.__moduleName;try{n=e.__instanceId}catch(e){throw new Error("Cannot get __instanceId from log instance.")}return{module:t,instanceId:n}}function ik(e){return YP[e]>=$P}function ak(e,t,n,r,o,i){if(e===KD.PUBLIC_API||e===KD.WEB_API||e===KD.INTERNAL_API)try{const{module:a,instanceId:s}=ok(n);o=o&&JSON.stringify(o),i=i instanceof Error?i.toString():i&&JSON.stringify(i);const[c,u]=tk(),l=["".concat(u," %cAgora-SDK [").concat(t,"] [").concat({[KD.PUBLIC_API]:"PUBLIC API",[KD.WEB_API]:"WEB API",[KD.INTERNAL_API]:"INTERNAL API"}[e],"]:"),zP[t],"".concat(a).concat(s?"<".concat(s,">"):"",".").concat(r),o,i];Pk("USE_NEW_LOG")&&(ik(t)&&qP[t].apply(console,l),nk({timestamp:c,level:t,module:a,instanceId:s,type:e,api:r,args:o,result:i}))}catch(t){rk(e,t)}}function sk(e,t,n,r,o){if(e===KD.WEB_EVENT||e===KD.INTERNAL_EVENT||e===KD.PUBLIC_EVENT)try{const{module:i,instanceId:a}=ok(n);"string"!=typeof o&&(o=o instanceof Error?o.toString():JSON.stringify(o));const[s,c]=tk(),u=["".concat(c," %cAgora-SDK [").concat(t,"] [").concat({[KD.WEB_EVENT]:"WEB EVENT",[KD.PUBLIC_EVENT]:"PUBLIC EVENT",[KD.INTERNAL_EVENT]:"INTERNAL EVENT"}[e],"]:"),zP[t],"".concat(i).concat(a?"<".concat(a,">"):"",".on(").concat(r,")"),o||""];Pk("USE_NEW_LOG")&&(ik(t)&&qP[t].apply(console,u),nk({timestamp:s,level:t,module:i,instanceId:a,type:e,event:r,msg:o}))}catch(t){rk(e,t)}}function ck(e){XP=e}function uk(e,t,n){try{const{module:r,instanceId:o}=ok(t),[i,a]=tk(),s=["".concat(a," %cAgora-SDK [").concat(e,"] [MISC]:"),zP[e],"".concat(r).concat(o?"<".concat(o,">"):""),'"'.concat(n,'"')];Pk("USE_NEW_LOG")&&(ik(e)&&qP[e].apply(console,s),nk({timestamp:i,level:e,module:r,instanceId:o,type:KD.MISC,msg:n}))}catch(e){pk("warning",["log"],"logMisc",void 0,e)}}function lk(e,t,n,r){sk(KD.INTERNAL_EVENT,e,t,n,r)}function dk(e,t,n,r){sk(KD.PUBLIC_EVENT,e,t,n,r)}function fk(e,t,n,r){sk(KD.WEB_EVENT,e,t,n,r)}function pk(e,t,n,r,o){ak(KD.INTERNAL_API,e,t,n,r,o)}function hk(e,t,n,r,o){ak(KD.WEB_API,e,t,n,r,o)}function gk(e,t,n,r,o){ak(KD.PUBLIC_API,e,t,n,r,o)}function vk(e,t){return function(n){return class extends n{get __moduleName(){return e}get __instanceId(){if(t){if("function"==typeof this[t])return this[t]();{const e=t.split(".");return e.length>0?Sf(e).call(e,((e,t)=>{try{return e?e[t]:e}catch(e){return}}),this):this[t]}}}}}}async function mk(e){if(!e&&ek)return;if(ek=!0,!Pk("UPLOAD_LOG"))return void setTimeout((()=>mk(!0)),Pk("UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF"));if(0===JP.length)return void setTimeout((()=>mk(!0)),Pk("UPLOAD_LOG_INTERVAL"));const t=JP.slice(0,Pk("UPLOAD_LOG_LENGTH_EACH_TIME")),n={sdk_version:Ak,log_version:Pk("LOG_VERSION"),process_id:Pk("PROCESS_ID"),index:ZP,logs:JSON.stringify(t)};await VP((async()=>{const e=await DP.post(XP?"https://".concat(XP,"/ls/?h=").concat(Pk("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(Pk("LOG_UPLOAD_SERVER"),"/upload/v1"),n,{responseType:"text"});if("OK"!==e.data)throw new Error("Log service response error ".concat(e.data));return e}),void 0,void 0,{timeout:Pk("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:Pk("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")}),JP.splice(0,Pk("UPLOAD_LOG_LENGTH_EACH_TIME")),ZP+=t.length,setTimeout((()=>mk(!0)),Pk("UPLOAD_LOG_INTERVAL"))}const yk="v4.13.0-0-g14700235-dirty(7/25/2022, 7:29:54 PM)",Ak=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}const n=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(n&&n[1]&&n[2]){const e=n[1],t=n[2];return"".concat(e,".").concat(100*(Number(t)+1))}return"4.0.0.999"}("4.13.0"),bk=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}(),Ek={username:"test",password:"111111",turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1},_k={"90p":Lk(160,90),"90p_1":Lk(160,90),"120p":Lk(160,120,15,30,65),"120p_1":Lk(160,120,15,30,65),"120p_3":Lk(120,120,15,30,50),"120p_4":Lk(212,120),"180p":Lk(320,180,15,30,140),"180p_1":Lk(320,180,15,30,140),"180p_3":Lk(180,180,15,30,100),"180p_4":Lk(240,180,15,30,120),"240p":Lk(320,240,15,40,200),"240p_1":Lk(320,240,15,40,200),"240p_3":Lk(240,240,15,40,140),"240p_4":Lk(424,240,15,40,220),"360p":Lk(640,360,15,80,400),"360p_1":Lk(640,360,15,80,400),"360p_3":Lk(360,360,15,80,260),"360p_4":Lk(640,360,30,80,600),"360p_6":Lk(360,360,30,80,400),"360p_7":Lk(480,360,15,80,320),"360p_8":Lk(480,360,30,80,490),"360p_9":Lk(640,360,15,80,800),"360p_10":Lk(640,360,24,80,800),"360p_11":Lk(640,360,24,80,1e3),"480p":Lk(640,480,15,100,500),"480p_1":Lk(640,480,15,100,500),"480p_2":Lk(640,480,30,100,1e3),"480p_3":Lk(480,480,15,100,400),"480p_4":Lk(640,480,30,100,750),"480p_6":Lk(480,480,30,100,600),"480p_8":Lk(848,480,15,100,610),"480p_9":Lk(848,480,30,100,930),"480p_10":Lk(640,480,10,100,400),"720p":Lk(1280,720,15,120,1130),"720p_1":Lk(1280,720,15,120,1130),"720p_2":Lk(1280,720,30,120,2e3),"720p_3":Lk(1280,720,30,120,1710),"720p_5":Lk(960,720,15,120,910),"720p_6":Lk(960,720,30,120,1380),"1080p":Lk(1920,1080,15,120,2080),"1080p_1":Lk(1920,1080,15,120,2080),"1080p_2":Lk(1920,1080,30,120,3e3),"1080p_3":Lk(1920,1080,30,120,3150),"1080p_5":Lk(1920,1080,60,120,4780),"1440p":Lk(2560,1440,30,120,4850),"1440p_1":Lk(2560,1440,30,120,4850),"1440p_2":Lk(2560,1440,60,120,7350),"4k":Lk(3840,2160,30,120,8910),"4k_1":Lk(3840,2160,30,120,8910),"4k_3":Lk(3840,2160,60,120,13500)},wk={"480p":jk(640,480,5),"480p_1":jk(640,480,5),"480p_2":jk(640,480,30),"480p_3":jk(640,480,15),"720p":jk(1280,720,5),"720p_1":jk(1280,720,5),"720p_2":jk(1280,720,30),"720p_3":jk(1280,720,15),"1080p":jk(1920,1080,5),"1080p_1":jk(1920,1080,5),"1080p_2":jk(1920,1080,30),"1080p_3":jk(1920,1080,15)},Sk={"1SL1TL":Mk(1,1),"3SL3TL":Mk(3,3),"2SL3TL":Mk(2,3)};function Ck(e){return"string"==typeof e?Object.assign({},_k[e]):e}function Ik(e){return"string"==typeof e?Object.assign({},wk[e]):e}function Ok(e){return"string"==typeof e?Object.assign({},Sk[e]):e}const Tk={speech_low_quality:xk(16e3,!1),speech_standard:xk(32e3,!1,18),music_standard:xk(48e3,!1),standard_stereo:xk(48e3,!0,56),high_quality:xk(48e3,!1,128),high_quality_stereo:xk(48e3,!0,192)};function Rk(e){return"string"==typeof e?Object.assign({},Tk[e]):e}function Nk(e,t,n){Object.keys(kk).includes(e)&&(!n&&Object.keys(Dk).includes(e)||(kk[e]=t))}function Pk(e){return kk[e]}const kk={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TCC:!0,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION:2e3,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0},Dk={};function xk(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function Lk(e,t,n,r,o){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:o}}function jk(e,t,n,r,o){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:o}}function Mk(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}bk||(kk.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],kk.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],kk.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],kk.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],kk.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],kk.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],kk.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",kk.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",kk.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",kk.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",kk.AREAS=["NORTH_AMERICA","OVERSEA"]);const Bk=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],Fk=[],Uk=[];var Vk=Wl,Wk=md,Hk=ru,Qk=function(e,t,n){var r=Vk(t);r in e?Wk.f(e,r,Hk(0,n)):e[r]=n},Gk=mv,Kk=nf,qk=Qk,zk=Fc.Array,Yk=Math.max,Jk=function(e,t,n){for(var r=Kk(e),o=Gk(t,r),i=Gk(void 0===n?r:n,r),a=zk(Yk(i-o,0)),s=0;o<i;o++,s++)qk(a,s,e[o]);return a.length=s,a},Xk=Jk,Zk=Math.floor,$k=function(e,t){var n=e.length,r=Zk(n/2);return n<8?eD(e,t):tD(e,$k(Xk(e,0,r),t),$k(Xk(e,r),t),t)},eD=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},tD=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e},nD=$k,rD=Ou.match(/firefox\/(\d+)/i),oD=!!rD&&+rD[1],iD=/MSIE|Trident/.test(Ou),aD=Ou.match(/AppleWebKit\/(\d+)\./),sD=!!aD&&+aD[1],cD=Yd,uD=jc,lD=Ju,dD=fl,fD=nf,pD=py,hD=Rc,gD=nD,vD=ff,mD=oD,yD=iD,AD=xu,bD=sD,ED=[],_D=uD(ED.sort),wD=uD(ED.push),SD=hD((function(){ED.sort(void 0)})),CD=hD((function(){ED.sort(null)})),ID=vD("sort"),OD=!hD((function(){if(AD)return AD<70;if(!(mD&&mD>3)){if(yD)return!0;if(bD)return bD<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)ED.push({k:t+r,v:n})}for(ED.sort((function(e,t){return t.v-e.v})),r=0;r<ED.length;r++)t=ED[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));cD({target:"Array",proto:!0,forced:SD||!CD||!ID||!OD},{sort:function(e){void 0!==e&&lD(e);var t=dD(this);if(OD)return void 0===e?_D(t):_D(t,e);var n,r,o=[],i=fD(t);for(r=0;r<i;r++)r in t&&wD(o,t[r]);for(gD(o,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:pD(t)>pD(n)?1:-1}}(e)),n=o.length,r=0;r<n;)t[r]=o[r++];for(;r<i;)delete t[r++];return t}});var TD=yf("Array").sort,RD=Mc,ND=TD,PD=Array.prototype,kD=function(e){var t=e.sort;return e===PD||RD(PD,e)&&t===PD.sort?ND:t};function DD(e,t){if("boolean"!=typeof e)throw new BP(MP.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function xD(e,t,n){if(!n.includes(e))throw new BP(MP.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function LD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e<n||e>r||o&&!HD(e))throw new BP(MP.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function jD(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new BP(MP.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&LD(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&LD(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&LD(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&LD(e.ideal,"".concat(t,".ideal"),1,1/0)}else LD(e,t,1,1/0)}function MD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new BP(MP.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!WD(e,n,r,o))throw new BP(MP.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(o?" ASCII characters only.":""))}function BD(e,t){if(!Array.isArray(e))throw new BP(MP.INVALID_PARAMS,"".concat(t," should be an array"))}function FD(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw KP.error("Invalid Channel Name ".concat(e)),new BP(MP.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function UD(e){if(t=e,!("number"==typeof t&&Math.floor(t)===t&&0<=t&&t<=4294967295||WD(e,1,255)))throw KP.error("Invalid UID ".concat(e," ").concat(typeof e)),new BP(MP.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&KP.warning("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}function VD(e){return null==e}function WD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||QD(e))}function HD(e){return"number"==typeof e&&e%1==0}function QD(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}let GD,KD,qD;!function(e){e.FREE="free",e.UPLOADING="uploading"}(GD||(GD={})),function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}(KD||(KD={})),function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata"}(qD||(qD={}));const zD={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};function YD(e){return MD(e.reportId,"params.reportId",0,100,!1),MD(e.category,"params.category",0,100,!1),MD(e.event,"params.event",0,100,!1),MD(e.label,"params.label",0,100,!1),LD(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}const JD={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let XD,ZD,$D,ex,tx,nx,rx,ox,ix,ax,sx,cx,ux,lx,dx,fx,px,hx,gx,vx,mx,yx,Ax,bx;function Ex(e){return LD(e.timeout,"config.timeout",0,1e5),LD(e.timeoutFactor,"config.timeoutFactor",0,100,!1),LD(e.maxRetryCount,"config.maxRetryConfig",0,1/0),LD(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function _x(e){return xD(e.codec,"config.codec",["vp8","vp9","av1","h264"]),xD(e.mode,"config.mode",["rtc","live"]),void 0!==e.audioCodec&&xD(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&MD(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&Sx(e.turnServer),void 0!==e.httpRetryConfig&&Ex(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&Ex(e.websocketRetryConfig),!0}function wx(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function Sx(e){return MD(e.turnServerURL,"turnServerURL"),MD(e.username,"username"),MD(e.password,"password"),e.udpport&&LD(e.udpport,"udpport",1,99999,!0),e.forceturn&&DD(e.forceturn,"forceturn"),e.security&&DD(e.security,"security"),e.tcpport&&LD(e.tcpport,"tcpport",1,99999,!0),!0}function Cx(e){return void 0!==e.level&&xD(e.level,"level",[1,2,3]),!0}!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics"}(XD||(XD={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed"}(ZD||(ZD={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}($D||($D={})),function(e){e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(ex||(ex={})),function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",e.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage"}(tx||(tx={})),function(e){e.TRACER="tracer"}(nx||(nx={})),function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(rx||(rx={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(ox||(ox={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(ix||(ix={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(ax||(ax={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(sx||(sx={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(cx||(cx={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(ux||(ux={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(lx||(lx={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK"}(dx||(dx={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result"}(fx||(fx={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(px||(px={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}(hx||(hx={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response"}(gx||(gx={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.SUBSCRIBE="subscribe",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter"}(vx||(vx={})),function(e){e.PUBLISH_STATS="publish_stats",e.PUBLISH_RELATED_STATS="publish_related_stats",e.SUBSCRIBE_STATS="subscribe_stats",e.SUBSCRIBE_RELATED_STATS="subscribe_related_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.TRANSPORT_STATS="transport_stats"}(mx||(mx={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list"}(yx||(yx={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(Ax||(Ax={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source"}(bx||(bx={}));const Ix={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,currentPacketLossRate:0},Ox={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},Tx={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},Rx={uplinkNetworkQuality:0,downlinkNetworkQuality:0},Nx={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let Px,kx,Dx;!function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(Px||(Px={})),function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(kx||(kx={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",e[e.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",e[e.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(Dx||(Dx={}));const xx={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},Lx={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function jx(e,t){MD(e.url,"".concat(t,".url"),1,1e3,!1),VD(e.x)||LD(e.x,"".concat(t,".x"),0,1e4),VD(e.y)||LD(e.y,"".concat(t,".y"),0,1e4),VD(e.width)||LD(e.width,"".concat(t,".width"),0,1e4),VD(e.height)||LD(e.height,"".concat(t,".height"),0,1e4),VD(e.zOrder)||LD(e.zOrder,"".concat(t,".zOrder"),0,255),VD(e.alpha)||LD(e.alpha,"".concat(t,".alpha"),0,1,!1)}const Mx={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},Bx={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};let Fx,Ux,Vx,Wx,Hx,Qx,Gx,Kx,qx,zx,Yx,Jx,Xx,Zx,$x,eL,tL,nL;function rL(e){if(!e.channelName)throw new BP(MP.INVALID_PARAMS,"invalid channelName in info");if(!e.uid||"number"!=typeof e.uid)throw new BP(MP.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&MD(e.token,"info.token",1,2047),UD(e.uid),FD(e.channelName),!0}function oL(e){return xD(e,"mediaSource",["screen","window","application"]),!0}!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(Fx||(Fx={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(Ux||(Ux={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(Vx||(Vx={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(Wx||(Wx={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(Hx||(Hx={})),function(e){e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(Qx||(Qx={})),function(e){e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(Gx||(Gx={})),function(e){e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}(Kx||(Kx={})),function(e){e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low"}(qx||(qx={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response"}(zx||(zx={})),function(e){e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data"}(Yx||(Yx={})),function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track"}(Jx||(Jx={})),function(e){e.SCREEN_TRACK="screen_track",e.LOW_STREAM="low_stream"}(Xx||(Xx={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(Zx||(Zx={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY"}($x||($x={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed"}(eL||(eL={})),function(e){e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status"}(tL||(tL={})),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(nL||(nL={}));const iL=[nL.AFRICA,nL.ASIA,nL.CHINA,nL.EUROPE,nL.GLOBAL,nL.INDIA,nL.JAPAN,nL.NORTH_AMERICA,nL.OCEANIA,nL.OVERSEA,nL.SOUTH_AMERICA];let aL;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(aL||(aL={}));const sL={CHINA:{},ASIA:{CODE:aL.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:aL.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:aL.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:aL.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:aL.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:aL.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:aL.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:aL.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:aL.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:aL.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:aL.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:aL.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:aL.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};let cL,uL,lL,dL,fL,pL,hL,gL;bk&&(sL.CHINA={CODE:aL.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),function(e){e.UPDATE_BITRATE_LIMIT="update_bitrate_limit"}(cL||(cL={}));class vL extends LP{constructor(e,t){super(),LR(this,"onICEConnectionStateChange",void 0),LR(this,"onConnectionStateChange",void 0),LR(this,"onDTLSTransportStateChange",void 0),LR(this,"onDTLSTransportError",void 0),LR(this,"onICETransportStateChange",void 0),LR(this,"onFirstAudioReceived",void 0),LR(this,"onFirstVideoReceived",void 0),LR(this,"onFirstAudioDecoded",void 0),LR(this,"onFirstVideoDecoded",void 0),LR(this,"onFirstVideoDecodedTimeout",void 0),LR(this,"onSelectedLocalCandidateChanged",void 0),LR(this,"onSelectedRemoteCandidateChanged",void 0)}}!function(e){e.SEND="sendonly",e.RECV="recvonly",e.SENDRECV="sendrecv",e.INACTIVE="inactive"}(uL||(uL={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(lL||(lL={})),function(e){e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack"}(dL||(dL={})),function(e){e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected"}(fL||(fL={})),function(e){e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter"}(pL||(pL={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(hL||(hL={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(gL||(gL={}));const mL={join:["startJoin","startRequestAp","startJoinGateway","finishJoin"],publish:["startPublish"]};let yL,AL,bL,EL,_L;!function(e){e.ON_TRACK="on_track",e.ON_NODE="on_node"}(yL||(yL={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints"}(AL||(AL={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(bL||(bL={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(EL||(EL={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(_L||(_L={}));const wL={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1};function SL(){return wL}var CL="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,IL=qn,OL=er,TL=r.RangeError,RL=function(e){if(void 0===e)return 0;var t=IL(e),n=OL(t);if(t!==n)throw TL("Wrong length or index");return n},NL=r.Array,PL=Math.abs,kL=Math.pow,DL=Math.floor,xL=Math.log,LL=Math.LN2,jL={pack:function(e,t,n){var r,o,i,a=NL(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?kL(2,-24)-kL(2,-77):0,d=e<0||0===e&&1/e<0?1:0,f=0;for((e=PL(e))!=e||e===1/0?(o=e!=e?1:0,r=c):(r=DL(xL(e)/LL),e*(i=kL(2,-r))<1&&(r--,i*=2),(e+=r+u>=1?l/i:l*kL(2,1-u))*i>=2&&(r++,i/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(e*i-1)*kL(2,t),r+=u):(o=e*kL(2,u-1)*kL(2,t),r=0));t>=8;)a[f++]=255&o,o/=256,t-=8;for(r=r<<t|o,s+=t;s>0;)a[f++]=255&r,r/=256,s-=8;return a[--f]|=128*d,a},unpack:function(e,t){var n,r=e.length,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;)l=256*l+e[c--],s-=8;for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;)n=256*n+e[c--],s-=8;if(0===l)l=1-a;else{if(l===i)return n?NaN:u?-1/0:1/0;n+=kL(2,t),l-=a}return(u?-1:1)*n*kL(2,l-t)}},ML=De,BL=Xn,FL=nr,UL=ut,VL=Ct,WL=m,HL=Xn,QL=nr,GL=function(e,t,n){var r=UL(t);r in e?VL.f(e,r,WL(0,n)):e[r]=n},KL=r.Array,qL=Math.max,zL=function(e,t,n){for(var r=QL(e),o=HL(t,r),i=HL(void 0===n?r:n,r),a=KL(qL(i-o,0)),s=0;o<i;o++,s++)GL(a,s,e[o]);return a.length=s,a},YL=r,JL=w,XL=a,ZL=CL,$L=Dn,ej=Gt,tj=zr,nj=i,rj=go,oj=qn,ij=er,aj=RL,sj=jL,cj=qp,uj=no,lj=Qn.f,dj=Ct.f,fj=function(e){for(var t=ML(this),n=FL(t),r=arguments.length,o=BL(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,a=void 0===i?n:BL(i,n);a>o;)t[o++]=e;return t},pj=zL,hj=ao,gj=$L.PROPER,vj=$L.CONFIGURABLE,mj=On.get,yj=On.set,Aj="ArrayBuffer",bj="DataView",Ej="Wrong index",_j=YL.ArrayBuffer,wj=_j,Sj=wj&&wj.prototype,Cj=YL.DataView,Ij=Cj&&Cj.prototype,Oj=Object.prototype,Tj=YL.Array,Rj=YL.RangeError,Nj=JL(fj),Pj=JL([].reverse),kj=sj.pack,Dj=sj.unpack,xj=function(e){return[255&e]},Lj=function(e){return[255&e,e>>8&255]},jj=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Mj=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Bj=function(e){return kj(e,23,4)},Fj=function(e){return kj(e,52,8)},Uj=function(e,t){dj(e.prototype,t,{get:function(){return mj(this)[t]}})},Vj=function(e,t,n,r){var o=aj(n),i=mj(e);if(o+t>i.byteLength)throw Rj(Ej);var a=mj(i.buffer).bytes,s=o+i.byteOffset,c=pj(a,s,s+t);return r?c:Pj(c)},Wj=function(e,t,n,r,o,i){var a=aj(n),s=mj(e);if(a+t>s.byteLength)throw Rj(Ej);for(var c=mj(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),d=0;d<t;d++)c[u+d]=l[i?d:t-d-1]};if(ZL){var Hj=gj&&_j.name!==Aj;if(nj((function(){_j(1)}))&&nj((function(){new _j(-1)}))&&!nj((function(){return new _j,new _j(1.5),new _j(NaN),Hj&&!vj})))Hj&&vj&&ej(_j,"name",Aj);else{(wj=function(e){return rj(this,Sj),new _j(aj(e))}).prototype=Sj;for(var Qj,Gj=lj(_j),Kj=0;Gj.length>Kj;)(Qj=Gj[Kj++])in wj||ej(wj,Qj,_j[Qj]);Sj.constructor=wj}uj&&cj(Ij)!==Oj&&uj(Ij,Oj);var qj=new Cj(new wj(2)),zj=JL(Ij.setInt8);qj.setInt8(0,2147483648),qj.setInt8(1,2147483649),!qj.getInt8(0)&&qj.getInt8(1)||tj(Ij,{setInt8:function(e,t){zj(this,e,t<<24>>24)},setUint8:function(e,t){zj(this,e,t<<24>>24)}},{unsafe:!0})}else Sj=(wj=function(e){rj(this,Sj);var t=aj(e);yj(this,{bytes:Nj(Tj(t),0),byteLength:t}),XL||(this.byteLength=t)}).prototype,Ij=(Cj=function(e,t,n){rj(this,Ij),rj(e,Sj);var r=mj(e).byteLength,o=oj(t);if(o<0||o>r)throw Rj("Wrong offset");if(o+(n=void 0===n?r-o:ij(n))>r)throw Rj("Wrong length");yj(this,{buffer:e,byteLength:n,byteOffset:o}),XL||(this.buffer=e,this.byteLength=n,this.byteOffset=o)}).prototype,XL&&(Uj(wj,"byteLength"),Uj(Cj,"buffer"),Uj(Cj,"byteLength"),Uj(Cj,"byteOffset")),tj(Ij,{getInt8:function(e){return Vj(this,1,e)[0]<<24>>24},getUint8:function(e){return Vj(this,1,e)[0]},getInt16:function(e){var t=Vj(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Vj(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Mj(Vj(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Mj(Vj(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Dj(Vj(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Dj(Vj(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Wj(this,1,e,xj,t)},setUint8:function(e,t){Wj(this,1,e,xj,t)},setInt16:function(e,t){Wj(this,2,e,Lj,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Wj(this,2,e,Lj,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Wj(this,4,e,jj,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Wj(this,4,e,jj,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Wj(this,4,e,Bj,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Wj(this,8,e,Fj,t,arguments.length>2?arguments[2]:void 0)}});hj(wj,Aj),hj(Cj,bj);var Yj={ArrayBuffer:wj,DataView:Cj},Jj=Gr,Xj=w,Zj=i,$j=Pt,eM=Xn,tM=er,nM=Bi,rM=Yj.ArrayBuffer,oM=Yj.DataView,iM=oM.prototype,aM=Xj(rM.prototype.slice),sM=Xj(iM.getUint8),cM=Xj(iM.setUint8);Jj({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Zj((function(){return!new rM(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(aM&&void 0===t)return aM($j(this),e);for(var n=$j(this).byteLength,r=eM(e,n),o=eM(void 0===t?n:t,n),i=new(nM(this,rM))(tM(o-r)),a=new oM(this),s=new oM(i),c=0;r<o;)cM(s,c++,sM(a,r++));return i}});var uM,lM,dM,fM={exports:{}},pM=CL,hM=a,gM=r,vM=F,mM=V,yM=je,AM=Do,bM=fe,EM=Gt,_M=Kt.exports,wM=Ct.f,SM=K,CM=qp,IM=no,OM=Ze,TM=Ve,RM=gM.Int8Array,NM=RM&&RM.prototype,PM=gM.Uint8ClampedArray,kM=PM&&PM.prototype,DM=RM&&CM(RM),xM=NM&&CM(NM),LM=Object.prototype,jM=gM.TypeError,MM=OM("toStringTag"),BM=TM("TYPED_ARRAY_TAG"),FM=TM("TYPED_ARRAY_CONSTRUCTOR"),UM=pM&&!!IM&&"Opera"!==AM(gM.opera),VM=!1,WM={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},HM={BigInt64Array:8,BigUint64Array:8},QM=function(e){if(!mM(e))return!1;var t=AM(e);return yM(WM,t)||yM(HM,t)};for(uM in WM)(dM=(lM=gM[uM])&&lM.prototype)?EM(dM,FM,lM):UM=!1;for(uM in HM)(dM=(lM=gM[uM])&&lM.prototype)&&EM(dM,FM,lM);if((!UM||!vM(DM)||DM===Function.prototype)&&(DM=function(){throw jM("Incorrect invocation")},UM))for(uM in WM)gM[uM]&&IM(gM[uM],DM);if((!UM||!xM||xM===LM)&&(xM=DM.prototype,UM))for(uM in WM)gM[uM]&&IM(gM[uM].prototype,xM);if(UM&&CM(kM)!==xM&&IM(kM,xM),hM&&!yM(xM,MM))for(uM in VM=!0,wM(xM,MM,{get:function(){return mM(this)?this[BM]:void 0}}),WM)gM[uM]&&EM(gM[uM],BM,uM);var GM={NATIVE_ARRAY_BUFFER_VIEWS:UM,TYPED_ARRAY_CONSTRUCTOR:FM,TYPED_ARRAY_TAG:VM&&BM,aTypedArray:function(e){if(QM(e))return e;throw jM("Target is not a typed array")},aTypedArrayConstructor:function(e){if(vM(e)&&(!IM||SM(DM,e)))return e;throw jM(bM(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(hM){if(n)for(var o in WM){var i=gM[o];if(i&&yM(i.prototype,e))try{delete i.prototype[e]}catch(n){try{i.prototype[e]=t}catch(e){}}}xM[e]&&!n||_M(xM,e,n?t:UM&&NM[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(hM){if(IM){if(n)for(r in WM)if((o=gM[r])&&yM(o,e))try{delete o[e]}catch(e){}if(DM[e]&&!n)return;try{return _M(DM,e,n?t:UM&&DM[e]||t)}catch(e){}}for(r in WM)!(o=gM[r])||o[e]&&!n||_M(o,e,t)}},isView:function(e){if(!mM(e))return!1;var t=AM(e);return"DataView"===t||yM(WM,t)||yM(HM,t)},isTypedArray:QM,TypedArray:DM,TypedArrayPrototype:xM},KM=r,qM=i,zM=fi,YM=GM.NATIVE_ARRAY_BUFFER_VIEWS,JM=KM.ArrayBuffer,XM=KM.Int8Array,ZM=!YM||!qM((function(){XM(1)}))||!qM((function(){new XM(-1)}))||!zM((function(e){new XM,new XM(null),new XM(1.5),new XM(e)}),!0)||qM((function(){return 1!==new XM(new JM(2),1,void 0).length})),$M=V,eB=Math.floor,tB=Number.isInteger||function(e){return!$M(e)&&isFinite(e)&&eB(e)===e},nB=qn,rB=r.RangeError,oB=function(e){var t=nB(e);if(t<0)throw rB("The argument can't be less than 0");return t},iB=r.RangeError,aB=function(e,t){var n=oB(e);if(n%t)throw iB("Wrong offset");return n},sB=Ao,cB=l,uB=xi,lB=De,dB=nr,fB=Go,pB=Bo,hB=So,gB=GM.aTypedArrayConstructor,vB=O,mB=r,yB=Array.isArray||function(e){return"Array"==vB(e)},AB=Ni,bB=V,EB=Ze("species"),_B=mB.Array,wB=function(e){var t;return yB(e)&&(t=e.constructor,(AB(t)&&(t===_B||yB(t.prototype))||bB(t)&&null===(t=t[EB]))&&(t=void 0)),void 0===t?_B:t},SB=Ao,CB=D,IB=De,OB=nr,TB=function(e,t){return new(wB(e))(0===t?0:t)},RB=w([].push),NB=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(c,u,l,d){for(var f,p,h=IB(c),g=CB(h),v=SB(u,l),m=OB(g),y=0,A=d||TB,b=t?A(c,m):n||a?A(c,0):void 0;m>y;y++)if((s||y in g)&&(p=v(f=g[y],y,h),e))if(t)b[y]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:RB(b,f)}else switch(e){case 4:return!1;case 7:RB(b,f)}return i?-1:r||o?o:b}},PB={forEach:NB(0),map:NB(1),filter:NB(2),some:NB(3),every:NB(4),find:NB(5),findIndex:NB(6),filterReject:NB(7)},kB=Gr,DB=r,xB=l,LB=a,jB=ZM,MB=GM,BB=Yj,FB=go,UB=m,VB=Gt,WB=tB,HB=er,QB=RL,GB=aB,KB=ut,qB=je,zB=Do,YB=V,JB=le,XB=rp,ZB=K,$B=no,eF=Qn.f,tF=function(e){var t,n,r,o,i,a,s=uB(this),c=lB(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=pB(c);if(f&&!hB(f))for(a=(i=fB(c,f)).next,c=[];!(o=cB(a,i)).done;)c.push(o.value);for(d&&u>2&&(l=sB(l,arguments[2])),n=dB(c),r=new(gB(s))(n),t=0;n>t;t++)r[t]=d?l(c[t],t):c[t];return r},nF=PB.forEach,rF=fo,oF=Ct,iF=o,aF=ng,sF=On.get,cF=On.set,uF=oF.f,lF=iF.f,dF=Math.round,fF=DB.RangeError,pF=BB.ArrayBuffer,hF=pF.prototype,gF=BB.DataView,vF=MB.NATIVE_ARRAY_BUFFER_VIEWS,mF=MB.TYPED_ARRAY_CONSTRUCTOR,yF=MB.TYPED_ARRAY_TAG,AF=MB.TypedArray,bF=MB.TypedArrayPrototype,EF=MB.aTypedArrayConstructor,_F=MB.isTypedArray,wF="BYTES_PER_ELEMENT",SF="Wrong length",CF=function(e,t){EF(e);for(var n=0,r=t.length,o=new e(r);r>n;)o[n]=t[n++];return o},IF=function(e,t){uF(e,t,{get:function(){return sF(this)[t]}})},OF=function(e){var t;return ZB(hF,e)||"ArrayBuffer"==(t=zB(e))||"SharedArrayBuffer"==t},TF=function(e,t){return _F(e)&&!JB(t)&&t in e&&WB(+t)&&t>=0},RF=function(e,t){return t=KB(t),TF(e,t)?UB(2,e[t]):lF(e,t)},NF=function(e,t,n){return t=KB(t),!(TF(e,t)&&YB(n)&&qB(n,"value"))||qB(n,"get")||qB(n,"set")||n.configurable||qB(n,"writable")&&!n.writable||qB(n,"enumerable")&&!n.enumerable?uF(e,t,n):(e[t]=n.value,e)};LB?(vF||(iF.f=RF,oF.f=NF,IF(bF,"buffer"),IF(bF,"byteOffset"),IF(bF,"byteLength"),IF(bF,"length")),kB({target:"Object",stat:!0,forced:!vF},{getOwnPropertyDescriptor:RF,defineProperty:NF}),fM.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,o=e+(n?"Clamped":"")+"Array",i="get"+e,a="set"+e,s=DB[o],c=s,u=c&&c.prototype,l={},d=function(e,t){uF(e,t,{get:function(){return function(e,t){var n=sF(e);return n.view[i](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,o){var i=sF(e);n&&(o=(o=dF(o))<0?0:o>255?255:255&o),i.view[a](t*r+i.byteOffset,o,!0)}(this,t,e)},enumerable:!0})};vF?jB&&(c=t((function(e,t,n,o){return FB(e,u),aF(YB(t)?OF(t)?void 0!==o?new s(t,GB(n,r),o):void 0!==n?new s(t,GB(n,r)):new s(t):_F(t)?CF(c,t):xB(tF,c,t):new s(QB(t)),e,c)})),$B&&$B(c,AF),nF(eF(s),(function(e){e in c||VB(c,e,s[e])})),c.prototype=u):(c=t((function(e,t,n,o){FB(e,u);var i,a,s,l=0,f=0;if(YB(t)){if(!OF(t))return _F(t)?CF(c,t):xB(tF,c,t);i=t,f=GB(n,r);var p=t.byteLength;if(void 0===o){if(p%r)throw fF(SF);if((a=p-f)<0)throw fF(SF)}else if((a=HB(o)*r)+f>p)throw fF(SF);s=a/r}else s=QB(t),i=new pF(a=s*r);for(cF(e,{buffer:i,byteOffset:f,byteLength:a,length:s,view:new gF(i)});l<s;)d(e,l++)})),$B&&$B(c,AF),u=c.prototype=XB(bF)),u.constructor!==c&&VB(u,"constructor",c),VB(u,mF,c),yF&&VB(u,yF,o),l[o]=c,kB({global:!0,forced:c!=s,sham:!vF},l),wF in c||VB(c,wF,r),wF in u||VB(u,wF,r),rF(o)}):fM.exports=function(){},(0,fM.exports)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var PF=nr,kF=qn,DF=GM.aTypedArray;(0,GM.exportTypedArrayMethod)("at",(function(e){var t=DF(this),n=PF(t),r=kF(e),o=r>=0?r:n+r;return o<0||o>=n?void 0:t[o]}));var xF=r,LF=l,jF=GM,MF=nr,BF=aB,FF=De,UF=i,VF=xF.RangeError,WF=xF.Int8Array,HF=WF&&WF.prototype,QF=HF&&HF.set,GF=jF.aTypedArray,KF=jF.exportTypedArrayMethod,qF=!UF((function(){var e=new Uint8ClampedArray(2);return LF(QF,e,{length:1,0:3},1),3!==e[1]})),zF=qF&&jF.NATIVE_ARRAY_BUFFER_VIEWS&&UF((function(){var e=new WF(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));KF("set",(function(e){GF(this);var t=BF(arguments.length>1?arguments[1]:void 0,1),n=FF(e);if(qF)return LF(QF,this,n,t);var r=this.length,o=MF(n),i=0;if(o+t>r)throw VF("Wrong length");for(;i<o;)this[t+i]=n[i++]}),!qF||zF);var YF=zL,JF=Math.floor,XF=function(e,t){var n=e.length,r=JF(n/2);return n<8?ZF(e,t):$F(e,XF(YF(e,0,r),t),XF(YF(e,r),t),t)},ZF=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},$F=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e},eU=XF,tU=q.match(/firefox\/(\d+)/i),nU=!!tU&&+tU[1],rU=/MSIE|Trident/.test(q),oU=q.match(/AppleWebKit\/(\d+)\./),iU=!!oU&&+oU[1],aU=r,sU=w,cU=i,uU=ve,lU=eU,dU=GM,fU=nU,pU=rU,hU=ee,gU=iU,vU=aU.Array,mU=dU.aTypedArray,yU=dU.exportTypedArrayMethod,AU=aU.Uint16Array,bU=AU&&sU(AU.prototype.sort),EU=!(!bU||cU((function(){bU(new AU(2),null)}))&&cU((function(){bU(new AU(2),{})}))),_U=!!bU&&!cU((function(){if(hU)return hU<74;if(fU)return fU<67;if(pU)return!0;if(gU)return gU<602;var e,t,n=new AU(516),r=vU(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(bU(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));yU("sort",(function(e){return void 0!==e&&uU(e),_U?bU(this,e):lU(mU(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!_U||EU);var wU=fo,SU="ArrayBuffer",CU=Yj.ArrayBuffer;let IU;Gr({global:!0,forced:r.ArrayBuffer!==CU},{ArrayBuffer:CU}),wU(SU),function(e){e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"}(IU||(IU={}));var OU=su,TU=Array.isArray||function(e){return"Array"==OU(e)},RU=Fc,NU=TU,PU=Gb,kU=bu,DU=Pl("species"),xU=RU.Array,LU=function(e){var t;return NU(e)&&(t=e.constructor,(PU(t)&&(t===xU||NU(t.prototype))||kU(t)&&null===(t=t[DU]))&&(t=void 0)),void 0===t?xU:t},jU=function(e,t){return new(LU(e))(0===t?0:t)},MU=vd,BU=pu,FU=fl,UU=nf,VU=jU,WU=jc([].push),HU=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(c,u,l,d){for(var f,p,h=FU(c),g=BU(h),v=MU(u,l),m=UU(g),y=0,A=d||VU,b=t?A(c,m):n||a?A(c,0):void 0;m>y;y++)if((s||y in g)&&(p=v(f=g[y],y,h),e))if(t)b[y]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:WU(b,f)}else switch(e){case 4:return!1;case 7:WU(b,f)}return i?-1:r||o?o:b}},QU={forEach:HU(0),map:HU(1),filter:HU(2),some:HU(3),every:HU(4),find:HU(5),findIndex:HU(6),filterReject:HU(7)},GU=QU.forEach,KU=ff("forEach")?[].forEach:function(e){return GU(this,e,arguments.length>1?arguments[1]:void 0)};Yd({target:"Array",proto:!0,forced:[].forEach!=KU},{forEach:KU});var qU=yf("Array").forEach,zU=xm,YU=gl,JU=Mc,XU=qU,ZU=Array.prototype,$U={DOMTokenList:!0,NodeList:!0},eV=function(e){var t=e.forEach;return e===ZU||JU(ZU,e)&&t===ZU.forEach||YU($U,zU(e))?XU:t},tV=fl,nV=qv;Yd({target:"Object",stat:!0,forced:Rc((function(){nV(1)}))},{keys:function(e){return nV(tV(e))}});var rV=Eu.Object.keys,oV=wf,iV=Yd,aV=TU,sV=jc([].reverse),cV=[1,2];iV({target:"Array",proto:!0,forced:String(cV)===String(cV.reverse())},{reverse:function(){return aV(this)&&(this.length=this.length),sV(this)}});var uV=yf("Array").reverse,lV=Mc,dV=uV,fV=Array.prototype,pV=function(e){var t=e.reverse;return e===fV||lV(fV,e)&&t===fV.reverse?dV:t},hV=Rc,gV=xu,vV=Pl("species"),mV=function(e){return gV>=51||!hV((function(){var t=[];return(t.constructor={})[vV]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},yV=Yd,AV=Fc,bV=TU,EV=Gb,_V=bu,wV=mv,SV=nf,CV=yu,IV=Qk,OV=Pl,TV=$b,RV=mV("slice"),NV=OV("species"),PV=AV.Array,kV=Math.max;yV({target:"Array",proto:!0,forced:!RV},{slice:function(e,t){var n,r,o,i=CV(this),a=SV(i),s=wV(e,a),c=wV(void 0===t?a:t,a);if(bV(i)&&(n=i.constructor,(EV(n)&&(n===PV||bV(n.prototype))||_V(n)&&null===(n=n[NV]))&&(n=void 0),n===PV||void 0===n))return TV(i,s,c);for(r=new(void 0===n?PV:n)(kV(c-s,0)),o=0;s<c;s++,o++)s in i&&IV(r,o,i[s]);return r.length=o,r}});var DV=yf("Array").slice,xV=Mc,LV=DV,jV=Array.prototype,MV=function(e){var t=e.slice;return e===jV||xV(jV,e)&&t===jV.slice?LV:t};function BV(e,t,n,r,o){var i,a,s,c={};return eV(i=rV(r)).call(i,(function(e){c[e]=r[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=oV(a=pV(s=MV(n).call(n)).call(s)).call(a,(function(n,r){return r(e,t,n)||n}),c),o&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(o):void 0,c.initializer=void 0),void 0===c.initializer&&(xR(e,t,c),c=null),c}var FV=yf("Array").keys,UV=xm,VV=gl,WV=Mc,HV=FV,QV=Array.prototype,GV={DOMTokenList:!0,NodeList:!0},KV=function(e){var t=e.keys;return e===QV||WV(QV,e)&&t===QV.keys||VV(GV,UV(e))?HV:t};function qV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qV(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let YV=0,JV=0;function XV(e,t,n,r){return new iS(((o,i)=>{t.timeout=t.timeout||Pk("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),YV+=gQ(t.data)):n&&(t.data.size?YV+=t.data.size:t.data instanceof FormData?YV+=function(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?gQ(e):e.size})),t+138}(t.data):YV+=gQ(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,DP.request(t).then((e=>{"string"==typeof e.data?JV+=gQ(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?JV+=e.data.byteLength:JV+=gQ(JSON.stringify(e.data)),r&&o({data:e.data,headers:e.headers}),o(e.data)})).catch((e=>{DP.isCancel(e)?i(new BP(MP.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?i(new BP(MP.NETWORK_TIMEOUT,e.message)):e.response?i(new BP(MP.NETWORK_RESPONSE_ERROR,e.response.status)):i(new BP(MP.NETWORK_ERROR,e.message))}))}))}async function ZV(e,t){const n=new Blob([t.data],{type:"buffer"});return await XV(e,zV(zV({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const $V=new class extends LP{set networkState(e){KP.info("[".concat(this._moduleName,"]")+"network state changed, "+this._networkState+" -> "+e),this.emit(gL.NETWORK_STATE_CHANGE,e,this._networkState),e===hL.ONLINE?this.emit(gL.ONLINE):e===hL.OFFLINE&&(this.onlineWaiter=new iS((e=>{this.once(gL.ONLINE,(()=>{this.onlineWaiter=void 0,e(hL.ONLINE)}))})),this.emit(gL.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}constructor(){super(),LR(this,"_moduleName","network-indicator"),LR(this,"_networkState",hL.ONLINE),LR(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=hL.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=hL.OFFLINE}))}};let eW=!1;const tW=new class extends LP{constructor(){super(...arguments),LR(this,"onAutoplayFailed",void 0),LR(this,"onAudioAutoplayFailed",void 0)}};function nW(){const e=aR();if(!eW){const t=n=>{n.preventDefault(),eW=!1,"Android"!==e.os||"Chrome"!==e.name&&e.name!==nR.WECHAT?(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0)):document.body.removeEventListener("click",t,!0)};eW=!0,"Android"!==e.os||"Chrome"!==e.name&&e.name!==nR.WECHAT?(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)):document.body.addEventListener("click",t,!0),KP.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),tW.onAutoplayFailed?tW.onAutoplayFailed():tW.onAudioAutoplayFailed?KP.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):KP.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),tW.emit("autoplay-failed")}}function rW(e){return(new TextEncoder).encode(e)}const oW=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},iW=async e=>function(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(t).padStart(2,"0")})),n}(await crypto.subtle.digest("SHA-256",rW(e)),16);var aW;function sW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sW(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:dW};return function(t,n,r){const o=t[n];if("function"==typeof o){const i="AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name;r.value=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const s=e.report.reportApiInvoke(this._sessionId||null,{name:"".concat(i,".").concat(n),options:r,tag:nx.TRACER,reportResult:e.reportResult});try{const t=o.apply(this,r);return s.onSuccess(e.reportResult&&t),t}catch(e){throw s.onError(e),e}}}return r}}function lW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:dW};return function(t,n,r){const o=r.value;if("function"==typeof o){let i;i=e.className?e.className:"AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name,r.value=async function(){let t;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];try{a.length>0&&(JSON.stringify(a),t=a)}catch(e){KP.warning("arguments for method ".concat(i,".").concat(n," not serializable from apiInvoke.")),t=[]}const c=(e.report||dW).reportApiInvoke(this._sessionId||null,{name:"".concat(i,".").concat(n),options:t,tag:nx.TRACER});try{const e=await o.apply(this,a);return c.onSuccess(),e}catch(e){throw c.onError(e),e}}}return r}}const dW=new(vk("AgoraRTCEventReport")(aW=class{constructor(){LR(this,"baseInfoMap",new Map),LR(this,"proxyServer",void 0),LR(this,"clientList",Fk),LR(this,"eventUploadTimer",void 0),LR(this,"setSessionIdTimer",void 0),LR(this,"url",void 0),LR(this,"backupUrl",void 0),LR(this,"_appId",void 0),LR(this,"keyEventUploadPendingItems",[]),LR(this,"normalEventUploadPendingItems",[]),LR(this,"apiInvokeUploadPendingItems",[]),LR(this,"apiInvokeCount",0),LR(this,"ltsList",[]),LR(this,"lastSendNormalEventTime",Date.now()),LR(this,"customReportCounterTimer",void 0),LR(this,"customReportCount",0),LR(this,"extApiInvoke",(async e=>{for(const t of e){const e=cW(cW({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:nx.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),Pk("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),Pk("EVENT_REPORT_SEND_INTERVAL"))}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return KP.error("adjust session ".concat(e," start time, sid is not exist or info is undefined")),void pk("error",this,"adjustSessionStartTime","adjust session ".concat(e," start time, sid is not exist or info is undefined"));const t=this.baseInfoMap.get(e),n=Date.now(),r=t.startTime;t.startTime=n,KP.debug("rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),pk("debug",this,"adjustSessionStartTime",void 0,"rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const r=Date.now();this.apiInvokeCount+=1;const o=this.apiInvokeCount,i=()=>({tag:t.tag,invokeId:o,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null}),a=!!Pk("SHOW_REPORT_INVOKER_LOG");a&&KP.info("".concat(t.name," start"),t.options);let s=!1;vQ(t.timeout).then((()=>{s||(this.sendApiInvoke(cW(cW({},i()),{},{error:MP.API_INVOKE_TIMEOUT,success:!1})),KP.debug("".concat(t.name," timeout")))}));const c=new BP(MP.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const r=()=>{if(s)throw c;return s=!0,this.sendApiInvoke(cW(cW({},i()),{},{success:!0},t.reportResult&&{result:e})),a&&KP.info("".concat(t.name," onSuccess")),e};return n?jQ(r,t.name+"Success",n,(()=>s=!0)):r()},onError:e=>{const r=()=>{if(s)throw e;s=!0,this.sendApiInvoke(cW(cW({},i()),{},{success:!1,error:e})),a&&KP.info("".concat(t.name," onFailure"),e.toString())};return n?jQ(r,t.name+"Error",n,(()=>s=!0)):r()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;const o=Object.assign({},{willUploadConsoleLog:Pk("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:bk?"global":"oversea",areas:Pk("AREAS")&&Pk("AREAS").join(",")},t.extend),i=Date.now(),a=cW(cW({},r),{},{eventType:XD.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:yk,lts:i,elapse:i-n,extend:JSON.stringify(o),mode:t.mode,process:Pk("PROCESS_ID"),appType:Pk("APP_TYPE"),success:!0,version:Ak});this.send({type:ZD.SESSION,data:a},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{eventType:XD.JOIN_CHOOSE_SERVER,lts:o,eventElapse:o-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:o-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:ZD.JOIN_CHOOSE_SERVER,data:i},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{eventType:XD.REQ_USER_ACCOUNT,lts:o,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:o-n.startTime,eventElapse:o-t.lts,extend:JSON.stringify(t.extend)});this.send({type:ZD.REQ_USER_ACCOUNT,data:i},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;const o=Date.now(),{firstSuccess:i,avoidJoinStartTime:a,isProxy:s,addr:c}=t,u=o-(i&&a?a:n.startTime),l=cW(cW({},r),{},{eventType:XD.JOIN_GATEWAY,lts:o,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:u,eventElapse:o-t.lts,firstSuccess:i}),d=l.success?1:0;if(t.succ&&(n.lastJoinSuccessTime=o),i)this.send({type:ZD.JOIN_GATEWAY,data:l},!0);else{let e;if(c)if(s){const t=c.match(/h=(\d{1,3}-){3}\d{1,3}/g),n=c.match(/p=[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split("=")[1]:"",isProxy:s?1:0}}else{const t=c.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),n=c.match(/:[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split(":")[1]:"",isProxy:s?1:0}}else e={isSuccess:d,gatewayIp:"",port:"",isProxy:s?1:0};delete l.success,delete l.eventType,delete l.firstSuccess,l.vid=Number(l.vid);const t=Object.assign({},l,e,{eventType:XD.REJOIN_GATEWAY});this.send({type:ZD.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=Date.now(),o=cW(cW({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:ZD.JOIN_CHANNEL_TIMEOUT,data:o},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{eventType:XD.PUBLISH,lts:o,eventElapse:t.eventElapse,elapse:o-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:ZD.PUBLISH,data:i},!0)}subscribe(e,t,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,i=Date.now(),a=cW(cW({},o),{},{eventType:XD.SUBSCRIBE,lts:i,eventElapse:t.eventElapse,elapse:i-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:ZD.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...KV(t=this.baseInfoMap).call(t)],r=n.length?n[0]:"UnableToGetSid",o=this.baseInfoMap.get(r);if(!o)return;const i=o.info,a=Date.now(),s=cW(cW({},i),{},{eventType:XD.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-o.startTime,status:e.status?1:2});this.send({type:ZD.WS_COMPRESSOR_INIT,data:s},!0)}firstRemoteVideoDecode(e,t,n,r){const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=cW(cW(cW({},i),r),{},{elapse:a-o.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max(a-o.startTime,0),apEnd:Math.max(r.apEnd-o.startTime,0),apStart:Math.max(r.apStart-o.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-o.startTime,0),joinGwStart:Math.max(r.joinGwStart-o.startTime,0),pcEnd:Math.max(r.pcEnd-o.startTime,0),pcStart:Math.max(r.pcStart-o.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-o.startTime,0),subscriberStart:Math.max(r.subscriberStart-o.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-o.startTime,0)});this.send({type:n,data:s},!0)}firstRemoteFrame(e,t,n,r){const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=cW(cW(cW({},i),r),{},{elapse:a-o.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}onGatewayStream(e,t,n,r){const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=cW(cW(cW({},i),r),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{eventType:XD.STREAM_SWITCH,lts:o,isDual:t.isdual,elapse:o-n.startTime,success:t.succ});this.send({type:ZD.STREAM_SWITCH,data:i},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{eventType:XD.REQUEST_PROXY_APPCENTER,lts:o,eventElapse:o-t.lts,elapse:o-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:ZD.REQUEST_PROXY_APPCENTER,data:i},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{eventType:XD.REQUEST_PROXY_WORKER_MANAGER,lts:o,eventElapse:o-t.lts,elapse:o-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:ZD.REQUEST_PROXY_WORKER_MANAGER,data:i},!0)}setProxyServer(e){this.proxyServer=e,e?KP.debug("reportProxyServerurl: ".concat(e)):KP.debug("disable reportProxyServerurl: ".concat(e)),pk("debug",this,"setProxyServer",e)}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:o,elapse:o-n.startTime,joinChannelSuccessElapse:o-(n.lastJoinSuccessTime||o),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:ZD.PEER_PUBLISH_STATUS,data:i},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now();(function(e,t,n){const r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";const o=gQ(JSON.stringify(e));let i=0;const a=[];let s=0;for(let c=0;c<r.length;c++)s+=r.charCodeAt(c)<=127?1:3,s<=n-o||(a[a.length]=hQ(hQ({},e),{},{[t]:r.substring(i,c)}),i=c,s=r.charCodeAt(c)<=127?1:3);return i!==r.length-1&&(a[a.length]=hQ(hQ({},e),{},{[t]:r.substring(i)})),a})(cW(cW(cW({},r),t),{},{elapse:o-n.startTime,lts:o,productType:"WebRTC"}),"payload",1300).forEach((e=>this.send({type:ZD.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW(cW({},r),t),{},{elapse:o-n.startTime,lts:o});this.send({type:ZD.AP_WORKER_EVENT,data:i},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW(cW({},r),t),{},{elapse:o-n.startTime,lts:o,extend:t.extend||void 0});this.send({type:ZD.JOIN_WEB_PROXY_AP,data:i},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),i=cW(cW(cW({},r),t),{},{elapse:o-n.startTime,lts:o});this.send({type:ZD.WEBSOCKET_QUIT,data:i},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>Pk("CUSTOM_REPORT_LIMIT"))throw new BP(MP.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const n=t.map((t=>({type:ZD.USER_ANALYTICS,data:cW({sid:e},t)})));try{Pk("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw KP.error("send custom report message failed",e.toString()),new BP(MP.CUSTOM_REPORT_SEND_FAILED,e.message)}}autoplayFailed(e,t,n,r){if(!e)return;const o=this.baseInfoMap.get(e);if(!o)return;const i=o.info,a=Date.now(),s=cW(cW({},i),{},{vid:void 0===i.vid?0:Number(i.vid),lts:a,elapse:a-o.startTime,cbRegistered:tW.onAutoplayFailed||tW.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});this.send({type:ZD.AUTOPLAY_FAILED,data:s},!0)}sendApiInvoke(e){const t=Pk("NOT_REPORT_EVENT");if(e.tag&&t.includes&&t.includes(e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:r,uid:o,cid:i}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof BP){const{code:t,message:n}=e.error;a=t||n||e.error.toString()}else a=e.error.toString();const s={invokeId:e.invokeId,sid:e.sid,cname:r,cid:i,uid:o,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:ZD.API_INVOKE,data:s},!1),!0}appendSessionId(){this.clientList.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let n=0;n<t;n++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>Pk("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],r=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):r.push(t)}e.push(...r);for(const i of[...n]){var o;-1!==this.ltsList.indexOf(i.data.lts)?(i.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(i.data.lts)):(this.ltsList.push(i.data.lts),kD(o=this.ltsList).call(o,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),n.length&&(Pk("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{Pk("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>Pk("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-Pk("NORMAL_EVENT_QUEUE_CAPACITY")),KP.warning("report: drop normal events"))))})(n)),e}async postDataToStatsCollector2(e){$V.networkState===hL.OFFLINE&&await iS.race([$V.onlineWaiter,vQ(2*FP.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const n=rW(JSON.stringify(e.data)),r=new ArrayBuffer(5),o=(e=>{let t=0;return Object.entries(ZD).forEach((n=>{let[r,o]=n;o===e.type&&(t=ex[r])})),t})(e),i=new DataView(r);i.setUint16(0,n.byteLength,!0),i.setUint8(2,255&o),i.setUint8(3,o>>>8&255),i.setUint8(4,o>>>16&255),t=oW(t,new Uint8Array(r)),t=oW(t,n)})),t},n="event";let r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Pk("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(Pk("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let o=0;o<2;o+=1){1===o&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Pk("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(Pk("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await XV(r,{timeout:1e4,data:t(e),headers:cW(cW({token:"32f24ab2ddb74f508aa9286c356cec84",biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(e){if(1===o)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};$V.networkState===hL.OFFLINE&&await iS.race([$V.onlineWaiter,vQ(2*FP.maxRetryTimeout)]);const r=t?"/events/proto-raws":"/events/messages";let o=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Pk("EVENT_REPORT_DOMAIN"),"&p=").concat(Pk("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(Pk("EVENT_REPORT_DOMAIN"),":").concat(Pk("STATS_COLLECTOR_PORT")).concat(r));for(let i=0;i<2;i+=1){1===i&&(o=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Pk("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(Pk("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(Pk("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(Pk("STATS_COLLECTOR_PORT")).concat(r)));try{t?await ZV(o,{timeout:1e4,data:n}):await XV(o,{timeout:1e4,data:n})}catch(t){if(1===i)throw t;continue}return}}createBaseInfo(e,t){const n=Object.assign({},JD);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:nx.TRACER}).onSuccess()}})||aW);jP.on("REPORT_LOG_UPLOAD",(e=>{e.networkState=$V.networkState,dW.reportApiInvoke(null,{name:"logUploadError",options:e,tag:nx.TRACER})}));class fW extends LP{constructor(e,t){super(),LR(this,"trackMediaType",void 0),LR(this,"_ID",void 0),LR(this,"_hints",[]),LR(this,"_isClosed",!1),LR(this,"_originMediaStreamTrack",void 0),LR(this,"_mediaStreamTrack",void 0),LR(this,"_external",{}),this._ID=t||yQ(8,"track-"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){Uk.includes(e)||Uk.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=dW.reportApiInvoke(null,{name:tx.GET_MEDIA_STREAM_TRACK,options:[],tag:nx.TRACER});this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess("")}return this._mediaStreamTrack}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,function(e){const t=Uk.indexOf(e);-1!==t&&Uk.splice(t,1)}(this),this.emit(eL.CLOSED)}}let pW,hW,gW,vW=1;class mW{constructor(e){LR(this,"lockingPromise",iS.resolve()),LR(this,"locks",0),LR(this,"name",""),LR(this,"lockId",void 0),this.lockId=vW++,e&&(this.name=e),KP.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,KP.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));const n=new iS((n=>{t=()=>{this.locks-=1,KP.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:"")),n()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}}function yW(e,t){return function(n,r,o){const i=o.value;if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return o.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const o=await n.lock("From ".concat(e,".").concat(r));try{for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return await i.apply(this,s)}finally{o()}},o}}class AW extends fW{get muted(){return this._muted}get enabled(){return this._enabled}constructor(e,t){super(e,t),LR(this,"_enabled",!0),LR(this,"_muted",!1),LR(this,"_isClosed",!1),LR(this,"_trackProcessors",[]),LR(this,"_enabledMutex",void 0),LR(this,"processor",void 0),LR(this,"processorContext",void 0),LR(this,"_handleTrackEnded",(()=>{this.onTrackEnded()})),this._enabledMutex=new mW("".concat(t)),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){return this._originMediaStreamTrack.label}close(){this._isClosed||(this.stop(),this._trackProcessors.forEach((e=>e.destroy())),this._trackProcessors=[],this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,KP.debug("[".concat(this.getTrackId(),"] close")),pk("debug",this,"close"),this.emit(Jx.NEED_CLOSE),super.close())}async _registerTrackProcessor(e){if(-1!==this._trackProcessors.indexOf(e))return;const t=this._trackProcessors[this._trackProcessors.length-1];this._trackProcessors.push(e),e.onOutputChange=async()=>{const t=e.output||this._originMediaStreamTrack;this._mediaStreamTrack=t,this._updatePlayerSource(),await SQ(this,Jx.NEED_REPLACE_TRACK,this)},t?(t.onOutputChange=async()=>{t.output&&await e.setInput(t.output)},await e.setInput(t.output||t.input||this._originMediaStreamTrack)):await e.setInput(this._originMediaStreamTrack)}_getOutputFromProcessors(){if(0===this._trackProcessors.length)return this._originMediaStreamTrack;const e=this._trackProcessors[this._trackProcessors.length-1];return e.output||e.input||this._originMediaStreamTrack}async _updateOriginMediaStreamTrack(e,t){if(e!==this._originMediaStreamTrack){if(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._trackProcessors.length>0){await this._trackProcessors[0].setInput(e);const t=this._getOutputFromProcessors();this._mediaStreamTrack=t}else this._mediaStreamTrack=this._originMediaStreamTrack;this._updatePlayerSource(),await SQ(this,Jx.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}}_getDefaultPlayerConfig(){return{}}onTrackEnded(){KP.debug("[".concat(this.getTrackId(),"] track ended")),fk("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(eL.TRACK_ENDED)}stateCheck(e,t){if(KP.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),pk("debug",this,"stateCheck",{stateName:e,state:t,muted:this._muted,enabled:this._enabled}),DD(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new BP(MP.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print();if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new BP(MP.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print()}getProcessorStats(){return this.processorContext.gatherStats()}}!function(e){e.IOS_15_INTERRUPTION_START="ios15-interruption-start",e.IOS_15_INTERRUPTION_END="ios15-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change"}(pW||(pW={})),function(e){e.AUDIO_CONTEXT_CREATED="audio_context_created"}(hW||(hW={})),function(e){e.AIDenoiser="AIDenoiser"}(gW||(gW={}));const bW={audioContextInitOptions:{}},EW=new class extends LP{constructor(){super(),LR(this,"registeredPlugins",[])}setOptions(e,t){bW[e]&&(bW[e]=t)}getOptions(e){return bW[e]}installPlugin(e){e instanceof Object&&e.name&&this.registeredPlugins.push(e.name)}};function _W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_W(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const SW=window.AudioContext||window.webkitAudioContext;let CW=null;const IW=new class extends LP{constructor(){super(...arguments),LR(this,"prevState",void 0),LR(this,"curState",void 0),LR(this,"currentTime",void 0),LR(this,"currentTimeStuckAt",void 0),LR(this,"interruptDetectorTrack",void 0),LR(this,"onLocalAudioTrackMute",(()=>{KP.info("ios15-interruption-start"),lk("info",["WebAudio"],"ios15-interruption-start"),this.emit(pW.IOS_15_INTERRUPTION_START)})),LR(this,"onLocalAudioTrackUnmute",(async()=>{KP.info("ios15-interruption-end"),lk("info",["WebAudio"],"ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?KP.info("ios15-interruption-end-canceled"):(CW&&await CW.suspend(),this.emit(pW.IOS_15_INTERRUPTION_END))}))}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){KP.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),pk("debug",["WebAudio"],"bindInterruptDetectorTrack",e.getTrackId()),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){KP.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),pk("debug",["WebAudio"],"unbindInterruptDetectorTrack",e.getTrackId()),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function OW(){if(!SW)return KP.error("your browser is not support web audio"),void uk("error",["WebAudio"],"your browser is not support web audio");KP.info("create audio context"),hk("info",["WebAudio"],"WebAudioContext");const e=wW(wW({},EW.getOptions("audioContextInitOptions")),Pk("WEBAUDIO_INIT_OPTIONS"));KP.debug("audio context init option:",JSON.stringify(e)),CW=new SW(e),EW.emit(hW.AUDIO_CONTEXT_CREATED,CW),IW.curState=CW.state,CW.onstatechange=()=>{IW.prevState=IW.curState,IW.curState=CW?CW.state:void 0,(mR()||wR())&&"running"===IW.prevState&&"interrupted"===IW.curState&&(KP.info("ios-interruption-start"),lk("info",["AudioState"],"ios-interruption-start"),IW.emit(pW.IOS_INTERRUPTION_START)),(mR()||wR())&&"interrupted"===IW.prevState&&"running"===IW.curState&&(KP.info("ios-interruption-end"),lk("info",["AudioState"],"ios-interruption-end"),IW.emit(pW.IOS_INTERRUPTION_END)),IW.prevState!==IW.curState&&(KP.debug("AudioContext State Change","".concat(IW.prevState,"=>").concat(IW.curState)),fk("debug",["AudioContext",void 0],"statechange","".concat(IW.prevState,"=>").concat(IW.curState)),IW.emit(pW.STATE_CHANGE))},setInterval((()=>{var e;const t=null===(e=CW)||void 0===e?void 0:e.currentTime;IW.currentTime!==t?(IW.currentTimeStuckAt&&(KP.debug("AudioContext current time resume at ".concat(t)),IW.currentTimeStuckAt=void 0),IW.currentTime=t):(t!==IW.currentTimeStuckAt&&KP.warning("AudioContext current time stuck at ".concat(t)),IW.currentTimeStuckAt=t)}),5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,r=!1,o=!1,i=!1;function a(t){"running"===e.state?s(!1):mR()||wR()?"suspended"===e.state&&(s(!0),t&&e.resume().then(u,u)):"closed"!==e.state&&(s(!0),t&&e.resume().then(u,u))}function s(e){if(r!==e){r=e;for(let n=0,r=t;n<r.length;n+=1){const t=r[n];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function c(){a(!0)}function u(){a(!1)}function l(){a(!0)}function d(e){if(!i)if(n.paused)if(e){let t;f(!1),i=!0;try{t=n.play(),t?t.then(p,p):(n.addEventListener("playing",p),n.addEventListener("abort",p),n.addEventListener("error",p))}catch(e){p()}}else f(!0);else f(!1)}function f(e){if(o!==e){o=e;for(let n=0,r=t;n<r.length;n++){const t=r[n];e?window.addEventListener(t,h,{capture:!0,passive:!0}):window.removeEventListener(t,h,{capture:!0,passive:!0})}}}function p(){n.removeEventListener("playing",p),n.removeEventListener("abort",p),n.removeEventListener("error",p),i=!1,d(!1)}function h(){d(!0)}if(mR()){const t=e.createMediaStreamDestination(),r=document.createElement("div");r.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=r.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,d(!0)}IW.on(pW.STATE_CHANGE,c),a(!1)}(CW)}function TW(){if(!CW){if(OW(),!CW)throw new BP(MP.NOT_SUPPORTED,"can not create audio context");return CW}return CW}function RW(e){if(function(){if(null!==NW)return NW;const e=TW(),t=e.createBufferSource(),n=e.createGain(),r=e.createGain();t.connect(n),t.connect(r),t.disconnect(n);let o=!1;try{t.disconnect(n)}catch(e){o=!0}return t.disconnect(),NW=o,o}())return;pk("debug",["WebAudio"],"polyfillAudioNode");const t=e.connect,n=e.disconnect;e.connect=(n,r,o)=>(e._inputNodes||(e._inputNodes=[]),e._inputNodes.includes(n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,o)):t.call(e,n,r)),e),e.disconnect=(r,o,i)=>{n.call(e),r?OQ(e._inputNodes,r):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let NW=null;function PW(e,t){const n=1/t,r=TW();let o=r.createGain();o.gain.value=0,o.connect(r.destination);let i=!1;const a=()=>{if(i)return void(o=null);const t=r.createOscillator();t.onended=a,t.connect(o),t.start(0),t.stop(r.currentTime+n),e(r.currentTime)};return a(),()=>{i=!0}}const kW=KP.prefix("[inject-node]");class DW{constructor(){LR(this,"nodeLists",[]),LR(this,"prevNode",void 0),LR(this,"nextNode",void 0)}get firstNode(){return this.nodeLists[0]}get lastNode(){return this.nodeLists[this.nodeLists.length-1]}get isActive(){return!!this.nodeLists.length}get isConnected(){return!(!this.prevNode||!this.nextNode)}connect(e,t){kW.debug("connect audio node, current list:"+this.nodeLists.length),this.nodeLists.length?(this.prevNode&&this.prevNode.disconnect(),e.connect(this.firstNode),this.nextNode&&this.lastNode&&this.lastNode.disconnect(),this.lastNode.connect(t),this.nodeLists.forEach(((e,t)=>{const n=this.nodeLists[t+1];n&&e.connect(n)}))):e.connect(t),this.nextNode=t,this.prevNode=e}disconnect(){var e;kW.debug("disconnect audio node, current list:"+this.nodeLists.length),this.nodeLists.forEach((e=>{e.disconnect()})),null===(e=this.prevNode)||void 0===e||e.disconnect(),this.prevNode=void 0,this.nextNode=void 0}addNode(e){kW.debug("add node in inject node, current list:",this.nodeLists.length),this.prevNode&&this.nextNode?(this.firstNode||(kW.debug("new node is the first node"),this.prevNode.disconnect(),this.prevNode.connect(e),e.connect(this.nextNode)),this.nextNode&&this.lastNode&&(this.lastNode.disconnect(this.nextNode),this.lastNode.connect(e),e.connect(this.nextNode)),this.nodeLists.push(e)):kW.debug("add node is called before inject node connected")}removeNode(e){kW.debug("remove node in inject node, current list:",this.nodeLists.length);const t=this.nodeLists.indexOf(e);if(-1===t)return void kW.debug("$[inject-node] cannot find the node to be removed");const n=this.nodeLists[t+1],r=this.nodeLists[t-1];0===t&&this.prevNode&&this.nextNode&&(this.prevNode.disconnect(e),n?this.prevNode.connect(n):this.prevNode.connect(this.nextNode)),t===this.nodeLists.length-1&&this.nextNode&&r&&(r.disconnect(e),r.connect(this.nextNode)),0!==t&&t!==this.nodeLists.length-1&&(r.disconnect(e),r.connect(n)),kW.debug("remove node in inject node success, current list:",this.nodeLists.length)}}class xW extends LP{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),LR(this,"outputNode",void 0),LR(this,"outputTrack",void 0),LR(this,"isPlayed",!1),LR(this,"sourceNode",void 0),LR(this,"analyserNode",void 0),LR(this,"context",void 0),LR(this,"audioBufferNode",void 0),LR(this,"destNode",void 0),LR(this,"injectNode",void 0),LR(this,"audioOutputLevel",0),LR(this,"_processedNode",void 0),LR(this,"playNode",void 0),LR(this,"isDestroyed",!1),LR(this,"onNoAudioInput",void 0),LR(this,"isNoAudioInput",!1),LR(this,"_noAudioInputCount",0),this.context=TW(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),RW(this.outputNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.smoothingTimeConstant=.4,this.analyserNode.fftSize=2048,this.injectNode=new DW}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(bx.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!SL().webAudioMediaStreamDest)throw new BP(MP.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&RQ((()=>{IW.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){if(!this.context||mR()||wR()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(e);let t=0;for(let n=0;n<e.length;n++)t+=n<64?Math.abs(10*e[n]):Math.abs(6*e[n]/15);return t/e.length/255}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;if(mR()||wR()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return!1;const t=new Uint8Array(this.analyserNode.frequencyBinCount);this.analyserNode.getByteFrequencyData(t);let n=!1;for(let r=0;r<t.length;r++)0!==t[r]&&(n=!0);return n?(this.isNoAudioInput=!1,!0):(await vQ(200),await this.checkHasAudioInput(e?e+1:1)&&n)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}injectAudioNode(e){this.injectNode.addNode(e)}removeAudioNode(e){this.injectNode.removeNode(e)}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.outputNode.connect(this.analyserNode)}}class LW extends xW{get isFreeze(){return!1}constructor(e,t){var n;if(super(),LR(this,"sourceNode",void 0),LR(this,"track",void 0),LR(this,"audioElement",void 0),LR(this,"isCurrentTrackCloned",!1),LR(this,"isRemoteTrack",!1),LR(this,"rebuildWebAudio",(async()=>{if(KP.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void KP.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then((()=>KP.info("resume success"))),KP.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),RW(this.sourceNode),this.analyserNode=this.context.createAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),RW(this.outputNode),this.emit(bx.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),"audio"!==e.kind)throw new BP(MP.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),RW(this.sourceNode),this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=r;const o=aR();t&&o.os===tR.IOS&&Number(null===(n=o.osVersion)||void 0===n?void 0:n.split(".")[0])<15&&(IW.on(pW.STATE_CHANGE,(()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),RW(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(bx.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){this.audioElement.srcObject=null,this.audioElement.remove(),IW.off("state-change",this.rebuildWebAudio),super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}}async function jW(e,t){const n=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function MW(e){const t=await BW(e.mediaSource),n=await function(e){return new iS(((t,n)=>{const r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const o=document.createElement("div");o.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const i=document.createElement("div");i.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",i.setAttribute("style","height: 12%;");const a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const s=document.createElement("div");s.setAttribute("style","text-align: right; padding: 16px 0;");const c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=()=>{document.body.removeChild(u);const e=new Error("NotAllowedError");e.name="NotAllowedError",n(e)},s.appendChild(c),o.appendChild(i),o.appendChild(a),o.appendChild(s);const u=document.createElement("div");u.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),u.appendChild(r),u.appendChild(o),document.body.appendChild(u),e.map((e=>{if(e.id){const n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let r=e.thumbnail;const{width:o}=r.getSize();o>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=()=>{document.body.removeChild(u),t(e.id)},a.appendChild(n)}}))}))}(t);return await jW(n,e)}async function BW(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=UW();if(!n)throw new BP(MP.ELECTRON_IS_NULL);let r=null;try{r=n.desktopCapturer.getSources({types:t})}catch(e){r=null}r&&r.then||(r=new iS(((e,r)=>{n.desktopCapturer.getSources({types:t},((t,n)=>{t?r(t):e(n)}))})));try{return await r}catch(e){throw new BP(MP.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}let FW=null;function UW(){if(FW)return FW;try{return FW=window.require("electron"),FW}catch(e){return null}}const VW=new mW("safari");let WW=!1,HW=!1;async function QW(e,t){let n=0,r=null;for(;n<2;)try{r=await GW(e,t,n>0);break}catch(r){if(r instanceof BP)throw KP.error("[".concat(t,"] ").concat(r.toString())),pk("error",[],"getLocalStream",{config:e,id:t},r.toString()),r;const o=KW(r.name||r.code||r,r.message);if(o.code===MP.MEDIA_OPTION_INVALID){KP.debug("[".concat(t,"] detect media option invalid, retry")),uk("debug",[],"[".concat(t,"] detect media option invalid, retry")),n+=1,await vQ(500);continue}throw KP.error("[".concat(t,"] ").concat(o.toString())),pk("error",[],"getLocalStream",{config:e,id:t},o.toString()),o}if(!r)throw new BP(MP.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return r}async function GW(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new BP(MP.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const r=SL(),o=new MediaStream;if(e.audioSource&&o.addTrack(e.audioSource),e.videoSource&&o.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return KP.debug("Using Video Source/ Audio Source"),uk("debug",[],"Using Video Source/ Audio Source"),o;if(e.screen)if(UW())e.screen.sourceId?qW(o,await jW(e.screen.sourceId,e.screen)):qW(o,await MW(e.screen));else if(hR()&&e.screen.extensionId&&e.screen.mandatory){if(!r.getStreamFromExtension)throw new BP(MP.NOT_SUPPORTED,"This browser does not support screen sharing");KP.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"')),uk("debug",[],"[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(i=e.screen.extensionId,a=t,new iS(((e,t)=>{try{chrome.runtime.sendMessage(i,{getStream:!0},(n=>{if(!n||!n.streamId)return KP.error("[".concat(a,"] No response from Chrome Plugin. Plugin not installed properly"),n),pk("error",[],"getSourceIdFromExtension",{extensionId:i,streamId:a},"No response from Chrome Plugin. Plugin not installed properly, ".concat(n)),void t(new BP(MP.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(e){KP.error("[".concat(a,"] AgoraRTC screensharing plugin is not accessible(").concat(i,")"),e.toString()),pk("error",[],"getSourceIdFromExtension",{extensionId:i,streamId:a},"AgoraRTC screensharing plugin is not accessible(".concat(i,"), ").concat(e.toString())),t(new BP(MP.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=n,qW(o,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(r.getDisplayMedia){e.screen.mediaSource&&oL(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource};KP.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:!!e.screenAudio})),hk("debug",["mediaDevices",t],"getDisplayMedia",{video:n,audio:!!e.screenAudio,trackId:t}),qW(o,await navigator.mediaDevices.getDisplayMedia({video:n,audio:!!e.screenAudio}))}else{if(!vR())throw KP.error("[".concat(t,"] This browser does not support screenSharing")),new BP(MP.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&oL(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};KP.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),hk("debug",["mediaDevices",t],"getUserMedia",n),qW(o,await navigator.mediaDevices.getUserMedia(n))}}var i,a;if(!e.video&&!e.audio)return o;let s={video:e.video,audio:e.audio},c=Pk("MEDIA_DEVICE_CONSTRAINTS");if(c)try{"string"==typeof c&&(c=JSON.parse(c)),s=function e(t,n){if(!BQ(t)||!BQ(n))return n;if(Array.isArray(t)&&!Array.isArray(n)||!Array.isArray(t)&&Array.isArray(n))return n;if(Array.isArray(n)&&Array.isArray(t)){const r=[...t];for(let o=0;o<n.length;o++)r[o]=e(t[o],n[o]);return r}{const r=hQ({},t);for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(Object.prototype.hasOwnProperty.call(t,o)?r[o]=e(t[o],n[o]):r[o]=n[o]);return r}}(s,c),uk("debug",["mediaDevices",t],"merge configConstraints ".concat(JSON.stringify(c)))}catch(e){}KP.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(s)),hk("debug",["mediaDevices",t],"getUserMedia",s),aR();let u,l=null;(gR()||mR()||dR())&&(l=await VW.lock());try{u=await navigator.mediaDevices.getUserMedia(s)}catch(e){throw l&&l(),e}return s.audio&&(WW=!0),s.video&&(HW=!0),qW(o,u),l&&l(),o}function KW(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new BP(MP.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new BP(MP.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new BP(MP.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new BP(MP.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new BP(MP.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new BP(MP.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return KP.error("getUserMedia unexpected error",e),pk("error",[],"handleGetUserMediaError",void 0,e),new BP(MP.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function qW(e,t){const n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],o=t.getVideoTracks()[0],i=t.getAudioTracks()[0];i&&(r&&e.removeTrack(r),e.addTrack(i)),o&&(n&&e.removeTrack(n),e.addTrack(o))}const zW=new class extends LP{get state(){return this._state}set state(e){e!==this._state&&(this.emit(ox.STATE_CHANGE,e),this._state=e)}constructor(){super(),LR(this,"_state",rx.IDLE),LR(this,"isAccessMicrophonePermission",!1),LR(this,"isAccessCameraPermission",!1),LR(this,"lastAccessMicrophonePermission",!1),LR(this,"lastAccessCameraPermission",!1),LR(this,"checkdeviceMatched",!1),LR(this,"deviceInfoMap",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(Pk("ENUMERATE_DEVICES_INTERVAL")||OR()&&IR())&&this.updateDevicesInfo()}),Pk("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((e=>KP.error(e.toString())))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new BP(MP.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const r=await navigator.mediaDevices.enumerateDevices(),o=this.checkMediaDeviceInfoIsOk(r);let i=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;o.audio&&(i=!1),o.video&&(a=!1);let s=null,c=null,u=null;if(!n&&(i||a)){if(VW.isLocked&&(KP.debug("[device manager] wait GUM lock"),(await VW.lock())(),KP.debug("[device manager] GUM unlock")),WW&&(i=!1,this.isAccessMicrophonePermission=!0),HW&&(a=!1,this.isAccessCameraPermission=!0),KP.debug("[device manager] check media device permissions",e,t,i,a),i&&a){try{u=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=KW(e.name||e.code||e,e.message);if(t.code===MP.PERMISSION_DENIED)throw t;KP.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(i){try{s=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=KW(e.name||e.code||e,e.message);if(t.code===MP.PERMISSION_DENIED)throw t;KP.warning("getUserMedia failed in getDevices",t)}this.isAccessMicrophonePermission=!0}else if(a){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=KW(e.name||e.code||e,e.message);if(t.code===MP.PERMISSION_DENIED)throw t;KP.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0}KP.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),u&&u.getTracks().forEach((e=>e.stop())),s=null,c=null,u=null,e}catch(e){return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),u&&u.getTracks().forEach((e=>e.stop())),s=null,c=null,u=null,new BP(MP.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audioinput"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>"videoinput"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audiooutput"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((n=>{n.device.label===e&&(t=n.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new BP(MP.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=rx.INITING;try{await this.updateDevicesInfo(),this.state=rx.INITEND}catch(e){throw KP.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=rx.IDLE,function(){return"boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname}()||new BP(MP.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>"audioinput"===e.kind&&"default"===e.deviceId)),n=e.find((e=>"audiooutput"===e.kind&&"default"===e.deviceId));t&&n?n.groupId===t.groupId?KP.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):KP.warning("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):KP.debug("[device-check] default input or output not found")}const r=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const r=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(r?r.state:"INACTIVE")){const r={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),r),n.push(r)}r&&(r.updateAt=t)})),this.deviceInfoMap.forEach(((e,r)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))})),this.state!==rx.INITEND)return r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach((e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(ox.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(ox.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(ox.PLAYOUT_DEVICE_CHANGED,e)}})),r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>"audioinput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),r={audio:!1,video:!1};for(const o of t)if(o.label&&o.deviceId){r.audio=!0;break}for(const o of n)if(o.label&&o.deviceId){r.video=!0;break}return r}};var YW;let JW=vk("AudioElementPlayCenter")(YW=class{constructor(){LR(this,"onAutoplayFailed",void 0),LR(this,"elementMap",new Map),LR(this,"elementStateMap",new Map),LR(this,"elementsNeedToResume",[]),LR(this,"sinkIdMap",new Map),LR(this,"autoResumeAfterInterruption",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=this.elementStateMap.get(t),o=n.srcObject.getAudioTracks()[0];AR()?o&&"live"===o.readyState&&"running"===IW.curState&&(KP.debug("auto resume after interruption for iOS 15"),uk("debug",["AudioElementPlayCenter",t],"auto resume after interruption for iOS15"),n.pause(),n.play()):r&&"paused"===r&&o&&"live"===o.readyState&&"running"===IW.curState&&(KP.debug("auto resume after interruption for iOS"),uk("debug",["AudioElementPlayCenter",t],"auto resume after interruption for iOS"),n.play())}))})),LR(this,"autoResumeAfterInterruptionOnIOS15",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=n.srcObject.getAudioTracks()[0];r&&"live"===r.readyState&&(KP.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),pk("debug",["AudioElementPlayCenter",t],"autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())}))})),this.autoResumeAudioElement(),IW.on(pW.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),IW.on(pW.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),IW.on(pW.STATE_CHANGE,(()=>{mR()&&"suspended"===IW.prevState&&"running"===IW.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(e){throw new BP(MP.PERMISSION_DENIED,"can not set sink id: "+e.toString())}}play(e,t,n,r){if(this.elementMap.has(t))return;const o=document.createElement("audio");o.autoplay=!0,o.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,o),this.elementMap.set(t,o),this.elementStateMap.set(t,qD.INIT),this.setVolume(t,n);const i=this.sinkIdMap.get(t);if(i)try{o.setSinkId(i).catch((e=>{KP.warning("[".concat(t,"] set sink id failed"),e.toString()),hk("warning",["HTMLAudioElement",t],"setSinkId",e.toString())}))}catch(e){KP.warning("[".concat(t,"] set sink id failed"),e.toString())}const a=o.play();a&&a.then&&a.catch((e=>{r&&dW.autoplayFailed(r,"audio",e.message,t),KP.warning("audio element play warning",e.toString()),hk("warning",["HTMLAudioElement",t],"play",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(KP.warning("detected audio element autoplay failed"),pk("warning",["AudioElementPlayCenter",t],"play",e.toString()),this.elementsNeedToResume.push(o),RQ((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),nW()})))}))}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){XW.forEach((n=>{t.addEventListener(n,(t=>{const n=this.elementStateMap.get(e),r="pause"===t.type?"paused":t.type;KP.debug("[".concat(e,"] audio-element-status change ").concat(n," => ").concat(r)),fk("debug",["HTMLAudioElement",e],"statusChange","".concat(n," => ").concat(r)),this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{KP.debug("Auto resume audio element success"),pk("debug",["AudioElementPlayCenter"],"autoResumeAudioElement")})).catch((e=>{KP.warning("Auto resume audio element failed!",e),pk("warning",["AudioElementPlayCenter"],"autoResumeAudioElement",e.toString())}))})),this.elementsNeedToResume=[]};new iS((e=>{document.body?e():window.addEventListener("load",(()=>e()))})).then((()=>{const t=aR();"Android"!==t.os||"Chrome"!==t.name&&t.name!==nR.WECHAT?(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)):document.body.addEventListener("click",e,!0)}))}})||YW;const XW=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended"],ZW=new JW;function $W(){return function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=function(){this._isClosed&&new BP(MP.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=r.apply(this,t);return o instanceof iS?new iS(((e,t)=>{o.then(e).catch(t)})):o}),n}}var eH,tH,nH,rH,oH,iH,aH,sH,cH,uH,lH,dH,fH,pH,hH,gH,vH,mH,yH,AH,bH,EH,_H,wH,SH,CH,IH,OH,TH,RH,NH=yf("Array").values,PH=xm,kH=gl,DH=Mc,xH=NH,LH=Array.prototype,jH={DOMTokenList:!0,NodeList:!0},MH=function(e){var t=e.values;return e===LH||DH(LH,e)&&t===LH.values||kH(jH,PH(e))?xH:t};class BH extends LP{constructor(e){super(),LR(this,"name","VideoProcessorDestination"),LR(this,"ID","0"),LR(this,"_source",void 0),LR(this,"videoContext",void 0),LR(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new BP(MP.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new BP(MP.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.inputTrack=e.track,this.emit(yL.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.emit(yL.ON_TRACK,void 0)}}class FH extends LP{constructor(e){super(),LR(this,"constraintsMap",new Map),LR(this,"statsRegistry",[]),LR(this,"trackId",void 0),this.trackId=e}async getConstraints(){return await wQ(this,AL.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return KP.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),SQ(this,AL.REQUEST_UPDATE_CONSTRAINTS,Array.from(MH(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return KP.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),SQ(this,AL.REQUEST_UPDATE_CONSTRAINTS,Array.from(MH(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){}gatherStats(){return this.statsRegistry.map((e=>{let{processorID:t,processorName:n,type:r,cb:o}=e;return{processorID:t,processorName:n,type:r,stats:o()}}))}}class UH extends LP{constructor(e){super(),LR(this,"name","AudioProcessorDestination"),LR(this,"ID","0"),LR(this,"inputTrack",void 0),LR(this,"inputNode",void 0),LR(this,"audioProcessorContext",void 0),LR(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new BP(MP.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new BP(MP.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.emit(yL.ON_TRACK,void 0),this.emit(yL.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,this.emit(yL.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,this.emit(yL.ON_NODE,this.inputNode))}}class VH extends LP{constructor(e,t){super(),LR(this,"constraintsMap",new Map),LR(this,"statsRegistry",[]),LR(this,"audioContext",void 0),LR(this,"trackId",void 0),this.audioContext=e,this.trackId=t}async getConstraints(){return wQ(this,AL.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return KP.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),SQ(this,AL.REQUEST_UPDATE_CONSTRAINTS,Array.from(MH(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),SQ(this,AL.REQUEST_UPDATE_CONSTRAINTS,Array.from(MH(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){}gatherStats(){return this.statsRegistry.map((e=>{let{processorID:t,processorName:n,type:r,cb:o}=e;return{processorID:t,processorName:n,type:r,stats:o()}}))}}function WH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WH(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let QH=(eH=vk("LocalAudioTrack","getTrackId"),tH=$W(),nH=yW("LocalAudioTrack","_enabledMutex"),rH=lW({className:"LocalAudioTrack"}),oH=$W(),iH=yW("LocalAudioTrack","_enabledMutex"),aH=lW({className:"LocalAudioTrack"}),sH=$W(),cH=$W(),uH=$W(),lH=$W(),dH=$W(),eH((BV((pH=class extends AW{get isPlaying(){return this._useAudioElement?ZW.isPlaying(this.getTrackId()):this._source.isPlayed}constructor(e,t,n){super(e,n),LR(this,"trackMediaType","audio"),LR(this,"_encoderConfig",void 0),LR(this,"_source",void 0),LR(this,"_enabled",!0),LR(this,"_volume",100),LR(this,"_useAudioElement",!1),LR(this,"_bypassWebAudio",!1),LR(this,"processor",void 0),LR(this,"processorContext",void 0),LR(this,"processorDestination",void 0),this._encoderConfig=t,this._source=new LW(e),Pk("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0),this.processorContext=new VH(this._source.context,this.getTrackId()),this.processorDestination=new UH(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(bx.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setVolume(e){LD(e,"volume",0,1e3);const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_AUDIO_TRACK_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&ZW.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return KP.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio.")),void t.onSuccess();const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,SQ(this,Jx.NEED_REPLACE_TRACK,this).then((()=>{KP.debug("[".concat(this.getTrackId(),"] replace web audio track success")),uk("debug",this,"replace web audio track success")})).catch((e=>{KP.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e),uk("warning",this,"replace web audio track failed ".concat(e.toString()))})))}catch(e){}t.onSuccess()}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),e]});if(!this._useAudioElement)throw new BP(MP.NOT_SUPPORTED,"your browser does not support setting the audio output device");try{await ZW.setSinkID(this.getTrackId(),e)}catch(e){throw t.onError(e),e}t.onSuccess()}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(KP.info("[".concat(this.getTrackId(),"] start setEnabled"),e),pk("info",this,"setEnabled",e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await SQ(this,Jx.NEED_ENABLE_TRACK,this),KP.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success")),pk("info",this,"setEnabled",e,"success")}catch(t){throw n||(this._enabled=!1),KP.error("[".concat(this.getTrackId(),"] setEnabled to true error"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await SQ(this,Jx.NEED_DISABLE_TRACK,this)}catch(t){throw n||(this._enabled=!0),KP.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),pk("info",this,"setEnabled",e,t.toString()),t}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,KP.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),pk("debug",this,"setMuted",e),e?await SQ(this,Jx.NEED_MUTE_TRACK,this):await SQ(this,Jx.NEED_UNMUTE_TRACK,this))}getStats(){kQ((()=>{KP.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead"),uk("warning",this,"LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning");const e=CQ(this,Jx.GET_STATS);return e||HH({},Ix)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(bx.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(bx.ON_AUDIO_BUFFER),this._source.on(bx.ON_AUDIO_BUFFER,(t=>e(t)))}play(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});KP.debug("[".concat(this.getTrackId(),"] start audio playback")),pk("debug",this,"play"),this._useAudioElement?(KP.debug("[".concat(this.getTrackId(),"] start audio playback in element")),uk("debug",this,"start audio playback in element"),ZW.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play(),e.onSuccess()}stop(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_AUDIO_TRACK_STOP,options:[this.getTrackId()]});KP.debug("[".concat(this.getTrackId(),"] stop audio playback")),pk("debug",this,"stop"),this._useAudioElement?ZW.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];KP.debug("[".concat(this.getTrackId(),"] update player source track")),pk("debug",this,"_updatePlayerSource"),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&ZW.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),e.addEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),this._originMediaStreamTrack=e,this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await SQ(this,Jx.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack))}renewMediaStreamTrack(e){return iS.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new BP(MP.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new BP(MP.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(yL.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await SQ(this,Jx.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await SQ(this,Jx.NEED_REPLACE_TRACK,this))})),this.processorDestination.on(yL.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(yL.ON_TRACK),this.processorDestination.removeAllListeners(yL.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(AL.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(AL.REQUEST_CONSTRAINTS)}}).prototype,"setPlaybackDevice",[tH],Object.getOwnPropertyDescriptor(pH.prototype,"setPlaybackDevice"),pH.prototype),BV(pH.prototype,"setEnabled",[nH,rH,oH],Object.getOwnPropertyDescriptor(pH.prototype,"setEnabled"),pH.prototype),BV(pH.prototype,"setMuted",[iH,aH,sH],Object.getOwnPropertyDescriptor(pH.prototype,"setMuted"),pH.prototype),BV(pH.prototype,"getStats",[cH],Object.getOwnPropertyDescriptor(pH.prototype,"getStats"),pH.prototype),BV(pH.prototype,"setAudioFrameCallback",[uH],Object.getOwnPropertyDescriptor(pH.prototype,"setAudioFrameCallback"),pH.prototype),BV(pH.prototype,"play",[lH],Object.getOwnPropertyDescriptor(pH.prototype,"play"),pH.prototype),BV(pH.prototype,"stop",[dH],Object.getOwnPropertyDescriptor(pH.prototype,"stop"),pH.prototype),fH=pH))||fH),GH=(hH=vk("MicrophoneAudioTrack","getTrackId"),gH=$W(),vH=yW("MicrophoneAudioTrack","_enabledMutex"),mH=lW({className:"MicrophoneAudioTrack"}),yH=$W(),hH((BV((bH=class extends QH{constructor(e,t,n,r){super(e,t.encoderConfig?Rk(t.encoderConfig):{},r),LR(this,"_config",void 0),LR(this,"_deviceName","default"),LR(this,"_constraints",void 0),LR(this,"_originalConstraints",void 0),LR(this,"_enabled",!0),gk("info",this,"constructor",{trackId:r,deviceId:e.label,constraints:n}),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),AR()&&IW.bindInterruptDetectorTrack(this),this.bindProcessorContextEvents()}async setDevice(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.MIC_AUDIO_TRACK_SET_DEVICE,options:[this.getTrackId(),e]});if(KP.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),pk("info",this,"setDevice",e),this._enabled)try{const n=await zW.getDeviceById(e),r={};r.audio=HH({},this._constraints),r.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let o=null;try{o=await QW(r,this.getTrackId())}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),pk("error",this,"setDevice",e,t.toString()),o=await QW({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(o.getAudioTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(o.getAudioTracks()[0],!1),this._deviceName=n.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(r){throw t.onError(r),KP.error("[".concat(this.getTrackId(),"] setDevice error"),r.toString()),pk("error",this,"setDevice",e,r.toString()),r}else try{const t=await zW.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(r){throw t.onError(r),KP.error("[".concat(this.getTrackId(),"] setDevice error"),r.toString()),pk("error",this,"setDevice",e,r.toString()),r}t.onSuccess(),KP.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success")),pk("info",this,"setDevice",e,"success")}async setEnabled(e,t,n){if(t)return KP.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),uk("debug",this,"setEnabled false (do not close microphone)"),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(KP.info("[".concat(this.getTrackId(),"] start setEnabled"),e),pk("info",this,"setEnabled",e),!e){this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),n||(this._enabled=!1);try{await SQ(this,Jx.NEED_DISABLE_TRACK,this)}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setEnabled false failed"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}return}const r=HH({},this._constraints),o=zW.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{n||(this._enabled=!0);const e=await QW({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await SQ(this,Jx.NEED_ENABLE_TRACK,this)}catch(t){throw n||(this._enabled=!1),KP.error("[".concat(this.getTrackId(),"] setEnabled true failed"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}KP.info("[".concat(this.getTrackId(),"] setEnabled success")),pk("info",this,"setEnabled",e,"success")}close(){super.close(),AR()&&IW.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((mR()||wR())&&this._enabled&&!this._isClosed&&IW.duringInterruption){const e=async()=>{IW.off(pW.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(KP.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),uk("debug",this,"try capture microphone media device for interrupted iOS device"),await this.setEnabled(!1),await this.setEnabled(!0))};IW.on(pW.IOS_INTERRUPTION_END,e)}else KP.debug("[".concat(this.getTrackId(),"] track ended")),fk("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(eL.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=zW.searchDeviceIdByName(this._deviceName);n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._originMediaStreamTrack.stop();const r=await QW({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!0)}bindProcessorContextEvents(){this.processorContext.on(AL.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(AL.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}).prototype,"setDevice",[gH],Object.getOwnPropertyDescriptor(bH.prototype,"setDevice"),bH.prototype),BV(bH.prototype,"setEnabled",[vH,mH,yH],Object.getOwnPropertyDescriptor(bH.prototype,"setEnabled"),bH.prototype),AH=bH))||AH),KH=(EH=vk("BufferSourceAudioTrack","getTrackId"),_H=$W(),wH=$W(),SH=$W(),CH=$W(),IH=$W(),EH((BV((TH=class extends QH{constructor(e,t,n,r){super(t.createOutputTrack(),n,r),LR(this,"source",void 0),LR(this,"_bufferSource",void 0),gk("info",this,"constructor",{trackId:r}),this.source=e,this._bufferSource=t,this._bufferSource.on(bx.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.emit(eL.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.BUFFER_AUDIO_TRACK_START,options:[this.getTrackId(),e,this.duration]});e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer(),t.onSuccess()}pauseProcessAudioBuffer(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.BUFFER_AUDIO_TRACK_PAUSE,options:[this.getTrackId()]});this._bufferSource.pauseProcessAudioBuffer(),e.onSuccess()}seekAudioBuffer(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.BUFFER_AUDIO_TRACK_SEEK,options:[this.getTrackId()]});this._bufferSource.seekAudioBuffer(e),t.onSuccess()}resumeProcessAudioBuffer(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.BUFFER_AUDIO_TRACK_RESUME,options:[this.getTrackId()]});this._bufferSource.resumeProcessAudioBuffer(),e.onSuccess()}stopProcessAudioBuffer(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.BUFFER_AUDIO_TRACK_STOP,options:[this.getTrackId()]});this._bufferSource.stopProcessAudioBuffer(),e.onSuccess()}}).prototype,"startProcessAudioBuffer",[_H],Object.getOwnPropertyDescriptor(TH.prototype,"startProcessAudioBuffer"),TH.prototype),BV(TH.prototype,"pauseProcessAudioBuffer",[wH],Object.getOwnPropertyDescriptor(TH.prototype,"pauseProcessAudioBuffer"),TH.prototype),BV(TH.prototype,"seekAudioBuffer",[SH],Object.getOwnPropertyDescriptor(TH.prototype,"seekAudioBuffer"),TH.prototype),BV(TH.prototype,"resumeProcessAudioBuffer",[CH],Object.getOwnPropertyDescriptor(TH.prototype,"resumeProcessAudioBuffer"),TH.prototype),BV(TH.prototype,"stopProcessAudioBuffer",[IH],Object.getOwnPropertyDescriptor(TH.prototype,"stopProcessAudioBuffer"),TH.prototype),OH=TH))||OH),qH=vk("MixingAudioTrack","getTrackId")(RH=class extends QH{get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=TW().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,yQ(8,"track-mix-")),LR(this,"trackList",void 0),LR(this,"destNode",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){if(-1!==this.trackList.indexOf(e))return KP.debug("track ".concat(e.getTrackId()," is already added")),void uk("debug",this,"track already added");KP.debug("add ".concat(e.getTrackId()," to mixing track")),pk("debug",this,"addAudioTrack",e.getTrackId()),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){KP.debug("remove ".concat(e.getTrackId()," from mixing track")),pk("debug",this,"removeAudioTrack",e.getTrackId());try{e._source.outputNode.disconnect(this.destNode)}catch(e){}OQ(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}})||RH;class zH extends LP{constructor(){super(...arguments),LR(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const r=this.resultStorage.get(e);if(r&&(r.result.push(n),r.result.length>=5)){const n=r.result.includes(!0);r.isPrevNormal&&!n&&this.emit("exception",YH[e],e,t),!r.isPrevNormal&&n&&this.emit("exception",YH[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=n,r.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof qH&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=iQ(t._encoderConfig.frameRate));const r=e.captureFrameRate;return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof qH&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const YH={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},JH=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function XH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XH(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class $H{constructor(e){LR(this,"store",void 0),LR(this,"onStatsException",void 0),LR(this,"onUploadPublishDuration",void 0),LR(this,"localStats",new Map),LR(this,"remoteStats",new Map),LR(this,"updateStatsInterval",void 0),LR(this,"trafficStats",void 0),LR(this,"trafficStatsPeerList",[]),LR(this,"uplinkStats",void 0),LR(this,"exceptionMonitor",void 0),LR(this,"p2pChannel",void 0),LR(this,"updateStats",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new zH,this.exceptionMonitor.on("exception",((e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)}))}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(dL.LocalAudioTrack)||ZH({},Ix)}getLocalVideoTrackStats(){return this.localStats.get(dL.LocalVideoTrack)||ZH({},Ox)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const o=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.audioStats;o&&(n[e]=t(e,o))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{audioStats:o}]=e;o&&(n[r]=t(r,o))}));return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;r&&(t[e]=r)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{networkStats:r}]=e;r&&(t[n]=r)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const o=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.videoStats;o&&(n[e]=t(e,o))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{videoStats:o}]=e;o&&(n[r]=t(r,o))}));return n}getRTCStats(){let e=0,t=0,n=0,r=0;const o=this.localStats.get(dL.LocalAudioTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const i=this.localStats.get(dL.LocalVideoTrack);i&&(e+=i.sendBytes,t+=i.sendBitrate);const a=this.localStats.get(dL.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:o}=e;t&&(n+=t.receiveBytes,r+=t.receiveBitrate),o&&(n+=o.receiveBytes,r+=o.receiveBitrate)}));let s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd)),e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),r=null!=n&&n.videoSSRC?JH.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,o=null!=n&&n.audioSSRC?JH.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,r>o?r:o),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&KP.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const r=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,o=!n||t.framesDecodeCount>n.framesDecodeCount;return r||!o}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[n,r]=t;switch(n){case dL.LocalVideoTrack:case dL.LocalVideoLowTrack:{const t=r,o=ZH({},Ox),i=e.getStats(),a=e.getLocalMedia(n);if(i){const n=i.videoSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){const r=e.getLocalVideoSize(),i=e.getEncoderConfig(dL.LocalVideoTrack);"H264"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(o.codecType=n.codec),o.sendBytes=n.bytes,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0,n.inputFrame?(o.captureFrameRate=n.inputFrame.frameRate,o.captureResolutionHeight=n.inputFrame.height,o.captureResolutionWidth=n.inputFrame.width):r&&(o.captureResolutionWidth=r.width,o.captureResolutionHeight=r.height),n.sentFrame?(o.sendFrameRate=n.sentFrame.frameRate,o.sendResolutionHeight=n.sentFrame.height,o.sendResolutionWidth=n.sentFrame.width):r&&(o.sendResolutionWidth=r.width,o.sendResolutionHeight=r.height),n.avgEncodeMs&&(o.encodeDelay=n.avgEncodeMs),i&&i.bitrateMax&&(o.targetSendBitrate=1e3*i.bitrateMax),o.sendPackets=n.packets,o.sendPacketsLost=n.packetsLost,o.totalDuration=t?t.totalDuration+1:1,o.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(o.totalFreezeTime+=1)}this.trafficStats&&(o.sendPacketsLost=this.trafficStats.B_pvlr4/100)}this.localStats.set(n,o),o&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,o);break}case dL.LocalAudioTrack:{const t=r,o=ZH({},Ix),i=e.getStats(),a=e.getLocalMedia(n);if(i){const n=i.audioSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(o.codecType=n.codec),n.inputLevel)o.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(o.sendVolumeLevel=Math.round(32767*t))}o.sendBytes=n.bytes,o.sendPackets=n.packets,o.sendPacketsLost=n.packetsLost,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0}}this.trafficStats&&(o.sendPacketsLost=this.trafficStats.B_pvlr4/100),this.localStats.set(dL.LocalAudioTrack,o),o&&a&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,a.track,o);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{let[n,{videoStats:r,audioStats:o,videoPcStats:i}]=t;const a=o,s=r,c=i,u=ZH({},Tx),l=ZH({},Nx),d=ZH({},Rx),{audioTrack:f,videoTrack:p,audioSSRC:h,videoSSRC:g}=e.getRemoteMedia(n),v=e.getStats(),m=null==v?void 0:v.audioRecv.find((e=>e.ssrc===h)),y=null==v?void 0:v.videoRecv.find((e=>e.ssrc===g)),A=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===n));if(m&&("opus"!==m.codec&&"aac"!==m.codec&&"PCMU"!==m.codec&&"PCMA"!==m.codec&&"G722"!==m.codec||(u.codecType=m.codec),m.outputLevel?u.receiveLevel=Math.round(32767*m.outputLevel):f&&(u.receiveLevel=Math.round(32767*f.getVolumeLevel())),u.receiveBytes=m.bytes,u.receivePackets=m.packets,u.receivePacketsLost=m.packetsLost,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.receiveBitrate=a?8*Math.max(0,u.receiveBytes-a.receiveBytes):0,u.totalDuration=a?a.totalDuration+1:1,u.totalFreezeTime=a?a.totalFreezeTime:0,u.freezeRate=u.totalFreezeTime/u.totalDuration,u.receiveDelay=m.jitterBufferMs,u.totalDuration>10&&$H.isRemoteAudioFreeze(f)&&(u.totalFreezeTime+=1)),y){"H264"!==y.codec&&"VP8"!==y.codec&&"VP9"!==y.codec&&"AV1X"!==y.codec&&"AV1"!==y.codec||(l.codecType=y.codec),l.receiveBytes=y.bytes,l.receiveBitrate=s?8*Math.max(0,l.receiveBytes-s.receiveBytes):0,l.decodeFrameRate=y.decodeFrameRate<0?0:y.decodeFrameRate,l.renderFrameRate=y.decodeFrameRate<0?0:y.decodeFrameRate,y.outputFrame&&(l.renderFrameRate=y.outputFrame.frameRate),y.receivedFrame?(l.receiveFrameRate=y.receivedFrame.frameRate,l.receiveResolutionHeight=y.receivedFrame.height,l.receiveResolutionWidth=y.receivedFrame.width):p&&(l.receiveResolutionHeight=p._videoHeight||0,l.receiveResolutionWidth=p._videoWidth||0),void 0!==y.framesRateFirefox&&(l.receiveFrameRate=Math.round(y.framesRateFirefox)),l.receivePackets=y.packets,l.receivePacketsLost=y.packetsLost,l.packetLossRate=l.receivePacketsLost/(l.receivePackets+l.receivePacketsLost),l.totalDuration=s?s.totalDuration+1:1,l.totalFreezeTime=s?s.totalFreezeTime:0,l.receiveDelay=y.jitterBufferMs||0;const t=!!g&&e.getRemoteVideoIsReady(g);p&&t&&$H.isRemoteVideoFreeze(p,y,c)&&(l.totalFreezeTime+=1),l.freezeRate=l.totalFreezeTime/l.totalDuration}A&&(u.end2EndDelay=A.B_ad,l.end2EndDelay=A.B_vd,u.transportDelay=A.B_ed,l.transportDelay=A.B_ed,u.currentPacketLossRate=A.B_ealr4/100,l.currentPacketLossRate=A.B_evlr4/100,d.uplinkNetworkQuality=A.B_punq?A.B_punq:0,d.downlinkNetworkQuality=A.B_pdnq?A.B_pdnq:0),this.remoteStats.set(n,{audioStats:u,videoStats:l,videoPcStats:y,networkStats:d}),f&&this.exceptionMonitor.setRemoteAudioStats(f,u),p&&this.exceptionMonitor.setRemoteVideoStats(p,l)}))}}function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nQ(e){if(!e.address||!e.tcp)throw new BP(MP.UNEXPECTED_RESPONSE,"Invalid address format ".concat(e));return e.address.match(/^[\.\:\d]+$/)?"".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(KP.info("Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),"".concat(e.address,":").concat(e.tcp))}function rQ(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(Pk("TURN_DOMAIN")):(KP.info("Cannot recognized as IP address ".concat(e,". Used As Host instead")),e)}function oQ(e,t){const n=Pk("GATEWAY_DOMAINS");let r=n[1]&&-1!==t.indexOf(n[1])?1:0;return e.addresses=e.addresses||[],{gatewayAddrs:e.addresses.map((e=>e.domain_prefix?{address:"".concat(e.domain_prefix,".").concat(n[r++%n.length],":").concat(e.port)}:e.ip.match(/^[\.\:\d]+$/)?{ip:e.ip,port:e.port,address:"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(n[r++%n.length],":").concat(e.port)}:(KP.info("Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),{ip:e.ip,port:e.port,address:"".concat(e.ip,":").concat(e.port)}))),uid:e.uid,cid:e.cid,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function iQ(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function aQ(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(iQ(t.width),"x").concat(iQ(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function sQ(e,t,n){var r;const o=t.videoSend.find((t=>t.ssrc===e));if(!o)return null;const i=null==n||null===(r=n.videoSend.find((t=>t.ssrc===e)))||void 0===r?void 0:r.inputFrame,a={id:yQ(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:o.ssrc.toString()};return o.inputFrame&&(i&&o.inputFrame.height===i.height||(a.A_fhi=o.inputFrame.height?o.inputFrame.height.toString():"0"),i&&o.inputFrame.width===i.width||(a.A_fwi=o.inputFrame.width?o.inputFrame.width.toString():"0"),i&&o.inputFrame.frameRate===i.frameRate||(a.A_fri=o.inputFrame.frameRate?o.inputFrame.frameRate.toString():"0")),a}function cQ(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function uQ(e,t){let n,r,o;switch(t){case IU.CHOOSE_SERVER:n=4096,r="choose server";break;case IU.CLOUD_PROXY:n=1048576,r="proxy";break;case IU.CLOUD_PROXY_5:n=4194304,r="proxy5";break;case IU.CLOUD_PROXY_FALLBACK:n=4194310,r="proxy fallback";break;default:throw new BP(MP.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(o={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>tQ(tQ({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:tQ(tQ({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid})})),!o)throw new BP(MP.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return o}async function lQ(e,t){return await iS.all(e.addresses.map((async e=>({address:rQ(e.ip),tcpport:e.port,udpport:e.port,username:t&&Pk("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():Ek.username,password:t&&Pk("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await iW(t.toString()):Ek.password}))))}function dQ(e,t){const n=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height;return n?n/iQ(e.height):4}function fQ(e){let{candidateType:t,relayProtocol:n,type:r,address:o,port:i,protocol:a}=e;return"local-candidate"===r?{candidateType:t,relayProtocol:n,protocol:a}:{candidateType:t,relayProtocol:n,address:o,port:i,protocol:a}}function pQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pQ(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gQ(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function vQ(e){return new iS((t=>{window.setTimeout(t,e)}))}function mQ(e){const t=new BP(MP.TIMEOUT,"timeout");return new iS(((n,r)=>{window.setTimeout((()=>r(t)),e)}))}function yQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+yQ(e-n.length,"")}function AQ(){return yQ(32,"").toUpperCase()}const bQ=()=>{};function EQ(e){return new iS(((t,n)=>{let r=!1;const o=document.createElement("video");o.setAttribute("autoplay",""),o.setAttribute("muted",""),o.muted=!0,o.autoplay=!0,o.setAttribute("playsinline",""),o.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(o);const i=mR()?"canplay":"playing";o.addEventListener(i,(()=>{const e=o.videoWidth,n=o.videoHeight;!e&&vR()||(r=!0,o.srcObject=null,o.remove(),t([e,n]))})),o.srcObject=new MediaStream([e]),o.play().catch(bQ),setTimeout((()=>{r||(o.srcObject=null,o.remove(),t([o.videoWidth,o.videoHeight]))}),4e3)}))}function _Q(e){return iS.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}function wQ(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return 0===e.getListeners(t).length?iS.reject(new BP(MP.UNEXPECTED_ERROR,"can not emit promise")):new iS(((n,o)=>{e.emit(t,...r,n,o)}))}function SQ(e,t){if(0===e.getListeners(t).length)return iS.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return wQ(e,t,...r)}function CQ(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return IQ(e,t,...r)}function IQ(e,t){let n=null,r=null;for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];if(e.emit(t,...i,(e=>{n=e}),(e=>{r=e})),null!==r)throw r;if(null===n)throw new BP(MP.UNEXPECTED_ERROR,"handler is not sync");return n}function OQ(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function TQ(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function RQ(e){iS.resolve().then(e)}function NQ(e){return JSON.parse(JSON.stringify(e))}const PQ={};function kQ(e,t){PQ[t]||(PQ[t]=!0,e())}function DQ(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n}function xQ(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}const LQ=new class{constructor(){LR(this,"fnMap",new Map)}throttleByKey(e,t,n,r){for(var o=arguments.length,i=new Array(o>4?o-4:0),a=4;a<o;a++)i[a-4]=arguments[a];if(this.fnMap.has(t)){const o=this.fnMap.get(t);if(o.threshold!==n){o.fn(...o.args),clearTimeout(o.timer);const a=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:a,args:i,skipFn:r})}else o.skipFn&&o.skipFn(...o.args),this.fnMap.set(t,hQ(hQ({},o),{},{fn:e,args:i,skipFn:r}))}else{const o=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:o,args:i,skipFn:r})}}},jQ=LQ.throttleByKey.bind(LQ),MQ=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:r,allFailedhandler:o,promisesCollector:i}=e,a=0;const s=t;let c,u=0;const l=async()=>{const e=(()=>{const e=a*s,t=e+s;return n.slice(e,t).map(r)})();i&&i.push(...e);try{c=await _Q(e)}catch(e){if(u+=s,a++,!(u>=n.length))return void await l();o(e)}e.forEach((e=>e.cancel()))};return await l(),c};function BQ(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}var FQ=Rc,UQ=Pl("iterator"),VQ=!FQ((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[UQ]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),WQ=qc,HQ=jc,QQ=Jc,GQ=Rc,KQ=qv,qQ=Dv,zQ=Xc,YQ=fl,JQ=pu,XQ=Object.assign,ZQ=Object.defineProperty,$Q=HQ([].concat),eG=!XQ||GQ((function(){if(WQ&&1!==XQ({b:1},XQ(ZQ({},"a",{enumerable:!0,get:function(){ZQ(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=XQ({},e)[n]||KQ(XQ({},t)).join("")!=r}))?function(e,t){for(var n=YQ(e),r=arguments.length,o=1,i=qQ.f,a=zQ.f;r>o;)for(var s,c=JQ(arguments[o++]),u=i?$Q(KQ(c),i(c)):KQ(c),l=u.length,d=0;l>d;)s=u[d++],WQ&&!QQ(a,c,s)||(n[s]=c[s]);return n}:XQ,tG=wd,nG=Jm,rG=vd,oG=Jc,iG=fl,aG=function(e,t,n,r){try{return r?t(tG(n)[0],n[1]):t(n)}catch(t){nG(e,"throw",t)}},sG=Sm,cG=Gb,uG=nf,lG=Qk,dG=Km,fG=Fm,pG=Fc.Array,hG=jc,gG=2147483647,vG=/[^\0-\u007E]/,mG=/[.\u3002\uFF0E\uFF61]/g,yG="Overflow: input needs wider integers to process",AG=Fc.RangeError,bG=hG(mG.exec),EG=Math.floor,_G=String.fromCharCode,wG=hG("".charCodeAt),SG=hG([].join),CG=hG([].push),IG=hG("".replace),OG=hG("".split),TG=hG("".toLowerCase),RG=function(e){return e+22+75*(e<26)},NG=function(e,t,n){var r=0;for(e=n?EG(e/700):e>>1,e+=EG(e/t);e>455;)e=EG(e/35),r+=36;return EG(r+36*e/(e+38))},PG=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=wG(e,n++);if(o>=55296&&o<=56319&&n<r){var i=wG(e,n++);56320==(64512&i)?CG(t,((1023&o)<<10)+(1023&i)+65536):(CG(t,o),n--)}else CG(t,o)}return t}(e)).length,i=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&CG(r,_G(n));var c=r.length,u=c;for(c&&CG(r,"-");u<o;){var l=gG;for(t=0;t<e.length;t++)(n=e[t])>=i&&n<l&&(l=n);var d=u+1;if(l-i>EG((gG-a)/d))throw AG(yG);for(a+=(l-i)*d,i=l,t=0;t<e.length;t++){if((n=e[t])<i&&++a>gG)throw AG(yG);if(n==i){for(var f=a,p=36;;){var h=p<=s?1:p>=s+26?26:p-s;if(f<h)break;var g=f-h,v=36-h;CG(r,_G(RG(h+g%v))),f=EG(g/v),p+=36}CG(r,_G(RG(f))),s=NG(a,d,u==c),a=0,u++}}a++,i++}return SG(r,"")},kG=Fc.TypeError,DG=Yd,xG=Fc,LG=Iu,jG=Jc,MG=jc,BG=VQ,FG=bA,UG=vb,VG=BA,WG=GA,HG=fA,QG=wb,GG=Gc,KG=gl,qG=vd,zG=xm,YG=wd,JG=bu,XG=py,ZG=pm,$G=ru,eK=Km,tK=Fm,nK=function(e,t){if(e<t)throw kG("Not enough arguments");return e},rK=nD,oK=Pl("iterator"),iK="URLSearchParams",aK="URLSearchParamsIterator",sK=HG.set,cK=HG.getterFor(iK),uK=HG.getterFor(aK),lK=LG("fetch"),dK=LG("Request"),fK=LG("Headers"),pK=dK&&dK.prototype,hK=fK&&fK.prototype,gK=xG.RegExp,vK=xG.TypeError,mK=xG.decodeURIComponent,yK=xG.encodeURIComponent,AK=MG("".charAt),bK=MG([].join),EK=MG([].push),_K=MG("".replace),wK=MG([].shift),SK=MG([].splice),CK=MG("".split),IK=MG("".slice),OK=/\+/g,TK=Array(4),RK=function(e){return TK[e-1]||(TK[e-1]=gK("((?:%[\\da-f]{2}){"+e+"})","gi"))},NK=function(e){try{return mK(e)}catch(t){return e}},PK=function(e){var t=_K(e,OK," "),n=4;try{return mK(t)}catch(e){for(;n;)t=_K(t,RK(n--),NK);return t}},kK=/[!'()~]|%20/g,DK={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},xK=function(e){return DK[e]},LK=function(e){return _K(yK(e),kK,xK)},jK=WG((function(e,t){sK(this,{type:aK,iterator:eK(cK(e).entries),kind:t})}),"Iterator",(function(){var e=uK(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),MK=function(e){this.entries=[],this.url=null,void 0!==e&&(JG(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===AK(e,0)?IK(e,1):e:XG(e)))};MK.prototype={type:iK,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,a,s,c=tK(e);if(c)for(n=(t=eK(e,c)).next;!(r=jG(n,t)).done;){if(i=(o=eK(YG(r.value))).next,(a=jG(i,o)).done||(s=jG(i,o)).done||!jG(i,o).done)throw vK("Expected sequence with length 2");EK(this.entries,{key:XG(a.value),value:XG(s.value)})}else for(var u in e)KG(e,u)&&EK(this.entries,{key:u,value:XG(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=CK(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=CK(t,"="),EK(this.entries,{key:PK(wK(n)),value:PK(bK(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],EK(n,LK(e.key)+"="+LK(e.value));return bK(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var BK=function(){QG(this,FK);var e=arguments.length>0?arguments[0]:void 0;sK(this,new MK(e))},FK=BK.prototype;if(UG(FK,{append:function(e,t){nK(arguments.length,2);var n=cK(this);EK(n.entries,{key:XG(e),value:XG(t)}),n.updateURL()},delete:function(e){nK(arguments.length,1);for(var t=cK(this),n=t.entries,r=XG(e),o=0;o<n.length;)n[o].key===r?SK(n,o,1):o++;t.updateURL()},get:function(e){nK(arguments.length,1);for(var t=cK(this).entries,n=XG(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){nK(arguments.length,1);for(var t=cK(this).entries,n=XG(e),r=[],o=0;o<t.length;o++)t[o].key===n&&EK(r,t[o].value);return r},has:function(e){nK(arguments.length,1);for(var t=cK(this).entries,n=XG(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){nK(arguments.length,1);for(var n,r=cK(this),o=r.entries,i=!1,a=XG(e),s=XG(t),c=0;c<o.length;c++)(n=o[c]).key===a&&(i?SK(o,c--,1):(i=!0,n.value=s));i||EK(o,{key:a,value:s}),r.updateURL()},sort:function(){var e=cK(this);rK(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=cK(this).entries,r=qG(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new jK(this,"keys")},values:function(){return new jK(this,"values")},entries:function(){return new jK(this,"entries")}},{enumerable:!0}),FG(FK,oK,FK.entries,{name:"entries"}),FG(FK,"toString",(function(){return cK(this).serialize()}),{enumerable:!0}),VG(BK,iK),DG({global:!0,forced:!BG},{URLSearchParams:BK}),!BG&&GG(fK)){var UK=MG(hK.has),VK=MG(hK.set),WK=function(e){if(JG(e)){var t,n=e.body;if(zG(n)===iK)return t=e.headers?new fK(e.headers):new fK,UK(t,"content-type")||VK(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ZG(e,{body:$G(0,XG(n)),headers:$G(0,t)})}return e};if(GG(lK)&&DG({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return lK(e,arguments.length>1?WK(arguments[1]):{})}}),GG(dK)){var HK=function(e){return QG(this,pK),new dK(e,arguments.length>1?WK(arguments[1]):{})};pK.constructor=HK,HK.prototype=pK,DG({global:!0,forced:!0},{Request:HK})}}var QK,GK={URLSearchParams:BK,getState:cK},KK=Yd,qK=qc,zK=VQ,YK=Fc,JK=vd,XK=jc,ZK=Qv.f,$K=bA,eq=wb,tq=gl,nq=eG,rq=function(e){var t=iG(e),n=cG(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=rG(o,r>2?arguments[2]:void 0));var a,s,c,u,l,d,f=fG(t),p=0;if(!f||this==pG&&sG(f))for(a=uG(t),s=n?new this(a):pG(a);a>p;p++)d=i?o(t[p],p):t[p],lG(s,p,d);else for(l=(u=dG(t,f)).next,s=n?new this:[];!(c=oG(l,u)).done;p++)d=i?aG(u,o,[c.value,p],!0):c.value,lG(s,p,d);return s.length=p,s},oq=Jk,iq=Uw.codeAt,aq=function(e){var t,n,r=[],o=OG(IG(TG(e),mG,"."),".");for(t=0;t<o.length;t++)n=o[t],CG(r,bG(vG,n)?"xn--"+PG(n):n);return SG(r,".")},sq=py,cq=BA,uq=GK,lq=fA,dq=lq.set,fq=lq.getterFor("URL"),pq=uq.URLSearchParams,hq=uq.getState,gq=YK.URL,vq=YK.TypeError,mq=YK.parseInt,yq=Math.floor,Aq=Math.pow,bq=XK("".charAt),Eq=XK(/./.exec),_q=XK([].join),wq=XK(1..toString),Sq=XK([].pop),Cq=XK([].push),Iq=XK("".replace),Oq=XK([].shift),Tq=XK("".split),Rq=XK("".slice),Nq=XK("".toLowerCase),Pq=XK([].unshift),kq="Invalid scheme",Dq="Invalid host",xq="Invalid port",Lq=/[a-z]/i,jq=/[\d+-.a-z]/i,Mq=/\d/,Bq=/^0x/i,Fq=/^[0-7]+$/,Uq=/^\d+$/,Vq=/^[\da-f]+$/i,Wq=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Hq=/[\0\t\n\r #/:<>?@[\\\]^|]/,Qq=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,Gq=/[\t\n\r]/g,Kq=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)Pq(t,e%256),e=yq(e/256);return _q(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=wq(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},qq={},zq=nq({},qq,{" ":1,'"':1,"<":1,">":1,"`":1}),Yq=nq({},zq,{"#":1,"?":1,"{":1,"}":1}),Jq=nq({},Yq,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Xq=function(e,t){var n=iq(e,0);return n>32&&n<127&&!tq(t,e)?e:encodeURIComponent(e)},Zq={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$q=function(e,t){var n;return 2==e.length&&Eq(Lq,bq(e,0))&&(":"==(n=bq(e,1))||!t&&"|"==n)},ez=function(e){var t;return e.length>1&&$q(Rq(e,0,2))&&(2==e.length||"/"===(t=bq(e,2))||"\\"===t||"?"===t||"#"===t)},tz=function(e){return"."===e||"%2e"===Nq(e)},nz={},rz={},oz={},iz={},az={},sz={},cz={},uz={},lz={},dz={},fz={},pz={},hz={},gz={},vz={},mz={},yz={},Az={},bz={},Ez={},_z={},wz=function(e,t,n){var r,o,i,a=sq(e);if(t){if(o=this.parse(a))throw vq(o);this.searchParams=null}else{if(void 0!==n&&(r=new wz(n,!0)),o=this.parse(a,null,r))throw vq(o);(i=hq(new pq)).bindURL(this),this.searchParams=i}};wz.prototype={type:"URL",parse:function(e,t,n){var r,o,i,a,s,c=this,u=t||nz,l=0,d="",f=!1,p=!1,h=!1;for(e=sq(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=Iq(e,Qq,"")),e=Iq(e,Gq,""),r=rq(e);l<=r.length;){switch(o=r[l],u){case nz:if(!o||!Eq(Lq,o)){if(t)return kq;u=oz;continue}d+=Nq(o),u=rz;break;case rz:if(o&&(Eq(jq,o)||"+"==o||"-"==o||"."==o))d+=Nq(o);else{if(":"!=o){if(t)return kq;d="",u=oz,l=0;continue}if(t&&(c.isSpecial()!=tq(Zq,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&Zq[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=gz:c.isSpecial()&&n&&n.scheme==c.scheme?u=iz:c.isSpecial()?u=uz:"/"==r[l+1]?(u=az,l++):(c.cannotBeABaseURL=!0,Cq(c.path,""),u=bz)}break;case oz:if(!n||n.cannotBeABaseURL&&"#"!=o)return kq;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=oq(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=_z;break}u="file"==n.scheme?gz:sz;continue;case iz:if("/"!=o||"/"!=r[l+1]){u=sz;continue}u=lz,l++;break;case az:if("/"==o){u=dz;break}u=Az;continue;case sz:if(c.scheme=n.scheme,o==QK)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=oq(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())u=cz;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=oq(n.path),c.query="",u=Ez;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=oq(n.path),c.path.length--,u=Az;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=oq(n.path),c.query=n.query,c.fragment="",u=_z}break;case cz:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Az;continue}u=dz}else u=lz;break;case uz:if(u=lz,"/"!=o||"/"!=bq(d,l+1))continue;l++;break;case lz:if("/"!=o&&"\\"!=o){u=dz;continue}break;case dz:if("@"==o){f&&(d="%40"+d),f=!0,i=rq(d);for(var g=0;g<i.length;g++){var v=i[g];if(":"!=v||h){var m=Xq(v,Jq);h?c.password+=m:c.username+=m}else h=!0}d=""}else if(o==QK||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(f&&""==d)return"Invalid authority";l-=rq(d).length+1,d="",u=fz}else d+=o;break;case fz:case pz:if(t&&"file"==c.scheme){u=mz;continue}if(":"!=o||p){if(o==QK||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==d)return Dq;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",u=yz,t)return;continue}"["==o?p=!0:"]"==o&&(p=!1),d+=o}else{if(""==d)return Dq;if(a=c.parseHost(d))return a;if(d="",u=hz,t==pz)return}break;case hz:if(!Eq(Mq,o)){if(o==QK||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=d){var y=mq(d,10);if(y>65535)return xq;c.port=c.isSpecial()&&y===Zq[c.scheme]?null:y,d=""}if(t)return;u=yz;continue}return xq}d+=o;break;case gz:if(c.scheme="file","/"==o||"\\"==o)u=vz;else{if(!n||"file"!=n.scheme){u=Az;continue}if(o==QK)c.host=n.host,c.path=oq(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=oq(n.path),c.query="",u=Ez;else{if("#"!=o){ez(_q(oq(r,l),""))||(c.host=n.host,c.path=oq(n.path),c.shortenPath()),u=Az;continue}c.host=n.host,c.path=oq(n.path),c.query=n.query,c.fragment="",u=_z}}break;case vz:if("/"==o||"\\"==o){u=mz;break}n&&"file"==n.scheme&&!ez(_q(oq(r,l),""))&&($q(n.path[0],!0)?Cq(c.path,n.path[0]):c.host=n.host),u=Az;continue;case mz:if(o==QK||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&$q(d))u=Az;else if(""==d){if(c.host="",t)return;u=yz}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",u=yz}continue}d+=o;break;case yz:if(c.isSpecial()){if(u=Az,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=QK&&(u=Az,"/"!=o))continue}else c.fragment="",u=_z;else c.query="",u=Ez;break;case Az:if(o==QK||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(s=Nq(s=d))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||Cq(c.path,"")):tz(d)?"/"==o||"\\"==o&&c.isSpecial()||Cq(c.path,""):("file"==c.scheme&&!c.path.length&&$q(d)&&(c.host&&(c.host=""),d=bq(d,0)+":"),Cq(c.path,d)),d="","file"==c.scheme&&(o==QK||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)Oq(c.path);"?"==o?(c.query="",u=Ez):"#"==o&&(c.fragment="",u=_z)}else d+=Xq(o,Yq);break;case bz:"?"==o?(c.query="",u=Ez):"#"==o?(c.fragment="",u=_z):o!=QK&&(c.path[0]+=Xq(o,qq));break;case Ez:t||"#"!=o?o!=QK&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":Xq(o,qq)):(c.fragment="",u=_z);break;case _z:o!=QK&&(c.fragment+=Xq(o,zq))}l++}},parseHost:function(e){var t,n,r;if("["==bq(e,0)){if("]"!=bq(e,e.length-1))return Dq;if(!(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return bq(e,d)};if(":"==f()){if(":"!=bq(e,1))return;d+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=n=0;n<4&&Eq(Vq,f());)t=16*t+mq(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,u>6)return;for(r=0;f();){if(o=null,r>0){if(!("."==f()&&r<4))return;d++}if(!Eq(Mq,f()))return;for(;Eq(Mq,f());){if(i=mq(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(Rq(e,1,-1))))return Dq;this.host=t}else if(this.isSpecial()){if(e=aq(e),Eq(Wq,e))return Dq;if(null===(t=function(e){var t,n,r,o,i,a,s,c=Tq(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==bq(o,0)&&(i=Eq(Bq,o)?16:8,o=Rq(o,8==i?1:2)),""===o)a=0;else{if(!Eq(10==i?Uq:8==i?Fq:Vq,o))return e;a=mq(o,i)}Cq(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Aq(256,5-t))return null}else if(a>255)return null;for(s=Sq(n),r=0;r<n.length;r++)s+=n[r]*Aq(256,3-r);return s}(e)))return Dq;this.host=t}else{if(Eq(Hq,e))return Dq;for(t="",n=rq(e),r=0;r<n.length;r++)t+=Xq(n[r],qq);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return tq(Zq,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&$q(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=Kq(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+_q(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw vq(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Sz(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+Kq(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(sq(e)+":",nz)},getUsername:function(){return this.username},setUsername:function(e){var t=rq(sq(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Xq(t[n],Jq)}},getPassword:function(){return this.password},setPassword:function(e){var t=rq(sq(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Xq(t[n],Jq)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?Kq(e):Kq(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,fz)},getHostname:function(){var e=this.host;return null===e?"":Kq(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,pz)},getPort:function(){var e=this.port;return null===e?"":sq(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=sq(e))?this.port=null:this.parse(e,hz))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+_q(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,yz))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=sq(e))?this.query=null:("?"==bq(e,0)&&(e=Rq(e,1)),this.query="",this.parse(e,Ez)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=sq(e))?("#"==bq(e,0)&&(e=Rq(e,1)),this.fragment="",this.parse(e,_z)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Sz=function(e){var t=eq(this,Cz),n=arguments.length>1?arguments[1]:void 0,r=dq(t,new wz(e,!1,n));qK||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Cz=Sz.prototype,Iz=function(e,t){return{get:function(){return fq(this)[e]()},set:t&&function(e){return fq(this)[t](e)},configurable:!0,enumerable:!0}};if(qK&&ZK(Cz,{href:Iz("serialize","setHref"),origin:Iz("getOrigin"),protocol:Iz("getProtocol","setProtocol"),username:Iz("getUsername","setUsername"),password:Iz("getPassword","setPassword"),host:Iz("getHost","setHost"),hostname:Iz("getHostname","setHostname"),port:Iz("getPort","setPort"),pathname:Iz("getPathname","setPathname"),search:Iz("getSearch","setSearch"),searchParams:Iz("getSearchParams"),hash:Iz("getHash","setHash")}),$K(Cz,"toJSON",(function(){return fq(this).serialize()}),{enumerable:!0}),$K(Cz,"toString",(function(){return fq(this).serialize()}),{enumerable:!0}),gq){var Oz=gq.createObjectURL,Tz=gq.revokeObjectURL;Oz&&$K(Sz,"createObjectURL",JK(Oz,gq)),Tz&&$K(Sz,"revokeObjectURL",JK(Tz,gq))}cq(Sz,"URL"),KK({global:!0,forced:!zK,sham:!qK},{URL:Sz});var Rz=Eu.URL;const Nz={[ix.ACCESS_POINT]:{[cx.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[cx.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[cx.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[cx.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[cx.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[cx.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voice service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[cx.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[ix.UNILBS]:{[sx.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[sx.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[sx.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[sx.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[sx.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[sx.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[sx.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[sx.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[sx.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[sx.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[sx.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[sx.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[ix.STRING_UID_ALLOCATOR]:{[ax.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[ax.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[ax.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function Pz(e){const t=Nz[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===ix.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return n}const kz={[ux.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[ux.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[ux.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[ux.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[ux.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[ux.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[ux.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[ux.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[ux.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[ux.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[ux.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[ux.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[ux.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[ux.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[ux.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[ux.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[ux.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[ux.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[ux.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[ux.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[ux.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[ux.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[ux.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[ux.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[ux.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[ux.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[ux.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[ux.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[ux.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[ux.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[ux.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[ux.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[ux.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[ux.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[ux.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[ux.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[ux.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[ux.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[ux.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[ux.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[ux.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[ux.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[ux.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[ux.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[ux.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[ux.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[ux.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[ux.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[ux.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[ux.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[ux.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[ux.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[ux.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[ux.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[ux.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[ux.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[ux.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[ux.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"}};function Dz(e){const t=kz[e];return t||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}var xz={exports:{}};!function(e,t){e.exports=function(){var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{DataViewIndexOutOfBoundsError:function(){return U},DecodeError:function(){return y},Decoder:function(){return H},EXT_TIMESTAMP:function(){return A},Encoder:function(){return R},ExtData:function(){return v},ExtensionCodec:function(){return I},decode:function(){return G},decodeArrayStream:function(){return $},decodeAsync:function(){return Z},decodeMulti:function(){return K},decodeMultiStream:function(){return ee},decodeStream:function(){return te},decodeTimestampExtension:function(){return S},decodeTimestampToTimeSpec:function(){return w},encode:function(){return P},encodeDateToTimeSpec:function(){return E},encodeTimeSpecToTimestamp:function(){return b},encodeTimestampExtension:function(){return _}});var n=4294967295;function r(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}function o(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},s="undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function c(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if(0!=(4294967168&o))if(0==(4294965248&o))n+=2;else{if(o>=55296&&o<=56319&&r<t){var i=e.charCodeAt(r);56320==(64512&i)&&(++r,o=((1023&o)<<10)+(1023&i)+65536)}n+=0==(4294901760&o)?3:4}else n++}return n}var u=s?new TextEncoder:void 0,l=s?"undefined"!=typeof process?200:0:n,d=(null==u?void 0:u.encodeInto)?function(e,t,n){u.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(u.encode(e),n)};function f(e,t,n){for(var r=t,o=r+n,s=[],c="";r<o;){var u=e[r++];if(0==(128&u))s.push(u);else if(192==(224&u)){var l=63&e[r++];s.push((31&u)<<6|l)}else if(224==(240&u)){l=63&e[r++];var d=63&e[r++];s.push((31&u)<<12|l<<6|d)}else if(240==(248&u)){var f=(7&u)<<18|(l=63&e[r++])<<12|(d=63&e[r++])<<6|63&e[r++];f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|1023&f),s.push(f)}else s.push(u);s.length>=4096&&(c+=String.fromCharCode.apply(String,a([],i(s))),s.length=0)}return s.length>0&&(c+=String.fromCharCode.apply(String,a([],i(s)))),c}var p,h=s?new TextDecoder:null,g=s?"undefined"!=typeof process?200:0:n,v=function(e,t){this.type=e,this.data=t},m=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(n){var r=e.call(this,n)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return m(t,e),t}(Error),A=-1;function b(e){var t,n=e.sec,o=e.nsec;if(n>=0&&o>=0&&n<=17179869183){if(0===o&&n<=4294967295){var i=new Uint8Array(4);return(t=new DataView(i.buffer)).setUint32(0,n),i}var a=n/4294967296,s=4294967295&n;return i=new Uint8Array(8),(t=new DataView(i.buffer)).setUint32(0,o<<2|3&a),t.setUint32(4,s),i}return i=new Uint8Array(12),(t=new DataView(i.buffer)).setUint32(0,o),r(t,4,n),i}function E(e){var t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),o=Math.floor(r/1e9);return{sec:n+o,nsec:r-1e9*o}}function _(e){return e instanceof Date?b(E(e)):null}function w(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:o(t,4),nsec:t.getUint32(0)};default:throw new y("Unrecognized data size for timestamp (expected 4, 8, or 12): "+e.length)}}function S(e){var t=w(e);return new Date(1e3*t.sec+t.nsec/1e6)}var C={type:A,encode:_,decode:S},I=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(C)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var o=1+t;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(o=r(e,t)))return new v(-1-n,o);for(n=0;n<this.encoders.length;n++){var r,o;if(null!=(r=this.encoders[n])&&null!=(o=r(e,t)))return new v(n,o)}return e instanceof v?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new v(t,e)},e.defaultCodec=new e,e}();function O(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},R=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=I.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>l){var t=c(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),d(e,this.bytes,this.pos),this.pos+=t}else t=c(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,o=n,i=0;i<r;){var a=e.charCodeAt(i++);if(0!=(4294967168&a)){if(0==(4294965248&a))t[o++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&i<r){var s=e.charCodeAt(i);56320==(64512&s)&&(++i,a=((1023&a)<<10)+(1023&s)+65536)}0==(4294901760&a)?(t[o++]=a>>12&15|224,t[o++]=a>>6&63|128):(t[o++]=a>>18&7|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128)}t[o++]=63&a|128}else t[o++]=a}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}var n=O(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n,r,o=e.length;if(o<16)this.writeU8(144+o);else if(o<65536)this.writeU8(220),this.writeU16(o);else{if(!(o<4294967296))throw new Error("Too large array: "+o);this.writeU8(221),this.writeU32(o)}try{for(var i=T(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.doEncode(s,t+1)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.countWithoutUndefined=function(e,t){var n,r,o=0;try{for(var i=T(t),a=i.next();!a.done;a=i.next())void 0!==e[a.value]&&o++}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},e.prototype.encodeMap=function(e,t){var n,r,o=Object.keys(e);this.sortKeys&&o.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,o):o.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else{if(!(i<4294967296))throw new Error("Too large map object: "+i);this.writeU8(223),this.writeU32(i)}try{for(var a=T(o),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];this.ignoreUndefined&&void 0===u||(this.encodeString(c),this.doEncode(u,t+1))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),r(this.view,this.pos,e),this.pos+=8},e}(),N={};function P(e,t){return void 0===t&&(t=N),new R(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}function k(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}var D=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){var r,o,i=this.caches[n-1];try{e:for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=a.next();!s.done;s=a.next()){for(var c=s.value,u=c.bytes,l=0;l<n;l++)if(u[l]!==e[t+l])continue e;return c.str}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var o=f(e,t,n),i=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(i,o),o},e}(),x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},L=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}},j=function(e){return this instanceof j?(this.v=e,this):new j(e)},M=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof j?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},B=new DataView(new ArrayBuffer(0)),F=new Uint8Array(B.buffer),U=function(){try{B.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),V=new U("Insufficient data"),W=new D,H=function(){function e(e,t,r,o,i,a,s,c){void 0===e&&(e=I.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=n),void 0===o&&(o=n),void 0===i&&(i=n),void 0===a&&(a=n),void 0===s&&(s=n),void 0===c&&(c=W),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=o,this.maxArrayLength=i,this.maxMapLength=a,this.maxExtLength=s,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=B,this.bytes=F,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=O(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=O(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=O(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra "+(t.byteLength-n)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return x(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,o,i,a,s,c;return i=this,a=void 0,c=function(){var i,a,s,c,u,l,d,f;return x(this,(function(p){switch(p.label){case 0:i=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),t=L(e),p.label=2;case 2:return[4,t.next()];case 3:if((n=p.sent()).done)return[3,5];if(s=n.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof U))throw e}this.totalPos+=this.pos,p.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=p.sent(),r={error:c},[3,12];case 7:return p.trys.push([7,,10,11]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=(u=this).headByte,d=u.pos,f=u.totalPos,new RangeError("Insufficient data in parsing "+k(l)+" at "+f+" ("+d+" in the current buffer)")}}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}o((c=c.apply(i,a||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return M(this,arguments,(function(){var n,r,o,i,a,s,c,u,l;return x(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=L(e),d.label=2;case 2:return[4,j(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(a=i.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,j(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=d.sent())instanceof U))throw s;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),u={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(l=o.return)?[4,j(l.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!=(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)n=this.lookU8(),t=this.decodeUtf8String(n,1);else if(218===e)n=this.lookU16(),t=this.decodeUtf8String(n,2);else if(219===e)n=this.lookU32(),t=this.decodeUtf8String(n,4);else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e)r=this.lookU16(),t=this.decodeBinary(r,2);else if(198===e)r=this.lookU32(),t=this.decodeBinary(r,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)r=this.lookU8(),t=this.decodeExtension(r,1);else if(200===e)r=this.lookU16(),t=this.decodeExtension(r,2);else{if(201!==e)throw new y("Unrecognized type byte: "+k(e));r=this.lookU32(),t=this.decodeExtension(r,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if("string"!=(a=typeof t)&&"number"!==a)throw new y("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new y("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new y("Unrecognized array type byte: "+k(e))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new y("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new y("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new y("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+t+e)throw V;var r,o=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>g?function(e,t,n){var r=e.subarray(t,t+n);return h.decode(r)}(this.bytes,o,e):f(this.bytes,o,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new y("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw V;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new y("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=o(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),Q={};function G(e,t){return void 0===t&&(t=Q),new H(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function K(e,t){return void 0===t&&(t=Q),new H(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},z=function(e){return this instanceof z?(this.v=e,this):new z(e)},Y=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof z?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}};function J(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}function X(e){return null!=e[Symbol.asyncIterator]?e:function(e){return Y(this,arguments,(function(){var t,n,r,o;return q(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,z(t.read())];case 3:return n=i.sent(),r=n.done,o=n.value,r?[4,z(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return J(o),[4,z(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}function Z(e,t){return void 0===t&&(t=Q),n=this,r=void 0,i=function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){return n=X(e),[2,new H(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(n)]}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{c(i.next(e))}catch(e){t(e)}}function s(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i}function $(e,t){void 0===t&&(t=Q);var n=X(e);return new H(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(n)}function ee(e,t){void 0===t&&(t=Q);var n=X(e);return new H(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(n)}function te(e,t){return void 0===t&&(t=Q),ee(e,t)}return t}()}(xz),(0,fM.exports)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,fM.exports)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,fM.exports)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,fM.exports)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,fM.exports)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,fM.exports)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,fM.exports)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}));const Lz=()=>function(e){const t=window.atob(e).split("").map((e=>e.charCodeAt(0)));return new Uint8Array(t,0,t.length/Uint8Array.BYTES_PER_ELEMENT)}("AGFzbQEAAAABMAlgA39/fwF/YAF/AGACf38AYAF/AX9gAn9/AX9gA39/fwBgBH9/f38AYAABf2AAAAI6AgNlbnYWZW1zY3JpcHRlbl9yZXNpemVfaGVhcAADA2VudhVlbXNjcmlwdGVuX21lbWNweV9iaWcAAAMjIggAAAAAAQEDAQEEBAQEAQEGAQYCBQUAAgAHAwEDAAIHAQMEBQFwAQYGBQYBAYACgAIGCQF/AUHQ48ACCweUAQoGbWVtb3J5AgARX193YXNtX2NhbGxfY3RvcnMAAhlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQAGbWFsbG9jABwEZnJlZQAdEF9fZXJybm9fbG9jYXRpb24AGwx6bGliQ29tcHJlc3MAGglzdGFja1NhdmUAIQxzdGFja1Jlc3RvcmUAIgpzdGFja0FsbG9jACMJCwEAQQELBRgZDA0PCq6FAiIDAAELpQcBBH8gAEH//wNxIQMgAEEQdiEEQQEhACACQQFGBEAgAyABLQAAaiIAQfH/A2sgACAAQfD/A0sbIgAgBGoiA0EQdCIEQYCAPGogBCADQfD/A0sbIAByDwsgAQR/IAJBEE8EQAJAAkACQCACQa8rSwRAA0AgAkGwK2shAkHbAiEFIAEhAANAIAMgAC0AAGoiAyAEaiADIAAtAAFqIgNqIAMgAC0AAmoiA2ogAyAALQADaiIDaiADIAAtAARqIgNqIAMgAC0ABWoiA2ogAyAALQAGaiIDaiADIAAtAAdqIgNqIAMgAC0ACGoiA2ogAyAALQAJaiIDaiADIAAtAApqIgNqIAMgAC0AC2oiA2ogAyAALQAMaiIDaiADIAAtAA1qIgNqIAMgAC0ADmoiA2ogAyAALQAPaiIDaiEEIABBEGohACAFQQFrIgUNAAsgBEHx/wNwIQQgA0Hx/wNwIQMgAUGwK2ohASACQa8rSw0ACyACRQ0DIAJBEEkNAQsDQCADIAEtAABqIgAgBGogACABLQABaiIAaiAAIAEtAAJqIgBqIAAgAS0AA2oiAGogACABLQAEaiIAaiAAIAEtAAVqIgBqIAAgAS0ABmoiAGogACABLQAHaiIAaiAAIAEtAAhqIgBqIAAgAS0ACWoiAGogACABLQAKaiIAaiAAIAEtAAtqIgBqIAAgAS0ADGoiAGogACABLQANaiIAaiAAIAEtAA5qIgBqIAAgAS0AD2oiA2ohBCABQRBqIQEgAkEQayICQQ9LDQALIAJFDQELIAJBAWshBiACQQNxIgUEQCABIQADQCACQQFrIQIgAyAALQAAaiIDIARqIQQgAEEBaiIBIQAgBUEBayIFDQALCyAGQQNJDQADQCADIAEtAABqIgAgAS0AAWoiBSABLQACaiIGIAEtAANqIgMgBiAFIAAgBGpqamohBCABQQRqIQEgAkEEayICDQALCyAEQfH/A3AhBCADQfH/A3AhAwsgBEEQdCADcg8LAkAgAkUNACACQQFrIQYgAkEDcSIFBEAgASEAA0AgAkEBayECIAMgAC0AAGoiAyAEaiEEIABBAWoiASEAIAVBAWsiBQ0ACwsgBkEDSQ0AA0AgAyABLQAAaiIAIAEtAAFqIgUgAS0AAmoiBiABLQADaiIDIAYgBSAAIARqampqIQQgAUEEaiEBIAJBBGsiAg0ACwsgBEHx/wNwQRB0IANB8f8DayADIANB8P8DSxtyBSAACwsKACAAIAEgAhADC4UJAQJ/IAFFBEBBAA8LIABBf3MhAAJAIAJFDQAgAUEDcUUNACABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACACQQFrIgRBACABQQFqIgNBA3EbRQRAIAMhASAEIQIMAQsgAS0AASAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEDAkAgAkECayIERQ0AIANBA3FFDQAgAS0AAiAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUEDaiEDAkAgAkEDayIERQ0AIANBA3FFDQAgAS0AAyAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAkEEayECIAFBBGohAQwCCyADIQEgBCECDAELIAMhASAEIQILIAJBH0sEQANAIAEoAhwgASgCGCABKAIUIAEoAhAgASgCDCABKAIIIAEoAgQgASgCACAAcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAcyEAIAFBIGohASACQSBrIgJBH0sNAAsLIAJBA0sEQANAIAEoAgAgAHMiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzIQAgAUEEaiEBIAJBBGsiAkEDSw0ACwsCQCACRQ0AIAJBAXEEfyABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACABQQFqIQEgAkEBawUgAgshAyACQQFGDQADQCABLQABIAEtAAAgAEH/AXFzQQJ0QYAIaigCACAAQQh2cyIAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEBIANBAmsiAw0ACwsgAEF/cwsKACAAIAEgAhAFC9wEAQN/AkBByN8ALQAAQTFHDQAgAEUNACAAQQA2AhggACgCICIBRQRAIABBADYCKCAAQQE2AiBBASEBCyAAKAIkRQRAIABBAjYCJAsgACgCKEEBQcQtIAERAAAiAUUNACAAIAE2AhwgAUEPNgIwIAFBADYCHCABQQA2AhggAUEqNgIEIAEgADYCACABQQs2AlAgAUGAgAI2AiwgAUH//wE2AjQgAUGAEDYCTCABQQQ2AlggAUH/DzYCVCABIAAoAihBgIACQQIgACgCIBEAADYCOCABIAAoAiggASgCLEECIAAoAiARAAA2AkAgACgCKCABKAJMQQIgACgCIBEAACECIAFBADYCwC0gASACNgJEIAFBgAg2ApwtIAEgACgCKEGACEEEIAAoAiARAAAiAjYCCCABIAEoApwtIgNBAnQ2AgwCQAJAIAEoAjhFDQAgASgCQEUNACACRQ0AIAEoAkQNAQsgAUGaBTYCBCAAQbjfACgCADYCGCAAEAgPCyABQQA2AogBIAFBCTYChAEgAUEIOgAkIAEgAiADQQNsajYCmC0gASACIANBfnFqNgKkLSAAEAkNACAAKAIcIgAgACgCLEEBdDYCPCAAKAJEIgEgACgCTEEBdEECayIDakEAOwEAIAEgAxAgIABBADYCtC0gAEKAgICAIDcCdCAAQgA3AmggAEKAgICAIDcCXCAAQQA2AkggACAAKAKEAUEMbCIBQYTIAGovAQA2ApABIAAgAUGAyABqLwEANgKMASAAIAFBgsgAai8BADYCgAEgACABQYbIAGovAQA2AnwLC6kCAQN/AkAgAEUNACAAKAIgRQ0AIAAoAiQiA0UNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgJBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIAJBmgVGDQAgAkEqRw0BCwJ/An8CfyABKAIIIgIEQCAAKAIoIAIgAxECACAAKAIcIQELIAEoAkQiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAkAiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAjgiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAAoAiggASAAKAIkEQIAIABBADYCHAsLlgIBA39BfiECAkAgAEUNACAAKAIgRQ0AIAAoAiRFDQAgACgCHCIBRQ0AIAEoAgAgAEcNAAJAAkAgASgCBCIDQTlrDjkBAgICAgICAgICAgIBAgICAQICAgICAgICAgICAgICAgICAQICAgICAgICAgICAQICAgICAgICAgEACyADQZoFRg0AIANBKkcNAQsgAEECNgIsIABBADYCCCAAQgA3AhQgAUEANgIUIAEgASgCCDYCECABKAIYIgJBf0wEQCABQQAgAmsiAjYCGAsgAUE5QSpB8QAgAhsgAkECRhs2AgQgAAJ/IAJBAkYEQEEAQQBBABAGDAELQQBBAEEAEAQLNgIwQQAhAiABQQA2AiggARAQCyACC9wIAQt/IAAoAiwiB0GGAmshCyAAKAJ0IQUgByEBA0AgACgCPCAFayAAKAJsIghrIQYgASALaiAITQRAIAAoAjgiASABIAdqIAcgBmsQHxogACAAKAJwIAdrNgJwIAAgACgCbCAHayIINgJsIAAgACgCXCAHazYCXCAAKAJMIgRBAWshCiAAKAJEIARBAXRqIQMgACgCLCEBIARBA3EiAgRAA0AgA0ECayIDQQAgAy8BACIFIAFrIgkgBSAJSRs7AQAgBEEBayEEIAJBAWsiAg0ACwsgCkEDTwRAA0AgA0ECayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EEayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EGayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EIayIDQQAgAy8BACICIAFrIgUgAiAFSRs7AQAgBEEEayIEDQALCyABQQFrIQogACgCQCABQQF0aiEDIAEhBCABQQNxIgIEQANAIANBAmsiA0EAIAMvAQAiBSABayIJIAUgCUkbOwEAIARBAWshBCACQQFrIgINAAsLIApBA08EQANAIANBAmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBGsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBCGsiA0EAIAMvAQAiAiABayIFIAIgBUkbOwEAIARBBGsiBA0ACwsgBiAHaiEGCwJAIAAoAgAiASgCBCIERQ0AIAAoAnQhAiAGIAQgBCAGSxsiAwRAIAAoAjghBSABIAQgA2s2AgQgBSAIaiACaiABKAIAIAMQHyEEAkACQAJAIAEoAhwoAhhBAWsOAgABAgsgASABKAIwIAQgAxAENgIwDAELIAEgASgCMCAEIAMQBjYCMAsgASABKAIAIANqNgIAIAEgASgCCCADajYCCCAAKAJ0IQILIAAgAiADaiIFNgJ0AkAgACgCtC0iAyAFakEDSQ0AIAAgACgCOCIJIAAoAmwgA2siAWoiBC0AACICNgJIIAAgACgCVCIIIAQtAAEgAiAAKAJYIgZ0c3EiBDYCSANAIANFDQEgACABIAlqLQACIAQgBnRzIAhxIgQ2AkggACgCQCAAKAI0IAFxQQF0aiAAKAJEIARBAXRqIgIvAQA7AQAgAiABOwEAIAAgA0EBayIDNgK0LSABQQFqIQEgAyAFakECSw0ACwsgBUGFAksNACAAKAIAKAIERQ0AIAAoAiwhAQwBCwsCQCAAKAI8IgQgACgCwC0iAU0NACAAKAJ0IAAoAmxqIgMgAUsEQCAAKAI4IANqIAQgA2siAUGCAiABQYICSRsiARAgIAAgASADajYCwC0PCyADQYICaiIDIAFNDQAgACgCOCABaiAEIAFrIgQgAyABayIBIAEgBEsbIgEQICAAIAAoAsAtIAFqNgLALQsLsSwBCn8CQCAARQ0AIAAoAiBFDQAgACgCJEUNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgNBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIANBmgVGDQAgA0EqRw0BCwJAAkAgACgCDEUNACAAKAIEIgIEQCAAKAIARQ0BCyADQZoFRw0BCyAAQbDfACgCADYCGA8LIAAoAhBFBEAgAEG83wAoAgA2AhgPCyABKAIoIQUgAUEDNgIoAkAgASgCFARAIAEQEwJAIAAoAhAiAyABKAIUIgQgAyAESRsiAkUNACAAKAIMIAEoAhAgAhAfGiAAIAAoAgwgAmo2AgwgASABKAIQIAJqNgIQIAAgACgCFCACajYCFCAAIAAoAhAgAmsiAzYCECABIAEoAhQgAmsiBDYCFCAEDQAgASABKAIINgIQQQAhBAsgAwRAIAEoAgQhAwwCCyABQX82AigPCyACDQAgBUEBdEF3QQAgBUEEShtqQQZIDQAgAEG83wAoAgA2AhgPCwJAAkACQAJAAn8CQAJAAkACQAJAAkAgA0EqRwRAIANBmgVHDQEgACgCBEUNAiAAQbzfACgCADYCGA8LIAEoAjBBDHRBgPABayEDQQAhAgJAIAEoAogBQQFKDQAgASgChAEiBUECSA0AQcAAIQIgBUEGSA0AQYABQcABIAVBBkYbIQILIAEgBEEBajYCFCABKAIIIARqIAIgA3IiAkEgciACIAEoAmwbIgJBCHY6AAAgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQR9wIAJyQR9zOgAAIAEoAmwEQCAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQRh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEQdjoAACAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQQh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAAAsgAEEAQQBBABAENgIwIAFB8QA2AgQgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBCABKAIEIQMLAkACQAJAAkACQAJAAkAgA0E5RgR/IABBAEEAQQAQBjYCMCABIAEoAhQiAkEBajYCFCACIAEoAghqQR86AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakGLAToAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQg6AAAgASgCHCICDQIgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQA6AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAAEECIQIgASgChAEiA0EJRwRAQQQgASgCiAFBAUpBAnQgA0ECSBshAgsgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBAzoAACABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIUDQEgASgCBAUgAwtBxQBrDiMCBgYGAwYGBgYGBgYGBgYGBgYGBgYGBAYGBgYGBgYGBgYGBQYLIAFBfzYCKA8LIAIoAiQhAyACKAIcIQQgAigCECEFIAIoAiwhBiACKAIAIQggASABKAIUIgdBAWo2AhRBAiECIAcgASgCCGogBkEAR0EBdCAIQQBHciAFQQBHQQJ0ciAEQQBHQQN0ciADQQBHQQR0cjoAACABKAIcKAIEIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAhwoAgQhAyABIAEoAhQiBEEBajYCFCAEIAEoAghqIANBCHY6AAAgASgCHC8BBiEDIAEgASgCFCIEQQFqNgIUIAQgASgCCGogAzoAACABKAIcLQAHIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAoQBIgNBCUcEQEEEIAEoAogBQQFKQQJ0IANBAkgbIQILIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAACABKAIcKAIMIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEoAhwiAigCEAR/IAIoAhQhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAI6AAAgASgCHCgCFCECIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEIdjoAACABKAIcBSACCygCLARAIAAgACgCMCABKAIIIAEoAhQQBjYCMAsgAUHFADYCBCABQQA2AiALIAEoAhwiBCgCECIDBEAgASgCFCICIAQvARQgASgCICIGayIFaiABKAIMIgRLBEADQCABKAIIIAJqIAMgBmogBCACayIEEB8aIAEgASgCDCIDNgIUAkAgAiADTw0AIAEoAhwoAixFDQAgACAAKAIwIAEoAgggAmogAyACaxAGNgIwCyABIAEoAiAgBGo2AiAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIGIAMgBkkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQEQCABQX82AigPCyABKAIgIQYgASgCHCgCECEDQQAhAiAFIARrIgUgASgCDCIESw0ACwsgASgCCCACaiADIAZqIAUQHxogASABKAIUIAVqIgM2AhQCQCACIANPDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCACaiADIAJrEAY2AjALIAFBADYCIAsgAUHJADYCBAsgASgCHCgCHARAIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCHCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLAkAgASgCHCgCLEUNACABKAIUIgIgBU0NACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAFBADYCIAsgAUHbADYCBAsCQCABKAIcKAIkRQ0AIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCJCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLIAEoAhwoAixFDQAgASgCFCICIAVNDQAgACAAKAIwIAEoAgggBWogAiAFaxAGNgIwCyABQecANgIECyABKAIcKAIsBEAgASgCDCABKAIUIgJBAmpJBEAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBUEAIQILIAAoAjAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAAoAjAhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAJBCHY6AAAgAEEAQQBBABAGNgIwCyABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIURQ0AIAFBfzYCKA8LIAAoAgQNAQsgASgCdA0AIAEoAgRBmgVGDQgLIAEoAoQBIgJFBEAgAUEDEAwMBAsCQAJAIAEoAogBQQJrDgIAAQQLA0ACQAJAIAEoAnQNACABEAogASgCdA0AIAFBADYCtC0MAQsgAUEANgJgIAEoAjggASgCbGotAAAhAiABKAKkLSABKAKgLSIDQQF0akEAOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAjoAACABIAJBAnRqQZQBaiICIAIvAQBBAWo7AQAgASABKAJ0QQFrNgJ0IAEgASgCbEEBaiICNgJsIAEoAqAtIAEoApwtQQFrRw0BIAEgASgCXCIEQQBOBH8gASgCOCAEagVBAAsgAiAEa0EAEBQgASABKAJsNgJcIAEoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAEoAgAoAhANAQwHCwsgASgCoC1FDQcgASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNBQwHCwNAAkACQAJAIAEoAnQiAkGDAk8EQCABQQA2AmAMAQsgARAKIAEoAnQiAgRAIAFBADYCYCACQQJLDQEgASgCbCEDDAILIAFBADYCtC0gASgCoC1FDQogASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNCAwKCyABKAJsIgNFBEBBACEDDAELIAEoAjggA2oiBkEBayIFLQAAIgQgBi0AAEcNACAEIAUtAAJHDQAgBCAFLQADRw0AIAZBggJqIQlBfyEIAkACQAJAAkACQAJAA0AgBiAIaiIFLQAEIARGBEAgBCAFLQAFRw0CIAQgBS0ABkcNAyAEIAUtAAdHDQQgBCAGIAhBCGoiCmoiBy0AAEcNByAEIAUtAAlHDQUgBCAFLQAKRw0GIAVBC2ohByAIQfYBSg0HIAohCCAEIActAABGDQEMBwsLIAVBBGohBwwFCyAFQQVqIQcMBAsgBUEGaiEHDAMLIAVBB2ohBwwCCyAFQQlqIQcMAQsgBUEKaiEHCyABIAIgByAJa0GCAmoiBCACIARJGyICNgJgIAJBA0kNACABKAKkLSABKAKgLSIDQQF0akEBOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAWpBmAlqIgIgAi8BAEEBajsBACABQYDJAC0AAEECdGpBiBNqIgIgAi8BAEEBajsBACABKAJgIQIgAUEANgJgIAEgASgCdCACazYCdCABIAIgASgCbGoiAjYCbCABKAKgLSABKAKcLUEBa0cNAgwBCyABKAI4IANqLQAAIQIgASgCpC0gASgCoC0iA0EBdGpBADsBACABIANBAWo2AqAtIAMgASgCmC1qIAI6AAAgASACQQJ0akGUAWoiAiACLwEAQQFqOwEAIAEgASgCdEEBazYCdCABIAEoAmxBAWoiAjYCbCABKAKgLSABKAKcLUEBa0cNAQsgASABKAJcIgRBAE4EfyABKAI4IARqBUEACyACIARrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEA0ACwwECyABQX82AigPCyABQX82AigPCyABQQMgAkEMbEGIyABqKAIAEQQACyICQX5xQQJGBEAgAUGaBTYCBAsgAkF9cQ0BCyAAKAIQDQMgAUF/NgIoDwsgAkEBRw0BCyABQQBBAEEAEBIgASgCRCICIAEoAkxBAXRBAmsiA2pBADsBACACIAMQICABKAJ0RQRAIAFBADYCtC0gAUEANgJcIAFBADYCbAsgACgCHCICEBMCQCAAKAIQIgQgAigCFCIDIAMgBEsbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrIgQ2AhAgAiACKAIUIANrIgM2AhQgAw0AIAIgAigCCDYCEAsgBA0AIAFBfzYCKAsLC7YNAQt/IAAoAgAiBCgCBCEJQQEhCAJAIAQoAhAiAyAAKAK8LUEqakEDdSICSQ0AIAAoAiwiBSAAKAIMQQVrIgYgBSAGSRshCiABQQRHIQsDQCAKIAMgAmsiAyAAKAJsIAAoAlxrIgYgBCgCBGoiAkH//wMgAkH//wNJGyIFIAMgBUkbIgNLBEAgAiADRw0CIAFFDQIgCyADRXENAgsgAEEAQQAgAUEERiACIANGcSIHEBIgACgCFCAAKAIIakEEayADOgAAIAAoAhQgACgCCGpBA2sgA0EIdjoAACAAKAIUIAAoAghqQQJrIANBf3MiAjoAACAAKAIUIAAoAghqQQFrIAJBCHY6AAAgACgCACICKAIcIgQQEwJAIAIoAhAiBSAEKAIUIgwgBSAMSRsiBUUNACACKAIMIAQoAhAgBRAfGiACIAIoAgwgBWo2AgwgBCAEKAIQIAVqNgIQIAIgAigCFCAFajYCFCACIAIoAhAgBWs2AhAgBCAEKAIUIAVrIgI2AhQgAg0AIAQgBCgCCDYCEAsCfyAGBEAgACgCACgCDCAAKAI4IAAoAlxqIAMgBiADIAZJGyICEB8aIAAoAgAiBCAEKAIMIAJqNgIMIAQgBCgCECACazYCECAEIAQoAhQgAmo2AhQgACAAKAJcIAJqNgJcIAMgAmshAwsgAwsEQCAAKAIAIgIoAgwhBSADIAIoAgQiBiADIAZJGyIEBEAgAiAGIARrNgIEIAUgAigCACAEEB8hBQJAAkACQCACKAIcKAIYQQFrDgIAAQILIAIgAigCMCAFIAQQBDYCMAwBCyACIAIoAjAgBSAEEAY2AjALIAIgAigCACAEajYCACACIAIoAgggBGo2AgggACgCACICKAIMIQULIAIgAyAFajYCDCACIAIoAhAgA2s2AhAgAiACKAIUIANqNgIUCyAAKAIAIQQgBwRAQQAhCAwCCyAEKAIQIgMgACgCvC1BKmpBA3UiAk8NAAsLAkAgCSAEKAIEayIDRQRAIAAoAmwhAgwBCwJAIAAoAiwiAiADTQRAIABBAjYCsC0gACgCOCAEKAIAIAJrIAIQHxogACAAKAIsIgQ2AmwgBCECDAELAkAgACgCPCAAKAJsIgRrIANLDQAgACAEIAJrIgQ2AmwgACgCOCIFIAIgBWogBBAfGiAAKAKwLSICQQFLDQAgACACQQFqNgKwLQsgACgCOCAAKAJsaiAAKAIAKAIAIANrIAMQHxogACAAKAJsIANqIgI2AmwgACgCLCEECyAAIAI2AlwgACAEIAAoArQtIgVrIgQgAyADIARLGyAFajYCtC0LIAIgACgCwC1LBEAgACACNgLALQtBAyEDAkAgCEUNACAAKAIAIgQoAgQhAwJAAkAgAUF7cUUNACADDQBBASEDIAIgACgCXEYNAiAAKAI8IAJBf3NqIQVBACEDDAELIAMgACgCPCACQX9zaiIFTQ0AIAAoAlwiByAAKAIsIgZIDQAgACACIAZrIgM2AmwgACAHIAZrNgJcIAAoAjgiAiACIAZqIAMQHxogACgCsC0iA0EBTQRAIAAgA0EBajYCsC0LIAAoAiwgBWohBSAAKAIAIgQoAgQhAwsCQCADIAUgAyAFSRsiAkUEQCAAKAJsIQMMAQsgACgCbCEFIAAoAjghBiAEIAMgAms2AgQgBSAGaiAEKAIAIAIQHyEDAkACQAJAIAQoAhwoAhhBAWsOAgABAgsgBCAEKAIwIAMgAhAENgIwDAELIAQgBCgCMCADIAIQBjYCMAsgBCAEKAIAIAJqNgIAIAQgBCgCCCACajYCCCAAIAAoAmwgAmoiAzYCbAsgAyAAKALALUsEQCAAIAM2AsAtCyADIAAoAlwiBmsiBCAAKAIsIgMgACgCDCAAKAK8LUEqakEDdWsiAkH//wMgAkH//wNJGyICIAIgA0sbSQRAQQAhAyABRQ0BIAFBBEYgBEEAR3JFDQEgAiAESQ0BIAAoAgAoAgQNAQtBACEFIAAgACgCOCAGaiACIAQgAiAESRsiAwJ/IAFBBEYEQCAAKAIAKAIERSACIARPcSEFCyAFCxASIAAgACgCXCADajYCXCAAKAIAIgAoAhwiAxATAkAgACgCECICIAMoAhQiBCACIARJGyICRQ0AIAAoAgwgAygCECACEB8aIAAgACgCDCACajYCDCADIAMoAhAgAmo2AhAgACAAKAIUIAJqNgIUIAAgACgCECACazYCECADIAMoAhQgAmsiADYCFCAADQAgAyADKAIINgIQC0ECQQAgBRshAwsgAwu5CwENfwJAA0ACQAJAIAAoAnRBhQJNBEAgABAKIAAoAnQhAgJAIAENACACQYYCTw0AQQAPCyACRQ0EIAJBA0kNAQsgACAAKAJUIAAoAmwiAiAAKAI4ai0AAiAAKAJIIAAoAlh0c3EiAzYCSCAAKAJAIAIgACgCNHFBAXRqIAAoAkQgA0EBdGoiBC8BACIDOwEAIAQgAjsBACADRQ0AIAAoAixBhgJrIAIgA2tJDQAgACAAIAMQDiICNgJgDAELIAAoAmAhAgsCQCACQQNPBEAgACgCpC0gACgCoC0iA0EBdGogACgCbCAAKAJwayIEOwEAIAAgA0EBajYCoC0gAyAAKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAGpBmAlqIgIgAi8BAEEBajsBACAAIARBAWtB//8DcSICIAJBB3ZBgAJqIAJBgAJJG0GAyQBqLQAAQQJ0akGIE2oiAiACLwEAQQFqOwEAIAAgACgCdCAAKAJgIgJrIgM2AnQgACgCnC1BAWshBiAAKAKgLSEHAkAgA0EDSQ0AIAIgACgCgAFLDQAgACACQQFrIgM2AmAgACgCSCEEIAAoAmwhAiAAKAI0IQggACgCQCEJIAAoAkQhCiAAKAJUIQsgACgCOCEMIAAoAlghDQNAIAAgAiIFQQFqIgI2AmwgACAFIAxqLQADIAQgDXRzIAtxIgQ2AkggCSACIAhxQQF0aiAKIARBAXRqIg4vAQA7AQAgDiACOwEAIAAgA0EBayIDNgJgIAMNAAsgACAFQQJqIgI2AmwgBiAHRw0DDAILIABBADYCYCAAIAAoAmwgAmoiAjYCbCAAIAAoAjggAmoiAy0AACIENgJIIAAgACgCVCADLQABIAQgACgCWHRzcTYCSCAGIAdHDQIMAQsgACgCOCAAKAJsai0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBACAAIAAoAnRBAWs2AnQgACAAKAJsQQFqIgI2AmwgACgCoC0gACgCnC1BAWtHDQELQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQALQQAPCyAAIAAoAmwiAkECIAJBAkkbNgK0LSABQQRGBEBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EBEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALQQNBAiAAKAIAKAIQGw8LAkAgACgCoC1FDQBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EAEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAAoAgAoAhANAEEADwtBAQukBAEQfyAAKAJ8IgMgA0ECdiAAKAJ4IgQgACgCjAFJGyEJQQAgACgCbCIDIAAoAixrQYYCaiICIAIgA0sbIQwgACgCdCIHIAAoApABIgIgAiAHSxshDSAAKAI4Ig4gA2oiBUGCAmohDyAEIAVqIgMtAAAhCiADQQFrLQAAIQsgACgCNCEQIAAoAkAhEQNAAkACQCABIA5qIgMgBGoiAi0AACAKRw0AIAJBAWstAAAgC0cNACADLQAAIAUtAABHDQBBAiEGIAMtAAEgBS0AAUcNAAJAAkACQAJAAkACQAJAA0AgBSAGaiICLQABIAMtAANHDQYgAi0AAiADLQAERw0FIAItAAMgAy0ABUcNBCACLQAEIAMtAAZHDQMgAi0ABSADLQAHRw0CIAItAAYgAy0ACEcNASACLQAHIAMtAAlGBEAgBkH5AUshCCAFIAZBCGoiBmohAiAIDQggAy0ACiEIIANBCGohAyACLQAAIAhGDQEMCAsLIAJBB2ohAgwGCyACQQZqIQIMBQsgAkEFaiECDAQLIAJBBGohAgwDCyACQQNqIQIMAgsgAkECaiECDAELIAJBAWohAgsgAiAPayICQYICaiIDIARMDQAgACABNgJwIAMgDU4EQCADIQQMAgsgAyAFai0AACEKIAIgBWotAIECIQsgAyEECyAJQQFrIglFDQAgDCARIAEgEHFBAXRqLwEAIgFJDQELCyAHIAQgBCAHSxsL3Q4BB38DQAJAAkACQCAAKAJ0QYUCSw0AIAAQCiAAKAJ0IQICQCABDQAgAkGGAk8NAEEADwsgAkUNAiACQQJLDQAgACAAKAJgIgI2AnggACAAKAJwNgJkQQIhAyAAQQI2AmAMAQtBAiEDIAAgACgCVCAAKAJsIgIgACgCOGotAAIgACgCSCAAKAJYdHNxIgQ2AkggACgCQCACIAAoAjRxQQF0aiAAKAJEIARBAXRqIgUvAQAiBDsBACAFIAI7AQAgACAAKAJgIgI2AnggACAAKAJwNgJkIABBAjYCYCAERQ0AAkAgAiAAKAKAAU8NACAAKAIsQYYCayAAKAJsIARrSQ0AIAAgACAEEA4iAzYCYCADQQVLDQAgACgCiAFBAUcEQCADQQNHDQFBAyEDIAAoAmwgACgCcGtBgSBJDQELQQIhAyAAQQI2AmALIAAoAnghAgsCQCACQQNJDQAgAiADSQ0AIAAoAnQhBCAAKAKkLSAAKAKgLSIDQQF0aiAAKAJsIgUgACgCZEF/c2oiBjsBACAAIANBAWo2AqAtIAMgACgCmC1qIAJBA2siAjoAACACQf8BcUGAzQBqLQAAQQJ0IABqQZgJaiICIAIvAQBBAWo7AQAgACAGQQFrQf//A3EiAiACQQd2QYACaiACQYACSRtBgMkAai0AAEECdGpBiBNqIgIgAi8BAEEBajsBACAAIAAoAngiAkECayIDNgJ4IAAgACgCdCACa0EBajYCdCAEIAVqQQNrIQUgACgCnC1BAWshByAAKAJsIQIgACgCoC0hCANAIAAgAiIEQQFqIgI2AmwgAiAFTQRAIAAgACgCVCAEIAAoAjhqLQADIAAoAkggACgCWHRzcSIGNgJIIAAoAkAgACgCNCACcUEBdGogACgCRCAGQQF0aiIGLwEAOwEAIAYgAjsBAAsgACADQQFrIgM2AnggAw0ACyAAQQI2AmAgAEEANgJoIAAgBEECaiICNgJsIAcgCEcNAkEAIQMgACAAKAJcIgRBAE4EfyAAKAI4IARqBSADCyACIARrQQAQFCAAIAAoAmw2AlwgACgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACgCACgCEA0CQQAPCyAAKAJoBEAgACgCbCAAKAI4akEBay0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBAAJAIAAoAqAtIAAoApwtQQFrRw0AQQAhAyAAIAAoAlwiAkEATgR/IAAoAjggAmoFIAMLIAAoAmwgAmtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACAAKAJsQQFqNgJsIAAgACgCdEEBazYCdCAAKAIAKAIQDQJBAA8FIABBATYCaCAAIAAoAmxBAWo2AmwgACAAKAJ0QQFrNgJ0DAILAAsLIAAoAmgEQCAAKAJsIAAoAjhqQQFrLQAAIQIgACgCpC0gACgCoC0iA0EBdGpBADsBACAAIANBAWo2AqAtIAMgACgCmC1qIAI6AAAgACACQQJ0akGUAWoiAiACLwEAQQFqOwEAIABBADYCaAsgACAAKAJsIgJBAiACQQJJGzYCtC0gAUEERgRAQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBARAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQC0EDQQIgACgCACgCEBsPCwJAIAAoAqAtRQ0AQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQBBAA8LQQELYQAgAEEANgK8LSAAQQA7AbgtIABBuBZqQajPADYCACAAIABB/BRqNgKwFiAAQawWakGUzwA2AgAgACAAQYgTajYCpBYgAEGgFmpBgM8ANgIAIAAgAEGUAWo2ApgWIAAQEQvwBAEDfyAAQZQBaiECA0AgAiABQQJ0IgNqQQA7AQAgAiADQQRyakEAOwEAIAFBAmoiAUGeAkcNAAsgAEEAOwH8FCAAQQA7AYgTIABBxBVqQQA7AQAgAEHAFWpBADsBACAAQbwVakEAOwEAIABBuBVqQQA7AQAgAEG0FWpBADsBACAAQbAVakEAOwEAIABBrBVqQQA7AQAgAEGoFWpBADsBACAAQaQVakEAOwEAIABBoBVqQQA7AQAgAEGcFWpBADsBACAAQZgVakEAOwEAIABBlBVqQQA7AQAgAEGQFWpBADsBACAAQYwVakEAOwEAIABBiBVqQQA7AQAgAEGEFWpBADsBACAAQYAVakEAOwEAIABB/BNqQQA7AQAgAEH4E2pBADsBACAAQfQTakEAOwEAIABB8BNqQQA7AQAgAEHsE2pBADsBACAAQegTakEAOwEAIABB5BNqQQA7AQAgAEHgE2pBADsBACAAQdwTakEAOwEAIABB2BNqQQA7AQAgAEHUE2pBADsBACAAQdATakEAOwEAIABBzBNqQQA7AQAgAEHIE2pBADsBACAAQcQTakEAOwEAIABBwBNqQQA7AQAgAEG8E2pBADsBACAAQbgTakEAOwEAIABBtBNqQQA7AQAgAEGwE2pBADsBACAAQawTakEAOwEAIABBqBNqQQA7AQAgAEGkE2pBADsBACAAQaATakEAOwEAIABBnBNqQQA7AQAgAEGYE2pBADsBACAAQZQTakEAOwEAIABBkBNqQQA7AQAgAEGME2pBADsBACAAQgA3AqwtIABBlAlqQQE7AQAgAEEANgKoLSAAQQA2AqAtC7IDAQJ/IAAgAC8BuC0gA0H//wNxIgUgACgCvC0iBHRyIgM7AbgtAkACQAJ/IARBDk4EQCAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAM6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAAQbktai0AADoAACAAIAVBECAAKAK8LSIEa3YiAzsBuC0gBEENawwBCyAEQQNqCyIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGohBCAAQbktai0AACEDDAELIARBAUgNASAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQLIAQgAzoAAAsgAEEANgK8LSAAQQA7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAjoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAJBCHY6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiACQX9zIgM6AAAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADQQh2OgAAIAAoAgggACgCFGogASACEB8aIAAgACgCFCACajYCFAusAQEBfwJAIAACfyAAKAK8LSIBQRBGBEAgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIAAoAhQiAUEBajYCFCABIAAoAghqIABBuS1qLQAAOgAAIABBADsBuC1BAAwBCyABQQhIDQEgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIABBuS1qLQAAOwG4LSAAKAK8LUEIaws2ArwtCwuhEwENfwJ/AkACQAJAIAAoAoQBQQFOBEAgACgCACIGKAIsQQJHDQNB/4D/n38hBANAAkAgBEEBcUUNACAAIAVBAnRqLwGUAUUNAEEAIQQMBAsCQCAEQQJxRQ0AIAAgBUECdEEEcmovAZQBRQ0AQQAhBAwECyAEQQJ2IQQgBUECaiIFQSBHDQALDAELIAJBBWoiBQwDCwJAIAAvAbgBDQAgAC8BvAENACAALwHIAQ0AQSAhBQNAIAAgBUECdCIEai8BlAENASAAIARBBHJqLwGUAQ0BIAAgBEEIcmovAZQBDQEgACAEQQxyai8BlAENAUEAIQQgBUEEaiIFQYACRw0ACwwBC0EBIQQLIAYgBDYCLAsgACAAQZgWahAVIAAgAEGkFmoQFSAALwGWASEEIAAgAEGcFmooAgAiCkECdGpB//8DOwGaASAKQQBOBEBBB0GKASAEGyEJQQRBAyAEGyELIABBwBVqIQ4gAEHEFWohDyAAQbwVaiEQQX8hDANAIAQhBSAAIAgiDUEBaiIIQQJ0ai8BlgEhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgAEGKE2ovAQAhBCAAIABBqBZqKAIAIgpBAnRqQY4TakH//wM7AQBBACEHIApBAE4EQEEHQYoBIAQbIQlBBEEDIAQbIQsgAEHAFWohDiAAQcQVaiEPIABBvBVqIRBBfyEMQQAhCANAIAQhBSAAIAgiDUEBaiIIQQJ0akGKE2ovAQAhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgACAAQbAWahAVIAAgACgCqC0Cf0ESIABBuhVqLwEADQAaQREgAEGCFWovAQANABpBECAAQbYVai8BAA0AGkEPIABBhhVqLwEADQAaQQ4gAEGyFWovAQANABpBDSAAQYoVai8BAA0AGkEMIABBrhVqLwEADQAaQQsgAEGOFWovAQANABpBCiAAQaoVai8BAA0AGkEJIABBkhVqLwEADQAaQQggAEGmFWovAQANABpBByAAQZYVai8BAA0AGkEGIABBohVqLwEADQAaQQUgAEGaFWovAQANABpBBCAAQZ4Vai8BAA0AGkEDQQIgAEH+FGovAQAbCyIIQQNsaiIEQRFqNgKoLSAEQRtqQQN2IgQgACgCrC1BCmpBA3YiBSAEIAVJGwshBAJAAkAgAUUNACACQQRqIARLDQAgACABIAIgAxASDAELIAAoArwtIQYCQCAEIAVHBEAgACgCiAFBBEcNAQsgACAALwG4LSADQQJqQf//A3EiBCAGdHIiBTsBuC0gAAJ/IAZBDk4EQCAAIAAoAhQiBkEBajYCFCAGIAAoAghqIAU6AAAgACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAAQbktai0AADoAACAAIARBECAAKAK8LSIFa3Y7AbgtIAVBDWsMAQsgBkEDags2ArwtIABBwM8AQcDYABAWDAELIAAvAbgtIANBBGpB//8DcSIHIAZ0ciEFAkAgBkEOTgRAIAAgBTsBuC0gACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAFOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUENayEEIAdBECAFa3YhBQwBCyAGQQNqIQQLIAAgBDYCvC0gAEGcFmooAgAiCkGA/gNqQf//A3EiByAEdCEGIABBqBZqKAIAIQkCfyAEQQxOBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBC2shBCAHQRAgBWt2DAELIARBBWohBCAFIAZyCyEFIAAgBDYCvC0gCUH//wNxIgcgBHQhBgJ/IARBDE4EQCAAIAUgBnIiBDsBuC0gACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAEOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUELayEEIAdBECAFa3YMAQsgBEEFaiEEIAUgBnILIQUgACAENgK8LSAIQf3/A2pB//8DcSIHIAR0IQYCfyAEQQ1OBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBDGshBCAHQRAgBWt2DAELIARBBGohBCAFIAZyCyEGIAAgBDYCvC1BACEFIABBuS1qIQ0DQCAAIAYgACAFQZDcAGotAABBAnRqQf4Uai8BACIHIAR0ciIGOwG4LSAAAn8gBEEOTgRAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogBjoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIA0tAAA6AAAgACAHQRAgACgCvC0iBGt2IgY7AbgtIARBDWsMAQsgBEEDagsiBDYCvC0gBSAIRyEHIAVBAWohBSAHDQALIAAgAEGUAWoiBCAKEBcgACAAQYgTaiIFIAkQFyAAIAQgBRAWCyAAEBEgAwRAAkACfyAAKAK8LSIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAALQC4LToAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQgAEG5LWotAAAMAQsgBEEBSA0BIAAgACgCFCIEQQFqNgIUIAQgACgCCGohBCAALQC4LQshBSAEIAU6AAALIABBADYCvC0gAEEAOwG4LQsLsRUBFX8jAEEgayEKIAEoAgAhCSABKAIIIgIoAgAhBSACKAIMIQ0gAEKAgICA0McANwLQKEF/IRACQCANQQBKBEBBACECA0ACQCAJIAJBAnRqIgMvAQAEQCAAIAAoAtAoQQFqIgM2AtAoIAAgA0ECdGpB3BZqIAI2AgAgACACakHYKGpBADoAACACIRAMAQsgA0EAOwECCyACQQFqIgIgDUcNAAsgACgC0CgiBEEBSg0BCwNAIAAgBEEBaiICNgLQKCAAIAJBAnRqQdwWaiAQQQFqIgNBACAQQQJIIgQbIgI2AgAgCSACQQJ0IgdqQQE7AQAgACACakHYKGpBADoAACAAIAAoAqgtQQFrNgKoLSAFBEAgACAAKAKsLSAFIAdqLwECazYCrC0LIAMgECAEGyEQIAAoAtAoIgRBAkgNAAsLIAEgEDYCBCAEQQF2IQgDQCAAIAhBAnRqQdwWaigCACELAkAgCCICQQF0IgMgBEoNACAAIAtqQdgoaiEPIAkgC0ECdGohBiAIIQUDQAJAIAMgBE4EQCADIQIMAQsgCSAAQdwWaiICIANBAXIiBEECdGooAgAiDkECdGovAQAiByAJIAIgA0ECdGooAgAiDEECdGovAQAiAk8EQCACIAdHBEAgAyECDAILIAMhAiAAQdgoaiIDIA5qLQAAIAMgDGotAABLDQELIAQhAgsgBi8BACIEIAkgACACQQJ0akHcFmooAgAiA0ECdGovAQAiB0kEQCAFIQIMAgsCQCAEIAdHDQAgDy0AACAAIANqQdgoai0AAEsNACAFIQIMAgsgACAFQQJ0akHcFmogAzYCACACIQUgAkEBdCIDIAAoAtAoIgRMDQALCyAAIAJBAnRqQdwWaiALNgIAIAhBAk4EQCAIQQFrIQggACgC0CghBAwBCwsgACgC0CghAwNAIA0hCCAAIANBAWsiBDYC0CggACgC4BYhCyAAIAAgA0ECdGpB3BZqKAIAIg02AuAWQQEhAgJAIANBA0gNACAAIA1qQdgoaiEPQQIhAyAJIA1BAnRqIQZBASEFA0ACQCADIAROBEAgAyECDAELIAkgAEHcFmoiAiADQQFyIgRBAnRqKAIAIg5BAnRqLwEAIgcgCSACIANBAnRqKAIAIgxBAnRqLwEAIgJPBEAgAiAHRwRAIAMhAgwCCyADIQIgAEHYKGoiAyAOai0AACADIAxqLQAASw0BCyAEIQILIAYvAQAiBCAJIAAgAkECdGpB3BZqKAIAIgNBAnRqLwEAIgdJBEAgBSECDAILAkAgBCAHRw0AIA8tAAAgACADakHYKGotAABLDQAgBSECDAILIAAgBUECdGpB3BZqIAM2AgAgAiEFIAJBAXQiAyAAKALQKCIETA0ACwtBAiEDIABB3BZqIgYgAkECdGogDTYCACAAIAAoAtQoQQFrIgQ2AtQoIAAoAuAWIQIgBiAEQQJ0aiALNgIAIAAgACgC1ChBAWsiBDYC1CggBiAEQQJ0aiACNgIAIAkgCEECdGoiDiAJIAJBAnRqIgQvAQAgCSALQQJ0aiIFLwEAajsBACAAQdgoaiIMIAhqIg8gAiAMai0AACICIAsgDGotAAAiByACIAdLG0EBajoAACAEIAg7AQIgBSAIOwECIAAgCDYC4BZBASEFQQEhAgJAIAAoAtAoIgRBAkgNAANAAn8gAyADIARODQAaIAkgBiADQQFyIgRBAnRqKAIAIgtBAnRqLwEAIgIgCSAGIANBAnRqKAIAIg1BAnRqLwEAIgdPBEAgAyACIAdHDQEaIAMgCyAMai0AACAMIA1qLQAASw0BGgsgBAshAiAOLwEAIgQgCSAAIAJBAnRqQdwWaigCACIDQQJ0ai8BACIHSQRAIAUhAgwCCwJAIAQgB0cNACAPLQAAIAAgA2pB2ChqLQAASw0AIAUhAgwCCyAAIAVBAnRqQdwWaiADNgIAIAIhBSACQQF0IgMgACgC0CgiBEwNAAsLIAhBAWohDSAAIAJBAnRqQdwWaiAINgIAIAAoAtAoIgNBAUoNAAsgACAAKALUKEEBayICNgLUKCAAQdwWaiIDIAJBAnRqIAAoAuAWNgIAIAEoAgQhByABKAIIIgIoAhAhBiACKAIIIREgAigCBCETIAIoAgAhEiABKAIAIQwgAEHUFmoiAUIANwEAIABBzBZqIhRCADcBACAAQcQWaiIVQgA3AQAgAEG8FmoiFkIANwEAQQAhCCAMIAMgACgC1ChBAnRqKAIAQQJ0akEAOwECAkAgACgC1CgiAkG7BEoNACACQQFqIQJBACEOA0AgDCAAIAJBAnRqQdwWaigCACIEQQJ0Ig1qIgUgDCAFLwECQQJ0ai8BAiIDQQFqIAYgAyAGSBsiDzsBAiADIAZOIQMCQCAEIAdKDQAgACAPQQF0akG8FmoiCyALLwEAQQFqOwEAQQAhCyAEIBFOBEAgEyAEIBFrQQJ0aigCACELCyAAIAAoAqgtIAUvAQAiBCALIA9qbGo2AqgtIBJFDQAgACAAKAKsLSALIA0gEmovAQJqIARsajYCrC0LIAMgDmohDiACQQFqIgJBvQRHDQALIA5FDQAgACAGQQF0akG8FmohDwNAIAYhAgNAIAAgAiIDQQFrIgJBAXRqQbwWaiIELwEAIgVFDQALIAQgBUEBazsBACAAIANBAXRqQbwWaiICIAIvAQBBAmo7AQAgDyAPLwEAQQFrIgI7AQAgDkECSiEDIA5BAmshDiADDQALIAZFDQBBvQQhBQNAIAJB//8DcSEDIAUhAgNAIAMEQCAAIAJBAWsiAkECdGpB3BZqKAIAIgQgB0oNASAMIARBAnRqIgQvAQIiBSAGRwRAIAAgACgCqC0gBC8BACAGIAVrbGo2AqgtIAQgBjsBAgsgA0EBayEDIAIhBQwBCwsgBkEBayIGRQ0BIAAgBkEBdGpBvBZqLwEAIQIMAAsACyAKIBYvAQBBAXQiAjsBAiAKIAIgAEG+FmovAQBqQQF0IgI7AQQgCiACIABBwBZqLwEAakEBdCICOwEGIAogAiAAQcIWai8BAGpBAXQiAjsBCCAKIAIgFS8BAGpBAXQiAjsBCiAKIAIgAEHGFmovAQBqQQF0IgI7AQwgCiACIABByBZqLwEAakEBdCICOwEOIAogAiAAQcoWai8BAGpBAXQiAjsBECAKIAIgFC8BAGpBAXQiAjsBEiAKIAIgAEHOFmovAQBqQQF0IgI7ARQgCiACIABB0BZqLwEAakEBdCICOwEWIAogAiAAQdIWai8BAGpBAXQiAjsBGCAKIAEvAQAgAmpBAXQiAjsBGiAKIABB1hZqLwEAIAJqQQF0IgI7ARwgCiACIABB2BZqLwEAakEBdDsBHiAQQQBOBEADQCAJIAhBAnRqIgcvAQIiBARAIAogBEEBdGoiACAALwEAIgBBAWo7AQAgBEEDcSEDQQAhAiAEQQFrQQNPBEAgBEH8/wNxIQUDQCAAQQN2QQFxIABBAnZBAXEgAEECcSACIABBAXFyQQJ0cnJBAXRyIgRBAXQhAiAAQQR2IQAgBUEEayIFDQALCyADBEADQCACIABBAXFyIgRBAXQhAiAAQQF2IQAgA0EBayIDDQALCyAHIAQ7AQALIAggEEchACAIQQFqIQggAA0ACwsL2QgBCn8CQCAAKAKgLUUEQCAAKAK8LSEDDAELIABBuS1qIQgDQCAEQQFqIQogACgCmC0gBGotAAAhBQJAIAACfyAAKAKkLSAEQQF0ai8BACIHRQRAIAEgBUECdGoiAy8BAiEEIAAgAC8BuC0gAy8BACIFIAAoArwtIgN0ciIHOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAgsgAyAEagwBCyAFQYDNAGotAAAiC0ECdCIJQYAIciABaiIDLwEGIQQgACAALwG4LSADLwEEIgwgACgCvC0iBnRyIgM7AbgtIAACf0EQIARrIAZIBEAgACAAKAIUIgZBAWo2AhQgBiAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIGa3YiAzsBuC0gBCAGakEQawwBCyAEIAZqCyIENgK8LSALQQhrQRNNBEAgACADIAUgCUGw3ABqKAIAa0H//wNxIgYgBHRyIgM7AbgtIAACf0EQIAlBwNkAaigCACIFayAESARAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAzoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBGt2IgM7AbgtIAQgBWpBEGsMAQsgBCAFagsiBDYCvC0LIAIgB0EBayIFIAVBB3ZBgAJqIAVBgAJJG0GAyQBqLQAAIgtBAnQiCWoiBi8BAiEHIAAgAyAGLwEAIgwgBHRyIgY7AbgtIAACf0EQIAdrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAGOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIEa3YiBjsBuC0gBCAHakEQawwBCyAEIAdqCyIDNgK8LSALQQRJDQEgACAGIAUgCUGw3QBqKAIAa0H//wNxIgUgA3RyIgc7AbgtQRAgCUHA2gBqKAIAIgRrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAoiBCAAKAKgLUkNAAsLIAFBgghqLwEAIQQgACAALwG4LSABLwGACCIKIAN0ciIFOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAFOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAEG5LWotAAA6AAAgACAKQRAgACgCvC0iA2t2OwG4LSAAIAMgBGpBEGs2ArwtDwsgACADIARqNgK8LQuXCwEMfyACQQBOBEBBBEEDIAEvAQIiChshBkEHQYoBIAobIQMgAEG5LWohCEF/IQcDQCAKIQkgASALIgxBAWoiC0ECdGovAQIhCgJAAkAgBUEBaiIEIANODQAgCSAKRw0AIAQhBQwBCwJAIAQgBkgEQCAAIAlBAnRqIgVB/BRqIQ0gBUH+FGohDiAAKAK8LSEFA0AgDi8BACEDIAAgAC8BuC0gDS8BACIGIAV0ciIHOwG4LSAAAn9BECADayAFSARAIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBzoAACAAIAAoAhQiBUEBajYCFCAFIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBWt2OwG4LSADIAVqQRBrDAELIAMgBWoLIgU2ArwtIARBAWsiBA0ACwwBCyAAAn8gCQRAAkAgByAJRgRAIAAoArwtIQMgBCEFDAELIAAgCUECdGoiBEH+FGovAQAhAyAAIAAvAbgtIARB/BRqLwEAIgYgACgCvC0iBHRyIgc7AbgtIAACf0EQIANrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAHOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAZBECAAKAK8LSIEa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAAvAbgtIAAvAbwVIgcgA3RyIQQCQEEQIAAvAb4VIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQf3/A2pB//8DcSIFIAN0ciIEOwG4LSADQQ9OBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBDmsMAgsgA0ECagwBCyAFQQlMBEAgAC8BuC0gAC8BwBUiByAAKAK8LSIDdHIhBAJAQRAgAC8BwhUiBmsgA0gEQCAAIAQ7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogBDoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAgtAAA6AAAgBiAAKAK8LSIEakEQayEDIAdBECAEa3YhBAwBCyADIAZqIQMLIAAgAzYCvC0gACAEIAVB/v8DakH//wNxIgUgA3RyIgQ7AbgtIANBDk4EQCAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAAgBUEQIAAoArwtIgNrdjsBuC0gA0ENawwCCyADQQNqDAELIAAvAbgtIAAvAcQVIgcgACgCvC0iA3RyIQQCQEEQIAAvAcYVIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQfb/A2pB//8DcSIFIAN0ciIEOwG4LSADQQpOBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBCWsMAQsgA0EHags2ArwtC0EAIQUCfyAKRQRAQYoBIQNBAwwBC0EGQQcgCSAKRiIEGyEDQQNBBCAEGwshBiAJIQcLIAIgDEcNAAsLCwkAIAEgAmwQHAsGACABEB0LXwEBfyMAQUBqIgMkACADQQA2AjAgA0IANwMoIAMgADYCCCADIAI2AhQgAyABNgIMIAMgAUEDbDYCGCADQQhqEAcgA0EIahALIANBCGoQCCADKAIcIQEgA0FAayQAIAELBgBB1N8AC6QuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB2N8AKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiAkEDdCIDQYjgAGooAgAiAUEIaiEAAkAgASgCCCIEIANBgOAAaiIDRgRAQdjfACAGQX4gAndxNgIADAELIAQgAzYCDCADIAQ2AggLIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDA0LIARB4N8AKAIAIghNDQEgAARAAkAgACABdEECIAF0IgBBACAAa3JxIgBBACAAa3FBAWsiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiICQQN0IgNBiOAAaigCACIBKAIIIgAgA0GA4ABqIgNGBEBB2N8AIAZBfiACd3EiBjYCAAwBCyAAIAM2AgwgAyAANgIICyABQQhqIQAgASAEQQNyNgIEIAEgBGoiAyACQQN0IgUgBGsiAkEBcjYCBCABIAVqIAI2AgAgCARAIAhBA3YiBUEDdEGA4ABqIQRB7N8AKAIAIQECfyAGQQEgBXQiBXFFBEBB2N8AIAUgBnI2AgAgBAwBCyAEKAIICyEFIAQgATYCCCAFIAE2AgwgASAENgIMIAEgBTYCCAtB7N8AIAM2AgBB4N8AIAI2AgAMDQtB3N8AKAIAIglFDQEgCUEAIAlrcUEBayIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QYjiAGooAgAiAygCBEF4cSAEayEBIAMhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAEayICIAEgASACSyICGyEBIAAgAyACGyEDIAAhAgwBCwsgAyAEaiILIANNDQIgAygCGCEKIAMgAygCDCIFRwRAIAMoAggiAEHo3wAoAgBJGiAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEHc3wAoAgAiCEUNAEEfIQcgBEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcaiEHC0EAIARrIQECQAJAAkAgB0ECdEGI4gBqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QYjiAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFB4N8AKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCSAFIAUoAgwiA0cEQCAFKAIIIgBB6N8AKAIASRogACADNgIMIAMgADYCCAwKCyAFQRRqIgIoAgAiAEUEQCAFKAIQIgBFDQQgBUEQaiECCwNAIAIhBiAAIgNBFGoiAigCACIADQAgA0EQaiECIAMoAhAiAA0ACyAGQQA2AgAMCQsgBEHg3wAoAgAiAE0EQEHs3wAoAgAhAQJAIAAgBGsiAkEQTwRAQeDfACACNgIAQezfACABIARqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACABIARBA3I2AgQMAQtB7N8AQQA2AgBB4N8AQQA2AgAgASAAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIECyABQQhqIQAMCwsgBEHk3wAoAgAiA0kEQEHk3wAgAyAEayIBNgIAQfDfAEHw3wAoAgAiACAEaiICNgIAIAIgAUEBcjYCBCAAIARBA3I2AgQgAEEIaiEADAsLQQAhACAEQS9qIggCf0Gw4wAoAgAEQEG44wAoAgAMAQtBvOMAQn83AgBBtOMAQoCggICAgAQ3AgBBsOMAIAxBDGpBcHFB2KrVqgVzNgIAQcTjAEEANgIAQZTjAEEANgIAQYAgCyIBaiIGQQAgAWsiB3EiBSAETQ0KQZDjACgCACIBBEBBiOMAKAIAIgIgBWoiCSACTQ0LIAEgCUkNCwtBlOMALQAAQQRxDQUCQAJAQfDfACgCACIBBEBBmOMAIQADQCABIAAoAgAiAk8EQCACIAAoAgRqIAFLDQMLIAAoAggiAA0ACwtBABAeIgNBf0YNBiAFIQZBtOMAKAIAIgBBAWsiASADcQRAIAUgA2sgASADakEAIABrcWohBgsgBCAGTw0GIAZB/v///wdLDQZBkOMAKAIAIgAEQEGI4wAoAgAiASAGaiICIAFNDQcgACACSQ0HCyAGEB4iACADRw0BDAgLIAYgA2sgB3EiBkH+////B0sNBSAGEB4iAyAAKAIAIAAoAgRqRg0EIAMhAAsCQCAEQTBqIAZNDQAgAEF/Rg0AQbjjACgCACIBIAggBmtqQQAgAWtxIgFB/v///wdLBEAgACEDDAgLIAEQHkF/RwRAIAEgBmohBiAAIQMMCAtBACAGaxAeGgwFCyAAIQMgAEF/Rw0GDAQLAAtBACEFDAcLQQAhAwwFCyADQX9HDQILQZTjAEGU4wAoAgBBBHI2AgALIAVB/v///wdLDQEgBRAeIgNBABAeIgBPDQEgA0F/Rg0BIABBf0YNASAAIANrIgYgBEEoak0NAQtBiOMAQYjjACgCACAGaiIANgIAQYzjACgCACAASQRAQYzjACAANgIACwJAAkACQEHw3wAoAgAiAQRAQZjjACEAA0AgAyAAKAIAIgIgACgCBCIFakYNAiAAKAIIIgANAAsMAgtB6N8AKAIAIgBBACAAIANNG0UEQEHo3wAgAzYCAAtBACEAQZzjACAGNgIAQZjjACADNgIAQfjfAEF/NgIAQfzfAEGw4wAoAgA2AgBBpOMAQQA2AgADQCAAQQN0IgFBiOAAaiABQYDgAGoiAjYCACABQYzgAGogAjYCACAAQQFqIgBBIEcNAAtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiAWsiAjYCAEHw3wAgASADaiIBNgIAIAEgAkEBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCAAwCCyABIANPDQAgASACSQ0AIAAoAgxBCHENACAAIAUgBmo2AgRB8N8AIAFBeCABa0EHcUEAIAFBCGpBB3EbIgBqIgI2AgBB5N8AQeTfACgCACAGaiIDIABrIgA2AgAgAiAAQQFyNgIEIAEgA2pBKDYCBEH03wBBwOMAKAIANgIADAELQejfACgCACADSwRAQejfACADNgIACyADIAZqIQJBmOMAIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQZjjACEAA0AgASAAKAIAIgJPBEAgAiAAKAIEaiICIAFLDQMLIAAoAgghAAwACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiBiAHayAEayECIAQgB2ohBCABIAZGBEBB8N8AIAQ2AgBB5N8AQeTfACgCACACaiIANgIAIAQgAEEBcjYCBAwDCyAGQezfACgCAEYEQEHs3wAgBDYCAEHg3wBB4N8AKAIAIAJqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwDCyAGKAIEIgBBA3FBAUYEQCAAQXhxIQgCQCAAQf8BTQRAIAYoAggiASAAQQN2IgVBA3RBgOAAakYaIAEgBigCDCIARgRAQdjfAEHY3wAoAgBBfiAFd3E2AgAMAgsgASAANgIMIAAgATYCCAwBCyAGKAIYIQkCQCAGIAYoAgwiA0cEQCAGKAIIIgAgAzYCDCADIAA2AggMAQsCQCAGQRRqIgAoAgAiAQ0AIAZBEGoiACgCACIBDQBBACEDDAELA0AgACEFIAEiA0EUaiIAKAIAIgENACADQRBqIQAgAygCECIBDQALIAVBADYCAAsgCUUNAAJAIAYgBigCHCIBQQJ0QYjiAGoiACgCAEYEQCAAIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAGRhtqIAM2AgAgA0UNAQsgAyAJNgIYIAYoAhAiAARAIAMgADYCECAAIAM2AhgLIAYoAhQiAEUNACADIAA2AhQgACADNgIYCyAGIAhqIQYgAiAIaiECCyAGIAYoAgRBfnE2AgQgBCACQQFyNgIEIAIgBGogAjYCACACQf8BTQRAIAJBA3YiAUEDdEGA4ABqIQACf0HY3wAoAgAiAkEBIAF0IgFxRQRAQdjfACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMAwtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QYjiAGohAQJAQdzfACgCACIDQQEgAHQiBXFFBEBB3N8AIAMgBXI2AgAgASAENgIAIAQgATYCGAwBCyACQQBBGSAAQQF2ayAAQR9GG3QhACABKAIAIQMDQCADIgEoAgRBeHEgAkYNAyAAQR12IQMgAEEBdCEAIAEgA0EEcWpBEGoiBSgCACIDDQALIAUgBDYCACAEIAE2AhgLIAQgBDYCDCAEIAQ2AggMAgtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHw3wAgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCACABIAJBJyACa0EHcUEAIAJBJ2tBB3EbakEvayIAIAAgAUEQakkbIgVBGzYCBCAFQaDjACkCADcCECAFQZjjACkCADcCCEGg4wAgBUEIajYCAEGc4wAgBjYCAEGY4wAgAzYCAEGk4wBBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QYDgAGohAAJ/QdjfACgCACIDQQEgAnQiAnFFBEBB2N8AIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwEC0EfIQAgAUIANwIQIAZB////B00EQCAGQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgIgAkGA4B9qQRB2QQRxIgJ0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAnIgA3JrIgBBAXQgBiAAQRVqdkEBcXJBHGohAAsgASAANgIcIABBAnRBiOIAaiECAkBB3N8AKAIAIgNBASAAdCIFcUUEQEHc3wAgAyAFcjYCACACIAE2AgAgASACNgIYDAELIAZBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhAwNAIAMiAigCBEF4cSAGRg0EIABBHXYhAyAAQQF0IQAgAiADQQRxakEQaiIFKAIAIgMNAAsgBSABNgIAIAEgAjYCGAsgASABNgIMIAEgATYCCAwDCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLIAdBCGohAAwFCyACKAIIIgAgATYCDCACIAE2AgggAUEANgIYIAEgAjYCDCABIAA2AggLQeTfACgCACIAIARNDQBB5N8AIAAgBGsiATYCAEHw3wBB8N8AKAIAIgAgBGoiAjYCACACIAFBAXI2AgQgACAEQQNyNgIEIABBCGohAAwDC0HU3wBBMDYCAEEAIQAMAgsCQCAJRQ0AAkAgBSgCHCICQQJ0QYjiAGoiACgCACAFRgRAIAAgAzYCACADDQFB3N8AIAhBfiACd3EiCDYCAAwCCyAJQRBBFCAJKAIQIAVGG2ogAzYCACADRQ0BCyADIAk2AhggBSgCECIABEAgAyAANgIQIAAgAzYCGAsgBSgCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgAUEPTQRAIAUgASAEaiIAQQNyNgIEIAAgBWoiACAAKAIEQQFyNgIEDAELIAUgBEEDcjYCBCAHIAFBAXI2AgQgASAHaiABNgIAIAFB/wFNBEAgAUEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACICQQEgAXQiAXFFBEBB2N8AIAEgAnI2AgAgAAwBCyAAKAIICyEBIAAgBzYCCCABIAc2AgwgByAANgIMIAcgATYCCAwBC0EfIQAgAUH///8HTQRAIAFBCHYiACAAQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcaiEACyAHIAA2AhwgB0IANwIQIABBAnRBiOIAaiECAkACQCAIQQEgAHQiBHFFBEBB3N8AIAQgCHI2AgAgAiAHNgIAIAcgAjYCGAwBCyABQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQQDQCAEIgIoAgRBeHEgAUYNAiAAQR12IQQgAEEBdCEAIAIgBEEEcWpBEGoiAygCACIEDQALIAMgBzYCACAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIICyAFQQhqIQAMAQsCQCAKRQ0AAkAgAygCHCICQQJ0QYjiAGoiACgCACADRgRAIAAgBTYCACAFDQFB3N8AIAlBfiACd3E2AgAMAgsgCkEQQRQgCigCECADRhtqIAU2AgAgBUUNAQsgBSAKNgIYIAMoAhAiAARAIAUgADYCECAAIAU2AhgLIAMoAhQiAEUNACAFIAA2AhQgACAFNgIYCwJAIAFBD00EQCADIAEgBGoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARBA3I2AgQgCyABQQFyNgIEIAEgC2ogATYCACAIBEAgCEEDdiIEQQN0QYDgAGohAkHs3wAoAgAhAAJ/QQEgBHQiBCAGcUUEQEHY3wAgBCAGcjYCACACDAELIAIoAggLIQQgAiAANgIIIAQgADYCDCAAIAI2AgwgACAENgIIC0Hs3wAgCzYCAEHg3wAgATYCAAsgA0EIaiEACyAMQRBqJAAgAAvMDAEHfwJAIABFDQAgAEEIayICIABBBGsoAgAiAUF4cSIAaiEFAkAgAUEBcQ0AIAFBA3FFDQEgAiACKAIAIgFrIgJB6N8AKAIASQ0BIAAgAWohACACQezfACgCAEcEQCABQf8BTQRAIAIoAggiBCABQQN2IgdBA3RBgOAAakYaIAQgAigCDCIBRgRAQdjfAEHY3wAoAgBBfiAHd3E2AgAMAwsgBCABNgIMIAEgBDYCCAwCCyACKAIYIQYCQCACIAIoAgwiA0cEQCACKAIIIgEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQeDfACAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgAiAFTw0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHw3wAoAgBGBEBB8N8AIAI2AgBB5N8AQeTfACgCACAAaiIANgIAIAIgAEEBcjYCBCACQezfACgCAEcNA0Hg3wBBADYCAEHs3wBBADYCAA8LIAVB7N8AKAIARgRAQezfACACNgIAQeDfAEHg3wAoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgQgAUEDdiIHQQN0QYDgAGpGGiAEIAUoAgwiAUYEQEHY3wBB2N8AKAIAQX4gB3dxNgIADAILIAQgATYCDCABIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEAgBSgCCCIBQejfACgCAEkaIAEgAzYCDCADIAE2AggMAQsCQCAFQRRqIgEoAgAiBA0AIAVBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAAJAIAUgBSgCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAM2AgAgA0UNAQsgAyAGNgIYIAUoAhAiAQRAIAMgATYCECABIAM2AhgLIAUoAhQiAUUNACADIAE2AhQgASADNgIYCyACIABBAXI2AgQgACACaiAANgIAIAJB7N8AKAIARw0BQeDfACAANgIADwsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACIEQQEgAXQiAXFFBEBB2N8AIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCA8LQR8hASACQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiBCAEQYDgH2pBEHZBBHEiBHQiAyADQYCAD2pBEHZBAnEiA3RBD3YgASAEciADcmsiAUEBdCAAIAFBFWp2QQFxckEcaiEBCyACIAE2AhwgAUECdEGI4gBqIQQCQAJAAkBB3N8AKAIAIgNBASABdCIFcUUEQEHc3wAgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQfjfAEH43wAoAgBBAWsiAkF/IAIbNgIACwtVAQJ/QdDfACgCACIBIABBA2pBfHEiAmohAAJAIAJBAU5BACAAIAFNGw0APwBBEHQgAEkEQCAAEABFDQELQdDfACAANgIAIAEPC0HU3wBBMDYCAEF/C4IEAQN/IAJBgARPBEAgACABIAIQARogAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCACQQFIBEAgACECDAELIABBA3FFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANPDQEgAkEDcQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC9YCAQJ/AkAgAUUNACAAIAFqIgJBAWtBADoAACAAQQA6AAAgAUEDSQ0AIAJBAmtBADoAACAAQQA6AAEgAkEDa0EAOgAAIABBADoAAiABQQdJDQAgAkEEa0EAOgAAIABBADoAAyABQQlJDQAgAEEAIABrQQNxIgNqIgJBADYCACACIAEgA2tBfHEiA2oiAUEEa0EANgIAIANBCUkNACACQQA2AgggAkEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgA0EZSQ0AIAJBADYCGCACQQA2AhQgAkEANgIQIAJBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAyACQQRxQRhyIgNrIgFBIEkNACACIANqIQIDQCACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwAgAkEgaiECIAFBIGsiAUEfSw0ACwsLBAAjAAsGACAAJAALEAAjACAAa0FwcSIAJAAgAAsLvVYIAEGECAvxQJYwB3csYQ7uulEJmRnEbQeP9GpwNaVj6aOVZJ4yiNsOpLjceR7p1eCI2dKXK0y2Cb18sX4HLbjnkR2/kGQQtx3yILBqSHG5895BvoR91Noa6+TdbVG11PTHhdODVphsE8Coa2R6+WL97Mllik9cARTZbAZjYz0P+vUNCI3IIG47XhBpTORBYNVycWei0eQDPEfUBEv9hQ3Sa7UKpfqotTVsmLJC1sm720D5vKzjbNgydVzfRc8N1txZPdGrrDDZJjoA3lGAUdfIFmHQv7X0tCEjxLNWmZW6zw+lvbieuAIoCIgFX7LZDMYk6Quxh3xvLxFMaFirHWHBPS1mtpBB3HYGcdsBvCDSmCoQ1e+JhbFxH7W2BqXkv58z1LjooskHeDT5AA+OqAmWGJgO4bsNan8tPW0Il2xkkQFcY+b0UWtrYmFsHNgwZYVOAGLy7ZUGbHulARvB9AiCV8QP9cbZsGVQ6bcS6ri+i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTp0ALyj4jC71EGl30rXldg9bcTRpPv01tNq6WlD/NluNEaIZ63QuGDacy0EROUdAzNfTAqqyXwN3TxxBVCqQQInEBALvoYgDMkltWhXs4VvIAnUZrmf5GHODvneXpjJ2SkimNCwtKjXxxc9s1mBDbQuO1y9t61susAgg7jttrO/mgzitgOa0rF0OUfV6q930p0VJtsEgxbccxILY+OEO2SUPmptDahaanoLzw7knf8JkyeuAAqxngd9RJMP8NKjCIdo8gEe/sIGaV1XYvfLZ2WAcTZsGecGa252G9T+4CvTiVp62hDMSt1nb9+5+fnvvo5DvrcX1Y6wYOij1tZ+k9GhxMLYOFLy30/xZ7vRZ1e8pt0GtT9LNrJI2isN2EwbCq/2SgM2YHoEQcPvYN9V32eo745uMXm+aUaMs2HLGoNmvKDSbyU24mhSlXcMzANHC7u5FgIiLyYFVb47usUoC72yklq0KwRqs1yn/9fCMc/QtYue2Swdrt5bsMJkmybyY+yco2p1CpNtAqkGCZw/Ng7rhWcHchNXAAWCSr+VFHq44q4rsXs4G7YMm47Skg2+1eW379x8Id/bC9TS04ZC4tTx+LPdaG6D2h/NFr6BWya59uF3sG93R7cY5loIiHBqD//KOwZmXAsBEf+eZY9prmL40/9rYUXPbBZ44gqg7tIN11SDBE7CswM5YSZnp/cWYNBNR2lJ23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Pskfp/7UwHPK9vYrCusowk7NTpqO0JAU20LqTBtfNKVfeVL9n2SMuemazuEphxAIbaF2UK28qN74LtKGODMMb3wVaje8CLQAAAABBMRsZgmI2MsNTLSsExWxkRfR3fYanWlbHlkFPCIrZyEm7wtGK6O/6y9n04wxPtaxNfq61ji2Dns8cmIdREsJKECPZU9Nw9HiSQe9hVdeuLhTmtTfXtZgcloSDBVmYG4IYqQCb2/otsJrLNqldXXfmHGxs/98/QdSeDlrNoiSEleMVn4wgRrKnYXepvqbh6PHn0PPoJIPew2Wyxdqqrl1d659GRCjMa29p/XB2rmsxOe9aKiAsCQcLbTgcEvM2Rt+yB13GcVRw7TBla/T38yq7tsIxonWRHIk0oAeQ+7yfF7qNhA553qklOO+yPP9583O+SOhqfRvFQTwq3lgFT3nwRH5i6YctT8LGHFTbAYoVlEC7Do2D6COmwtk4vw3FoDhM9Lshj6eWCs6WjRMJAMxcSDHXRYti+m7KU+F3VF27uhVsoKPWP42Ilw6WkVCY194RqczH0vrh7JPL+vVc12JyHeZ5a961VECfhE9ZWBIOFhkjFQ/acDgkm0EjPadr/WXmWuZ8JQnLV2Q40E6jrpEB4p+KGCHMpzNg/bwqr+Ekre7QP7QtgxKfbLIJhqskSMnqFVPQKUZ++2h3ZeL2eT8vt0gkNnQbCR01KhIE8rxTS7ONSFJw3mV5Me9+YP7z5ue/wv3+fJHQ1T2gy8z6NoqDuweRmnhUvLE5ZaeoS5iDOwqpmCLJ+rUJiMuuEE9d718ObPRGzT/ZbYwOwnRDElrzAiNB6sFwbMGAQXfYR9c2lwbmLY7FtQClhIQbvBqKQXFbu1pomOh3Q9nZbFoeTy0VX342DJwtGyfdHAA+EgCYuVMxg6CQYq6L0VO1khbF9N1X9O/ElKfC79WW2fbpvAeuqI0ct2veMZwq7yqF7XlryqxIcNNvG134LipG4eE23magB8V/Y1ToVCJl803l87ICpMKpG2eRhDAmoJ8puK7F5Pmf3v06zPPWe/3oz7xrqYD9WrKZPgmfsn84hKuwJBws8RUHNTJGKh5zdzEHtOFwSPXQa1E2g0Z6d7JdY07X+ssP5uHSzLXM+Y2E1+BKEpavCyONtshwoJ2JQbuERl0jAwdsOBrEPxUxhQ4OKEKYT2cDqVR+wPp5VYHLYkwfxTiBXvQjmJ2nDrPclhWqGwBU5VoxT/yZYmLX2FN5zhdP4UlWfvpQlS3Xe9QczGITio0tUruWNJHoux/Q2aAG7PN+Xq3CZUdukUhsL6BTdeg2EjqpBwkjalQkCCtlPxHkeaeWpUi8j2YbkaQnKoq94LzL8qGN0Oti3v3AI+/m2b3hvBT80KcNP4OKJn6ykT+5JNBw+BXLaTtG5kJ6d/1btWtl3PRafsU3CVPudjhI97GuCbjwnxKhM8w/inL9JJMAAAAAN2rCAW7UhANZvkYC3KgJB+vCywayfI0EhRZPBbhREw6PO9EP1oWXDeHvVQxk+RoJU5PYCAotngo9R1wLcKMmHEfJ5B0ed6IfKR1gHqwLLxubYe0awt+rGPW1aRnI8jUS/5j3E6YmsRGRTHMQFFo8FSMw/hR6jrgWTeR6F+BGTTjXLI85jpLJO7n4Czo87kQ/C4SGPlI6wDxlUAI9WBdeNm99nDc2w9o1AakYNIS/VzGz1ZUw6mvTMt0BETOQ5Wskp4+pJf4x7yfJWy0mTE1iI3snoCIimeYgFfMkISi0eCof3rorRmD8KXEKPij0HHEtw3azLJrI9S6tojcvwI2acPfnWHGuWR5zmTPcchwlk3crT1F2cvEXdEWb1XV43Il+T7ZLfxYIDX0hYs98pHSAeZMeQnjKoAR6/crGe7AuvGyHRH5t3vo4b+mQ+m5shrVrW+x3agJSMWg1OPNpCH+vYj8VbWNmqythUcHpYNTXpmXjvWRkugMiZo1p4Gcgy9dIF6EVSU4fU0t5dZFK/GPeT8sJHE6St1pMpd2YTZiaxEav8AZH9k5ARcEkgkREMs1Bc1gPQCrmSUIdjItDUGjxVGcCM1U+vHVXCda3VozA+FO7qjpS4hR8UNV+vlHoOeJa31MgW4btZlmxh6RYNJHrXQP7KVxaRW9ebS+tX4AbNeG3cffg7s+x4tmlc+Ncszzma9n+5zJnuOUFDXrkOEom7w8g5O5WnqLsYfRg7eTiL+jTiO3pijar671caerwuBP9x9LR/J5sl/6pBlX/LBAa+ht62PtCxJ75da5c+EjpAPN/g8LyJj2E8BFXRvGUQQn0oyvL9fqVjffN/0/2YF142Vc3utgOifzaOeM+27z1cd6Ln7Pf0iH13eVLN9zYDGvX72ap1rbY79SBsi3VBKRi0DPOoNFqcObTXRok0hD+XsUnlJzEfiraxklAGMfMVlfC+zyVw6KC08GV6BHAqK9Ny5/Fj8rGe8nI8RELyXQHRMxDbYbNGtPAzy25As5Alq+Rd/xtkC5CK5IZKOmTnD6mlqtUZJfy6iKVxYDglPjHvJ/PrX6elhM4nKF5+p0kb7WYEwV3mUq7MZt90fOaMDWJjQdfS4xe4Q2OaYvPj+ydgIrb90KLgkkEibUjxoiIZJqDvw5YguawHoDR2tyBVMyThGOmUYU6GBeHDXLVhqDQ4qmXuiCozgRmqvlupKt8eOuuSxIprxKsb60lxq2sGIHxpy/rM6Z2VXWkQT+3pcQp+KDzQzqhqv18o52XvqLQc8S15xkGtL6nQLaJzYK3DNvNsjuxD7NiD0mxVWWLsGgi17tfSBW6BvZTuDGckbm0it68g+AcvdpeWr/tNJi+AAAAAGVnvLiLyAmq7q+1EleXYo8y8N433F9rJbk4153vKLTFik8IfWTgvW8BhwHXuL/WSt3YavIzd9/gVhBjWJ9XGVD6MKXoFJ8Q+nH4rELIwHvfrafHZ0MIcnUmb87NcH+tlRUYES37t6Q/ntAYhyfozxpCj3OirCDGsMlHegg+rzKgW8iOGLVnOwrQAIeyaThQLwxf7Jfi8FmFh5flPdGHhmW04DrdWk+Pzz8oM3eGEOTq43dYUg3Y7UBov1H4ofgr8MSfl0gqMCJaT1ee4vZvSX+TCPXHfadA1RjA/G1O0J81K7cjjcUYlp+gfyonGUf9unwgQQKSj/QQ9+hIqD1YFJtYP6gjtpAdMdP3oYlqz3YUD6jKrOEHf76EYMMG0nCgXrcXHOZZuKn0PN8VTIXnwtHggH5pDi/Le2tId8OiDw3Lx2ixcynHBGFMoLjZ9ZhvRJD/0/x+UGbuGzfaVk0nuQ4oQAW2xu+wpKOIDBwasNuBf9dnOZF40iv0H26TA/cmO2aQmoOIPy+R7ViTKVRgRLQxB/gM36hNHrrP8abs35L+ibguRmcXm1QCcCfsu0jwcd4vTMkwgPnbVedFY5ygP2v5x4PTF2g2wXIPinnLN13krlDhXED/VE4lmOj2c4iLrhbvNxb4QIIEnSc+vCQf6SFBeFWZr9fgi8qwXDM7tlntXtHlVbB+UEfVGez/bCE7YglGh9rn6TLIgo6OcNSe7Six+VGQX1bkgjoxWDqDCY+n5m4zHwjBhg1tpjq1pOFAvcGG/AUvKUkXSk71r/N2IjKWEZ6KeL4rmB3ZlyBLyfR4Lq5IwMAB/dKlZkFqHF6W93k5Kk+Xlp9d8vEj5QUZa01gftf1jtFi5+u23l9SjgnCN+m1etlGAGi8IbzQ6jHfiI9WYzBh+dYiBJ5qmr2mvQfYwQG/Nm60rVMJCBWaTnId/ynOpRGGe7d04ccPzdkQkqi+rCpGERk4I3algHVmxtgQAXpg/q7PcpvJc8oi8aRXR5YY76k5rf3MXhFFBu5NdmOJ8c6NJkTc6EH4ZFF5L/k0HpNB2rEmU7/WmuvpxvmzjKFFC2IO8BkHaUyhvlGbPNs2J4Q1mZKWUP4uLpm5VCb83uieEnFdjHcW4TTOLjapq0mKEUXmPwMggYO7dpHg4xP2XFv9WelJmD5V8SEGgmxEYT7Uqs6Lxs+pN344QX/WXSbDbrOJdnzW7srEb9YdWQqxoeHkHhTzgXmoS9dpyxOyDnerXKHCuTnGfgGA/qmc5ZkVJAs2oDZuURyOpxZmhsJx2j4s3m8sSbnTlPCBBAmV5rixe0kNox4usRtIPtJDLVlu+8P22+mmkWdRH6mwzHrODHSUYblm8QYF3gAAAAB3BzCW7g5hLJkJUboHbcQZcGr0j+ljpTWeZJWjDtuIMnncuKTg1ekel9LZiAm2TCt+sXy957gtB5C/HZEdtxBkarAg8vO5cUiEvkHeGtrUfW3d5Ov01LVRg9OFxxNsmFZka6jA/WL5eoplyewUAVxPYwZs2foPPWONCA31O24gyExpEF7VYEHkomdxcjwD5NFLBNRH0g2F/aUKtWs1taj6QrKYbNu7ydasvPlAMths40XfXHXc1g3Pq9E9WSbZMKxR3gA6yNdRgL/QYRYhtPS1VrPEI8+6lZm4vaUPKAK4nl8FiAjGDNmysQvpJC9vfIdYaEwRwWEdq7ZmLT123EGQAdtxBpjSILzv1RAqcbGFiQa2tR+fv+Sl6LjUM3gHyaIPAPk0lgmojuEOmBh/ag27CG09LZFkbJfmY1wBa2tR9BxsYWKFZTDY8mIATmwGle0bAaV7ggj0wfUPxFdlsNnGErfpUIu+uOr8uYh8Yt0d3xXaLUmM03zz+9RMZU2yYVg6tVHOo7wAdNS7MOJK36VBPdiV16TRxG3T1vT7Q2npajRu2fytZ4hG2mC40EQELXMzAx3lqgpMX90NfMlQBXE8JwJBqr4LEBDJDCCGV2i1JSBvhbO5ZtQJzmHkn17e+Q4p2cmYsNCYIsfXqLRZsz0XLrQNgbe9XDvAumyt7biDIJq/s7YDtuIMdLHSmurVRzmd0nevBNsmFXPcFoPjYwsSlGQ7hA1taj56alqo5A7PC5MJ/50KAK4nfQeesfAPk0SHCKPSHgHyaGkGwv73YlddgGVnyxlsNnFuawbn/tQbdonTK+AQ2npaZ91KzPm532+Ovu/5F7e+Q2CwjtXW1qPoodGTfjjYwsRP3/JS0btn8aa8V2c/tQbdSLI2S9gNK9qvChtMNgNK9kEEemDfYO/DqGffVTFuju9Gab55y2GzjLxmgxolb9KgUmjiNswMd5W7C0cDIgIWuVUFJi/Fuju+sr0LKCu0WpJcs2oEwtf/p7XQzzEs2Z6LW96uHZtkwrDsY/ImdWqjnAJtkwqcCQap6w42P3IHZ4UFAFcTlb9KguK4ehR7sSuuDLYbOJLSjpvl1b4NfNzvtwvb3yGG09LU8dTiQmjds/gf2oNugb4Wzfa5JltvsHfhGLdHd4gIWub/D2pwZgY7yhEBC1yPZZ7/+GKuaWFr/9MWbM9FoArieNcN0u5OBINUOQOzwqdnJmHQYBb3SWlHTT5ud9uu0WpK2dZa3EDfC2Y32DvwqbyuU967nsVHss9/MLX/6b298hzKusKKU7OTMCS0o6a60DYFzdcGk1TeVykj2We/s2Z6LsRhSrhdaBsCKm8rlLQLvjfDDI6hWgXfGy0C740AAAAAGRsxQTI2YoIrLVPDZGzFBH139EVWWqeGT0GWx8jZigjRwrtJ+u/oiuP02custU8Mta5+TZ6DLY6HmBzPSsISUVPZIxB49HDTYe9Bki6u11U3teYUHJi11wWDhJaCG5hZmwCpGLAt+tupNsua5nddXf9sbBzUQT/fzVoOnpWEJKKMnxXjp7JGIL6pd2Hx6OGm6PPQ58PegyTaxbJlXV2uqkRGn+tva8wodnD9aTkxa64gKlrvCwcJLBIcOG3fRjbzxl0Hsu1wVHH0a2Uwuyrz96IxwraJHJF1kAegNBefvPsOhI26JaneeTyy7zhz83n/auhIvkHFG31Y3io88HlPBelifkTCTy2H21QcxpQVigGNDrtApiPog7842cI4oMUNIbv0TAqWp48TjZbOXMwACUXXMUhu+mKLd+FTyrq7XVSjoGwViI0/1pGWDpfe15hQx8ypEezh+tL1+suTcmLXXGt55h1AVLXeWU+EnxYOElgPFSMZJDhw2j0jQZtl/WunfOZa5lfLCSVO0DhkAZGuoxiKn+Izp8whKrz9YK0k4a+0P9DunxKDLYYJsmzJSCSr0FMV6vt+RiniZXdoLz959jYkSLcdCRt0BBIqNUtTvPJSSI2zeWXecGB+7zHn5vP+/v3Cv9XQkXzMy6A9g4o2+pqRB7uxvFR4qKdlOTuDmEsimKkKCbX6yRCuy4hf711PRvRsDm3ZP810wg6M81oSQ+pBIwLBbHDB2HdBgJc210eOLeYGpQC1xbwbhIRxQYoaaFq7W0N36JhabNnZFS1PHgw2fl8nGy2cPgAc3bmYABKggzFTi65ikJK1U9Hd9MUWxO/0V+/Cp5T22ZbVrge86bccjaicMd5rhSrvKspree3TcEis+F0bb+FGKi5m3jbhf8UHoFToVGNN82UiArLz5RupwqQwhJFnKZ+gJuTFrrj93p/51vPMOs/o/XuAqWu8mbJa/bKfCT6rhDh/LBwksDUHFfEeKkYyBzF3c0hw4bRRa9D1ekaDNmNdsnfL+tdO0uHmD/nMtczg14SNr5YSSraNIwudoHDIhLtBiQMjXUYaOGwHMRU/xCgODoVnT5hCflSpA1V5+sBMYsuBgTjFH5gj9F6zDqedqhWW3OVUABv8TzFa12Jimc55U9hJ4U8XUPp+VnvXLZVizBzULY2KEzSWu1Ifu+iRBqDZ0F5+8+xHZcKtbEiRbnVToC86EjboIwkHqQgkVGoRP2Urlqd55I+8SKWkkRtmvYoqJ/LLvODr0I2hwP3eYtnm7yMUvOG9DafQ/CaKgz8/kbJ+cNAkuWnLFfhC5kY7W/13etxla7XFflr07lMJN/dIOHa4Ca6xoRKf8Io/zDOTJP1yAAAAAAHCajcDhNRuAka+WQcJqNwGy8LrBI18sgVPFoUOE1G4D9E7jw2XhdYMVe/hCRr5ZAjYk1MKni0KC1xHPRwmo3Ad5MlHH6J3Hh5gHSkbLwusGu1hmxir38IZabX1EjXyyBP3mP8RsSamEHNMkRU8WhQU/jAjFriOehd65E04TUbgOY8s1zvJko46C/i5P0TuPD6GhAs8wDpSPQJQZTZeF1g3nH1vNdrDNjQYqQExV7+EMJXVszLTa+ozEQHdJGvlkCWpj6cn7zH+Ji1bySNiTUwioCd7IOaZIiEk8xUqeLQoK7reHyn8YEYoPgpxLXEc9CyzdsMu9ciaLzeirXCajcBxWOf3cx5ZrnLcM5l3kyUcdlFPK3QX8XJ11ZtFfonceH9Ltk99DQgWfM9iIXmAdKR4Qh6TegSgynvGyv1svC6wbX5Eh284+t5u+pDpa7WGbGp37FtoMVICafM4NWKvfwhjbRU/YSurZmDpwVFlptfUZGS942YiA7pn4GmNSNfLIEkVoRdLUx9OSpF1eU/eY/xOHAnLTFq3kk2Y3aVGxJqYRwbwr0VATvZEgiTBQc0yREAPWHNCSeYqQ4uMHVTxaFBVMwJnV3W8Pla31glT+MCMUjqqu1B8FOJRvn7VWuI56FsgU99ZZu2GWKSHsV3rkTRcKfsDXm9FWl+tL23hNRuA4Pdxt+Kxz+7jc6XZ5jyzXOf+2WvluGcy5HoNBe8mSjju5CAP7KKeVu1g9GHoL+Lk6e2I0+urNorqaVy9/RO48PzR0sf+l2ye/1UGqfoaECz72Hob+Z7EQvhcrnXzAOlI8sKDf/CEPSbxRlcR9AlBlPXLK6P3jZX69k//zdl4XWDYujdX2vyJDts+4znecfW837Ofi931IdLcN0vl12sM2NapZu/U79i21S2ygdBipATRoM4z0+ZwatIkGl3FXv4QxJyUJ8baKn7HGEBJwldWzMOVPPvB04KiwBHolctNr6jKj8WfyMl7xskLEfHMRAd0zYZtQ8/A0xrOArktka+WQJBt/HeSK0Iuk+koGZamPpyXZFSrlSLq8pTggMWfvMf4nn6tz5w4E5ad+nmhmLVvJJl3BRObMbtKmvPRfY2JNTCMS18Hjg3hXo/Pi2mKgJ3si0L324kESYKIxiO1g5pkiIJYDr+AHrDmgdza0YSTzFSFUaZjhxcYOobVcg2p4tCgqCC6l6pmBM6rpG75rut4fK8pEkutb6wSrK3GJafxgRimM+svpHVVdqW3P0Gg+CnEoTpD86N8/aqivpedtcRz0LQGGee2QKe+t4LNibLN2wyzD7E7sUkPYrCLZVW71yJouhVIX7hT9ga5kZwxvN6KtL0c4IO/Wl7avpg07QAAAAC4vGdlqgnIixK1r+6PYpdXN97wMiVrX9yd1zi5xbQo730IT4pvveBk1wGHAUrWv7jyatjd4N93M1hjEFZQGVef6KUw+voQnxRCrPhx33vAyGfHp611cghDzc5vJpWtf3AtERgVP6S3+4cY0J4az+gnonOPQrDGIKwIekfJoDKvPhiOyFsKO2e1socA0C9QOGmX7F8MhVnw4j3ll4dlhofR3TrgtM+PT1p3Myg/6uQQhlJYd+NA7dgN+FG/aPAr+KFIl5/EWiIwKuKeV09/SW/2x/UIk9VAp31t/MAYNZ/QTo0jtyuflhjFJyp/oLr9RxkCQSB8EPSPkqhI6PebFFg9I6g/WDEdkLaJoffTFHbPaqzKqA++fwfhBsNghF6gcNLmHBe39Km4WUwV3zzRwueFaX6A4HvLLw7Dd0hryw0PonOxaMdhBMcp2bigTERvmPX80/+Q7mZQflbaNxsOuSdNtgVAKKSw78YcDIijgduwGjln138r0niRk24f9Dsm9wODmpBmkS8/iCmTWO20RGBUDPgHMR5NqN+m8c+6/pLf7EYuuIlUmxdn7CdwAnHwSLvJTC/e2/mAMGNF51VrP6Cc04PH+cE2aBd5ig9y5F03y1zhUK5OVP9A9uiYJa6LiHMWN+8WBIJA+Lw+J50h6R8kmVV4QYvg168zXLDK7Vm2O1Xl0V5HUH6w/+wZ1WI7IWzah0YJyDLp53COjoIo7Z7UkFH5sYLkVl86WDE6p48Jgx8zbuYNhsEItTqmbb1A4aQF/IbBF0kpL6/1TkoyInbzip4Rlpgrvnggl9kdePTJS8BIri7S/QHAakFmpfeWXhxPKjl5XZ+Wl+Uj8fJNaxkF9dd+YOdi0Y5f3rbrwgmOUnq16TdoAEbZ0LwhvIjfMeowY1aPItb5YZpqngQHvaa9vwHB2K20bjYVCAlTHXJOmqXOKf+3e4YRD8fhdJIQ2c0qrL6oOBkRRoCldiPYxmZ1YHoBEHLPrv7Kc8mbV6TxIu8Ylkf9rTmpRRFezHZN7gbO8Ylj3EQmjWT4Qej5L3lRQZMeNFMmsdrrmta/s/nG6QtFoYwZ8A5ioUxpBzybUb6EJzbblpKZNS4u/lAmVLmZnuje/IxdcRI04RZ3qTYuzhGKSasDP+ZFu4OBIOPgkXZbXPYTSelZ/fFVPphsggYh1D5hRMaLzqp+N6nP1n9BOG7DJl18domzxMru1lkd1m/hobEK8xQe5EuoeYETy2nXq3cOsrnCoVwBfsY5nKn+gCQVmeU2oDYLjhxRboZmFqc+2nHCLG/eLJTTuUkJBIHwsbjmlaMNSXsbsS4eQ9I+SPtuWS3p2/bDUWeRpsywqR90DM56ZrlhlN4FBvEAAAAAAAAAAAMAAAAEAAQACAAEAAQAAAAEAAUAEAAIAAQAAAAEAAYAIAAgAAQAAAAEAAQAEAAQAAUAAAAIABAAIAAgAAUAAAAIABAAgACAAAUAAAAIACAAgAAAAQUAAAAgAIAAAgEABAUAAAAgAAIBAgEAEAUAQYHJAAu2EAECAwQEBQUGBgYGBwcHBwgICAgICAgICQkJCQkJCQkKCgoKCgoKCgoKCgoKCgoKCwsLCwsLCwsLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwAAEBESEhMTFBQUFBUVFRUWFhYWFhYWFhcXFxcXFxcXGBgYGBgYGBgYGBgYGBgYGBkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0AAQIDBAUGBwgICQkKCgsLDAwMDA0NDQ0ODg4ODw8PDxAQEBAQEBAQERERERERERESEhISEhISEhMTExMTExMTFBQUFBQUFBQUFBQUFBQUFBUVFRUVFRUVFRUVFRUVFRUWFhYWFhYWFhYWFhYWFhYWFxcXFxcXFxcXFxcXFxcXFxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxscwCcAAMAsAAABAQAAHgEAAA8AAABALAAAQC0AAAAAAAAeAAAADwAAAAAAAADALQAAAAAAABMAAAAHAAAAAAAAAAwACACMAAgATAAIAMwACAAsAAgArAAIAGwACADsAAgAHAAIAJwACABcAAgA3AAIADwACAC8AAgAfAAIAPwACAACAAgAggAIAEIACADCAAgAIgAIAKIACABiAAgA4gAIABIACACSAAgAUgAIANIACAAyAAgAsgAIAHIACADyAAgACgAIAIoACABKAAgAygAIACoACACqAAgAagAIAOoACAAaAAgAmgAIAFoACADaAAgAOgAIALoACAB6AAgA+gAIAAYACACGAAgARgAIAMYACAAmAAgApgAIAGYACADmAAgAFgAIAJYACABWAAgA1gAIADYACAC2AAgAdgAIAPYACAAOAAgAjgAIAE4ACADOAAgALgAIAK4ACABuAAgA7gAIAB4ACACeAAgAXgAIAN4ACAA+AAgAvgAIAH4ACAD+AAgAAQAIAIEACABBAAgAwQAIACEACAChAAgAYQAIAOEACAARAAgAkQAIAFEACADRAAgAMQAIALEACABxAAgA8QAIAAkACACJAAgASQAIAMkACAApAAgAqQAIAGkACADpAAgAGQAIAJkACABZAAgA2QAIADkACAC5AAgAeQAIAPkACAAFAAgAhQAIAEUACADFAAgAJQAIAKUACABlAAgA5QAIABUACACVAAgAVQAIANUACAA1AAgAtQAIAHUACAD1AAgADQAIAI0ACABNAAgAzQAIAC0ACACtAAgAbQAIAO0ACAAdAAgAnQAIAF0ACADdAAgAPQAIAL0ACAB9AAgA/QAIABMACQATAQkAkwAJAJMBCQBTAAkAUwEJANMACQDTAQkAMwAJADMBCQCzAAkAswEJAHMACQBzAQkA8wAJAPMBCQALAAkACwEJAIsACQCLAQkASwAJAEsBCQDLAAkAywEJACsACQArAQkAqwAJAKsBCQBrAAkAawEJAOsACQDrAQkAGwAJABsBCQCbAAkAmwEJAFsACQBbAQkA2wAJANsBCQA7AAkAOwEJALsACQC7AQkAewAJAHsBCQD7AAkA+wEJAAcACQAHAQkAhwAJAIcBCQBHAAkARwEJAMcACQDHAQkAJwAJACcBCQCnAAkApwEJAGcACQBnAQkA5wAJAOcBCQAXAAkAFwEJAJcACQCXAQkAVwAJAFcBCQDXAAkA1wEJADcACQA3AQkAtwAJALcBCQB3AAkAdwEJAPcACQD3AQkADwAJAA8BCQCPAAkAjwEJAE8ACQBPAQkAzwAJAM8BCQAvAAkALwEJAK8ACQCvAQkAbwAJAG8BCQDvAAkA7wEJAB8ACQAfAQkAnwAJAJ8BCQBfAAkAXwEJAN8ACQDfAQkAPwAJAD8BCQC/AAkAvwEJAH8ACQB/AQkA/wAJAP8BCQAAAAcAQAAHACAABwBgAAcAEAAHAFAABwAwAAcAcAAHAAgABwBIAAcAKAAHAGgABwAYAAcAWAAHADgABwB4AAcABAAHAEQABwAkAAcAZAAHABQABwBUAAcANAAHAHQABwADAAgAgwAIAEMACADDAAgAIwAIAKMACABjAAgA4wAIAAAABQAQAAUACAAFABgABQAEAAUAFAAFAAwABQAcAAUAAgAFABIABQAKAAUAGgAFAAYABQAWAAUADgAFAB4ABQABAAUAEQAFAAkABQAZAAUABQAFABUABQANAAUAHQAFAAMABQATAAUACwAFABsABQAHAAUAFwAFAEHg2QALTQEAAAABAAAAAQAAAAEAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAFAAAABQAAAAUAAAAFAEHQ2gALZQEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAEGA3AALIwIAAAADAAAABwAAAAAAAAAQERIACAcJBgoFCwQMAw0CDgEPAEG03AALaQEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACgAAAAwAAAAOAAAAEAAAABQAAAAYAAAAHAAAACAAAAAoAAAAMAAAADgAAABAAAAAUAAAAGAAAABwAAAAgAAAAKAAAADAAAAA4ABBtN0AC5oCAQAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAAAAAEAAIABAAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAABuZWVkIGRpY3Rpb25hcnkAc3RyZWFtIGVuZAAAZmlsZSBlcnJvcgBzdHJlYW0gZXJyb3IAZGF0YSBlcnJvcgBpbnN1ZmZpY2llbnQgbWVtb3J5AGJ1ZmZlciBlcnJvcgBpbmNvbXBhdGlibGUgdmVyc2lvbgAAAAAoLwAAOC8AAEMvAABELwAATy8AAFwvAABnLwAAey8AAIgvAABDLwAAMS4yLjExAEHQ3wALA9AxUA==");let jz,Mz;async function Bz(){if(jz)return jz;const e={};let t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);let r=!1,o=!1;r="object"==typeof window,o="function"==typeof importScripts,"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;let i="";(r||o)&&(o?i=self.location.href:"undefined"!=typeof document&&document.currentScript&&(i=document.currentScript.src),i=0!==i.indexOf("blob:")?i.substr(0,i.lastIndexOf("/")+1):""),e.print||console.log.bind(console);const a=e.printErr||console.warn.bind(console);for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);let s;n=null,e.arguments,e.thisProgram,e.quit,e.wasmBinary,e.noExitRuntime,"object"!=typeof WebAssembly&&E("no native wasm support detected");let c=!1;function u(t){const n=e["_"+t];var r;return r="Cannot call unknown function "+t+", make sure it is exported",n||E("Assertion failed: "+r),n}function l(e,t,n,r,o){const i={string:function(e){let t=0;if(null!=e&&0!==e){const n=1+(e.length<<2);t=P(n),function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;const o=n+r-1;for(let i=0;i<e.length;++i){let r=e.charCodeAt(i);if(r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127){if(n>=o)break;t[n++]=r}else if(r<=2047){if(n+1>=o)break;t[n++]=192|r>>6,t[n++]=128|63&r}else if(r<=65535){if(n+2>=o)break;t[n++]=224|r>>12,t[n++]=128|r>>6&63,t[n++]=128|63&r}else{if(n+3>=o)break;t[n++]=240|r>>18,t[n++]=128|r>>12&63,t[n++]=128|r>>6&63,t[n++]=128|63&r}}t[n]=0})(e,p,t,n)}(e,t,n)}return t},array:function(e){const t=P(e.length);var n,r;return n=e,r=t,f.set(n,r),t}},a=u(e),s=[];let c=0;if(r)for(let u=0;u<r.length;u++){const e=i[n[u]];e?(0===c&&(c=R()),s[u]=e(r[u])):s[u]=r[u]}let l=a.apply(null,s);return l=function(e){return"string"===t?(n=e)?function(e,t,n){const r=t+n;let o=t,i="";for(;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&d)return d.decode(e.subarray(t,o));for(;t<o;){let n=e[t++];if(!(128&n)){i+=String.fromCharCode(n);continue}const r=63&e[t++];if(192==(224&n)){i+=String.fromCharCode((31&n)<<6|r);continue}const o=63&e[t++];if(n=224==(240&n)?(15&n)<<12|r<<6|o:(7&n)<<18|r<<12|o<<6|63&e[t++],n<65536)i+=String.fromCharCode(n);else{const e=n-65536;i+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return i}(p,n,r):"":"boolean"===t?Boolean(e):e;var n,r}(l),0!==c&&N(c),l}const d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;let f,p,h;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),e.INITIAL_MEMORY;const g=[],v=[],m=[],y=[];v.push({func:function(){I()}});let A=0,b=null;function E(t){throw e.onAbort&&e.onAbort(t),a(t+=""),c=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}e.preloadedImages={},e.preloadedAudios={};let _="deflate.wasm";var w;function S(t){for(;t.length>0;){const n=t.shift();if("function"==typeof n){n(e);continue}const r=n.func;"number"==typeof r?void 0===n.arg?h.get(r)():h.get(r)(n.arg):r(void 0===n.arg?null:n.arg)}}w="data:application/octet-stream;base64,",_.startsWith(w)||(_=function(t){return e.locateFile?e.locateFile(t,i):i+t}(_));const C={emscripten_memcpy_big:function(e,t,n){p.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){E("OOM")}};await async function(){const t={env:C,wasi_snapshot_preview1:C};function n(t,n){const r=t.exports;var o;e.asm=r,s=e.asm.memory,o=s.buffer,e.HEAP8=f=new Int8Array(o),e.HEAP16=new Int16Array(o),e.HEAP32=new Int32Array(o),e.HEAPU8=p=new Uint8Array(o),e.HEAPU16=new Uint16Array(o),e.HEAPU32=new Uint32Array(o),e.HEAPF32=new Float32Array(o),e.HEAPF64=new Float64Array(o),h=e.asm.__indirect_function_table,function(t){if(A--,e.monitorRunDependencies&&e.monitorRunDependencies(A),0==A&&b){const e=b;b=null,e()}}()}function r(e){n(e.instance)}function o(e){return new iS(((e,t)=>{e(Lz().buffer)})).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){a("failed to asynchronously prepare wasm: "+e),E(e)}))}if(A++,e.monitorRunDependencies&&e.monitorRunDependencies(A),e.instantiateWasm)try{return e.instantiateWasm(t,n)}catch(e){return a("Module.instantiateWasm callback failed with error: "+e),!1}return await o(r),{}}();let I=e.___wasm_call_ctors=function(){return(I=e.___wasm_call_ctors=e.asm.__wasm_call_ctors).apply(null,arguments)},O=e._malloc=function(){return(O=e._malloc=e.asm.malloc).apply(null,arguments)};e._free=function(){return(e._free=e.asm.free).apply(null,arguments)},e.___errno_location=function(){return(e.___errno_location=e.asm.__errno_location).apply(null,arguments)},e._zlibCompress=function(){return(e._zlibCompress=e.asm.zlibCompress).apply(null,arguments)};let T,R=e.stackSave=function(){return(R=e.stackSave=e.asm.stackSave).apply(null,arguments)},N=e.stackRestore=function(){return(N=e.stackRestore=e.asm.stackRestore).apply(null,arguments)},P=e.stackAlloc=function(){return(P=e.stackAlloc=e.asm.stackAlloc).apply(null,arguments)};function k(t){function n(){T||(T=!0,e.calledRun=!0,c||(S(v),S(m),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),y.unshift(t);var t;S(y)}()))}A>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),g.unshift(t);var t;S(g)}(),A>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e.ccall=l,e.cwrap=function(e,t,n,r){const o=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&o&&!r?u(e):function(){return l(e,t,n,arguments)}},e.allocate=function(e,t){let n;return n=1==t?P(e.length):O(e.length),e.subarray||e.slice?p.set(e,n):p.set(new Uint8Array(e),n),n},b=function e(){T||k(),T||(b=e)},e.run=k,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return k(),jz=e,e}const Fz=Uint8Array.BYTES_PER_ELEMENT,Uz={bytesReceived:"br",frameDropped:"fd",frameReceived:"fr",googJitterReceived:"jr",isAudioMute:"am",isFreeze:"fz",mediaType:"mt",packetsLost:"pl",packetsReceived:"pr",peerId:"pid",id:"id",ssrc:"ssrc",timestamp:"ts",type:"tp",frameRateInput:"fi",frameRateSent:"fs",googRtt:"rt",isVideoMute:"vm"},Vz={stats:"sts",state:"st",stream_id:"stid",session_id:"seid",stream_type:"stt",app_id:"aid",channel_key:"ck",channel_name:"cn",sdk_version:"sv",browser:"b",process_id:"pcid",mode:"m",codec:"c",role:"r",has_changed_gateway:"hcg",ap_response:"ar",extends:"es",details:"d",features:"ft",p2p_id:"ppid",sdp:"sdp",audio:"a",video:"v",attributes:"at",hq:"h",lq:"l",stereo:"str",speech:"spe",extend:"e",pingpongElapse:"ppe"},Wz={_message:"m",_type:"t",_id:"id"},Hz={join_v2:"j2",publish:"pub",publish_related_stats:"prs",ping:"pi",traffic_stats:"ts",ping_back:"pib",publish_stats:"pubs"};let Qz;class Gz{constructor(){LR(this,"zlibCompress",void 0)}async init(){if(!Qz){const e=await(async()=>(Mz||(Mz=await Bz()),{zlibCompress:e=>{const t=new Uint8Array(e),n=Fz*t.byteLength,r=Mz._malloc(n),o=Mz._malloc(3*n);for(let s=0;s<n;s++)Mz.HEAP8[r/Fz+s]=t[s];const i=Mz._zlibCompress(r,n,o),a=new Uint8Array(Mz.HEAP8.slice(o,o+i));return Mz._free(r),Mz._free(o),a}}))();Qz=e.zlibCompress}this.zlibCompress=Qz}msgPackCompress(e){return xz.exports.encode(e)}compress(e){const t=Date.now(),n=this.compressKeyAndValue(JSON.parse(JSON.stringify(e))),r=this.msgPackCompress(n),o=this.zlibCompress(r),i=new Uint8Array([49,49,49,50,...Array.from(o)]);return{origin:Object.assign({},e),originLength:JSON.stringify(e).length,shortKeyAndValue:n,msgpackSer:r,compressed:i,compressedLength:i.length,time:Date.now()-t}}compressKeyAndValue(e){return this._ObjectKeyCompress(this._typeCompress(e))}_typeCompress(e){const t=e._type;if(!t)return e;const n=Hz[t];return e._type=n||t,e}_ObjectKeyCompress(e){const t=e._message;if(t){const n=t.stats;n&&(t.stats=this._statsCompress(n)),e._message=this._messageCompress(t)}return this._reportCompress(e)}_statsCompress(e){return this._keyCompress(e,Uz)}_messageCompress(e){return this._keyCompress(e,Vz)}_reportCompress(e){return this._keyCompress(e,Wz)}_keyCompress(e,t){const n={},r=Object.keys(e);return Sf(r).call(r,((r,o)=>{const i=e[o];return t[o]?n[t[o]]=i:n[o]=i,n}),n),n}}class Kz extends LP{get queue(){return[...this.highPriorityQueue,...this.lowPriorityQueue]}constructor(e){super(),LR(this,"lowPriorityQueue",[]),LR(this,"highPriorityQueue",[]),LR(this,"AgoraWebSocketManager",void 0),this.AgoraWebSocketManager=e}reset(){this.lowPriorityQueue=[],this.highPriorityQueue=[]}pushMessage(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.highPriorityQueue.push(e):this.lowPriorityQueue.push(e),this.sendMessage()}sendMessage(){const e=this.queue.length;let t=0;t=e<5?15*e:60+3*(e-4),setTimeout((()=>{this._sendMessage()}),t)}_sendMessage(){if(!this.queue.length)return;const e=this.AgoraWebSocketManager.getConnection();if(!e||1!==e.readyState)return;const t=this.queue.shift();return this.lowPriorityQueue.includes(t)?this.lowPriorityQueue.shift():this.highPriorityQueue.shift(),e.send(t.compressed),t}}var qz;function zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}let Yz=vk("AgoraWebSocketManager","connectionID")(qz=class extends LP{get url(){return this.websocket?this.websocket.url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){["tryNext","recover"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(Px.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(Px.CONNECTED):"closed"===this._state?this.emit(Px.CLOSED):"failed"===this._state&&this.emit(Px.FAILED))}resetReconnectCount(e){KP.debug("websocket reset reconnect count, reason: "+e),pk("debug",this,"resetReconnectCount",e,"websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;super(),LR(this,"connectionID",0),LR(this,"currentURLIndex",0),LR(this,"urls",void 0),LR(this,"_reconnectMode","tryNext"),LR(this,"reconnectReason",void 0),LR(this,"_initMutex",new mW("websocket")),LR(this,"name",void 0),LR(this,"_state","closed"),LR(this,"reconnectInterrupter",void 0),LR(this,"websocket",void 0),LR(this,"retryConfig",void 0),LR(this,"reconnectCount",0),LR(this,"forceCloseTimeout",5e3),LR(this,"onlineReconnectListener",void 0),LR(this,"compressor",new Gz),LR(this,"compressorInitStatus","initializing"),LR(this,"compress",void 0),LR(this,"messageSender",void 0),LR(this,"useCompress",void 0),LR(this,"tryDoubleDomain",!1),LR(this,"wsInflateLength",0),LR(this,"wsDeflateLength",0),LR(this,"closeEstablishingWs",(()=>{})),LR(this,"store",void 0),LR(this,"joinChannelServiceRecordIndex",void 0),this.store=o,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zz(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.useCompress=n,this.tryDoubleDomain=r;const{timeout:i,timeoutFactor:a}=t,s=Math.max(300,Math.floor(3*i/5)),c=Math.max(1.2,Math.floor(8*a)/10);hL.ONLINE&&(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=c),$V.on(gL.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===hL.ONLINE?(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=c):(this.retryConfig.timeout=i,this.retryConfig.timeoutFactor=a))}));const u=Date.now();this.compressor.init().then((()=>{this.compressorInitStatus="initialized";const e=Date.now()-u;KP.debug("websocket compressor initialized successfully in ".concat(e,"ms")),pk("debug",this.compressor,"init",void 0,"websocket compressor initialized successfully in ".concat(e,"ms")),dW.wsCompressorInit({status:!0,ec:null,eventElapse:e}),this.compress=this.compressor.compress.bind(this.compressor)})).catch((e=>{this.compressorInitStatus="failed";const t=e?e.message||e.toString():"Empty Error";KP.debug("websocket compressor failed to initialize because of ".concat(t)),pk("debug",this.compressor,"init",void 0,"websocket compressor failed to initialize because of ".concat(t)),dW.wsCompressorInit({status:!1,ec:t,eventElapse:1})}))}getConnection(){return this.websocket||void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.forceCloseTimeout=t;const n=(t,n)=>{this.urls=e;const r=this.urls[this.currentURLIndex];this.state="connecting",this.messageSender=new Kz(this),this.createWebSocketConnection(r).then(t).catch(n),this.once(Px.CLOSED,(()=>n(new BP(MP.WS_DISCONNECT)))),this.once(Px.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new iS(((e,t)=>{n(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return KP.warning("[".concat(this.name,"] can not reconnect, no websocket")),void pk("warning",this,"reconnect","can not reconnect, no websocket");var n;void 0!==e&&(this.reconnectMode=e),KP.debug("[".concat(this.name,"] reconnect is triggered initiative")),pk("debug",this,"reconnect"),"number"==typeof this.joinChannelServiceRecordIndex&&(null===(n=this.store)||void 0===n||n.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinChannelServiceRecordIndex));const r=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),r&&r.bind(this.websocket)({code:9999,reason:t})}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new BP(MP.WS_ABORT,"websocket is not ready");try{let r=null;if(n)r=this.sendMessageWithUint8Array(e);else if("initialized"===this.compressorInitStatus&&this.useCompress&&Pk("WEBSOCKET_COMPRESS"))try{r=this.compress(e),this.setWsInflateData(r)}catch(t){r=this.sendMessageWithJSON(e)}else r=this.sendMessageWithJSON(e);t?this.websocket.send(r.compressed):this.messageSender.pushMessage(r)}catch(e){throw new BP(MP.WS_ERR,"send websocket message error"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e,t){return this.connectionID+=1,this.connectionID,this.joinChannelServiceRecordIndex=void 0,new iS(((n,r)=>{var o;const i=()=>{KP.debug("[".concat(this.name,"] websocket opened:"),e),fk("debug",["WebSocket",this.connectionID],"open",e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n()},a=async e=>{if(KP.debug("[".concat(this.name,"] websocket close ").concat(this.websocket&&this.websocket.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),fk("debug",["WebSocket",this.connectionID],"close",{code:e.code,reason:e.reason,url:this.websocket&&this.websocket.url,reconnectMode:this.reconnectMode}),this.reconnectCount<this.retryConfig.maxRetryCount){"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=CQ(this,Px.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,o=await this.reconnectWithAction(t);if("closed"===this.state)return KP.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect")),void uk("debug",this,"ws is closed, no need to reconnect");if(!o)return r(new BP(MP.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),void this.close(!0);n()}else r(new BP(MP.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close()},s=e=>{this.emit(Px.ON_MESSAGE,e)};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),Pk("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=Pk("GATEWAY_WSS_ADDRESS")),KP.debug("[".concat(this.name,"] start connect, url: ").concat(e)),uk("debug",this,"start connect, url: ".concat(e));const c=null===(o=this.store)||void 0===o?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});this.chooseBestWebsocketConnection(e,!!t,c).then((e=>{var t;this.websocket=e,i&&i(),e.onclose=a,e.onmessage=s,null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:"success"},c),this.joinChannelServiceRecordIndex=c})).catch((e=>{var t;if(null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof BP&&e.code===MP.WS_ABORT?"aborted":"error",errors:[e]},c),"closed"!==this.state){if(e instanceof BP&&e.code===MP.WS_ERR){const t=new BP(MP.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return KP.error("[".concat(this.name,"]").concat(t)),pk("error",this,"chooseBestWebsocketConnection",void 0,e.toString()),void r(t)}a&&a(e)}else r(new BP(MP.WS_DISCONNECT,"websocket is closed: ".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(!this.urls)return!1;if("closed"===this.state)return!1;this.onlineReconnectListener||$V.networkState!==hL.OFFLINE||(this.onlineReconnectListener=$V.onlineWaiter&&$V.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let n=!0;if(this.reconnectInterrupter=()=>{n=!1},t){const t=UP(this.reconnectCount,this.retryConfig);KP.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),pk("debug",this,"reconnectWithAction",{timeout:t,action:e}),await iS.race([vQ(t),this.onlineReconnectListener||new iS((()=>{}))])}if("closed"===this.state||!n)return!1;this.reconnectCount+=1;const r=async(e,t)=>{this.emit(Px.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e){const t=this.urls[this.currentURLIndex];this.emit(Px.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return await this.reconnectWithAction("recover",!1);KP.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),uk("debug",this,"websocket url length: ".concat(this.urls.length," current index: ").concat(this.currentURLIndex));const t=this.urls[this.currentURLIndex];this.emit(Px.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("recover"===e){KP.debug("[".concat(this.name,"] request new urls")),uk("debug",this,"request new urls"),this.resetReconnectCount("recover mode"),this.emit(Px.RECONNECT_WAITTING_FINISH,e),this.urls=await wQ(this,Px.REQUEST_NEW_URLS),this.currentURLIndex=0;const t=this.urls[this.currentURLIndex];await r(t,e)}return!0}catch(n){var o;return KP.error("[".concat(this.name,"] reconnect failed"),n.toString()),pk("error",this,"reconnectWithAction",void 0,n.toString()),null!=n&&null!==(o=n.data)&&void 0!==o&&o.desc&&Array.isArray(n.data.desc)&&n.data.desc.length&&n.data.desc.includes("dynamic key expired")?(this.emit(Px.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}async chooseBestWebsocketConnection(e,t,n){return new iS(((r,o)=>{let i=!1;const a=[];this.closeEstablishingWs=()=>{KP.debug("[choose-best-ws] close establishing websockets"),a.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),o(new BP(MP.WS_ABORT,"choose best websocket aborted"))};const s=Pk("GATEWAY_DOMAINS");let c;const u=e.indexOf("?h="),l=s.find((t=>-1!==u?e.includes(t,u):e.includes(t)));KP.debug("[choose-best-ws] currentDomain: ",l,", domains: ",s),pk("debug",this,"chooseBestWebsocketConnection",{currentDomain:l,domains:s});let d=!this.tryDoubleDomain||t||!l;if(!d&&l){var f;const t=Date.now();try{s.forEach((t=>{const n=-1===u?e.replace(l,t):e.substr(0,u)+e.substr(u).replace(l,t),r=new WebSocket(n);r.binaryType="arraybuffer",a.push(r),KP.debug("[choose-best-ws] ws is connecting:",r.url),uk("debug",this,"ws is connecting: ".concat(r.url))}))}catch(e){for(KP.debug("[choose-best-ws] ws create failed, fallback to single url"),uk("debug",this,"ws create failed, fallback to single url"),a.forEach((e=>e.close()));a.length;)a.pop();d=!0}null===(f=this.store)||void 0===f||f.recordJoinChannelService({urls:a.map((e=>e.url)),service:"gateway"},n),a.forEach((e=>{e.onopen=()=>{if(i)return;const n=Date.now()-t;KP.debug("[choose-best-ws] ws open cost ".concat(n,"ms")),a.filter((t=>t!==e)).forEach((e=>{KP.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),uk("debug",this,"close backup websocket: ".concat(e.url)),e.close()})),i=!0,r(e)},e.onclose=e=>{c=e,i||a.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(KP.debug("[choose-best-ws] all websocket is closed"),uk("debug",this,"all websocket is closed"),i=!0,o(c))},e.onmessage=t=>{KP.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data)),uk("debug",this,"".concat(e.url," onmessage: ").concat(t.data))}})),vQ(this.forceCloseTimeout).then((()=>{a.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(d){var p;let t;KP.debug("[choose-best-ws] use single url: ",e),uk("debug",this,"use single url: ".concat(e)),null===(p=this.store)||void 0===p||p.recordJoinChannelService({urls:[e],service:"gateway"},n);try{t=new WebSocket(e),a.push(t),t.binaryType="arraybuffer"}catch(e){const n=new BP(MP.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return KP.error("[".concat(this.name,"]").concat(n)),pk("error",this,"chooseBestWebsocketConnection",void 0,e.toString()),void o(n)}t.onopen=()=>{r(t)},t.onclose=e=>{o(e)},t.onmessage=e=>{KP.debug("[choose-best-ws]".concat(t.url," onmessage: ").concat(e.data)),uk("debug",this,"".concat(t.url," onmessage: ").concat(e.data))},vQ(this.forceCloseTimeout).then((()=>{t&&t.readyState!==WebSocket.OPEN&&t.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}})||qz;class Jz{constructor(e){LR(this,"input",[]),LR(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:Sf(e=this.input).call(e,((e,t)=>e+t))/this.input.length}}var Xz;let Zz=vk("AgoraRTCSignal","websocket.connectionID")(Xz=class extends LP{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===hx.CONNECTED?this.emit(gx.WS_CONNECTED):e===hx.RECONNECTING?this.emit(gx.WS_RECONNECTING,this._websocketReconnectReason):e===hx.CLOSED&&this.emit(gx.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),LR(this,"_disconnectedReason",void 0),LR(this,"_websocketReconnectReason",void 0),LR(this,"_connectionState",hx.CLOSED),LR(this,"reconnectToken",void 0),LR(this,"websocket",void 0),LR(this,"openConnectionTime",void 0),LR(this,"clientId",void 0),LR(this,"lastMsgTime",Date.now()),LR(this,"uploadCache",[]),LR(this,"uploadCacheInterval",void 0),LR(this,"rttRolling",new Jz(5)),LR(this,"pingpongTimer",void 0),LR(this,"wsInflateDataTimer",void 0),LR(this,"pingpongTimeoutCount",0),LR(this,"joinResponse",void 0),LR(this,"multiIpOption",void 0),LR(this,"initError",void 0),LR(this,"spec",void 0),LR(this,"store",void 0),LR(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(gx.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")&&(this.emit(t._type,t._message),t._type===yx.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===yx.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(dx.UID_BANNED);break;case 15:this.close(dx.IP_BANNED);break;case 16:this.close(dx.CHANNEL_BANNED)}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new Yz("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===hx.CONNECTED&&this.reconnect("retry",px.OFFLINE)}))}async request(e,t,n,r){const o=yQ(6,""),i={_id:o,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new iS(((t,n)=>{if(this.connectionState===hx.CONNECTED)return t();const r=()=>{this.off(gx.WS_CLOSED,o),t()},o=()=>{this.off(gx.WS_CONNECTED,r),n(new BP(MP.WS_ABORT))};this.once(gx.WS_CONNECTED,r),this.once(gx.WS_CLOSED,o),e!==vx.PUBLISH&&e!==vx.SUBSCRIBE&&e!==vx.UNSUBSCRIBE&&e!==vx.UNPUBLISH&&e!==vx.CONTROL||this.once(gx.DISCONNECT_P2P,(()=>{n(new BP(MP.DISCONNECT_P2P))})),e===vx.PUBLISH&&this.once(gx.ABORT_P2P_EXECUTION,(()=>{n(new BP(MP.DISCONNECT_P2P))}))}));if(this.connectionState!==hx.CONNECTING&&this.connectionState!==hx.RECONNECTING||e===vx.JOIN||e===vx.REJOIN||await s(),this.websocket.sendMessage(i,!0),r)return;const c=new iS(((n,r)=>{let i=!1;const s=(r,o)=>{i=!0,n({isSuccess:"success"===r,message:o||{}}),this.off(gx.WS_CLOSED,c),this.off(gx.WS_RECONNECTING,c),this.emit(gx.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(o),s);const c=()=>{r(new BP(MP.WS_ABORT,"type: ".concat(e))),this.off(gx.WS_CLOSED,c),this.off(gx.WS_RECONNECTING,c),this.off("res-@".concat(o),s)};this.once(gx.WS_CLOSED,c),this.once(gx.WS_RECONNECTING,c),vQ(Pk("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||i||(KP.warning("ws request timeout, type: ".concat(e)),uk("warning",this,"ws request timeout, type: ".concat(e)),this.emit(gx.REQUEST_TIMEOUT,e,t))}))}));let u=null;try{u=await c}catch(r){if(this.connectionState===hx.CLOSED||e===vx.LEAVE)throw new BP(MP.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?r.throw():e===vx.JOIN||e===vx.REJOIN?null:(await s(),await this.request(e,t))}if(u.isSuccess)return u.message;const l=Number(u.message.error_code||u.message.code),d=Dz(l),f=new BP(MP.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(u.message.error_str),{code:l,data:u.message});return"success"===d.action?u.message:(KP.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(l,", message: ").concat(d.desc,", action: ").concat(d.action)),uk("warning",this,"unexpected response from type ".concat(e,", error_code: ").concat(l,", message: ").concat(d.desc,", action: ").concat(d.action)),l===ux.ERR_TOO_MANY_BROADCASTERS?e===vx.JOIN||e===vx.REJOIN?(this.initError=f,this.close(),f.throw()):f.throw():"failed"===d.action?f.throw():"quit"===d.action?(this.initError=f,this.close(),f.throw()):(l===ux.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=u.message.option,KP.warning("[".concat(this.clientId,"] detect multi ip, recover")),uk("warning",this,"detect multi ip, recover"),this.reconnect("recover",px.MULTI_IP)):this.reconnect(d.action,px.SERVER_ERROR),e===vx.JOIN||e===vx.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new iS((n=>{const r=o=>{(!t||t(o))&&(this.off(e,r),n(o))};this.on(e,r)}))}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=Pk("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==hx.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),Pk("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new iS(((n,r)=>{this.once(gx.WS_CONNECTED,(()=>n(this.joinResponse))),this.once(gx.WS_CLOSED,(()=>r(this.initError||new BP(MP.WS_ABORT)))),this.connectionState=hx.CONNECTING,this.websocket.init(e).catch(r),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(KP.debug("[".concat(this.clientId,"] init websocket timeout while join with fallback to proxy")),r(new BP(MP.INIT_WEBSOCKET_TIMEOUT)))}),Pk("JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||dx.LEAVE,this.connectionState=hx.CLOSED,KP.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===dx.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new Yz("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(gx.ABORT_P2P_EXECUTION);const e=await wQ(this,gx.REQUEST_JOIN_INFO),t=await this.request(vx.JOIN,e);if(!t)return this.emit(gx.REPORT_JOIN_GATEWAY,MP.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(gx.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=hx.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new BP(MP.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=IQ(this,gx.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(vx.REJOIN,e);return!!t&&(this.connectionState=hx.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(yx.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(yx.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(yx.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(yx.MUTE_AUDIO,{uid:e.uid}):this.emit(yx.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(yx.MUTE_VIDEO,{uid:e.uid}):this.emit(yx.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(yx.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(yx.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(yx.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(yx.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(yx.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){KP.debug("[".concat(this.clientId,"] receive notification: "),e),pk("debug",this,"handleNotification",e);const t=Dz(e.code);if("success"!==t.action)return"failed"===t.action?(KP.error("[".concat(this.clientId,"] ignore error: "),t.desc),void uk("error",this,"ignore error: ".concat(t.desc))):"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(dx.UID_BANNED),void this.close()):void this.reconnect(t.action,px.SERVER_ERROR)}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=Pk("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(KP.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),uk("warning",this,"PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>Pk("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",px.TIMEOUT):this.request(vx.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),Pk("REPORT_STATS")&&this.send(vx.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(mx.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Px.RECONNECT_WAITTING_FINISH,(e=>{this.emit(gx.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Px.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(gx.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Px.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Px.CLOSED,(()=>{this.connectionState=hx.CLOSED})),this.websocket.on(Px.FAILED,(()=>{this._disconnectedReason=dx.NETWORK_ERROR,this.connectionState=hx.CLOSED})),this.websocket.on(Px.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===hx.CONNECTED?this.connectionState=hx.RECONNECTING:this.connectionState=hx.CONNECTING})),this.websocket.on(Px.WILL_RECONNECT,((e,t)=>{if(IQ(this,gx.IS_P2P_DISCONNECTED)&&"retry"===e)return KP.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),uk("debug",this,"".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),this.reconnectToken=void 0,this.emit(gx.NEED_RENEW_SESSION),this.emit(gx.DISCONNECT_P2P),t("tryNext");"retry"!==e&&(KP.debug("".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),uk("debug",this,"".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0,this.emit(gx.NEED_RENEW_SESSION),this.emit(gx.DISCONNECT_P2P)),t(e)})),this.websocket.on(Px.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{KP.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),pk("warning",this,"rejoin",void 0,e.toString()),this.reconnect("tryNext",px.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(gx.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||""),e instanceof BP&&e.code===MP.UNEXPECTED_RESPONSE&&e.data.code===ux.ERR_NO_AUTHORIZED)return KP.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),uk("warning",this,"reconnect no authorized, recover"),void this.reconnect("recover",px.SERVER_ERROR);KP.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),pk("error",this,"join",void 0,e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",px.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(Px.REQUEST_NEW_URLS,((e,t)=>{wQ(this,gx.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Px.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(yx.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}})||Xz;var $z;function eY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const nY=new Map;let rY=vk("AgoraRTCGateway","store.clientId")($z=class extends LP{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(zx.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(zx.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){KP.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),pk("debug",this,"joinGatewayStartTime",e,"[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),LR(this,"store",void 0),LR(this,"joinInfo",void 0),LR(this,"key",void 0),LR(this,"signal",void 0),LR(this,"role",void 0),LR(this,"inChannelInfo",{joinAt:null,duration:0}),LR(this,"spec",void 0),LR(this,"_state","DISCONNECTED"),LR(this,"_statsCollector",void 0),LR(this,"_disconnectedReason",void 0),LR(this,"isSignalRecover",!1),LR(this,"hasChangeBGPAddress",!1),LR(this,"trafficStatsInterval",void 0),LR(this,"networkQualityInterval",void 0),LR(this,"_joinGatewayStartTime",0),LR(this,"_signalTimeout",!1),LR(this,"_clientRoleOptions",void 0),LR(this,"_isProactiveJoin",!1),this.store=e,this.spec=t,this.signal=new Zz(tY(tY({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const r=Date.now();let o=nY.get(e.cname);if(o||(o=new Map,nY.set(e.cname,o)),this._isProactiveJoin=!0,o.has(e.uid)){const t=new BP(MP.UID_CONFLICT);throw dW.joinGateway(e.sid,{lts:r,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer}),this._isProactiveJoin=!1,t}o.set(e.uid,!0),this.joinInfo=e,this.key=t;const i=e.proxyServer,a=i?e.gatewayAddrs.map((e=>{const t=e.address.split(":");return"wss://".concat(i,"/ws/?h=").concat(t[0],"&p=").concat(t[1])})):e.gatewayAddrs.map((e=>"wss://".concat(e.address)));let s=0;this.joinGatewayStartTime=r;try{s=(await this.signal.init(a,n)).uid}catch(t){if(t&&t.code===MP.INIT_WEBSOCKET_TIMEOUT)throw KP.warning("[".concat(this.store.clientId,"] User join failed"),t.toString()),t;throw KP.error("[".concat(this.store.clientId,"] User join failed"),t.toString()),pk("error",this,"join",void 0,t.toString()),dW.joinGateway(e.sid,{lts:r,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!i}),this._isProactiveJoin=!1,o.delete(e.uid),this.signal.close(),t}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),KP.debug("[".concat(this.store.clientId,"] Connected to gateway server")),pk("debug",this,"join",void 0,"success"),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{KP.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString()),pk("warning",this,"trafficStatsInterval",void 0,e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(zx.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(zx.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(zx.NETWORK_QUALITY,{uplinkNetworkQuality:cQ(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:cQ(this._statsCollector.trafficStats.B_dnq)}):this.emit(zx.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),s}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==dx.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==hx.CONNECTED||await function(e,t){return t===1/0?e:iS.race([e,mQ(t)])}(this.signal.request(vx.LEAVE,void 0,!0),3e3)}catch(e){KP.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e),uk("warning",this,"leave request failed, ignore, ".concat(e.toString()))}this.signal.close(t),t!==dx.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new BP(MP.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:Pk("PUB_EXTEND")};try{return(await this.signal.request(vx.PUBLISH,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===ux.ERR_PUBLISH_REQUEST_INVALID)return KP.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),r.toString()),uk("warning",this,"receive publish error code, retry, ".concat(r.toString())),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw r}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new BP(MP.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(vx.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){KP.warning("unpublish warning: ",e),pk("warning",this,"unpublish",void 0,e.toString())}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new BP(MP.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,tcc:!!Pk("SUBSCRIBE_TCC"),extend:Pk("SUB_EXTEND"),ssrcId:t.ssrcId};try{return(await this.signal.request(vx.SUBSCRIBE,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===ux.ERR_SUBSCRIBE_REQUEST_INVALID)return KP.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),r.toString()),uk("warning",this,"receiver subscribe error code, retry"),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw r}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new BP(MP.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1};try{return await this.signal.request(vx.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(t&&n.data&&n.data.code===ux.ERR_SUBSCRIBE_REQUEST_INVALID)return KP.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),uk("warning",this,"receiver massSubscribe error code, retry"),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw n}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,r=e.height,o=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(o=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(o=!1)),"number"!=typeof r&&(r=r.exact||r.ideal||r.max||r.min||0,t||(o=!1)),o?{stream_type:0,width:n,height:r,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);return t?this.signal.request(vx.SET_VIDEO_PROFILE,t):(KP.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway")),void uk("debug",this,"encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(vx.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){KP.warning("unsubscribe warning: ",e),pk("warning",this,"unsubscribe",void 0,e.toString())}}async massUnsubscribe(e){try{await this.signal.request(vx.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){KP.warning("unsubscribeAll warning: ",e),pk("warning",this,"unsubscribeAll",void 0,e.toString())}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=e,o=await this.signal.request(vx.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}},!0),i=this.getGatewayIpPort();return{gatewayEstablishParams:o,gatewayIP:null==i?void 0:i.ip,gatewayPort:null==i?void 0:i.port}}getGatewayInfo(){return this.signal.request(vx.GATEWAY_INFO)}renewToken(e){return this.signal.request(vx.RENEW_TOKEN,e)}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),"CONNECTED"!==this.state)return void(this.role=e);let n;n="audience"===e?this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:0,await this.signal.request(vx.SET_CLIENT_ROLE,{role:e,level:n,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(vx.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(vx.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(vx.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(vx.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),tY({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(vx.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=nY.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){const t=e.match(/(wss\:\/\/)?([^:]+):(\d+)/);return t?{username:Ek.username,password:Ek.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(tY(tY({},Ek),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(vx.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&RQ((()=>{this.emit(zx.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new BP(MP.UNEXPECTED_ERROR,"can not generate join message, no join info");const t=Object.assign({},this.joinInfo.apResponse);let n=Pk("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(e){n=void 0}n&&n.length>128&&(n=void 0);const r=tY({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:Ak,browser:navigator.userAgent,process_id:Pk("PROCESS_ID"),mode:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:Pk("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:Pk("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:Pk("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof Pk("SUBSCRIBE_AUDIO_FILTER_TOPN")?Pk("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof Pk("ENABLE_PUBLISH_AUDIO_FILTER")?Pk("ENABLE_PUBLISH_AUDIO_FILTER"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(r.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(r.aes_mode=this.joinInfo.aesmode,Pk("ENCRYPT_AES")?(r.aes_secret=this.joinInfo.aespassword,r.aes_encrypt=!0):r.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(r.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(r.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(r.default_video_stream=this.joinInfo.defaultVideoStream),r}getRejoinMessage(){if(!this.joinInfo)throw new BP(MP.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(gx.WS_RECONNECT_WAITTING_FINISH,(e=>{["tryNext","recover"].includes(e)&&this.joinInfo&&dW.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(gx.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(gx.WS_RECONNECTING,(e=>{this.joinInfo&&dW.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||px.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",dW.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(gx.WS_CLOSED,(e=>{let t;switch(e){case dx.LEAVE:t=px.LEAVE;break;case dx.UID_BANNED:case dx.IP_BANNED:case dx.CHANNEL_BANNED:case dx.SERVER_ERROR:t=px.SERVER_ERROR;break;case dx.FALLBACK:t=px.FALLBACK;break;default:t=px.NETWORK_ERROR}KP.debug("[signal] websocket closed, reason: ".concat(t||"undefined -> "+px.NETWORK_ERROR)),lk("debug",this,"ws_closed","reason: ".concat(e)),this.joinInfo&&dW.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===dx.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==dx.FALLBACK&&(this.state="DISCONNECTED"),this.reset()})),this.signal.on(gx.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&this._clientRoleOptions.level&&(KP.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions&&this._clientRoleOptions.level)),uk("debug",this,"patch to send set client role, role: ".concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions&&this._clientRoleOptions.level)),this.setClientRole(this.role,this._clientRoleOptions)),dW.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint)){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return KP.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e)),void uk("error",this,"set local access point after joined failed: ".concat(e));Nk("EVENT_REPORT_DOMAIN",e[1]),Nk("EVENT_REPORT_BACKUP_DOMAIN",e[1]),Nk("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(yx.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(gx.REQUEST_RECOVER,((e,t,n)=>{if(!this.joinInfo)return n(new BP(MP.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,wQ(this,zx.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)})),this.signal.on(gx.REQUEST_JOIN_INFO,(async e=>{var t;this.updateTurnConfigFromSignal();const{iceParameters:n,dtlsParameters:r,rtpCapabilities:o}=await wQ(this,zx.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:o,version:"2"}}))})),this.signal.on(gx.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(gx.REPORT_JOIN_GATEWAY,((e,t)=>{this.joinInfo&&(dW.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer}),this._isProactiveJoin=!1)})),this.signal.on(gx.IS_P2P_DISCONNECTED,(e=>{e(IQ(this,zx.IS_P2P_DISCONNECTED))})),this.signal.on(gx.DISCONNECT_P2P,(()=>{this.emit(zx.DISCONNECT_P2P)})),this.signal.on(gx.NEED_RENEW_SESSION,(()=>{this.emit(zx.NEED_RENEW_SESSION)})),this.signal.on(gx.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(gx.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(gx.JOIN_RESPONSE,(e=>{const t=this.getGatewayIpPort();t?this.emit(zx.JOIN_RESPONSE,e,t.ip,t.port):this.emit(zx.JOIN_RESPONSE,e)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(vx.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(t){throw KP.warning("unsubscribe warning",t),pk("warning",this,"tryUnsubBeforeResub",e,t.toString()),t}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(vx.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(t){throw KP.warning("unpublish warning: ",t),pk("warning",this,"tryUnpubBeforeRepub",e,t.toString()),t}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(vx.UNSUBSCRIBE_STREAMS,t,!0)}catch(t){throw KP.warning("massUnsubscribe warning",t),pk("warning",this,"tryUnsubAllBeforeResub",e.map((e=>e.stream_id)),t.toString()),t}}async muteLocal(e,t){const n={action:e.find((e=>e.stream_type===qx.Audio))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(vx.CONTROL,n,!0,!0)}catch(e){throw KP.warning("gateway unmuteLocal warning: ",e),pk("warning",this,"muteLocal",t,e.toString()),e}}async unmuteLocal(e,t){const n={action:e.find((e=>e.stream_type===qx.Audio))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(vx.CONTROL,n,!0,!0)}catch(e){throw KP.warning("gateway muteLocal warning: ",e),pk("warning",this,"unmuteLocal",t,e.toString()),e}}uploadStats(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{const e=await this.signal.request(vx.RESTART_ICE,t,!0),n=this.getGatewayIpPort();return{restartICEResponse:e,gatewayIP:null==n?void 0:n.ip,gatewayPort:null==n?void 0:n.port}}catch(e){throw KP.warning("P2PChannel.restartICE warning: ",e),pk("warning",this,"restartICE",void 0,e.toString()),e}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,px.P2P_FAILED)}getGatewayIpPort(){var e;if(!Pk("GATEWAY_WSS_ADDRESS")&&null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs){const e=this.joinInfo.gatewayAddrs[this.signal.currentURLIndex];return(e.ip||e.ip6)&&e.port?e.ip6?{ip:e.ip6,port:e.port}:{ip:e.ip,port:e.port}:void 0}}async setPublishAudioFilterEnabled(e){await this.signal.request(vx.SET_PARAMETER,{enablePublishAudioFilter:e})}})||$z;/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */function oY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oY(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=i;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in n))break e;n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(a("Symbol",(function(e){function t(e,t){this.A=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(o){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(o||"")+"_"+r++,o)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var a=i[t[r]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&o(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return e})),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var u;e:{var l={};try{l.__proto__={a:!0},u=l.a;break e}catch(e){}u=!1}r=u?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=r;function f(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function h(e,t){return e.h=3,{value:t}}function g(e){this.g=new f,this.G=e}function v(e,t,n,r){try{var o=t.call(e.g.j,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.m=!1,o;var i=o.value}catch(t){return e.g.j=null,e.g.s(t),m(e)}return e.g.j=null,r.call(e.g,i),m(e)}function m(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function y(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var n=e.g.j;return n?v(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),m(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function A(e,t){return t=new y(new g(t)),d&&e.prototype&&d(t,e.prototype),t}if(f.prototype.o=function(e){this.v=e},f.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},f.prototype.return=function(e){this.l={return:e},this.h=this.u},g.prototype.o=function(e){return p(this.g),this.g.j?v(this,this.g.j.next,e,this.g.o):(this.g.o(e),m(this))},g.prototype.s=function(e){return p(this.g),this.g.j?v(this,this.g.j.throw,e,this.g.o):(this.g.s(e),m(this))},a("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var b=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},E=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},_=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},w=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},S="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,C=S.FormData,I=S.XMLHttpRequest&&S.XMLHttpRequest.prototype.send,O=S.Request&&S.fetch,T=S.navigator&&S.navigator.sendBeacon,R=S.Element&&S.Element.prototype,N=S.Symbol&&Symbol.toStringTag;N&&(Blob.prototype[N]||(Blob.prototype[N]="Blob"),"File"in S&&!File.prototype[N]&&(File.prototype[N]="File"));try{new File([],"")}catch(e){S.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),N&&Object.defineProperty(e,N,{value:"File"}),e}}var P=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},k=function(e){this.i=[];var t=this;e&&b(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];b(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?b(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?E(e.value):e.value,t.append(e.name,n))}))};if((t=k.prototype).append=function(e,t,n){w(arguments,2),this.i.push(_(e,t,n))},t.delete=function(e){w(arguments,1);var t=[];e=String(e),b(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},t.entries=function e(){var t,n=this;return A(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=h(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},t.forEach=function(e,t){w(arguments,1);for(var n=c(this),r=n.next();!r.done;r=n.next()){var o=c(r.value);r=o.next().value,o=o.next().value,e.call(t,o,r,this)}},t.get=function(e){w(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},t.getAll=function(e){w(arguments,1);var t=[];return e=String(e),b(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},t.has=function(e){w(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},t.keys=function e(){var t,n,r,o,i=this;return A(e,(function(e){if(1==e.h&&(t=c(i),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,o=c(r),h(e,o.next().value));n=t.next(),e.h=2}))},t.set=function(e,t,n){w(arguments,2),e=String(e);var r=[],o=_(e,t,n),i=!0;b(this.i,(function(t){t[0]===e?i&&(i=!r.push(o)):r.push(t)})),i&&r.push(o),this.i=r},t.values=function e(){var t,n,r,o,i=this;return A(e,(function(e){if(1==e.h&&(t=c(i),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,(o=c(r)).next(),h(e,o.next().value));n=t.next(),e.h=2}))},k.prototype._asNative=function(){for(var e=new C,t=c(this),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.append(n,r)}return e},k.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,r){return"string"==typeof e?t.push(n+P(E(r))+'"\r\n\r\n'+E(e)+"\r\n"):t.push(n+P(E(r))+'"; filename="'+P(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},k.prototype[Symbol.iterator]=function(){return this.entries()},k.prototype.toString=function(){return"[object FormData]"},R&&!R.matches&&(R.matches=R.matchesSelector||R.mozMatchesSelector||R.msMatchesSelector||R.oMatchesSelector||R.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),N&&(k.prototype[N]="FormData"),I){var D=S.XMLHttpRequest.prototype.setRequestHeader;S.XMLHttpRequest.prototype.setRequestHeader=function(e,t){D.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},S.XMLHttpRequest.prototype.send=function(e){e instanceof k?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),I.call(this,e)):I.call(this,e)}}O&&(S.fetch=function(e,t){return t&&t.body&&t.body instanceof k&&(t.body=t.body._blob()),O.call(this,e,t)}),T&&(S.navigator.sendBeacon=function(e,t){return t instanceof k&&(t=t._asNative()),T.call(this,e,t)}),S.FormData=k}}();let aY=1;function sY(e,t,n,r,o){aY+=1;const i={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:aY,requestId:aY,version:Ak,cname:n.cname},a={service_name:t,json_body:JSON.stringify(i)};let s,c,u=e[0];return VP((async()=>{s=Date.now();const e=await XV(u,{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-s,0!==e.code){const t=new BP(MP.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:c});throw KP.error(t.toString()),pk("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new BP(MP.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,e.toString()),e}if(!n.servers||0===n.servers.length){const e=new BP(MP.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,e.toString()),e}const o=function(e,t){return{addressList:e.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(Pk("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(n,t);return Pk("LIVE_STREAMING_ADDRESS")&&(o.addressList=Pk("LIVE_STREAMING_ADDRESS")instanceof Array?Pk("LIVE_STREAMING_ADDRESS"):[Pk("LIVE_STREAMING_ADDRESS")]),iY(iY({},o),{},{responseTime:c})}),((r,o)=>(dW.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(r.addressList),firstSuccess:0===o,responseTime:c,serverIp:e[o%e.length]}),!1)),((r,o)=>(dW.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:c,serverIp:e[o%e.length]}),!!(r.code!==MP.OPERATION_ABORTED&&r.code!==MP.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(u=e[(o+1)%e.length],!0))),o)}let cY=1;function uY(e,t,n,r){let{url:o,areaCode:i}=e;pk("debug",["AjaxAPI",t.clientId],"requestChooseServer",{url:o,areaCode:i});const a=Date.now();let s;const[c,u]=hY(t,i,[IU.CHOOSE_SERVER]);let l=$V.networkState;return VP((async()=>{l&&$V.networkState===hL.OFFLINE&&$V.onlineWaiter&&await iS.race([$V.onlineWaiter,vQ(r&&r.maxRetryTimeout||FP.maxRetryTimeout)]),l=$V.networkState;const{data:e,headers:i}=await XV(o,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);s="1"===i.http3?1:-1,dW.reportResourceTiming(o,t.sid),dY(e,o,t,a,[IU.CHOOSE_SERVER],s);const u=uQ(e,IU.CHOOSE_SERVER);return fY(u),oQ(u,o)}),(e=>(e&&dW.joinChooseServer(t.sid,{lts:a,succ:!0,csAddr:o,opid:u,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[IU.CHOOSE_SERVER].toString(),isHttp3:s}),!1)),(e=>e.code!==MP.OPERATION_ABORTED&&(e.code===MP.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(dW.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:o,serverList:null,opid:u,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[IU.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:l}),isHttp3:s}),KP.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),uk("warning",["AjaxAPI",t.clientId],"Choose server network error, retry, ".concat(e)),!0))),r)}function lY(e,t,n,r){let o,{url:i,areaCode:a,serviceIds:s}=e;pk("debug",["AjaxAPI",t.clientId],"requestMultiUnilbs",{url:i,areaCode:a,serviceIds:s});const c=Date.now(),[u,l]=hY(t,a,s);let d;return VP((async()=>{d&&$V.networkState===hL.OFFLINE&&$V.onlineWaiter&&await iS.race([$V.onlineWaiter,vQ(r&&r.maxRetryTimeout||FP.maxRetryTimeout)]),d=$V.networkState;const{data:e,headers:a}=await XV(i,{data:u,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);o="1"===a.http3?1:-1,dW.reportResourceTiming(i,t.sid),dY(e,i,t,c,s,o);const l=uQ(e,IU.CHOOSE_SERVER),f=uQ(e,"proxy5"===t.cloudProxyServer?IU.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?IU.CLOUD_PROXY:IU.CLOUD_PROXY_FALLBACK);return fY(l),{gatewayInfo:oQ(l,i),proxyInfo:f,url:i}}),(e=>(e.gatewayInfo&&dW.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:i,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:l,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:o}),e.proxyInfo&&dW.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:i,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1)),(e=>e.code!==MP.OPERATION_ABORTED&&(e.code===MP.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(dW.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:d})}),KP.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),uk("warning",["AjaxAPI",t.clientId],"multi unilbs network error, retry, ".concat(e)),!0))),r)}const dY=(e,t,n,r,o,i)=>{const a=[],s=a=>{4096===a.flag?dW.joinChooseServer(n.sid,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:o.toString(),isHttp3:i}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||dW.joinWebProxyAP(n.sid,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:a.error.code,eventType:n.cloudProxyServer,unilbsServerIds:o.toString()})};if(e.response_body.forEach((t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)KP.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new BP(MP.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};a.push(n),s(n)}if(0!==n){const r=Pz(n),o={error:new BP(MP.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?KP.warning(o.error.toString()):a.push(o),s(o)}})),a.length)throw KP.warning("[".concat(n.clientId,"] multi unilbs ").concat(t," failed, ").concat(a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry))).join(" | "))),pk("warning",["AjaxAPI",n.clientId],"checkMultiUnilbsResponseValid",{url:t},a.map((e=>({flag:e.flag,message:e.error.message,retry:e.error.data.retry})))),new BP(MP.CAN_NOT_GET_GATEWAY_SERVER,a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!a.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(a.map((e=>{var t,n;return null==e||null===(t=e.error)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.desc})).filter((e=>!!e)))]})},fY=e=>{if(e.addresses&&0===e.addresses.length&&0===e.code)throw new BP(MP.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(Pk("GATEWAY_ADDRESS")&&Pk("GATEWAY_ADDRESS").length>0){KP.debug("assign gateway address to",Pk("GATEWAY_ADDRESS")),uk("debug",["AjaxAPI"],"assign gateway address to ".concat(JSON.stringify(Pk("GATEWAY_ADDRESS"))));const t=Pk("GATEWAY_ADDRESS").map((t=>({ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket})));e.addresses=t}},pY=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=Pz(t.buffer.code);throw new BP(MP.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw KP.debug("update ticket request received ap response without response body:",t),uk("debug",["AjaxAPI"],"update ticket request received ap response without response body: ".concat(t)),new BP(MP.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},hY=(e,t,n)=>{const r=Math.floor(Math.random()*10**12),o={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:{6:e.stringUid,11:t,12:Pk("USE_NEW_TOKEN")?"1":void 0},key:e.token,service_ids:n,uid:e.uid||0}}]};o.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const i=new FormData;return i.append("request",JSON.stringify(o)),[i,r]},gY=(e,t)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},o=new FormData;return o.append("request",JSON.stringify(r)),[o,n]};let vY=0;const mY=()=>{const e=Pk("AREAS");return 0===e.length&&e.push(nL.GLOBAL),Sf(e).call(e,((e,t,n)=>{const r=yY(t);return r?0===n?r:"".concat(e,",").concat(r):e}),"")},yY=e=>e===nL.OVERSEA?"".concat(aL.ASIA,",").concat(aL.EUROPE,",").concat(aL.AFRICA,",").concat(aL.NORTH_AMERICA,",").concat(aL.SOUTH_AMERICA,",").concat(aL.OCEANIA):aL[e],AY={GLOBAL:{ASIA:[nL.CHINA,nL.JAPAN,nL.INDIA,nL.KOREA,nL.HKMC],EUROPE:[],NORTH_AMERICA:[nL.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},bY=Object.keys(AY[nL.GLOBAL]),EY=[nL.CHINA,nL.NORTH_AMERICA,nL.EUROPE,nL.ASIA,nL.JAPAN,nL.INDIA,nL.OCEANIA,nL.SOUTH_AMERICA,nL.AFRICA,nL.KOREA,nL.HKMC,nL.US],_Y=function(e,t){let n=[];if(e.includes(nL.GLOBAL)){const i=[nL.GLOBAL,nL.OVERSEA],a=Object.keys(sL);if(t===nL.GLOBAL)throw new BP(MP.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===nL.CHINA)n=[nL.OVERSEA];else if(o=t,bY.includes(o)){const e=(r=t,AY[nL.GLOBAL][r]||[]),o=[...i,t,...e];n=a.filter((e=>!o.includes(e)))}else if(function(e){let t=!1;return bY.forEach((n=>{AY[nL.GLOBAL][n].includes(e)&&(t=!0)})),t}(t)){const e=function(e){let t;return bY.forEach((n=>{AY[nL.GLOBAL][n].includes(e)&&(t=n)})),t}(t),r=[...i,e,t];n=a.filter((e=>!r.includes(e)))}else n=e;n=function(e){const t=[];return EY.forEach((n=>{e.includes(n)&&t.push(n)})),t.concat(e.filter((e=>!EY.includes(e))))}(n)}else n=e;var r,o;return n};async function wY(e,t,n,r){const o=async function(e,t,n,r){let o=null;const i=[],a=async()=>{const o=Pk("WEBCS_DOMAIN").slice(0,Pk("AJAX_REQUEST_CONCURRENT")).map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:mY()}))),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((e=>e.url))}),s=await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>(KP.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),uY(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:i});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s},s=async()=>{if(await vQ(1e3),null!==o)return o;const a=Pk("WEBCS_DOMAIN_BACKUP_LIST").map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:mY()}))),s=r.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((e=>e.url))}),c=await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(KP.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),uY(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:i});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c};try{return o=await _Q([a(),s()]),i.length&&i.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),o}catch(e){throw e[0]}}(e,t,n,r);return{gatewayInfo:await o}}async function SY(e,t,n,r,o){const i=e.cloudProxyServer;if("disabled"===i){if(!r)return;if(e.useLocalAccessPoint)return await wY(e,t,n,o);if(Pk("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:r,proxyInfo:i}=await TY(e,t,n,o);return e.turnServer&&"auto"!==e.turnServer.mode?(uk("debug",["Server",e.clientId],"do not set fallback turn because of already having turnserver"),{gatewayInfo:r}):(e.turnServer={mode:"manual",servers:i.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||Ek.tcpport,udpport:e.udpport||Ek.udpport,username:e.username||Ek.username,password:e.password||Ek.password,forceturn:Pk("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE"),security:!0})))},{gatewayInfo:r})}return await wY(e,t,n,o)}let a;if(["443only","normal"].includes(i)){let s;r?"normal"!==i?[s,a]=await iS.all([IY(e,t,n),wY(e,t,n,o)]):(s=await IY(e,t,n),e.proxyServer=s.addresses[0],dW.setProxyServer(e.proxyServer),KP.setProxyServer(e.proxyServer),ck(e.proxyServer),a=await wY(e,t,n,o)):(a=void 0,"normal"!==i?s=await IY(e,t,n):(s=await IY(e,t,n),e.proxyServer=s.addresses[0],dW.setProxyServer(e.proxyServer),KP.setProxyServer(e.proxyServer),ck(e.proxyServer))),e.turnServer={mode:"manual",servers:s.addresses.map((e=>({turnServerURL:e,tcpport:s.serverResponse.tcpport?s.serverResponse.tcpport:Ek.tcpport,udpport:s.serverResponse.udpport?s.serverResponse.udpport:Ek.udpport,username:s.serverResponse.username||Ek.username,password:s.serverResponse.password||Ek.password,forceturn:!0,security:!1})))}}else{const{proxyInfo:r,gatewayInfo:s}=await TY(e,t,n,o);a={gatewayInfo:s},e.turnServer={mode:"manual",servers:r.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===i?void 0:e.tcpport?e.tcpport:Ek.tcpport,udpport:"proxy4"===i?void 0:e.udpport?e.udpport:Ek.udpport,username:e.username||Ek.username,password:e.password||Ek.password,forceturn:"proxy4"!==i,security:"proxy5"===i})))}}return KP.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(i)),pk("debug",["Server",e.clientId],"setCloudProxyServerAndGetServerInfo",{proxyServer:e.proxyServer,mode:e.cloudProxyServer}),a}async function CY(e,t,n,r,o){const i=Pk("ACCOUNT_REGISTER").slice(0,Pk("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?i.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):i.map((e=>"https://".concat(e,"/api/v1")));const s=null==o?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const i=await async function(e,t,n,r,o){const i=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let s=e[0];const c=await VP((()=>XV(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((n,r)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw KP.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),pk("error",["AjaxAPI"],"requestUserAccount","Invalid Uint Uid ".concat(t," => ").concat(n.uid,", ").concat(n)),dW.reqUserAccount(a.sid,{lts:i,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:MP.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new BP(MP.INVALID_UINT_UID_FROM_STRING_UID);return dW.reqUserAccount(a.sid,{lts:i,success:!0,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:null,extend:a}),!1}const o=Pz(n.code);return o.retry&&(s=e[(r+1)%e.length]),dW.reqUserAccount(a.sid,{lts:i,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:o.desc,extend:a}),o.retry}),((t,n)=>t.code!==MP.OPERATION_ABORTED&&(dW.reqUserAccount(a.sid,{lts:i,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:t.code,extend:a}),s=e[(n+1)%e.length],!0)),o);if(0!==c.code){const e=Pz(c.code);throw new BP(MP.UNEXPECTED_RESPONSE,e.desc)}return c}(a,e,t,n,r);return null==o||o.recordJoinChannelService({status:"success",endTs:Date.now()},s),i.uid}catch(e){throw null==o||o.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e]},s),e}}async function IY(e,t,n){let r=Date.now();const o=e.cloudProxyServer,i=Pk("normal"===o?"PROXY_CS":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1")));if(["proxy3","proxy4","proxy5"].includes(o)){const r=i.map((e=>({url:e,areaCode:mY()})));let o=null;o=await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:r=>function(e,t,n,r){let{url:o,areaCode:i}=e;const a=Date.now(),s={opid:133,flag:"proxy5"===t.cloudProxyServer?4194304:1048576,ts:+new Date,key:t.token,cname:t.cname,sid:t.sid,detail:{6:t.stringUid,11:i},uid:t.uid||0};return VP((async()=>await XV(o,{data:s,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":69}})),(e=>{if(0===e.code)return dW.joinWebProxyAP(t.sid,{lts:a,sucess:1,apServerAddr:o,turnServerAddrList:e.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer}),!1;const n=Pz(e.code);throw new BP(MP.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{retry:n.retry})}),(e=>e.code!==MP.OPERATION_ABORTED&&(e.code===MP.CAN_NOT_GET_GATEWAY_SERVER?(dW.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),KP.warning("[".concat(t.clientId,"] proxy ap server ").concat(o," failed, message: ").concat(e.message,", retry: ").concat(e.data.retry)),uk("warning",["AjaxAPI",t.clientId],"proxy ap server ".concat(o," failed, message: ").concat(e.message,", retry: ").concat(e.data.retry)),e.data.retry):(dW.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),!0))),r)}(r,e,t,n),allFailedhandler:()=>{throw KP.error("[".concat(e.clientId,"] can not get proxy server after trying several times")),new BP(MP.CAN_NOT_GET_PROXY_SERVER)}});const a=o.addresses;if(!a||0===a.length)throw KP.error("[".concat(e.clientId,"] can not get proxy server, empty proxy server list")),new BP(MP.CAN_NOT_GET_PROXY_SERVER,"empty proxy server list");return{addresses:a.map((e=>e.ip)).map(rQ),serverResponse:{tcpport:a[0].port||443,udpport:a[0].port||Ek.udpport,username:Ek.username,password:Ek.password}}}let a=null;a=await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>function(e,t,n,r){const o=Date.now(),i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,uid:t.uid,cname:t.cname,ts:Math.floor(Date.now()/1e3),version:Ak,seq:0,requestId:1};return VP((async()=>({res:await XV(e,{data:{service_name:"webrtc_proxy",json_body:JSON.stringify(i)},cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}}),url:e})),(e=>{if(!e.res.json_body)throw KP.debug("[".concat(t.clientId,"] Get proxy server failed: no json_body")),pk("error",["AjaxAPI",t.clientId],"requestProxyServerList","Get proxy server failed: no json_body"),new BP(MP.UNEXPECTED_RESPONSE,JSON.stringify(e.res));const n=JSON.parse(e.res.json_body);if(200!==n.code)throw KP.debug("[".concat(t.clientId,"] Get proxy server failed: response code [").concat(n.code,"], reason [").concat(n.reason,"]")),pk("error",["AjaxAPI",t.clientId],"requestProxyServerList","Get proxy server failed: response code [".concat(n.code,"], reason [").concat(n.reason,"]")),new BP(MP.UNEXPECTED_RESPONSE,JSON.stringify(e.res));return KP.debug("[".concat(t.clientId,"] App return server length"),n.servers.length),pk("debug",["AjaxAPI",t.clientId],"requestProxyServerList","",{length:n.servers.length}),!1}),(t=>t.code!==MP.OPERATION_ABORTED&&(dW.requestProxyAppCenter(i.sid,{lts:o,succ:!1,APAddr:e,workerManagerList:null,ec:t.code,response:t.message}),!0)),r)}(r,e,t,n),allFailedhandler:()=>{throw KP.error("[".concat(e.clientId,"] can not get proxy server after trying several times")),new BP(MP.CAN_NOT_GET_PROXY_SERVER)}});const s=JSON.parse(a.res.json_body).servers.map(nQ);if("443only"===e.cloudProxyServer)return{addresses:s,serverResponse:{tcpport:443,udpport:Ek.udpport,username:Ek.username,password:Ek.password}};dW.requestProxyAppCenter(e.sid,{lts:r,succ:!0,APAddr:a.url,workerManagerList:JSON.stringify(s),ec:null,response:JSON.stringify(a.res)}),r=Date.now();const c=s.map((r=>function(e,t,n,r){const o=Date.now();let i=e;e.startsWith("http")||(i="https://".concat(e,":4000/v2/machine"));const a={command:"request",gatewayType:"http",appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sdkVersion:"2.3.1",sid:t.sid,seq:1,ts:Date.now(),requestId:3,clientRequest:{appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sid:t.sid}};return VP((async()=>({res:await XV(i,{data:a,cancelToken:n}),url:e})),(e=>{if(!e.res.serverResponse)throw new BP(MP.UNEXPECTED_RESPONSE,"requeet worker manager server failed: serverResponse is undefined");return!1}),(t=>t.code!==MP.OPERATION_ABORTED&&(dW.requestProxyWorkerManager(a.sid,{lts:o,succ:!1,workerManagerAddr:e,ec:t.code,response:t.message}),!0)),r)}(r,e,t,n)));let u=null;try{u=await _Q(c)}catch(t){throw KP.error("[".concat(e.clientId,"] can not get worker manager after trying several times")),new BP(MP.CAN_NOT_GET_PROXY_SERVER)}return c.forEach((e=>e.cancel())),dW.requestProxyWorkerManager(e.sid,{lts:r,succ:!0,workerManagerAddr:u.url,ec:null,response:JSON.stringify(u.res)}),{addresses:[u.url],serverResponse:u.res.serverResponse}}async function OY(e,t,n){const r=Pk("CDS_AP").slice(0,Pk("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config"))).map((r=>function(e,t,n,r){const o=aR(),i={flag:64,cipher_method:0,features:{device:o.name,system:o.os,system_general:navigator.userAgent,vendor:t.appId,version:Ak,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return VP((()=>XV(e,{data:i,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e=>e.code!==MP.OPERATION_ABORTED),r)}(r,e,t,n)));let o=null,i=null,a={};try{o=await _Q(r)}catch(e){if(e.code===MP.OPERATION_ABORTED)throw e;i=e}if(r.forEach((e=>e.cancel())),dW.reportApiInvoke(e.sid,{name:tx.REQUEST_CONFIG_DISTRIBUTE,options:{error:i,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),r={};return n.forEach((e=>{var n;const o=QT(n=e.slice(4)).call(n),i=JSON.parse(t[e])[1];r[o]=i})),r}(o)}catch(e){}return a}async function TY(e,t,n,r){const o=Pk("PROXY_SERVER_TYPE3"),i=(e,t,n)=>{let r=n||o;return Array.isArray(r)&&(r=t%2==0?o[1]:o[0]),"https://".concat(r,"/ap/?url=").concat(e)};let a=null;const s=[],c=async()=>{const o=Pk("WEBCS_DOMAIN").slice(0,Pk("AJAX_REQUEST_CONCURRENT")).map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:mY(),serviceIds:[IU.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?IU.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?IU.CLOUD_PROXY:IU.CLOUD_PROXY_FALLBACK]}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((e=>e.url))}),c=await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>(KP.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),lY(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c},u=async()=>{if(await vQ(1e3),null!==a)return a;const o=Pk("WEBCS_DOMAIN_BACKUP_LIST").map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):i("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:mY(),serviceIds:[IU.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?IU.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?IU.CLOUD_PROXY:IU.CLOUD_PROXY_FALLBACK]}})),c=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:o.map((e=>e.url))}),u=await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>(KP.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),lY(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},c),u};let l,d,f;try{({gatewayInfo:l,proxyInfo:d,url:f}=await _Q([c(),u()]))}catch(e){throw e[0]}if(s.length&&s.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),!l||!d)throw new BP(MP.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=f,"disabled"!==e.cloudProxyServer&&Array.isArray(o)&&f){const t=new Rz(f).host;o.includes(t)&&(e.proxyServer=t,KP.setProxyServer(t),dW.setProxyServer(t),ck(t))}return a={gatewayInfo:l,proxyInfo:await lQ(d,l.uid)},a}async function RY(e,t,n,r){const o=Pk("UAP_AP").slice(0,Pk("AJAX_REQUEST_CONCURRENT")).map((e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")));return await sY(o,e,t,n,r)}async function NY(e,t,n){const r=Pk("UAP_AP").slice(0,Pk("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"))).map((r=>function(e,t,n,r){const o={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:Ak,cname:t.cname,uid:t.uid.toString(),requestId:cY,seq:cY};cY+=1;const i={service_name:"tele_channel",json_body:JSON.stringify(o)};return VP((async()=>{const t=await XV(e,{data:i,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new BP(MP.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,e.toString()),e}const r=JSON.parse(t.json_body);if(200!==r.code){const e=new BP(MP.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(r.code,", reason: ").concat(r.reason));throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,e.toString()),e}if(!r.servers||0===r.servers.length){const e=new BP(MP.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,e.toString()),e}return{vid:r.vid,workerToken:r.workerToken,addressList:r.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(Pk("WORKER_DOMAIN"),":").concat(e.wss)))}}),void 0,(e=>!!(e.code!==MP.OPERATION_ABORTED&&e.code!==MP.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),r)}(r,e,t,n)));try{const e=await _Q(r);return r.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function PY(e,t,n){let r=null;const o=[],i=async i=>{const a=Pk(i?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2")));return i&&(await vQ(1e3),null!==r)?r:await MQ({fragementLength:Pk("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(KP.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(i?"backup":""," choose_server:"),r),function(e,t,n,r){const[o]=gY(t,[IU.CHOOSE_SERVER]);let i=$V.networkState;return VP((async()=>{i&&$V.networkState===hL.OFFLINE&&$V.onlineWaiter&&await iS.race([$V.onlineWaiter,vQ(r&&r.maxRetryTimeout||FP.maxRetryTimeout)]),i=$V.networkState;const t=await XV(e,{data:o,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);return pY(t,e)}),(()=>!1),(e=>e.code!==MP.OPERATION_ABORTED&&(e.code===MP.UPDATE_TICKET_FAILED?e.data.retry:(KP.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),uk("warning",["AjaxAPI",t.clientId],"update ticket network error, retry, ".concat(e)),!0))),r)}(r,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:o})};try{return r=await _Q([i(!1),i(!0)]),o.length&&o.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}var kY;function DY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DY(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let LY=vk("ConfigDistributeManager")(kY=class extends LP{constructor(){super(),LR(this,"configs",void 0),LR(this,"joinInfo",void 0),LR(this,"cancelToken",void 0),LR(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),LR(this,"interval",void 0),LR(this,"mutex",new mW("config-distribute")),LR(this,"mutableParamsRead",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),Pk("CONFIG_DISTRIBUTE_INTERVAL"))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,dW.reportApiInvoke(null,{options:void 0,name:tx.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:nx.TRACER}).onSuccess(JSON.stringify(Dk))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return KP.debug("[config-distribute] get config distribute interrupted have no joininfo"),void pk("debug",this,"updateConfigDistribute",void 0,"get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await OY(this.joinInfo,this.cancelToken,this.retryConfig),KP.debug("[config-distribute] get config distribute",JSON.stringify(e)),pk("debug",this,"updateConfigDistribute",e),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new BP(MP.NETWORK_RESPONSE_ERROR,e);KP.warning("[config-distribute] ".concat(t.toString())),pk("warning",this,"updateConfigDistribute",void 0,e.toString())}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(cL.UPDATE_BITRATE_LIMIT,e):this.emit(cL.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&xY({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const n=kD(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let o=0;o<n.length;o++)for(let t=n.length-1;t>o;t--){const r=n[t];if("number"==typeof e[r].__priority){const o=e[r].__priority,i=n[t-1];if("number"==typeof e[i].__priority){if(!(o>e[i].__priority))continue;{const e=r;n[t]=n[t-1],n[t-1]=e}}else{const e=r;n[t]=n[t-1],n[t-1]=e}}}const r={};n.forEach((t=>{const n=e[t],o=n.__expires;Object.keys(n).forEach((e=>{"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(r,e)||(r[e]=xY({value:n[e]},o&&{expires:o}))}))}));try{const e=JSON.stringify(r),t=window.btoa(e);window.localStorage.setItem("websdk_ng_global_parameter",t),KP.debug("Caching global parameters ".concat(e)),pk("debug",this,"cacheGlobalParameterConfig",e)}catch(e){KP.error("Error caching global parameters:",e.message),pk("error",this,"cacheGlobalParameterConfig",void 0,e.message)}}})||kY;function jY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jY(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class BY extends LP{constructor(e,t,n,r){super(),LR(this,"spec",void 0),LR(this,"token",void 0),LR(this,"websocket",void 0),LR(this,"pingpongTimer",void 0),LR(this,"reconnectMode","retry"),LR(this,"serviceMode",void 0),LR(this,"reqId",0),LR(this,"commandReqId",0),LR(this,"handleWebSocketOpen",(()=>{this.reconnectMode="retry",this.startPingPong()})),LR(this,"handleWebSocketMessage",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):this.serviceMode===kx.INJECT?this.emit(Fx.INJECT_STREAM_STATUS,t):(dW.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===kx.TRANSCODE?1:2}),this.emit(Fx.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=r,this.websocket=new Yz("live-streaming",n),this.websocket.on(Px.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Px.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Px.REQUEST_NEW_URLS,((e,t)=>{wQ(this,Fx.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(Px.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,n,r){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const o=this.commandReqId,i=this.reqId;if(!i||!this.websocket)throw new BP(MP.UNEXPECTED_ERROR);const a=MY({command:e,sdkVersion:"4.13.0"===Ak?"0.0.1":Ak,seq:i,requestId:i,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new BP(MP.WS_DISCONNECT);const s=()=>new iS(((e,t)=>{this.websocket.once(Px.CLOSED,(()=>t(new BP(MP.WS_ABORT)))),this.websocket.once(Px.CONNECTED,e)}));"connected"!==this.websocket.state&&await s(),a.clientRequest&&(a.clientRequest.workerToken=this.token);const c=new iS(((e,t)=>{const n=()=>{t(new BP(MP.WS_ABORT))};this.websocket.once(Px.RECONNECTING,n),this.websocket.once(Px.CLOSED,n),this.once("@".concat(i,"-").concat(this.spec.sid),(t=>{e(t)}))}));r&&dW.workerEvent(this.spec.sid,MY(MY({},r),{},{requestId:o,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const u=Date.now();this.websocket.sendMessage(a);let l=null;try{l=await c}catch(r){if("closed"===this.websocket.state)throw r;return await s(),await this.request(e,t,n)}return r&&dW.workerEvent(this.spec.sid,MY(MY({},r),{},{requestId:o,actionType:"response",payload:JSON.stringify(l.serverResponse),serverCode:l.code,success:200===l.code,responseTime:Date.now()-u})),200!==l.code&&this.handleResponseError(l),l}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.13.0"===Ak?"0.0.1":Ak;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case Vx.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void KP.warning("live stream response already exists stream");case Vx.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Vx.LIVE_STREAM_RESPONSE_BAD_STREAM:case Vx.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new BP(MP.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case Vx.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Vx.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new BP(MP.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case Vx.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new BP(MP.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Fx.WARNING,t,e.serverResponse.url)}case Vx.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new BP(MP.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Fx.WARNING,t,e.serverResponse.url)}case Vx.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Vx.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new BP(MP.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case Vx.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new BP(MP.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Fx.WARNING,t,e.serverResponse.url)}case Vx.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case Vx.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case Vx.LIVE_STREAM_RESPONSE_WORKER_LOST:case Vx.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Vx.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Vx.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Vx.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Vx.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Vx.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new BP(MP.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(bQ)}),6e3)}}function FY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FY(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class VY extends LP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:FP;super(),LR(this,"onLiveStreamWarning",void 0),LR(this,"onLiveStreamError",void 0),LR(this,"onInjectStatusChange",void 0),LR(this,"spec",void 0),LR(this,"retryTimeout",1e4),LR(this,"connection",void 0),LR(this,"httpRetryConfig",void 0),LR(this,"wsRetryConfig",void 0),LR(this,"streamingTasks",new Map),LR(this,"isStartingStreamingTask",!1),LR(this,"taskMutex",new mW("live-streaming")),LR(this,"cancelToken",DP.CancelToken.source()),LR(this,"transcodingConfig",void 0),LR(this,"injectConfig",UY({},Bx)),LR(this,"injectLoopTimes",0),LR(this,"uapResponse",void 0),LR(this,"lastTaskId",1),LR(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=UY(UY({},Mx),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(KP.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>UY(UY(UY({},xx),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){VD(e.width)||LD(e.width,"config.width",0,1e4),VD(e.height)||LD(e.height,"config.height",0,1e4),VD(e.videoBitrate)||LD(e.videoBitrate,"config.videoBitrate",1,1e6),VD(e.videoFrameRate)||LD(e.videoFrameRate,"config.videoFrameRate"),VD(e.lowLatency)||DD(e.lowLatency,"config.lowLatency"),VD(e.audioSampleRate)||xD(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),VD(e.audioBitrate)||LD(e.audioBitrate,"config.audioBitrate",1,128),VD(e.audioChannels)||xD(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),VD(e.videoGop)||LD(e.videoGop,"config.videoGop"),VD(e.videoCodecProfile)||xD(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),VD(e.userCount)||LD(e.userCount,"config.userCount",0,17),VD(e.backgroundColor)||LD(e.backgroundColor,"config.backgroundColor",0,16777215),VD(e.userConfigExtraInfo)||MD(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!VD(e.transcodingUsers)&&(BD(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach(((e,t)=>{UD(e.uid),VD(e.x)||LD(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),VD(e.y)||LD(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),VD(e.width)||LD(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),VD(e.height)||LD(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),VD(e.zOrder)||LD(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),VD(e.alpha)||LD(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),VD(e.watermark)||jx(e.watermark,"watermark"),VD(e.backgroundImage)||jx(e.backgroundImage,"backgroundImage"),e.images&&!VD(e.images)&&(BD(e.images,"config.images"),e.images.forEach(((e,t)=>{jx(e,"images[".concat(t,"]"))})))}(t);const n=[];t.images&&n.push(...t.images.map((e=>UY(UY(UY({},Lx),e),{},{zOrder:255})))),t.backgroundImage&&(n.push(UY(UY(UY({},Lx),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(n.push(UY(UY(UY({},Lx),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=n,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>UY({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const r=(t.userConfigs||[]).map((e=>"number"==typeof e.uid?iS.resolve(e.uid):CY(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await iS.all(r)).forEach(((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)})),this.transcodingConfig=t,this.connection)try{var o;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(MH(o=this.streamingTasks).call(o)).map((e=>e.taskId)).join("#")});KP.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{KP.warning("[".concat(this.spec.clientId,"] live streaming receive error"),e.toString(),"try to republish",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{KP.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((e=>{KP.error("[".concat(this.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,n){var r;if(Array.from(MH(r=this.streamingTasks).call(r)).find((e=>e.mode===kx.INJECT))&&t===kx.INJECT)return new BP(MP.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw();if(!this.transcodingConfig&&t===kx.TRANSCODE)throw new BP(MP.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");let o={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};KP.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const i=await this.taskMutex.lock();if(!this.connection&&n)return void i();if(this.streamingTasks.get(e)&&!n)return i(),new BP(MP.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw i(),e}switch(t){case kx.TRANSCODE:o.transcodingConfig=UY({},this.transcodingConfig);break;case kx.RAW:break;case kx.INJECT:o={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(o.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const a=this.lastTaskId++;try{const r=new iS(((t,r)=>{vQ(this.retryTimeout).then((()=>{if(n)return r(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),r(t)):void 0}))})),s=await iS.race([this.connection.request("request",{clientRequest:o},!0,{url:e,command:"PublishStream",workerType:t===kx.TRANSCODE?1:2,requestByUser:!n,tid:a.toString()}),r]);this.isStartingStreamingTask=!1,KP.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(s.code)),this.streamingTasks.set(e,{clientRequest:o,mode:t,url:e,taskId:a}),i()}catch(r){if(i(),this.isStartingStreamingTask=!1,!r.data||!r.data.retry||n)throw r;return r.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,r)):await this.startLiveStreamingTask(e,t,r)}}stopLiveStreamingTask(e){return new iS(((t,n)=>{const r=this.streamingTasks.get(e);if(!r||!this.connection)return new BP(MP.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const o=r.mode;r.abortTask=()=>{KP.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:o===kx.INJECT?"UninjectStream":"UnpublishStream",url:r.url}},!1,{url:e,command:"UnPublishStream",workerType:o===kx.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((n=>{KP.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&o!==kx.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),o===kx.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(Dx.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)})).catch(n)}))}async controlInjectStream(e,t,n,r){const o=this.streamingTasks.get(e);if(!o||!this.connection||o.mode!==kx.INJECT)throw new BP(MP.INVALID_OPERATION,"can not find inject stream task to control");return(await this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:r}})).serverResponse}resetAllTask(){var e;const t=Array.from(MH(e=this.streamingTasks).call(e));this.terminate();for(const n of t)this.startLiveStreamingTask(n.url,n.mode).catch((e=>{this.onLiveStreamError&&this.onLiveStreamError(n.url,e)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=DP.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new BP(MP.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await wQ(this,Ux.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new BY(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Fx.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(Fx.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(Fx.INJECT_STREAM_STATUS,(e=>this.handleInjectStreamServerStatus(e))),this.connection.on(Fx.REQUEST_NEW_ADDRESS,((t,n)=>{if(!this.connection)return n(new BP(MP.UNEXPECTED_ERROR,"can not get new live streaming address list"));wQ(this,Ux.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(n)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),r=e.reason;switch(e.code){case Vx.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Vx.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Vx.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Vx.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const r=new BP(MP.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return KP.error(r.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,r);if(!this.isStartingStreamingTask)return;this.statusError.set(t,r)}case Vx.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new BP(MP.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case Vx.LIVE_STREAM_RESPONSE_WORKER_LOST:case Vx.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var o;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(MH(o=this.streamingTasks).call(o));for(const n of t)n.abortTask?n.abortTask():(KP.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new BP(MP.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((()=>{KP.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)})).catch((e=>{KP.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(Dx.INJECT_STREAM_STATUS_START_SUCCESS,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(Dx.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(Dx.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(Dx.INJECT_STREAM_STATUS_BROKEN,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(Dx.INJECT_STREAM_STATUS_START_TIMEOUT,t,n),void this.streamingTasks.delete(n);default:return void KP.debug("inject stream server status",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class WY{constructor(){LR(this,"destChannelMediaInfos",new Map),LR(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){rL(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){rL(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){FD(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function HY(e){if(!(e instanceof WY))return new BP(MP.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new BP(MP.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new BP(MP.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}class QY extends LP{constructor(e,t,n){super(),LR(this,"ws",void 0),LR(this,"requestId",1),LR(this,"heartBeatTimer",void 0),LR(this,"joinInfo",void 0),LR(this,"clientId",void 0),LR(this,"onOpen",(()=>{this.emit("open"),this.startHeartBeatCheck()})),LR(this,"onClose",(e=>{this.emit("close"),this.dispose()})),LR(this,"onMessage",(e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new Yz("cross-channel-".concat(this.clientId),n),this.ws.on(Px.RECONNECTING,(()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")})),this.ws.on(Px.CONNECTED,this.onOpen),this.ws.on(Px.ON_MESSAGE,this.onMessage),this.ws.on(Px.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new iS(((t,n)=>{const r=window.setTimeout((()=>{n(new BP(MP.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);this.once(e,(o=>{window.clearTimeout(r),o.state&&0!==o.state?n(new BP(MP.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)})),this.once("dispose",(()=>{window.clearTimeout(r),n(new BP(MP.WS_ABORT))}))}))}async request(e){if("closed"===this.ws.state)throw new BP(MP.WS_DISCONNECT);const t=()=>new iS(((e,t)=>{this.ws.once(Px.CLOSED,(()=>t(new BP(MP.WS_ABORT)))),this.ws.once(Px.CONNECTED,e)}));"connected"!==this.ws.state&&await t();const n=this.sendMessage(e),r=new iS(((e,t)=>{const r=()=>{t(new BP(MP.WS_ABORT))};this.ws.once(Px.RECONNECTING,r),this.ws.once(Px.CLOSED,r),this.once("req_".concat(n),e),vQ(3e3).then((()=>{this.removeAllListeners("req_".concat(n)),this.ws.off(Px.RECONNECTING,r),this.ws.off(Px.CLOSED,r),t(new BP(MP.TIMEOUT,"cross channel ws request timeout"))}))})),o=await r;if(!o||200!==o.code)throw new BP(MP.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(o)));return o}async connect(e){this.ws.removeAllListeners(Px.REQUEST_NEW_URLS),this.ws.on(Px.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class GY extends LP{set state(e){e!==this._state&&(e!==Gx.RELAY_STATE_FAILURE&&(this.errorCode=Kx.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,r){super(),LR(this,"joinInfo",void 0),LR(this,"clientId",void 0),LR(this,"cancelToken",DP.CancelToken.source()),LR(this,"workerToken",void 0),LR(this,"requestId",0),LR(this,"signal",void 0),LR(this,"prevChannelMediaConfig",void 0),LR(this,"httpRetryConfig",void 0),LR(this,"_state",Gx.RELAY_STATE_IDLE),LR(this,"errorCode",Kx.RELAY_OK),LR(this,"onStatus",(e=>{KP.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",Qx.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",Qx.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=Kx.SRC_TOKEN_EXPIRED,this.state=Gx.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=Kx.DEST_TOKEN_EXPIRED,this.state=Gx.RELAY_STATE_FAILURE))})),LR(this,"onReconnect",(async()=>{KP.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",Qx.NETWORK_DISCONNECTED),this.state=Gx.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==Gx.RELAY_STATE_IDLE&&(KP.error("auto restart channel media relay failed",e.toString()),this.errorCode=Kx.SERVER_CONNECTION_LOST,this.state=Gx.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.signal=new QY(this.joinInfo,this.clientId,n),this.httpRetryConfig=r}async startChannelMediaRelay(e){if(this.state!==Gx.RELAY_STATE_IDLE)throw new BP(MP.INVALID_OPERATION);this.state=Gx.RELAY_STATE_CONNECTING,await this.connect(),KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&"SetSourceChannel"===e.data.serverResponse.command)throw new BP(MP.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&"SetDestChannelStatus"===e.serverResponse.command)throw new BP(MP.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&"StartPacketTransfer"===e.serverResponse.command)throw new BP(MP.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==Gx.RELAY_STATE_RUNNING)throw new BP(MP.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),KP.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=Gx.RELAY_STATE_IDLE,this.dispose()}dispose(){KP.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=DP.CancelToken.source(),this.state=Gx.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await NY(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",Qx.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(Hx.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(Hx.SetSdkProfile,e);await this.signal.request(n),KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const r=this.genMessage(Hx.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",Qx.PACKET_JOINED_SRC_CHANNEL),KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const o=this.genMessage(Hx.SetSourceUserId,e);await this.signal.request(o),KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const i=this.genMessage(Hx.SetDestChannel,e);await this.signal.request(i),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",Qx.PACKET_JOINED_DEST_CHANNEL),KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const a=this.genMessage(Hx.StartPacketTransfer,e);await this.signal.request(a),this.emit("event",Qx.PACKET_SENT_TO_DEST_CHANNEL),this.state=Gx.RELAY_STATE_RUNNING,KP.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success"))}async sendUpdateMessage(e){const t=this.genMessage(Hx.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",Qx.PACKET_UPDATE_DEST_CHANNEL),KP.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage(Hx.StopPacketTransfer);await this.signal.request(e),KP.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],r=[],o=[];this.requestId+=1;const i={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:Ak,sid:this.joinInfo.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.13.0"===i.sdkVersion&&(i.sdkVersion="0.0.1");let a=null,s=null;switch(e){case Hx.SetSdkProfile:return i.clientRequest={command:"SetSdkProfile",type:"multi_channel"},i;case Hx.SetSourceChannel:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new BP(MP.UNEXPECTED_ERROR,"can not find source config");return i.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},i;case Hx.SetSourceUserId:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new BP(MP.UNEXPECTED_ERROR,"can not find source config");return i.clientRequest={command:"SetSourceUserId",uid:s.uid+""},i;case Hx.SetDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new BP(MP.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),o.push(e.token||this.joinInfo.appId)})),i.clientRequest={command:"SetDestChannel",channelName:n,uid:r,token:o},i;case Hx.StartPacketTransfer:return i.clientRequest={command:"StartPacketTransfer"},i;case Hx.Reconnect:return i.clientRequest={command:"Reconnect"},i;case Hx.StopPacketTransfer:return i.clientRequest={command:"StopPacketTransfer"},i;case Hx.UpdateDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new BP(MP.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),o.push(e.token||this.joinInfo.appId)})),i.clientRequest={command:"UpdateDestChannel",channelName:n,uid:r,token:o},i}return i}}const KY=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new iS(((n,r)=>{t.toBlob((async e=>{if(t.remove(),e){const r=await qY(e);n({buffer:r,width:t.width,height:t.height})}else r(new BP(MP.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},qY=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var zY;let YY=vk("AgoraRTCPlayer","trackId")(zY=class{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(KP.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),fk("debug",["HTMLVideoElement",this.trackId],"statusChange","".concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}constructor(e){LR(this,"trackId",void 0),LR(this,"config",void 0),LR(this,"onFirstVideoFrameDecoded",void 0),LR(this,"freezeTimeCounterList",[]),LR(this,"timeUpdatedCount",0),LR(this,"freezeTime",0),LR(this,"playbackTime",0),LR(this,"lastTimeUpdatedTime",0),LR(this,"videoTrack",void 0),LR(this,"container",void 0),LR(this,"videoElement",void 0),LR(this,"videoElementCheckInterval",void 0),LR(this,"_videoElementStatus",qD.NONE),LR(this,"slot",void 0),LR(this,"isGettingVideoDimensions",!1),LR(this,"handleVideoEvents",(e=>{switch(e.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=qD.PLAYING;break;case"loadeddata":this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded();break;case"canplay":this.videoElementStatus=qD.CANPLAY;break;case"stalled":this.videoElementStatus=qD.STALLED;break;case"suspend":this.videoElementStatus=qD.SUSPEND;break;case"pause":this.videoElementStatus=qD.PAUSED,!mR()&&!wR()&&this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),uk("debug",this,"video element paused, auto resume"),this.videoElement.play());break;case"waiting":this.videoElementStatus=qD.WAITING;break;case"abort":this.videoElementStatus=qD.ABORT;break;case"ended":this.videoElementStatus=qD.ENDED;break;case"emptied":this.videoElementStatus=qD.EMPTIED;break;case"timeupdate":{const e=Date.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime;for(this.lastTimeUpdatedTime=e,t>500&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;)this.playbackTime-=6e3,this.freezeTimeCounterList.push(Math.min(6e3,this.freezeTime)),this.freezeTime=Math.max(0,this.freezeTime-6e3);break}}})),LR(this,"startGetVideoDimensions",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement&&this.videoElement.videoWidth*this.videoElement.videoHeight>4)return KP.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),pk("debug",this,"startGetVideoDimensions",{videoWidth:this.videoElement.videoWidth,videoHeight:this.videoElement.videoHeight}),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),LR(this,"autoResumeAfterInterruption",(()=>{this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===IW.curState&&(_R()?(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.2")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):ER()?(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.1")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):bR()&&(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.0")),this.videoElement.pause(),this.videoElement.play()))})),LR(this,"autoResumeAfterInterruptionOnIOS15",(()=>{this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&(_R()?(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.2")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):ER()?(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.1")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):bR()&&(KP.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.0")),this.videoElement.pause(),this.videoElement.play()))})),this.slot=e.element,this.trackId=e.trackId,this.updateConfig(e),IW.on(pW.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),IW.on(pW.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){if(this.videoElement){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&dW.autoplayFailed(e,"video",t.message,this.trackId),pk("warning",this,"play",t.toString(),"error"),"NotAllowedError"===t.name?(KP.warning("detected video element autoplay failed",t),this.handleAutoPlayFailed()):KP.warning("[".concat(this.trackId,"] play warning: "),t)}));const n=aR();if(("Safari"===n.name&&15===Number(n.version)||AR())&&t&&t.then&&t.catch){const e=()=>{this.config.mirror&&this.videoElement&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}}getCurrentFrame(){if(!this.videoElement)return new ImageData(2,2);const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return KP.error("create canvas context failed!"),pk("error",this,"getCurrentFrame","create canvas context failed!","error"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.videoElement)return await KY(e);const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const r=n.getContext("2d");return r?(r.drawImage(this.videoElement,0,0,n.width,n.height),new iS(((r,o)=>{n.toBlob((async e=>{if(n.remove(),e){const t=await qY(e);r({buffer:t,width:n.width,height:n.height})}else o(new BP(MP.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await KY(e)}destroy(){if(IW.off(pW.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),IW.off(pW.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement.remove(),this.videoElement=void 0),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}this.freezeTimeCounterList=[]}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",this.createVideoElement(),this.container.appendChild(this.videoElement)):this.removeVideoElement(),this.slot.appendChild(this.container)}createVideoElement(){this.videoElement||(this.videoElementStatus=qD.INIT,this.videoElement=document.createElement("video"),this.videoElement.onerror=()=>this.videoElementStatus=qD.ERROR,this.container&&this.container.appendChild(this.videoElement),JY.forEach((e=>{this.videoElement&&this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{!document.getElementById("video_".concat(this.trackId))&&this.videoElement&&(this.videoElementStatus=qD.DESTROYED)}),1e3)),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),this.videoElement.style.left="0",this.videoElement.style.top="0";const e=aR();"Safari"===e.name&&15===Number(e.version)||AR()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,vR()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,vR()&&this.videoElement.load());const t=this.videoElement.play();void 0!==t&&t.catch((e=>{KP.debug("[".concat(this.trackId,"] playback interrupted"),e.toString()),uk("debug",this,"play back interrupted: ".concat(e.toString()))}))}removeVideoElement(){if(this.videoElement){JY.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0);try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=void 0,this.videoElementStatus=qD.NONE}}handleAutoPlayFailed(){const e=aR();if(this.videoElement){const t=n=>{n.preventDefault(),this.videoElement&&(this.videoElement.play().then((()=>{KP.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed.")),uk("debug",this,"video element autoplay resumed")})).catch((e=>{KP.error(e)})),"Android"!==e.os||"Chrome"!==e.name&&e.name!==nR.WECHAT?(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0)):document.body.removeEventListener("click",t,!0))};"Android"!==e.os||"Chrome"!==e.name&&e.name!==nR.WECHAT?(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)):document.body.addEventListener("click",t,!0),nW()}}getVideoElement(){return this.videoElement}getContainerElement(){return this.container}})||zY;const JY=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate"];var XY,ZY={exports:{}};function $Y(e,t,n){const r=e.createShader(n);if(!r)return new BP(MP.WEBGL_INTERNAL_ERROR,"can not create shader").throw();if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);return e.deleteShader(r),new BP(MP.WEBGL_INTERNAL_ERROR,"error compiling shader:"+t).throw()}return r}function eJ(e,t,n,r){const o=[];for(let i=0;i<t.length;++i){const n=0===i?e.VERTEX_SHADER:e.FRAGMENT_SHADER;o.push($Y(e,t[i],n))}return function(e,t,n,r){const o=e.createProgram();if(!o)throw new BP(MP.WEBGL_INTERNAL_ERROR,"can not create webgl program");if(t.forEach((t=>{e.attachShader(o,t)})),n&&n.forEach(((t,n)=>{e.bindAttribLocation(o,r?r[n]:n,t)})),e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){const t=e.getProgramInfoLog(o);throw e.deleteProgram(o),new BP(MP.WEBGL_INTERNAL_ERROR,"error in program linking:"+t)}return o}(e,o,n,r)}!function(e,t){self,e.exports=(()=>{var e={3476:(e,t,n)=>{e.exports=n(7460)},4341:(e,t,n)=>{e.exports=n(3685)},3536:(e,t,n)=>{var r=n(1910);e.exports=r},8171:(e,t,n)=>{n(6450);var r=n(4058).Object,o=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(o.sham=!0)},2956:(e,t,n)=>{n(7627),n(6274),n(5967),n(8881),n(4560),n(7206),n(4349),n(7971);var r=n(4058);e.exports=r.Promise},3685:(e,t,n)=>{var r=n(3536);e.exports=r},4883:(e,t,n)=>{var r=n(1899),o=n(7475),i=n(9826),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},174:(e,t,n)=>{var r=n(1899),o=n(4284),i=n(9826),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a constructor")}},1851:(e,t,n)=>{var r=n(1899),o=n(7475),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},8479:e=>{e.exports=function(){}},5743:(e,t,n)=>{var r=n(1899),o=n(7046),i=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw i("Incorrect invocation")}},6059:(e,t,n)=>{var r=n(1899),o=n(941),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},1692:(e,t,n)=>{var r=n(4529),o=n(9413),i=n(623),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c),l=o(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3765:(e,t,n)=>{var r=n(5329);e.exports=r([].slice)},1385:(e,t,n)=>{var r=n(9813)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},2532:(e,t,n)=>{var r=n(5329),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},9697:(e,t,n)=>{var r=n(1899),o=n(2885),i=n(7475),a=n(2532),s=n(9813)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},8694:(e,t,n)=>{var r=n(5329)("".replace),o=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(o);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,i,"");return e}},3489:(e,t,n)=>{var r=n(953),o=n(1136),i=n(9677),a=n(5988);e.exports=function(e,t,n){for(var s=o(t),c=a.f,u=i.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},4160:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:(e,t,n)=>{var r=n(5143).IteratorPrototype,o=n(9290),i=n(1887),a=n(904),s=n(2077),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},2029:(e,t,n)=>{var r=n(5746),o=n(5988),i=n(1887);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7771:(e,t,n)=>{var r=n(6887),o=n(8834),i=n(2529),a=n(9417),s=n(7475),c=n(1046),u=n(249),l=n(8929),d=n(904),f=n(2029),p=n(9754),h=n(9813),g=n(2077),v=n(5143),m=a.PROPER,y=a.CONFIGURABLE,A=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,E=h("iterator"),_="keys",w="values",S="entries",C=function(){return this};e.exports=function(e,t,n,a,h,v,I){c(n,t,a);var O,T,R,N=function(e){if(e===h&&L)return L;if(!b&&e in D)return D[e];switch(e){case _:case w:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",k=!1,D=e.prototype,x=D[E]||D["@@iterator"]||h&&D[h],L=!b&&x||N(h),j="Array"==t&&D.entries||x;if(j&&(O=u(j.call(new e)))!==Object.prototype&&O.next&&(i||u(O)===A||(l?l(O,A):s(O[E])||p(O,E,C)),d(O,P,!0,!0),i&&(g[P]=C)),m&&h==w&&x&&x.name!==w&&(!i&&y?f(D,"name",w):(k=!0,L=function(){return o(x,this)})),h)if(T={values:N(w),keys:v?L:N(_),entries:N(S)},I)for(R in T)(b||k||!(R in D))&&p(D,R,T[R]);else r({target:t,proto:!0,forced:b||k},T);return i&&!I||D[E]===L||p(D,E,L,{name:h}),g[t]=L,T}},5746:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:(e,t,n)=>{var r=n(1899),o=n(941),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},3281:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:e=>{e.exports="object"==typeof window},4470:(e,t,n)=>{var r=n(2861),o=n(1899);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},2749:(e,t,n)=>{var r=n(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6049:(e,t,n)=>{var r=n(2532),o=n(1899);e.exports="process"==r(o.process)},8045:(e,t,n)=>{var r=n(2861);e.exports=/web0s(?!.*chrome)/i.test(r)},2861:(e,t,n)=>{var r=n(626);e.exports=r("navigator","userAgent")||""},3385:(e,t,n)=>{var r,o,i=n(1899),a=n(2861),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:(e,t,n)=>{var r=n(5981),o=n(1887);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},6887:(e,t,n)=>{var r=n(1899),o=n(9730),i=n(5329),a=n(7475),s=n(9677).f,c=n(7252),u=n(4058),l=n(6843),d=n(2029),f=n(953),p=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,o,h,g,v,m,y,A,b=e.target,E=e.global,_=e.stat,w=e.proto,S=E?r:_?r[b]:(r[b]||{}).prototype,C=E?u:u[b]||d(u,b,{})[b],I=C.prototype;for(h in t)n=!c(E?h:b+(_?".":"#")+h,e.forced)&&S&&f(S,h),v=C[h],n&&(m=e.noTargetGet?(A=s(S,h))&&A.value:S[h]),g=n&&m?m:t[h],n&&typeof v==typeof g||(y=e.bind&&n?l(g,r):e.wrap&&n?p(g):w&&a(g)?i(g):g,(e.sham||g&&g.sham||v&&v.sham)&&d(y,"sham",!0),d(C,h,y),w&&(f(u,o=b+"Prototype")||d(u,o,{}),d(u[o],h,g),e.real&&I&&!I[h]&&d(I,h,g)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9730:(e,t,n)=>{var r=n(8285),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},6843:(e,t,n)=>{var r=n(5329),o=n(4883),i=n(8285),a=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8834:(e,t,n)=>{var r=n(8285),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},9417:(e,t,n)=>{var r=n(5746),o=n(953),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},5329:(e,t,n)=>{var r=n(8285),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},626:(e,t,n)=>{var r=n(4058),o=n(1899),i=n(7475),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},2902:(e,t,n)=>{var r=n(9697),o=n(4229),i=n(2077),a=n(9813)("iterator");e.exports=function(e){if(null!=e)return o(e,a)||o(e,"@@iterator")||i[r(e)]}},429:(e,t,n)=>{var r=n(1899),o=n(8834),i=n(4883),a=n(6059),s=n(9826),c=n(2902),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(i(n))return a(o(n,e));throw u(s(e)+" is not iterable")}},4229:(e,t,n)=>{var r=n(4883);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},1899:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},953:(e,t,n)=>{var r=n(5329),o=n(9678),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},7748:e=>{e.exports={}},4845:(e,t,n)=>{var r=n(1899);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},5463:(e,t,n)=>{var r=n(626);e.exports=r("document","documentElement")},2840:(e,t,n)=>{var r=n(5746),o=n(5981),i=n(1333);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,n)=>{var r=n(1899),o=n(5329),i=n(5981),a=n(2532),s=r.Object,c=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},1302:(e,t,n)=>{var r=n(5329),o=n(7475),i=n(3030),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},3794:(e,t,n)=>{var r=n(941),o=n(2029);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},5402:(e,t,n)=>{var r,o,i,a=n(8019),s=n(1899),c=n(5329),u=n(941),l=n(2029),d=n(953),f=n(3030),p=n(4262),h=n(7748),g="Object already initialized",v=s.TypeError,m=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new m),A=c(y.get),b=c(y.has),E=c(y.set);r=function(e,t){if(b(y,e))throw new v(g);return t.facade=e,E(y,e,t),t},o=function(e){return A(y,e)||{}},i=function(e){return b(y,e)}}else{var _=p("state");h[_]=!0,r=function(e,t){if(d(e,_))throw new v(g);return t.facade=e,l(e,_,t),t},o=function(e){return d(e,_)?e[_]:{}},i=function(e){return d(e,_)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},6782:(e,t,n)=>{var r=n(9813),o=n(2077),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},7475:e=>{e.exports=function(e){return"function"==typeof e}},4284:(e,t,n)=>{var r=n(5329),o=n(5981),i=n(7475),a=n(9697),s=n(626),c=n(1302),u=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.exec(u),g=function(e){if(!i(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},v=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!d||o((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},7252:(e,t,n)=>{var r=n(5981),o=n(7475),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},941:(e,t,n)=>{var r=n(7475);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},2529:e=>{e.exports=!0},6664:(e,t,n)=>{var r=n(1899),o=n(626),i=n(7475),a=n(7046),s=n(2302),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},3091:(e,t,n)=>{var r=n(1899),o=n(6843),i=n(8834),a=n(6059),s=n(9826),c=n(6782),u=n(623),l=n(7046),d=n(429),f=n(2902),p=n(7609),h=r.TypeError,g=function(e,t){this.stopped=e,this.result=t},v=g.prototype;e.exports=function(e,t,n){var r,m,y,A,b,E,_,w=n&&n.that,S=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),O=o(t,w),T=function(e){return r&&p(r,"normal",e),new g(!0,e)},R=function(e){return S?(a(e),I?O(e[0],e[1],T):O(e[0],e[1])):I?O(e,T):O(e)};if(C)r=e;else{if(!(m=f(e)))throw h(s(e)+" is not iterable");if(c(m)){for(y=0,A=u(e);A>y;y++)if((b=R(e[y]))&&l(v,b))return b;return new g(!1)}r=d(e,m)}for(E=r.next;!(_=i(E,r)).done;){try{b=R(_.value)}catch(e){p(r,"throw",e)}if("object"==typeof b&&b&&l(v,b))return b}return new g(!1)}},7609:(e,t,n)=>{var r=n(8834),o=n(6059),i=n(4229);e.exports=function(e,t,n){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return o(a),n}},5143:(e,t,n)=>{var r,o,i,a=n(5981),s=n(7475),c=n(9290),u=n(249),l=n(9754),d=n(9813),f=n(2529),p=d("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},2077:e=>{e.exports={}},623:(e,t,n)=>{var r=n(3057);e.exports=function(e){return r(e.length)}},6132:(e,t,n)=>{var r,o,i,a,s,c,u,l,d=n(1899),f=n(6843),p=n(9677).f,h=n(2941).set,g=n(2749),v=n(4470),m=n(8045),y=n(6049),A=d.MutationObserver||d.WebKitMutationObserver,b=d.document,E=d.process,_=d.Promise,w=p(d,"queueMicrotask"),S=w&&w.value;S||(r=function(){var e,t;for(y&&(e=E.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},g||y||m||!A||!b?!v&&_&&_.resolve?((u=_.resolve(void 0)).constructor=_,l=f(u.then,u),a=function(){l(r)}):y?a=function(){E.nextTick(r)}:(h=f(h,d),a=function(){h(r)}):(s=!0,c=b.createTextNode(""),new A(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},9297:(e,t,n)=>{var r=n(1899);e.exports=r.Promise},2497:(e,t,n)=>{var r=n(3385),o=n(5981);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8019:(e,t,n)=>{var r=n(1899),o=n(7475),i=n(1302),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},9520:(e,t,n)=>{var r=n(4883),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},4649:(e,t,n)=>{var r=n(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},9290:(e,t,n)=>{var r,o=n(6059),i=n(9938),a=n(6759),s=n(7748),c=n(5463),u=n(1333),l=n(4262)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[l]=e):n=h(),void 0===t?n:i.f(n,t)}},9938:(e,t,n)=>{var r=n(5746),o=n(3937),i=n(5988),a=n(6059),s=n(4529),c=n(4771);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=c(t),u=o.length,l=0;u>l;)i.f(e,n=o[l++],r[n]);return e}},5988:(e,t,n)=>{var r=n(1899),o=n(5746),i=n(2840),a=n(3937),s=n(6059),c=n(3894),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=o?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},9677:(e,t,n)=>{var r=n(5746),o=n(8834),i=n(6760),a=n(1887),s=n(4529),c=n(3894),u=n(953),l=n(2840),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},946:(e,t,n)=>{var r=n(5629),o=n(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},249:(e,t,n)=>{var r=n(1899),o=n(953),i=n(7475),a=n(9678),s=n(4262),c=n(4160),u=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(o(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7046:(e,t,n)=>{var r=n(5329);e.exports=r({}.isPrototypeOf)},5629:(e,t,n)=>{var r=n(5329),o=n(953),i=n(4529),a=n(1692).indexOf,s=n(7748),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},4771:(e,t,n)=>{var r=n(5629),o=n(6759);e.exports=Object.keys||function(e){return r(e,o)}},6760:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8929:(e,t,n)=>{var r=n(5329),o=n(6059),i=n(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},5623:(e,t,n)=>{var r=n(2885),o=n(9697);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},9811:(e,t,n)=>{var r=n(1899),o=n(8834),i=n(7475),a=n(941),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw s("Can't convert object to primitive value")}},1136:(e,t,n)=>{var r=n(626),o=n(5329),i=n(946),a=n(7857),s=n(6059),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},4058:e=>{e.exports={}},2:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},6584:(e,t,n)=>{var r=n(6059),o=n(941),i=n(9520);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},8397:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7524:(e,t,n)=>{var r=n(9754);e.exports=function(e,t,n){for(var o in t)n&&n.unsafe&&e[o]?e[o]=t[o]:r(e,o,t[o],n);return e}},9754:(e,t,n)=>{var r=n(2029);e.exports=function(e,t,n,o){o&&o.enumerable?e[t]=n:r(e,t,n)}},8219:(e,t,n)=>{var r=n(1899).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},4911:(e,t,n)=>{var r=n(1899),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4431:(e,t,n)=>{var r=n(626),o=n(5988),i=n(9813),a=n(5746),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},904:(e,t,n)=>{var r=n(2885),o=n(5988).f,i=n(2029),a=n(953),s=n(5623),c=n(9813)("toStringTag");e.exports=function(e,t,n,u){if(e){var l=n?e:e.prototype;a(l,c)||o(l,c,{configurable:!0,value:t}),u&&!r&&i(l,"toString",s)}}},4262:(e,t,n)=>{var r=n(8726),o=n(9418),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},3030:(e,t,n)=>{var r=n(1899),o=n(4911),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},8726:(e,t,n)=>{var r=n(2529),o=n(3030);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(e,t,n)=>{var r=n(6059),o=n(174),i=n(9813)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},4620:(e,t,n)=>{var r=n(5329),o=n(2435),i=n(5803),a=n(8219),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=i(a(t)),f=o(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=c(d,f))<55296||r>56319||f+1===p||(l=c(d,f+1))<56320||l>57343?e?s(d,f):r:e?u(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},2941:(e,t,n)=>{var r,o,i,a,s=n(1899),c=n(9730),u=n(6843),l=n(7475),d=n(953),f=n(5981),p=n(5463),h=n(3765),g=n(1333),v=n(2749),m=n(6049),y=s.setImmediate,A=s.clearImmediate,b=s.process,E=s.Dispatch,_=s.Function,w=s.MessageChannel,S=s.String,C=0,I={};try{r=s.location}catch(e){}var O=function(e){if(d(I,e)){var t=I[e];delete I[e],t()}},T=function(e){return function(){O(e)}},R=function(e){O(e.data)},N=function(e){s.postMessage(S(e),r.protocol+"//"+r.host)};y&&A||(y=function(e){var t=h(arguments,1);return I[++C]=function(){c(l(e)?e:_(e),void 0,t)},o(C),C},A=function(e){delete I[e]},m?o=function(e){b.nextTick(T(e))}:E&&E.now?o=function(e){E.now(T(e))}:w&&!v?(a=(i=new w).port2,i.port1.onmessage=R,o=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(N)?(o=N,s.addEventListener("message",R,!1)):o="onreadystatechange"in g("script")?function(e){p.appendChild(g("script")).onreadystatechange=function(){p.removeChild(this),O(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:y,clear:A}},9413:(e,t,n)=>{var r=n(2435),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},4529:(e,t,n)=>{var r=n(7026),o=n(8219);e.exports=function(e){return r(o(e))}},2435:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},3057:(e,t,n)=>{var r=n(2435),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},9678:(e,t,n)=>{var r=n(1899),o=n(8219),i=r.Object;e.exports=function(e){return i(o(e))}},6935:(e,t,n)=>{var r=n(1899),o=n(8834),i=n(941),a=n(6664),s=n(4229),c=n(9811),u=n(9813),l=r.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},3894:(e,t,n)=>{var r=n(6935),o=n(6664);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},2885:(e,t,n)=>{var r={};r[n(9813)("toStringTag")]="z",e.exports="[object z]"===String(r)},5803:(e,t,n)=>{var r=n(1899),o=n(9697),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},9826:(e,t,n)=>{var r=n(1899).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9418:(e,t,n)=>{var r=n(5329),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},2302:(e,t,n)=>{var r=n(2497);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,n)=>{var r=n(5746),o=n(5981);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9813:(e,t,n)=>{var r=n(1899),o=n(8726),i=n(953),a=n(9418),s=n(2497),c=n(2302),u=o("wks"),l=r.Symbol,d=l&&l.for,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):f(t)}return u[e]}},7627:(e,t,n)=>{var r=n(6887),o=n(1899),i=n(7046),a=n(249),s=n(8929),c=n(3489),u=n(9290),l=n(2029),d=n(1887),f=n(8694),p=n(3794),h=n(3091),g=n(4649),v=n(9813),m=n(8780),y=v("toStringTag"),A=o.Error,b=[].push,E=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,o=i(_,this);s?n=s(new A,o?a(this):_):(n=o?this:u(_),l(n,y,"Error")),void 0!==t&&l(n,"message",g(t)),m&&l(n,"stack",f(n.stack,1)),p(n,r);var c=[];return h(e,b,{that:c}),l(n,"errors",c),n};s?s(E,A):c(E,A,{name:!0});var _=E.prototype=u(A.prototype,{constructor:d(1,E),message:d(1,""),name:d(1,"AggregateError")});r({global:!0},{AggregateError:E})},6274:(e,t,n)=>{var r=n(4529),o=n(8479),i=n(2077),a=n(5402),s=n(5988).f,c=n(7771),u=n(2529),l=n(5746),d="Array Iterator",f=a.set,p=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},6450:(e,t,n)=>{var r=n(6887),o=n(5746),i=n(5988).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},5967:()=>{},4560:(e,t,n)=>{var r=n(6887),o=n(8834),i=n(4883),a=n(9520),s=n(2),c=n(3091);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=i(t.resolve),a=[],s=0,u=1;c(e,(function(e){var i=s++,c=!1;u++,o(n,t,e).then((function(e){c||(c=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){c||(c=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},7206:(e,t,n)=>{var r=n(6887),o=n(4883),i=n(626),a=n(8834),s=n(9520),c=n(2),u=n(3091),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=i("AggregateError"),r=s.f(t),d=r.resolve,f=r.reject,p=c((function(){var r=o(t.resolve),i=[],s=0,c=1,p=!1;u(e,(function(e){var o=s++,u=!1;c++,a(r,t,e).then((function(e){u||p||(p=!0,d(e))}),(function(e){u||p||(u=!0,i[o]=e,--c||f(new n(i,l)))}))})),--c||f(new n(i,l))}));return p.error&&f(p.value),r.promise}})},4349:(e,t,n)=>{var r=n(6887),o=n(2529),i=n(9297),a=n(5981),s=n(626),c=n(7475),u=n(487),l=n(6584),d=n(9754);if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!o&&c(i)){var f=s("Promise").prototype.finally;i.prototype.finally!==f&&d(i.prototype,"finally",f,{unsafe:!0})}},8881:(e,t,n)=>{var r,o,i,a,s=n(6887),c=n(2529),u=n(1899),l=n(626),d=n(8834),f=n(9297),p=n(9754),h=n(7524),g=n(8929),v=n(904),m=n(4431),y=n(4883),A=n(7475),b=n(941),E=n(5743),_=n(1302),w=n(3091),S=n(1385),C=n(487),I=n(2941).set,O=n(6132),T=n(6584),R=n(4845),N=n(9520),P=n(2),k=n(8397),D=n(5402),x=n(7252),L=n(9813),j=n(3321),M=n(6049),B=n(3385),F=L("species"),U="Promise",V=D.getterFor(U),W=D.set,H=D.getterFor(U),Q=f&&f.prototype,G=f,K=Q,q=u.TypeError,z=u.document,Y=u.process,J=N.f,X=J,Z=!!(z&&z.createEvent&&u.dispatchEvent),$=A(u.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=x(U,(function(){var e=_(G),t=e!==String(G);if(!t&&66===B)return!0;if(c&&!K.finally)return!0;if(B>=51&&/native code/.test(e))return!1;var n=new G((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[F]=r,!(te=n.then((function(){}))instanceof r)||!t&&j&&!$})),re=ne||!S((function(e){G.all(e).catch((function(){}))})),oe=function(e){var t;return!(!b(e)||!A(t=e.then))&&t},ie=function(e,t){var n,r,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&le(t),t.rejection=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),o=!0)),n===e.promise?u(q("Promise-chain cycle")):(r=oe(n))?d(r,n,c,u):c(n)):u(i)}catch(e){l&&!o&&l.exit(),u(e)}},ae=function(e,t){e.notified||(e.notified=!0,O((function(){for(var n,r=e.reactions;n=r.get();)ie(n,e);e.notified=!1,t&&!e.rejection&&ce(e)})))},se=function(e,t,n){var r,o;Z?((r=z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!$&&(o=u["on"+e])?o(r):e===ee&&R("Unhandled promise rejection",n)},ce=function(e){d(I,u,(function(){var t,n=e.facade,r=e.value;if(ue(e)&&(t=P((function(){M?Y.emit("unhandledRejection",r,n):se(ee,n,r)})),e.rejection=M||ue(e)?2:1,t.error))throw t.value}))},ue=function(e){return 1!==e.rejection&&!e.parent},le=function(e){d(I,u,(function(){var t=e.facade;M?Y.emit("rejectionHandled",t):se("rejectionhandled",t,e.value)}))},de=function(e,t,n){return function(r){e(t,r,n)}},fe=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ae(e,!0))},pe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw q("Promise can't be resolved itself");var r=oe(t);r?O((function(){var n={done:!1};try{d(r,t,de(pe,n,e),de(fe,n,e))}catch(t){fe(n,t,e)}})):(e.value=t,e.state=1,ae(e,!1))}catch(t){fe({done:!1},t,e)}}};if(ne&&(K=(G=function(e){E(this,K),y(e),d(r,this);var t=V(this);try{e(de(pe,t),de(fe,t))}catch(e){fe(t,e)}}).prototype,(r=function(e){W(this,{type:U,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=h(K,{then:function(e,t){var n=H(this),r=J(C(this,G));return n.parent=!0,r.ok=!A(e)||e,r.fail=A(t)&&t,r.domain=M?Y.domain:void 0,0==n.state?n.reactions.add(r):O((function(){ie(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=V(e);this.promise=e,this.resolve=de(pe,t),this.reject=de(fe,t)},N.f=J=function(e){return e===G||e===i?new o(e):X(e)},!c&&A(f)&&Q!==Object.prototype)){a=Q.then,te||(p(Q,"then",(function(e,t){var n=this;return new G((function(e,t){d(a,n,e,t)})).then(e,t)}),{unsafe:!0}),p(Q,"catch",K.catch,{unsafe:!0}));try{delete Q.constructor}catch(e){}g&&g(Q,K)}s({global:!0,wrap:!0,forced:ne},{Promise:G}),v(G,U,!1,!0),m(U),i=l(U),s({target:U,stat:!0,forced:ne},{reject:function(e){var t=J(this);return d(t.reject,void 0,e),t.promise}}),s({target:U,stat:!0,forced:c||ne},{resolve:function(e){return T(c&&this===i?G:this,e)}}),s({target:U,stat:!0,forced:re},{all:function(e){var t=this,n=J(t),r=n.resolve,o=n.reject,i=P((function(){var n=y(t.resolve),i=[],a=0,s=1;w(e,(function(e){var c=a++,u=!1;s++,d(n,t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=J(t),r=n.reject,o=P((function(){var o=y(t.resolve);w(e,(function(e){d(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},7971:(e,t,n)=>{var r=n(4620).charAt,o=n(5803),i=n(5402),a=n(7771),s="String Iterator",c=i.set,u=i.getterFor(s);a(String,"String",(function(e){c(this,{type:s,string:o(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},7634:(e,t,n)=>{n(6274);var r=n(3281),o=n(1899),i=n(9697),a=n(2029),s=n(2077),c=n(9813)("toStringTag");for(var u in r){var l=o[u],d=l&&l.prototype;d&&i(d)!==c&&a(d,c,u),s[u]=s.Array}},1910:(e,t,n)=>{var r=n(8171);e.exports=r},7460:(e,t,n)=>{var r=n(2956);n(7634),e.exports=r},9662:(e,t,n)=>{var r=n(7854),o=n(614),i=n(6330),a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not a function")}},6077:(e,t,n)=>{var r=n(7854),o=n(614),i=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),o=n(30),i=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,n)=>{var r=n(7854),o=n(111),i=r.String,a=r.TypeError;e.exports=function(e){if(o(e))return e;throw a(i(e)+" is not an object")}},1318:(e,t,n)=>{var r=n(5656),o=n(1400),i=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c),l=o(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:(e,t,n)=>{var r=n(1702),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:(e,t,n)=>{var r=n(7854),o=n(1694),i=n(614),a=n(4326),s=n(5112)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=o?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},7741:(e,t,n)=>{var r=n(1702)("".replace),o=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,a=i.test(o);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,i,"");return e}},9920:(e,t,n)=>{var r=n(2597),o=n(3887),i=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=a.f,u=i.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),a=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},8880:(e,t,n)=>{var r=n(9781),o=n(3070),i=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},654:(e,t,n)=>{var r=n(2109),o=n(6916),i=n(1913),a=n(6530),s=n(614),c=n(4994),u=n(9518),l=n(7674),d=n(8003),f=n(8880),p=n(1320),h=n(5112),g=n(7497),v=n(3383),m=a.PROPER,y=a.CONFIGURABLE,A=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,E=h("iterator"),_="keys",w="values",S="entries",C=function(){return this};e.exports=function(e,t,n,a,h,v,I){c(n,t,a);var O,T,R,N=function(e){if(e===h&&L)return L;if(!b&&e in D)return D[e];switch(e){case _:case w:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",k=!1,D=e.prototype,x=D[E]||D["@@iterator"]||h&&D[h],L=!b&&x||N(h),j="Array"==t&&D.entries||x;if(j&&(O=u(j.call(new e)))!==Object.prototype&&O.next&&(i||u(O)===A||(l?l(O,A):s(O[E])||p(O,E,C)),d(O,P,!0,!0),i&&(g[P]=C)),m&&h==w&&x&&x.name!==w&&(!i&&y?f(D,"name",w):(k=!0,L=function(){return o(x,this)})),h)if(T={values:N(w),keys:v?L:N(_),entries:N(S)},I)for(R in T)(b||k||!(R in D))&&p(D,R,T[R]);else r({target:t,proto:!0,forced:b||k},T);return i&&!I||D[E]===L||p(D,E,L,{name:h}),g[t]=L,T}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,o,i=n(7854),a=n(8113),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(e,t,n)=>{var r=n(7293),o=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},2109:(e,t,n)=>{var r=n(7854),o=n(1236).f,i=n(8880),a=n(1320),s=n(3505),c=n(9920),u=n(4705);e.exports=function(e,t){var n,l,d,f,p,h=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(g?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(e.sham||d&&d.sham)&&i(f,"sham",!0),a(n,l,f,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,n)=>{var r=n(4374),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,n)=>{var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:(e,t,n)=>{var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:(e,t,n)=>{var r=n(4374),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:(e,t,n)=>{var r=n(7854),o=n(614),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},8173:(e,t,n)=>{var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),o=n(7293),i=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7854),o=n(1702),i=n(7293),a=n(4326),s=r.Object,c=o("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},9587:(e,t,n)=>{var r=n(614),o=n(111),i=n(7674);e.exports=function(e,t,n){var a,s;return i&&r(a=t.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(e,s),e}},2788:(e,t,n)=>{var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},8340:(e,t,n)=>{var r=n(111),o=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},9909:(e,t,n)=>{var r,o,i,a=n(8536),s=n(7854),c=n(1702),u=n(111),l=n(8880),d=n(2597),f=n(5465),p=n(6200),h=n(3501),g="Object already initialized",v=s.TypeError,m=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new m),A=c(y.get),b=c(y.has),E=c(y.set);r=function(e,t){if(b(y,e))throw new v(g);return t.facade=e,E(y,e,t),t},o=function(e){return A(y,e)||{}},i=function(e){return b(y,e)}}else{var _=p("state");h[_]=!0,r=function(e,t){if(d(e,_))throw new v(g);return t.facade=e,l(e,_,t),t},o=function(e){return d(e,_)?e[_]:{}},i=function(e){return d(e,_)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},614:e=>{e.exports=function(e){return"function"==typeof e}},4705:(e,t,n)=>{var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},111:(e,t,n)=>{var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var r=n(7854),o=n(5005),i=n(614),a=n(7976),s=n(3307),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return i(t)&&a(t.prototype,c(e))}},3383:(e,t,n)=>{var r,o,i,a=n(7293),s=n(614),c=n(30),u=n(9518),l=n(1320),d=n(5112),f=n(1913),p=d("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},133:(e,t,n)=>{var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),o=n(614),i=n(2788),a=r.WeakMap;e.exports=o(a)&&/native code/.test(i(a))},6277:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:(e,t,n)=>{var r,o=n(9670),i=n(6048),a=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[l]=e):n=h(),void 0===t?n:i.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),o=n(3353),i=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!o?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),o=c(t),u=o.length,l=0;u>l;)i.f(e,n=o[l++],r[n]);return e}},3070:(e,t,n)=>{var r=n(7854),o=n(9781),i=n(4664),a=n(3353),s=n(9670),c=n(4948),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=o?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),c=n(4948),u=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(7854),o=n(2597),i=n(614),a=n(7908),s=n(6200),c=n(8544),u=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(o(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},1956:(e,t,n)=>{var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),o=n(9670),i=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:(e,t,n)=>{var r=n(7854),o=n(6916),i=n(614),a=n(111),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&i(n=e.toString)&&!a(r=o(n,e)))return r;if(i(n=e.valueOf)&&!a(r=o(n,e)))return r;if("string"!==t&&i(n=e.toString)&&!a(r=o(n,e)))return r;throw s("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},1320:(e,t,n)=>{var r=n(7854),o=n(614),i=n(2597),a=n(8880),s=n(3505),c=n(2788),u=n(9909),l=n(6530).CONFIGURABLE,d=u.get,f=u.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var u,d=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,g=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:t;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==v)&&a(n,"name",v),(u=f(n)).source||(u.source=p.join("string"==typeof v?v:""))),e!==r?(d?!g&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return o(this)&&d(this).source||c(this)}))},2261:(e,t,n)=>{var r,o,i=n(6916),a=n(1702),s=n(1340),c=n(7066),u=n(2999),l=n(2309),d=n(30),f=n(9909).get,p=n(9441),h=n(7168),g=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,y=a("".charAt),A=a("".indexOf),b=a("".replace),E=a("".slice),_=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),w=u.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(_||S||w||p||h)&&(m=function(e){var t,n,r,o,a,u,l,p=this,h=f(p),C=s(e),I=h.raw;if(I)return I.lastIndex=p.lastIndex,t=i(m,I,C),p.lastIndex=I.lastIndex,t;var O=h.groups,T=w&&p.sticky,R=i(c,p),N=p.source,P=0,k=C;if(T&&(R=b(R,"y",""),-1===A(R,"g")&&(R+="g"),k=E(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(C,p.lastIndex-1))&&(N="(?: "+N+")",k=" "+k,P++),n=new RegExp("^(?:"+N+")",R)),S&&(n=new RegExp("^"+N+"$(?!\\s)",R)),_&&(r=p.lastIndex),o=i(v,T?n:p,k),T?o?(o.input=E(o.input,P),o[0]=E(o[0],P),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:_&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),S&&o&&o.length>1&&i(g,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&O)for(o.groups=u=d(null),a=0;a<O.length;a++)u[(l=O[a])[0]]=o[l[1]];return o}),e.exports=m},7066:(e,t,n)=>{var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{var r=n(7293),o=n(7854).RegExp,i=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},9441:(e,t,n)=>{var r=n(7293),o=n(7854).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var r=n(7293),o=n(7854).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var r=n(7854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8003:(e,t,n)=>{var r=n(3070).f,o=n(2597),i=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,i)&&r(e,i,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),o=n(9711),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:(e,t,n)=>{var r=n(7854),o=n(3505),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},2309:(e,t,n)=>{var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:(e,t,n)=>{var r=n(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},5656:(e,t,n)=>{var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},7466:(e,t,n)=>{var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(7854),o=n(4488),i=r.Object;e.exports=function(e){return i(o(e))}},7593:(e,t,n)=>{var r=n(7854),o=n(6916),i=n(111),a=n(2190),s=n(8173),c=n(2140),u=n(5112),l=r.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},4948:(e,t,n)=>{var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,n)=>{var r=n(7854),o=n(648),i=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:(e,t,n)=>{var r=n(7854).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var r=n(1702),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:(e,t,n)=>{var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(133),c=n(3307),u=o("wks"),l=r.Symbol,d=l&&l.for,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&i(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):f(t)}return u[e]}},9191:(e,t,n)=>{var r=n(5005),o=n(2597),i=n(8880),a=n(7976),s=n(7674),c=n(9920),u=n(9587),l=n(6277),d=n(8340),f=n(7741),p=n(2914),h=n(1913);e.exports=function(e,t,n,g){var v=g?2:1,m=e.split("."),y=m[m.length-1],A=r.apply(null,m);if(A){var b=A.prototype;if(!h&&o(b,"cause")&&delete b.cause,!n)return A;var E=r("Error"),_=t((function(e,t){var n=l(g?t:e,void 0),r=g?new A(e):new A;return void 0!==n&&i(r,"message",n),p&&i(r,"stack",f(r.stack,2)),this&&a(b,this)&&u(r,this,_),arguments.length>v&&d(r,arguments[v]),r}));if(_.prototype=b,"Error"!==y&&(s?s(_,E):c(_,E,{name:!0})),c(_,A),!h)try{b.name!==y&&i(b,"name",y),b.constructor=_}catch(e){}return _}}},6992:(e,t,n)=>{var r=n(5656),o=n(1223),i=n(7497),a=n(9909),s=n(3070).f,c=n(654),u=n(1913),l=n(9781),d="Array Iterator",f=a.set,p=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){f(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},1703:(e,t,n)=>{var r=n(2109),o=n(7854),i=n(2104),a=n(9191),s=o.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=a(e,t,c),r({global:!0,forced:c},n)},l=function(e,t){if(s&&s[e]){var n={};n[e]=a("WebAssembly."+e,t,c),r({target:"WebAssembly",stat:!0,forced:c},n)}};u("Error",(function(e){return function(t){return i(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),u("URIError",(function(e){return function(t){return i(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},4916:(e,t,n)=>{var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},3948:(e,t,n)=>{var r=n(7854),o=n(8324),i=n(8509),a=n(6992),s=n(8880),c=n(5112),u=c("iterator"),l=c("toStringTag"),d=a.values,f=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[l]||s(e,l,t),o[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in o)f(r[p]&&r[p].prototype,p);f(i,"DOMTokenList")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AudioExtension:()=>E,AudioProcessor:()=>A,Extension:()=>b,Ticker:()=>w,VideoProcessor:()=>y,logger:()=>d,reporter:()=>h});var e=n(4341);function t(t,n,r){return n in t?e(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}n(1703),n(6992),n(3948);var o=n(3476),i=n.n(o);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+a(e-n.length,"")}n(4916);const s=Date.now(),c={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function u(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const l=e=>{for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t]===e)return t;return"DEFAULT"},d=new class{constructor(){t(this,"logLevel",c.DEBUG),t(this,"hookLog",void 0)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.WARNING].concat(t);this.log.apply(this,r)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.ERROR].concat(t);this.log.apply(this,r)}log(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Date.now()-s<100)return void setTimeout((()=>{this.log(...n)}),Date.now()-s);const o=Math.max(0,Math.min(4,n[0]));if(n[0]=u()+" Agora-Extension [".concat(l(o),"]:"),o<this.logLevel)return;const i=u()+" %cAgora-Extension [".concat(l(o),"]:");let a=[];switch(o){case c.DEBUG:a=[i,"color: #64B5F6;"].concat(n.slice(1)),console.log.apply(console,a);break;case c.INFO:a=[i,"color: #1E88E5; font-weight: bold;"].concat(n.slice(1)),console.log.apply(console,a);break;case c.WARNING:a=[i,"color: #FB8C00; font-weight: bold;"].concat(n.slice(1)),console.warn.apply(console,a);break;case c.ERROR:a=[i,"color: #B00020; font-weight: bold;"].concat(n.slice(1)),console.error.apply(console,a)}null===(e=this.hookLog)||void 0===e||e.call(this,o,a)}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const h=new class{constructor(){t(this,"apiInvokeMsgQueue",[]),t(this,"hookApiInvoke",void 0)}reportApiInvoke(e){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const t=Date.now(),n=()=>({name:e.name,apiInvokeTime:t,options:e.options});let r=!1;var o;(o=e.timeout,new(i())((e=>{window.setTimeout(e,o)}))).then((()=>{r||(this.sendApiInvoke(p(p({},n()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),d.debug("".concat(e.name," timeout")))}));const a=new Error("".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{if(r)throw a;r=!0,this.sendApiInvoke(p(p({},n()),{},{success:!0},e.reportResult&&{result:t}))},onError:e=>{if(r)throw e;r=!0,this.sendApiInvoke(p(p({},n()),{},{success:!1,error:e.toString()}))}}}sendApiInvoke(e){this.hookApiInvoke?(this.hookApiInvoke([...this.apiInvokeMsgQueue,e]),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(e)}};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class m extends class{constructor(){t(this,"_events",{}),t(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let i=0;i<t.length;i+=1){const n=t[i];n.once&&this.off(e,n.listener),n.listener.apply(this,r||[])}}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}emitAsPromise(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===this.getListeners(e).length?i().reject(new Error("No promise event handler.")):new(i())(((t,r)=>{this.emit(e,...n,t,r)}))}emitAsPromiseNoResponse(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===this.getListeners(e).length?i().resolve():new(i())(((t,r)=>{this.emit(e,...n,t,r)}))}}{get enabled(){return this._enabled}output(e,t){if(this.outputTrack===e)return;const n=h.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==e?void 0:e.toString()}});this.outputTrack=e,this.destination&&this.destination.updateInput({track:e,context:t}),n.onSuccess()}constructor(){super(),t(this,"inputTrack",void 0),t(this,"outputTrack",void 0),t(this,"_enabled",!0),t(this,"_source",void 0),t(this,"ID",a(6,"")),t(this,"destination",void 0),t(this,"context",void 0),t(this,"name",void 0)}enable(){if(this._enabled)return;const e=h.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!0});d.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var t;const n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof i())return n.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}disable(){if(!this._enabled)return;const e=h.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!1});d.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var t;const n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof i())return n.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}}class y extends m{get kind(){return"video"}pipe(e){const t=h.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const n=new Error("Processor ".concat(e.name," already piped, please call unpipe beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;const e=h.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});d.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{const t=this.destination;this.destination._source=void 0,this.destination=void 0,t.reset()}finally{e.onSuccess()}}updateInput(e){var t,n;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}class A extends m{constructor(){super(...arguments),t(this,"inputNode",void 0),t(this,"outputNode",void 0),t(this,"destination",void 0),t(this,"context",void 0)}get kind(){return"audio"}pipe(e){const t=h.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const n=new Error("Processor ".concat(e.name," already piped, please call unpipe beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;d.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));const e=h.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var t;let n=this.destination;null===(t=this.outputNode)||void 0===t||t.disconnect(),this.destination._source=void 0,this.destination=void 0,n.reset()}finally{e.onSuccess()}}output(e,t){if(e instanceof MediaStreamTrack)super.output(e,t);else if(e instanceof AudioNode){if(this.outputNode===e)return;const n=h.reportApiInvoke({name:"".concat(this.name,".output"),options:v(v({},e instanceof MediaStreamTrack&&{track:e.toString()}),e instanceof AudioNode&&{audioNode:e.toString()})});this.outputNode=e,this.destination&&this.destination.updateInput({node:e,context:t}),n.onSuccess()}}updateInput(e){var t,n,r;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,null===(r=this.onNode)||void 0===r||r.call(this,e.node,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}class b{constructor(){t(this,"__registered__",!1),t(this,"logger",d),t(this,"reporter",h),t(this,"parameters",{})}createProcessor(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}class E extends b{}let _;class w{get running(){return this._running}constructor(e,n){if(t(this,"type",void 0),t(this,"interval",void 0),t(this,"fn",void 0),t(this,"_running",!1),t(this,"_osc",void 0),!e)throw new Error;if(n<=0)throw new Error;this.type=e,this.interval=n}add(e){this.fn=e}remove(){this.fn=void 0}start(){if(!this._running)switch(this._running=!0,this.type){case"Timer":{const e=()=>{setTimeout((()=>{this.fn&&this.fn(),this._running&&e()}),this.interval)};e();break}case"RAF":{const e=t=>{requestAnimationFrame((n=>{n-t<this.interval?this._running&&e(t):(this.fn&&this.fn(),this._running&&e(n))}))};e(performance.now());break}case"Oscillator":{_||(_=new AudioContext);const e=_.createGain();let t;e.gain.value=0,e.connect(_.destination);const n=()=>{this.fn&&this.fn(),t&&t.disconnect(),t=_.createOscillator(),this._osc=t,t.connect(e),this._running&&(t.onended=n,t.start(0),t.stop(_.currentTime+this.interval/1e3))};n();break}}}stop(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}})(),r})()}(ZY),!document.documentMode&&window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(XY=HTMLCanvasElement.prototype.getContext,function(){let e=arguments;const t=e[0];return"webgl"===t&&(e=[].slice.call(arguments),e[0]="experimental-webgl"),XY.apply(null,e)}));const tJ=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function nJ(e){const t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,o=r.length,i=new Uint8Array(o),a=new Uint8Array(256);for(let d=0;d<256;d++)a[d]=d;let s=0;for(let d=0;d<256;d++)s=(s+a[d]+t[d%n])%256,[a[d],a[s]]=[a[s],a[d]];let c,u=0;s=0;for(let d=0;d<0+o;d++)u=(u+1)%256,s=(s+a[u])%256,[a[u],a[s]]=[a[s],a[u]],c=a[(a[u]+a[s])%256],d>=0&&(i[d-0]=r[d-0]^c);const l=String.fromCharCode.apply(null,Array.from(i));return Function("var winSize = 5; return `"+l+"`")()}const rJ=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67];class oJ{constructor(e,t){LR(this,"program",void 0),LR(this,"gl",void 0),LR(this,"kernel",void 0),this.gl=e,this.kernel=t||rJ,this.program=function(e,t){const n=nJ(t),r=eJ(e,[nJ(tJ),n]);{const t=e.getAttribLocation(r,"a_position"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(t);const o=2,i=e.FLOAT,a=!1,s=0,c=0;e.vertexAttribPointer(t,o,i,a,s,c)}{const t=e.getAttribLocation(r,"a_texCoord"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(t);const o=2,i=e.FLOAT,a=!1,s=0,c=0;e.vertexAttribPointer(t,o,i,a,s,c)}return r}(this.gl,this.kernel)}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY");this.gl.uniform1f(e,1)}}class iJ extends oJ{constructor(e,t,n,r){super(e,t),LR(this,"xOffset",void 0),LR(this,"yOffset",void 0),LR(this,"denoiseLevel",5),this.xOffset=1/n,this.yOffset=1/r}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_singleStepOffset"),n=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform2f(t,this.xOffset,this.yOffset),this.gl.uniform1f(n,this.denoiseLevel),this.gl.uniform1f(e,1)}setParameters(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel)}setSize(e,t){this.xOffset=1/e,this.yOffset=1/t}}const aJ=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11];class sJ extends iJ{constructor(e,t,n){super(e,aJ,t,n)}}const cJ=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188];class uJ extends iJ{constructor(e,t,n){super(e,cJ,t,n)}}const lJ=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24];class dJ extends iJ{constructor(e,t,n){super(e,lJ,t,n)}}const fJ=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144],pJ=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],hJ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],gJ=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];class vJ extends iJ{constructor(e,t,n,r){super(e,fJ,n,r),LR(this,"inputTexture",void 0),LR(this,"lightLevel",.1),LR(this,"rednessLevel",.5),LR(this,"mskin_he_max",175/180*3.141593),LR(this,"mskin_he_min",115/180*3.141593),LR(this,"mskin_hc_max",173/180*3.141593),LR(this,"mskin_hc_min",116/180*3.141593),LR(this,"mskin_hc_axis",2.04203545),LR(this,"mfacts_rotate_c",0),LR(this,"mfacts_rotate_le",0),LR(this,"mfacts_rotate_ge",0),LR(this,"tab_addr",null),LR(this,"lutTextures",[]),this.inputTexture=t,this.init()}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform1f(t,this.denoiseLevel),this.gl.uniform1f(e,1);const n=this.gl.getUniformLocation(this.program,"light");this.gl.uniform1f(n,this.lightLevel);const r=this.gl.getUniformLocation(this.program,"redness");this.gl.uniform1f(r,this.rednessLevel);const o=this.gl.getUniformLocation(this.program,"skin_he_max"),i=this.gl.getUniformLocation(this.program,"skin_he_min"),a=this.gl.getUniformLocation(this.program,"skin_hc_max"),s=this.gl.getUniformLocation(this.program,"skin_hc_min"),c=this.gl.getUniformLocation(this.program,"skin_hc_axis"),u=this.gl.getUniformLocation(this.program,"facts_rotate_c"),l=this.gl.getUniformLocation(this.program,"facts_rotate_le"),d=this.gl.getUniformLocation(this.program,"facts_rotate_ge");this.gl.uniform1f(o,this.mskin_he_max),this.gl.uniform1f(i,this.mskin_he_min),this.gl.uniform1f(a,this.mskin_hc_max),this.gl.uniform1f(s,this.mskin_hc_min),this.gl.uniform1f(c,this.mskin_hc_axis),this.gl.uniform1f(u,this.mfacts_rotate_c),this.gl.uniform1f(l,this.mfacts_rotate_le),this.gl.uniform1f(d,this.mfacts_rotate_ge);const f=this.gl.getUniformLocation(this.program,"u_originImage");this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.uniform1i(f,2);const p=["lighten_lut"],h=[this.gl.TEXTURE3];for(let g=0;g<p.length;g++){const e=this.gl.getUniformLocation(this.program,p[g]);this.gl.activeTexture(h[g]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[g]),this.gl.uniform1i(e,g+3)}}setParameters(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel),void 0!==e.lightLevel&&(this.lightLevel=e.lightLevel),void 0!==e.rednessLevel&&(this.rednessLevel=e.rednessLevel,this.updateRedness(this.rednessLevel)),e.lighteningContrastLevel&&this.updateLut(e.lighteningContrastLevel)}init(){this.tab_addr=new Uint8Array(hJ);const e=[this.tab_addr],t=[256],n=[1];for(let r=0;r<e.length;r++){const o=this.gl.createTexture();if(!o)throw new BP(MP.WEBGL_INTERNAL_ERROR,"create lut texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,o),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t[r],n[r],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e[r]),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.lutTextures.push(o)}}updateRedness(e){const t=3.141593;let n,r,o=e,i=o;o>1&&(o=1),o<0&&(o=0),i>1&&(i=1),i<0&&(i=0),this.mfacts_rotate_c=.8*o,i<.8&&(i=0),this.mskin_he_max=175/180*t,this.mskin_hc_max=173/180*t,this.mskin_he_min=(115-4*i)/180*t,this.mskin_hc_min=(116-4*i)/180*t,this.mskin_hc_axis=(117-4*i)/180*t,this.mskin_hc_axis<this.mskin_hc_min&&(this.mskin_hc_axis=this.mskin_hc_min),this.mskin_hc_min<t/2&&(this.mskin_hc_min=t/2),this.mskin_hc_axis<t/2&&(this.mskin_hc_axis=t/2),this.mskin_he_min<t/2&&(this.mskin_he_min=t/2),this.mskin_hc_max>t&&(this.mskin_hc_max=t),this.mskin_hc_axis>t&&(this.mskin_hc_axis=t),this.mskin_he_max>t&&(this.mskin_he_max=t),n=this.mskin_he_max-this.mskin_hc_max,r=this.mskin_hc_max-this.mskin_hc_axis,this.mfacts_rotate_ge=n>.01?this.mfacts_rotate_c*r/n:this.mfacts_rotate_c,n=this.mskin_hc_min-this.mskin_he_min,r=this.mskin_hc_axis-this.mskin_hc_min,this.mfacts_rotate_le=n>.01?this.mfacts_rotate_c*r/n:this.mfacts_rotate_c}updateLut(e){let t=null;if(0===e&&(t=hJ),1===e&&(t=gJ),2===e&&(t=pJ),!t)throw new BP(MP.WEBGL_INTERNAL_ERROR,"invalid ylut_table value:"+e);this.tab_addr=new Uint8Array(t);const n=[this.tab_addr],r=[256],o=[1];for(let i=0;i<n.length;i++)this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[i]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,r[i],o[i],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,n[i])}}class mJ{constructor(){LR(this,"gl",null),LR(this,"canvas",null),LR(this,"programs",[]),LR(this,"commonProgram",null),LR(this,"inputTexture",null),LR(this,"outputTextures",[]),LR(this,"fbos",[]),LR(this,"originalFrameWidth",0),LR(this,"originalFrameHeight",0),LR(this,"enableBeauty",!1),LR(this,"denoiseLevel",5),LR(this,"lightLevel",.35),LR(this,"rednessLevel",.5),LR(this,"lighteningContrastLevel",1)}setEnableBeauty(e){this.enableBeauty=!!e}init(e,t,n){if(!SL().supportWebGL)throw new BP(MP.NOT_SUPPORTED,"your browser is not support webGL");if(this.gl=n.getContext("webgl"),!this.gl)throw new BP(MP.WEBGL_INTERNAL_ERROR,"can not get webgl context");if(this.initGL(e,t),!this.inputTexture)throw new BP(MP.WEBGL_INTERNAL_ERROR,"can not find input texture");this.canvas=n,this.programs.push(new oJ(this.gl)),this.programs.push(new sJ(this.gl,e,t)),this.programs.push(new uJ(this.gl,e,t)),this.programs.push(new dJ(this.gl,e,t)),this.programs.push(new vJ(this.gl,this.inputTexture,e,t)),this.commonProgram=this.programs[0].program,this.setDenoiseLevel(this.denoiseLevel),this.setLightLevel(this.lightLevel),this.setRednessLevel(this.rednessLevel),this.setContrastLevel(this.lighteningContrastLevel)}render(e){if(!this.gl||!this.commonProgram||!this.canvas)return void KP.warning("video effect manager is not init!");let t=0;if(this.originalFrameHeight===e.videoWidth&&this.originalFrameWidth===e.videoHeight)t=2;else if(this.originalFrameHeight!==e.videoHeight||this.originalFrameWidth!==e.videoWidth){if(KP.debug("beauty effect: resolution changed ".concat(this.originalFrameWidth,"x").concat(this.originalFrameHeight," -> ").concat(e.videoWidth,"x").concat(e.videoHeight)),0===e.videoHeight||0===e.videoWidth)return void KP.debug("beauty effect: skip 0 resolution frame");this.canvas.width=e.videoWidth,this.canvas.height=e.videoHeight,e.setAttribute("width",e.videoWidth.toString()),e.setAttribute("height",e.videoHeight.toString()),this.release(),this.init(e.videoWidth,e.videoHeight,this.canvas)}this.gl.viewport(0,0,e.videoWidth,e.videoHeight),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e);const n=this.enableBeauty?this.programs.length-1:0;for(let o=0;o<=n;o++){const e=this.programs[o].program;this.gl.useProgram(e);const n=this.gl.getUniformLocation(e,"u_image");this.programs[o].setUniforms(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[t+o%2]),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.outputTextures[t+o%2]),this.gl.uniform1i(n,0)}this.gl.useProgram(this.commonProgram);const r=this.gl.getUniformLocation(this.commonProgram,"u_flipY");this.gl.uniform1f(r,-1),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}setDenoiseLevel(e){this.programs.forEach((t=>{t instanceof iJ&&t.setParameters({denoiseLevel:e})})),this.denoiseLevel=e}setLightLevel(e){this.programs.forEach((t=>{t instanceof iJ&&t.setParameters({lightLevel:e})})),this.lightLevel=e}setRednessLevel(e){this.programs.forEach((t=>{t instanceof iJ&&t.setParameters({rednessLevel:e})})),this.rednessLevel=e}setContrastLevel(e){this.programs.forEach((t=>{t instanceof iJ&&t.setParameters({lighteningContrastLevel:e})})),this.lighteningContrastLevel=e}setSize(e,t){this.programs.forEach((n=>{n instanceof iJ&&n.setSize(e,t)}))}release(){this.gl=null,this.commonProgram=null,this.inputTexture=null,this.programs=[],this.outputTextures=[],this.fbos=[]}initGL(e,t){if(!this.gl)throw new BP(MP.WEBGL_INTERNAL_ERROR,"can not find webgl context");this.inputTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);for(let n=0;n<4;n++){const r=this.gl.createTexture();if(!r)throw new BP(MP.WEBGL_INTERNAL_ERROR,"create texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),n<2?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null):this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null);const o=this.gl.createFramebuffer();if(!o)throw new BP(MP.WEBGL_INTERNAL_ERROR,"create frame buffer failed");this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,o),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,r,0),this.outputTextures.push(r),this.fbos.push(o)}this.gl.viewport(0,0,e,t),this.originalFrameWidth=e,this.originalFrameHeight=t}}class yJ{constructor(){LR(this,"targetFrameRate",0),LR(this,"recordedFrameCount",0),LR(this,"recordingTime",2),LR(this,"recordID",void 0)}async startRecordBeautyEffectOutput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(this.recordID)throw new BP(MP.UNEXPECTED_ERROR,"another beauty effect recording is in progress");const n=yQ(6,"");return this.recordID=n,this.targetFrameRate=e,this.recordedFrameCount=0,this.recordingTime=t,await vQ(1e3*this.recordingTime),this.recordID!==n?(this.recordID=void 0,!0):(this.recordID=void 0,this.recordedFrameCount<this.targetFrameRate*this.recordingTime/2?(KP.warning("detect beauty effect overload, current framerate",this.recordedFrameCount/2),!1):(KP.debug("beauty effect current framerate",this.recordedFrameCount/2),!0))}stopRecordBeautyEffectOutput(){this.targetFrameRate=0,this.recordedFrameCount=0,this.recordID=void 0}addFrame(){this.recordID&&(this.recordedFrameCount+=1)}}class AJ extends ZY.exports.VideoProcessor{constructor(){super(),LR(this,"name","BeautyProcessor"),LR(this,"fps",15),LR(this,"canvas",void 0),LR(this,"video",void 0),LR(this,"manager",void 0),LR(this,"overloadDetector",new yJ),LR(this,"stopChromeBackgroundLoop",null),LR(this,"onOverload",void 0),LR(this,"stopLoop",void 0),LR(this,"lastRenderTime",0),this.fps=30,this.manager=new mJ,this._enabled=!1}async onEnableChange(e){this.manager.setEnableBeauty(e),this.context&&this.inputTrack&&(e?await this.startEffect(this.inputTrack,this.context):await this.stopEffect(this.inputTrack,this.context))}async setBeautyEffectOptions(e){if(function(e){void 0!==e.smoothnessLevel&&LD(e.smoothnessLevel,"options.smoothnessLevel",0,1,!1),void 0!==e.lighteningLevel&&LD(e.lighteningLevel,"options.lighteningLevel",0,1,!1),void 0!==e.rednessLevel&&LD(e.rednessLevel,"options.rednessLevel",0,1,!1),void 0!==e.lighteningContrastLevel&&xD(e.lighteningContrastLevel,"options.lighteningContrastLevel",[0,1,2])}(e),void 0!==e.smoothnessLevel){const t=Math.max(.1,10*e.smoothnessLevel);this.manager.setDenoiseLevel(t)}if(void 0!==e.lighteningLevel){const t=Math.max(.1,e.lighteningLevel/2);this.manager.setLightLevel(t)}if(void 0!==e.rednessLevel){const t=Math.max(.01,e.rednessLevel);this.manager.setRednessLevel(t)}if(void 0!==e.lighteningContrastLevel){const t=e.lighteningContrastLevel;this.manager.setContrastLevel(t)}}async onTrack(e,t){var n;this.video&&this.enabled&&(null===(n=this.stopLoop)||void 0===n||n.call(this),await this.stopEffect(e,t)),await this.startEffect(e,t)}async startEffect(e,t){if(!this.enabled)return;const n=aR(),r=await this.renderWithWebGL(e);this.output(r,t),KP.info("start video effect, output:",this.outputTrack),this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then((e=>{e||this.onOverload&&this.onOverload()}));let o=!1;this.stopLoop=()=>{o=!0};const i=()=>{this.enabled&&!o&&requestAnimationFrame(i);const e=Date.now(),t=1e3/this.fps,n=this.lastRenderTime?e-this.lastRenderTime:t;n<t||(this.lastRenderTime=e-(n-t),this.video&&this.video.paused&&this.video.play(),this.enabled&&this.video&&(this.manager.render(this.video),this.outputTrack&&this.outputTrack.requestFrame&&this.outputTrack.requestFrame(),this.overloadDetector.addFrame()))};requestAnimationFrame(i),n.name===nR.CHROME&&document.addEventListener("visibilitychange",(()=>{document.hidden?this.stopChromeBackgroundLoop=PW((()=>{this.enabled&&this.video&&this.manager.render(this.video),this.outputTrack&&this.outputTrack.requestFrame&&this.outputTrack.requestFrame(),this.overloadDetector.addFrame()}),this.fps):this.stopChromeBackgroundLoop&&(this.stopChromeBackgroundLoop(),this.stopChromeBackgroundLoop=null)}),!1)}async renderWithWebGL(e){this.canvas&&(this.canvas.remove(),this.canvas=void 0),this.video&&(this.video.remove(),this.video=void 0),this.canvas=document.createElement("canvas"),this.video=document.createElement("video"),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.muted=!0,this.video.setAttribute("playsinline",""),this.video.setAttribute("style","display:none"),this.video.srcObject=new MediaStream([e]);const t=new iS((e=>{const t=()=>{this.video&&this.video.removeEventListener("playing",t),e(void 0)};this.video&&this.video.addEventListener("playing",t)}));this.video.play(),await t;const n=e.getSettings(),r=n.width||this.video.videoWidth,o=n.height||this.video.videoHeight;if(n.frameRate&&this.fps!==n.frameRate&&(this.fps=n.frameRate,KP.debug("beauty video processor: set fps to",this.fps)),KP.debug("beauty video processor: width ".concat(r," height ").concat(o)),!r||!o)throw new BP(MP.BEAUTY_PROCESSOR_INTERNAL_ERROR,"can not get track resolution");this.canvas.width=r,this.canvas.height=o,this.video.setAttribute("width",r.toString()),this.video.setAttribute("height",o.toString()),this.manager.init(r,o,this.canvas);const i=SL();return this.canvas.captureStream(i.supportRequestFrame?0:this.fps).getVideoTracks()[0]}async stopEffect(e,t){KP.info("stop video effect"),this.overloadDetector.stopRecordBeautyEffectOutput(),this.manager.release(),this.canvas&&this.canvas.remove(),this.video&&this.video.remove(),this.canvas=void 0,this.video=void 0,this.output(e,t)}}function bJ(e){const t={};if(e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId}),!e.encoderConfig)return t;const n=Ck(e.encoderConfig);return t.width=n.width,t.height=n.height,!CR()&&n.frameRate&&(t.frameRate=n.frameRate),aR().name===nR.EDGE&&"object"==typeof t.frameRate&&(t.frameRate.max=60),vR()&&(t.frameRate={ideal:30,max:30}),t}function EJ(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&hR()&&(t.extensionId=e.extensionId),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const n=e.encoderConfig?Ik(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:n?n.width:void 0,maxHeight:n?n.height:void 0},n&&n.frameRate&&("number"==typeof n.frameRate?(t.mandatory.maxFrameRate=n.frameRate,t.mandatory.minFrameRate=n.frameRate):(t.mandatory.maxFrameRate=n.frameRate.max||n.frameRate.ideal||n.frameRate.exact||void 0,t.mandatory.minFrameRate=n.frameRate.min||n.frameRate.ideal||n.frameRate.exact||void 0),t.frameRate=n.frameRate),n&&n.width&&(t.width=n.width),n&&n.height&&(t.height=n.height),t}function _J(e){const t={};if(CR()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,hR()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const n=Rk(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),OR()&&(t.sampleRate=void 0),t}var wJ,SJ;!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(wJ||(wJ={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(SJ||(SJ={}));var CJ,IJ,OJ,TJ,RJ,NJ,PJ,kJ,DJ,xJ,LJ,jJ,MJ,BJ,FJ,UJ,VJ,WJ,HJ,QJ,GJ,KJ,qJ,zJ,YJ,JJ,XJ=new class{constructor(){LR(this,"_clientSize",null),LR(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),LR(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),LR(this,"getStyle",(e=>window.getComputedStyle(e,null))),LR(this,"checkCssVisibleProperty",(e=>{let t=!0;const n=this.getStyle(e),{display:r,visibility:o,opacity:i,filter:a}=n;return("none"===r||["hidden","collapse"].includes(o)||Number(i)<.1)&&(t=!1),!!t&&(a&&a.split(" ").filter((e=>{const t=e.split("(")[0];return["brightness","blur","opacity"].includes(t)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[n,r]=e;switch(n){case"brightness":(r<.1||r>3)&&(t=!1);break;case"blur":r>3&&(t=!1);break;case"opacity":r<.1&&(t=!1)}})),t)})),LR(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let n=!0,r=!0;const o=e=>t(e);let i=e;for(;i&&r;)o(i)||(n=!1,r=!1),i=i.parentElement,i||(r=!1);return n})),LR(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),LR(this,"getSizeAboutClient",(e=>{const{width:t,height:n,left:r,right:o,top:i,bottom:a}=e.getBoundingClientRect(),s=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:n,left:r,right:o,top:i,bottom:a,clientWidth:s,clientHeight:c,clientMin:Math.min(s,c)}})),LR(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)})),LR(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),LR(this,"checkCoverForAPoint",((e,t,n)=>{const r=this.elementFromPoint(e,t);return null!==r&&r!==n})),LR(this,"getPointPositionList",(()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,o=e/6,i=t/6,a=[],s=10**6;for(let c=0;c<5;c++)for(let e=0;e<5;e++){const t=(n*s+(0===c?.1:4===c?(o*c*s-1e5)/s:o*c)*s)/s,u=(r*s+(0===e?.1:4===e?(i*e*s-1e5)/s:i*e)*s)/s;a.push({x:t,y:u})}return[...a]})),LR(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),LR(this,"checkSizeIsVisible",((e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10))),LR(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:o,clientWidth:i,clientMin:a}=this._clientSize;let s,c,u,l;if(e<0)s=0;else{if(!(e<i))return!1;s=e}if(t<0)return!1;if(c=t<i?t:i,n<0)u=0;else{if(!(n<o))return!1;u=n}if(r<0)return!1;l=r<o?r:o;const d=c-s,f=l-u;return this.checkSizeIsVisible(d,f,a)})),LR(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),LR(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(wJ.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(wJ.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(wJ.SIZE)}}return this.returnHiddenResult(wJ.STYLE)}return this.returnHiddenResult(SJ.UNMOUNTED)}return this.returnHiddenResult(SJ.INVALID_HTML_ELEMENT)})),LR(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function ZJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZJ(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let eX=(CJ=vk("LocalVideoTrack","getTrackId"),IJ=$W(),OJ=yW("LocalVideoTrack","_enabledMutex"),TJ=lW({className:"LocalVideoTrack"}),RJ=$W(),NJ=yW("LocalVideoTrack","_enabledMutex"),PJ=lW({className:"LocalVideoTrack"}),kJ=$W(),DJ=$W(),xJ=$W(),LJ=$W(),jJ=$W(),MJ=$W(),BJ=$W(),FJ=$W(),UJ=$W(),CJ((BV((WJ=class e extends AW{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==qD.PLAYING)}constructor(e,t,n,r,o,i){super(e,o),LR(this,"trackMediaType","video"),LR(this,"_player",void 0),LR(this,"_videoBeautyProcessor",void 0),LR(this,"_videoVisibleTimer",null),LR(this,"_previousVideoVisibleStatus",void 0),LR(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),LR(this,"_encoderConfig",void 0),LR(this,"_scalabiltyMode",{numSpatialLayers:1,numTemporalLayers:1}),LR(this,"_optimizationMode",void 0),LR(this,"_videoHeight",void 0),LR(this,"_videoWidth",void 0),LR(this,"_forceBitrateLimit",void 0),LR(this,"_enabled",!0),LR(this,"processorDestination",void 0),LR(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this._encoderConfig=t,this._scalabiltyMode=n,this._optimizationMode=r,this._hints=i||[],-1===this._hints.indexOf(Xx.SCREEN_TRACK)&&this.updateBitrateFromProfile(),this.processorContext=new FH(this.getTrackId()),this.processorDestination=new BH(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",t]});if("string"==typeof e){const t=document.getElementById(e);t?e=t:(KP.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),uk("warning",this,'can not find "#'.concat(e,'" element, use document.body')),e=document.body)}KP.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(t)),pk("debug",this,"play",t);const r=$J($J($J({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(r):(this._player=new YY(r),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.emit(eL.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),Pk("CHECK_VIDEO_VISIBLE_INTERVAL")),n.onSuccess()}stop(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,KP.debug("[".concat(this.getTrackId(),"] stop video playback")),pk("debug",this,"stop"),e.onSuccess()}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(KP.info("[".concat(this.getTrackId(),"] start setEnabled"),e),pk("info",this,"setEnabled",e),!e){this._originMediaStreamTrack.enabled=!1;try{await SQ(this,Jx.NEED_DISABLE_TRACK,this)}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}return t||(this._enabled=!1),KP.info("[".concat(this.getTrackId(),"] setEnabled to false success")),void pk("info",this,"setEnabled",e,"success")}this._originMediaStreamTrack.enabled=!0;try{await SQ(this,Jx.NEED_ENABLE_TRACK,this)}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setEnabled to true error"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}KP.info("[".concat(this.getTrackId(),"] setEnabled to true success")),pk("info",this,"setEnabled",e,"success"),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,KP.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),pk("debug",this,"setMuted",e),e?await SQ(this,Jx.NEED_MUTE_TRACK,this):await SQ(this,Jx.NEED_UNMUTE_TRACK,this))}getStats(){kQ((()=>{KP.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead"),uk("warning",this,"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning");const e=CQ(this,Jx.GET_STATS);return e||$J({},Ox)}async setBeautyEffect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_VIDEO_TRACK_BEAUTY,options:[this.getTrackId(),e,t]});if(e||this._videoBeautyProcessor){if(lR()===tR.IOS||lR()===tR.ANDROID){const e=new BP(MP.INVALID_OPERATION,"can not enable beauty effect on mobile device");throw n.onError(e),e}if(!this._enabled&&e){const e=new BP(MP.TRACK_IS_DISABLED,"can not enable beauty effect when track is disabled");throw n.onError(e),e}if(KP.info("[".concat(this.getTrackId(),"] start setBeautyEffect"),e,JSON.stringify(t)),pk("info",this,"setBeautyEffect",[e,t]),this._videoBeautyProcessor||e){try{if(!this._videoBeautyProcessor)if(this._videoBeautyProcessor=new AJ,this.processor){const e=this.processor;this.pipe(this._videoBeautyProcessor).pipe(e)}else this.pipe(this._videoBeautyProcessor).pipe(this.processorDestination);await this._videoBeautyProcessor.setBeautyEffectOptions(t),e?await this._videoBeautyProcessor.enable():await this._videoBeautyProcessor.disable()}catch(o){throw KP.error("[".concat(this.getTrackId(),"] setBeautyEffect error"),o.toString()),pk("info",this,"setBeautyEffect",[e,t]),n.onError(o),o}KP.info("[".concat(this.getTrackId(),"] setBeautyEffect success")),pk("info",this,"setBeautyEffect",[e,t],"success"),n.onSuccess()}else n.onSuccess()}}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await KY(e)}clone(t,n,r,o){const i=this._mediaStreamTrack.clone();return new e(i,t,n,r,o)}async setBitrateLimit(e){if(KP.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),pk("debug",this,"setBitrateLimit",e),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await SQ(this,Jx.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return KP.error(MP.INVALID_PARAMS,"optimization mode must be motion, detail or balanced"),void pk("error",this,"setOptimizationMode",e,MP.INVALID_PARAMS);const t=this._optimizationMode;try{this._optimizationMode=e,await SQ(this,Jx.SET_OPTIMIZATION_MODE,this)}catch(r){throw this._optimizationMode=t,KP.error("[".concat(this.getTrackId(),"] set optimization mode failed"),r.toString()),pk("error",this,"setOptimizationMode",e,r.toString()),r}KP.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")")),pk("info",this,"setOptimizationMode",e,"success")}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return KP.error(MP.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),pk("error",this,"setScalabiltyMode",e,MP.INVALID_PARAMS),void(this._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabiltyMode=e,KP.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")")),pk("info",this,"setScalabiltyMode",e,"success")}updateMediaStreamTrackResolution(){EQ(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(bQ)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const[r,o]=function(e,t,n){const r=Pk("BITRATE_ADAPTER_TYPE");let o;const i=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75),a=i;if("STANDARD_BITRATE"===r)o=4*i;else{if("COMPATIABLE_BITRATE"!==r)return;o=2*i}return[Math.floor(o),Math.floor(a)]}(e,t,n)||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=o,this._encoderConfig.bitrateMax=r,KP.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(r,", brMin: ").concat(o,"]")),pk("debug",this,"updateBitrateFromProfile",void 0,"[w: ".concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(r,", brMin: ").concat(o,"]")))}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:o,slot:i}=r;if(this.isPlaying&&o instanceof HTMLVideoElement&&i instanceof HTMLElement){const e=XJ.checkOneElementVisible(o),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new BP(MP.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this._videoBeautyProcessor&&e!==this._videoBeautyProcessor)return this._videoBeautyProcessor.pipe(e);if(this.processor===e)return e;if(e._source)throw new BP(MP.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}bindProcessorDestinationEvents(){this.processorDestination.on(yL.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await SQ(this,Jx.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await SQ(this,Jx.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(yL.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(AL.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(AL.REQUEST_CONSTRAINTS)}}).prototype,"play",[IJ],Object.getOwnPropertyDescriptor(WJ.prototype,"play"),WJ.prototype),BV(WJ.prototype,"setEnabled",[OJ,TJ,RJ],Object.getOwnPropertyDescriptor(WJ.prototype,"setEnabled"),WJ.prototype),BV(WJ.prototype,"setMuted",[NJ,PJ,kJ],Object.getOwnPropertyDescriptor(WJ.prototype,"setMuted"),WJ.prototype),BV(WJ.prototype,"getStats",[DJ],Object.getOwnPropertyDescriptor(WJ.prototype,"getStats"),WJ.prototype),BV(WJ.prototype,"setBeautyEffect",[xJ],Object.getOwnPropertyDescriptor(WJ.prototype,"setBeautyEffect"),WJ.prototype),BV(WJ.prototype,"getCurrentFrameData",[LJ],Object.getOwnPropertyDescriptor(WJ.prototype,"getCurrentFrameData"),WJ.prototype),BV(WJ.prototype,"getCurrentFrameImage",[jJ],Object.getOwnPropertyDescriptor(WJ.prototype,"getCurrentFrameImage"),WJ.prototype),BV(WJ.prototype,"setBitrateLimit",[MJ],Object.getOwnPropertyDescriptor(WJ.prototype,"setBitrateLimit"),WJ.prototype),BV(WJ.prototype,"setOptimizationMode",[BJ],Object.getOwnPropertyDescriptor(WJ.prototype,"setOptimizationMode"),WJ.prototype),BV(WJ.prototype,"setScalabiltyMode",[FJ],Object.getOwnPropertyDescriptor(WJ.prototype,"setScalabiltyMode"),WJ.prototype),BV(WJ.prototype,"updateMediaStreamTrackResolution",[UJ],Object.getOwnPropertyDescriptor(WJ.prototype,"updateMediaStreamTrackResolution"),WJ.prototype),VJ=WJ))||VJ),tX=(HJ=vk("CameraVideoTrack","getTrackId"),QJ=$W(),GJ=yW("CameraVideoTrack","_enabledMutex"),KJ=lW({className:"CameraVideoTrack"}),qJ=$W(),zJ=$W(),HJ((BV((JJ=class extends eX{constructor(e,t,n,r,o,i){super(e,t.encoderConfig?Ck(t.encoderConfig):{},r,o,i),LR(this,"_config",void 0),LR(this,"_originalConstraints",void 0),LR(this,"_constraints",void 0),LR(this,"_enabled",!0),LR(this,"_deviceName","default"),LR(this,"tryResumeVideoForIOS15WeChat",(async()=>{AR()&&!_R()&&SR()&&this._enabled&&!this._isClosed&&(KP.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())})),gk("info",this,"constructor",{trackId:i,deviceId:e.label,constraints:n,config:t}),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._config.encoderConfig&&(this._encoderConfig=Ck(this._config.encoderConfig)),IW.on(pW.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),IW.on(pW.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),this.bindProcessorContextEvents()}async setDevice(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CAM_VIDEO_TRACK_SET_DEVICE,options:[this.getTrackId(),e]});if(KP.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),pk("info",this,"setDevice",e),this._enabled)try{const n=await zW.getDeviceById(e),r={};r.video=$J({},this._constraints),r.video.deviceId={exact:e},r.video.facingMode=void 0,this._originMediaStreamTrack.stop();let o=null;try{o=await QW(r,this.getTrackId())}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),pk("error",this,"setDevice",e,t.toString()),o=await QW({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(o.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(r){throw t.onError(r),KP.error("[".concat(this.getTrackId(),"] setDevice error"),r.toString()),pk("error",this,"setDevice",e,r.toString()),r}else try{const t=await zW.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(r){throw t.onError(r),KP.error("[".concat(this.getTrackId(),"] setDevice error"),r.toString()),pk("error",this,"setDevice",e,r.toString()),r}KP.info("[".concat(this.getTrackId(),"] setDevice success")),pk("info",this,"setDevice",e,"success"),t.onSuccess()}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(KP.info("[".concat(this.getTrackId(),"] start setEnabled"),e),pk("info",this,"setEnabled",e),!e){this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),t||(this._enabled=!1);try{await SQ(this,Jx.NEED_DISABLE_TRACK,this)}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}return KP.info("[".concat(this.getTrackId(),"] setEnabled to false success")),void pk("info",this,"setEnabled",e,"success")}const n=$J({},this._constraints),r=zW.searchDeviceIdByName(this._deviceName);r&&!n.deviceId&&(n.deviceId={exact:r});try{const e=await QW({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),await SQ(this,Jx.NEED_ENABLE_TRACK,this)}catch(t){throw KP.error("[".concat(this.getTrackId(),"] setEnabled true error"),t.toString()),pk("error",this,"setEnabled",e,t.toString()),t}this.updateMediaStreamTrackResolution(),KP.info("[".concat(this.getTrackId(),"] setEnabled to true success")),pk("info",this,"setEnabled",e,"success"),t||(this._enabled=!0)}async setEncoderConfiguration(e,t){const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG,options:[this.getTrackId(),e]});if(!this._enabled){const e=new BP(MP.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");throw n.onError(e),e}e=Ck(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const r=NQ(this._config);r.encoderConfig=e;const o=bJ(r);(gR()||mR()||wR())&&(o.deviceId=void 0),KP.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(o)),pk("debug",this,"setEncoderConfiguration",e);try{await this._originMediaStreamTrack.applyConstraints(o),this.updateMediaStreamTrackResolution()}catch(e){const t=new BP(MP.UNEXPECTED_ERROR,e.toString());throw KP.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),pk("error",this,"setEncoderConfiguration",e.toString()),n.onError(t),t}this._config=r,this._constraints=o,this._originalConstraints=o,this._encoderConfig=e,-1===this._hints.indexOf(Xx.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await SQ(this,Jx.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return n.onError(e),e.throw()}n.onSuccess()}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((mR()||wR())&&this._enabled&&!this._isClosed&&IW.duringInterruption){const e=async()=>{IW.off(pW.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(KP.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),uk("debug",this,"try capture camera media device for interrupted iOS device."),await this.setEnabled(!1),await this.setEnabled(!0))};IW.on(pW.IOS_INTERRUPTION_END,e)}else KP.debug("[".concat(this.getTrackId(),"] track ended")),fk("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(eL.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=zW.searchDeviceIdByName(this._deviceName);n&&!t.deviceId&&(t.deviceId={exact:n});const r=await QW({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}close(){super.close(),IW.off(pW.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),IW.off(pW.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat)}bindProcessorContextEvents(){this.processorContext.on(AL.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(AL.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}).prototype,"setDevice",[QJ],Object.getOwnPropertyDescriptor(JJ.prototype,"setDevice"),JJ.prototype),BV(JJ.prototype,"setEnabled",[GJ,KJ,qJ],Object.getOwnPropertyDescriptor(JJ.prototype,"setEnabled"),JJ.prototype),BV(JJ.prototype,"setEncoderConfiguration",[zJ],Object.getOwnPropertyDescriptor(JJ.prototype,"setEncoderConfiguration"),JJ.prototype),YJ=JJ))||YJ);class nX{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio)return this._audioTrack}get videoTrack(){if(this.hasVideo)return this._videoTrack}constructor(e,t){LR(this,"uid",void 0),LR(this,"_uintid",void 0),LR(this,"_trust_in_room_",!0),LR(this,"_trust_audio_enabled_state_",!0),LR(this,"_trust_video_enabled_state_",!0),LR(this,"_trust_audio_mute_state_",!0),LR(this,"_trust_video_mute_state_",!0),LR(this,"_audio_muted_",!1),LR(this,"_video_muted_",!1),LR(this,"_audio_enabled_",!0),LR(this,"_video_enabled_",!0),LR(this,"_audio_added_",!1),LR(this,"_video_added_",!1),LR(this,"_trust_video_stream_added_state_",!0),LR(this,"_trust_audio_stream_added_state_",!0),LR(this,"_audioTrack",void 0),LR(this,"_videoTrack",void 0),LR(this,"_audioSSRC",void 0),LR(this,"_videoSSRC",void 0),LR(this,"_audioOrtc",void 0),LR(this,"_videoOrtc",void 0),LR(this,"_cname",void 0),LR(this,"_rtxSsrcId",void 0),this.uid=e,this._uintid=t}}var rX=oS,oX=$E,iX=s_;Yd({target:"Promise",stat:!0},{try:function(e){var t=oX.f(this),n=iX(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var aX=rX,sX=Yd,cX=Fc,uX=Rc,lX=TU,dX=bu,fX=fl,pX=nf,hX=Qk,gX=jU,vX=mV,mX=xu,yX=Pl("isConcatSpreadable"),AX=9007199254740991,bX="Maximum allowed index exceeded",EX=cX.TypeError,_X=mX>=51||!uX((function(){var e=[];return e[yX]=!1,e.concat()[0]!==e})),wX=vX("concat"),SX=function(e){if(!dX(e))return!1;var t=e[yX];return void 0!==t?!!t:lX(e)};sX({target:"Array",proto:!0,forced:!_X||!wX},{concat:function(e){var t,n,r,o,i,a=fX(this),s=gX(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(SX(i=-1===t?a:arguments[t])){if(c+(o=pX(i))>AX)throw EX(bX);for(n=0;n<o;n++,c++)n in i&&hX(s,c,i[n])}else{if(c>=AX)throw EX(bX);hX(s,c++,i)}return s.length=c,s}});var CX={},IX=su,OX=yu,TX=pv.f,RX=Jk,NX="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];CX.f=function(e){return NX&&"Window"==IX(e)?function(e){try{return TX(e)}catch(e){return RX(NX)}}(e):TX(OX(e))};var PX={},kX=Pl;PX.f=kX;var DX=Eu,xX=gl,LX=PX,jX=md.f,MX=function(e){var t=DX.Symbol||(DX.Symbol={});xX(t,e)||jX(t,e,{value:LX.f(e)})},BX=Yd,FX=Fc,UX=Iu,VX=Qc,WX=Jc,HX=jc,QX=qc,GX=Mu,KX=Rc,qX=gl,zX=TU,YX=Gc,JX=bu,XX=Mc,ZX=Qu,$X=wd,eZ=fl,tZ=yu,nZ=Wl,rZ=py,oZ=ru,iZ=pm,aZ=qv,sZ=pv,cZ=CX,uZ=Dv,lZ=Kc,dZ=md,fZ=Qv,pZ=Xc,hZ=$b,gZ=bA,vZ=rl.exports,mZ=wv,yZ=bl,AZ=Pl,bZ=PX,EZ=MX,_Z=BA,wZ=fA,SZ=QU.forEach,CZ=zg("hidden"),IZ="Symbol",OZ=AZ("toPrimitive"),TZ=wZ.set,RZ=wZ.getterFor(IZ),NZ=Object.prototype,PZ=FX.Symbol,kZ=PZ&&PZ.prototype,DZ=FX.TypeError,xZ=FX.QObject,LZ=UX("JSON","stringify"),jZ=lZ.f,MZ=dZ.f,BZ=cZ.f,FZ=pZ.f,UZ=HX([].push),VZ=vZ("symbols"),WZ=vZ("op-symbols"),HZ=vZ("string-to-symbol-registry"),QZ=vZ("symbol-to-string-registry"),GZ=vZ("wks"),KZ=!xZ||!xZ.prototype||!xZ.prototype.findChild,qZ=QX&&KX((function(){return 7!=iZ(MZ({},"a",{get:function(){return MZ(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=jZ(NZ,t);r&&delete NZ[t],MZ(e,t,n),r&&e!==NZ&&MZ(NZ,t,r)}:MZ,zZ=function(e,t){var n=VZ[e]=iZ(kZ);return TZ(n,{type:IZ,tag:e,description:t}),QX||(n.description=t),n},YZ=function(e,t,n){e===NZ&&YZ(WZ,t,n),$X(e);var r=nZ(t);return $X(n),qX(VZ,r)?(n.enumerable?(qX(e,CZ)&&e[CZ][r]&&(e[CZ][r]=!1),n=iZ(n,{enumerable:oZ(0,!1)})):(qX(e,CZ)||MZ(e,CZ,oZ(1,{})),e[CZ][r]=!0),qZ(e,r,n)):MZ(e,r,n)},JZ=function(e,t){$X(e);var n=tZ(t),r=aZ(n).concat(e$(n));return SZ(r,(function(t){QX&&!WX(XZ,n,t)||YZ(e,t,n[t])})),e},XZ=function(e){var t=nZ(e),n=WX(FZ,this,t);return!(this===NZ&&qX(VZ,t)&&!qX(WZ,t))&&(!(n||!qX(this,t)||!qX(VZ,t)||qX(this,CZ)&&this[CZ][t])||n)},ZZ=function(e,t){var n=tZ(e),r=nZ(t);if(n!==NZ||!qX(VZ,r)||qX(WZ,r)){var o=jZ(n,r);return!o||!qX(VZ,r)||qX(n,CZ)&&n[CZ][r]||(o.enumerable=!0),o}},$Z=function(e){var t=BZ(tZ(e)),n=[];return SZ(t,(function(e){qX(VZ,e)||qX(mZ,e)||UZ(n,e)})),n},e$=function(e){var t=e===NZ,n=BZ(t?WZ:tZ(e)),r=[];return SZ(n,(function(e){!qX(VZ,e)||t&&!qX(NZ,e)||UZ(r,VZ[e])})),r};if(GX||(gZ(kZ=(PZ=function(){if(XX(kZ,this))throw DZ("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?rZ(arguments[0]):void 0,t=yZ(e),n=function(e){this===NZ&&WX(n,WZ,e),qX(this,CZ)&&qX(this[CZ],t)&&(this[CZ][t]=!1),qZ(this,t,oZ(1,e))};return QX&&KZ&&qZ(NZ,t,{configurable:!0,set:n}),zZ(t,e)}).prototype,"toString",(function(){return RZ(this).tag})),gZ(PZ,"withoutSetter",(function(e){return zZ(yZ(e),e)})),pZ.f=XZ,dZ.f=YZ,fZ.f=JZ,lZ.f=ZZ,sZ.f=cZ.f=$Z,uZ.f=e$,bZ.f=function(e){return zZ(AZ(e),e)},QX&&MZ(kZ,"description",{configurable:!0,get:function(){return RZ(this).description}})),BX({global:!0,wrap:!0,forced:!GX,sham:!GX},{Symbol:PZ}),SZ(aZ(GZ),(function(e){EZ(e)})),BX({target:IZ,stat:!0,forced:!GX},{for:function(e){var t=rZ(e);if(qX(HZ,t))return HZ[t];var n=PZ(t);return HZ[t]=n,QZ[n]=t,n},keyFor:function(e){if(!ZX(e))throw DZ(e+" is not a symbol");if(qX(QZ,e))return QZ[e]},useSetter:function(){KZ=!0},useSimple:function(){KZ=!1}}),BX({target:"Object",stat:!0,forced:!GX,sham:!QX},{create:function(e,t){return void 0===t?iZ(e):JZ(iZ(e),t)},defineProperty:YZ,defineProperties:JZ,getOwnPropertyDescriptor:ZZ}),BX({target:"Object",stat:!0,forced:!GX},{getOwnPropertyNames:$Z,getOwnPropertySymbols:e$}),BX({target:"Object",stat:!0,forced:KX((function(){uZ.f(1)}))},{getOwnPropertySymbols:function(e){return uZ.f(eZ(e))}}),LZ&&BX({target:"JSON",stat:!0,forced:!GX||KX((function(){var e=PZ();return"[null]"!=LZ([e])||"{}"!=LZ({a:e})||"{}"!=LZ(Object(e))}))},{stringify:function(e,t,n){var r=hZ(arguments),o=t;if((JX(t)||void 0!==e)&&!ZX(e))return zX(t)||(t=function(e,t){if(YX(o)&&(t=WX(o,this,e,t)),!ZX(t))return t}),r[1]=t,VX(LZ,null,r)}}),!kZ[OZ]){var t$=kZ.valueOf;gZ(kZ,OZ,(function(e){return WX(t$,this)}))}_Z(PZ,IZ),mZ[CZ]=!0,MX("asyncIterator"),MX("hasInstance"),MX("isConcatSpreadable"),MX("iterator"),MX("match"),MX("matchAll"),MX("replace"),MX("search"),MX("species"),MX("split"),MX("toPrimitive"),MX("toStringTag"),MX("unscopables"),BA(Fc.JSON,"JSON",!0);var n$=Eu.Symbol;MX("asyncDispose"),MX("dispose"),MX("matcher"),MX("metadata"),MX("observable"),MX("patternMatch"),MX("replaceAll");var r$=n$,o$=PX.f("asyncIterator"),i$=o$;function a$(e){this.wrapped=e}function s$(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof a$;aX.resolve(s?a.wrapped:a).then((function(e){s?r("return"===t?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new aX((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function c$(e){return function(){return new s$(e.apply(this,arguments))}}function u$(e){return new a$(e)}s$.prototype["function"==typeof r$&&i$||"@@asyncIterator"]=function(){return this},s$.prototype.next=function(e){return this._invoke("next",e)},s$.prototype.throw=function(e){return this._invoke("throw",e)},s$.prototype.return=function(e){return this._invoke("return",e)};var l$=PX.f("iterator");function d$(e,t){var n={},r=!1;function o(n,o){return r=!0,o=new aX((function(t){t(e[n](o))})),{done:!1,value:t(o)}}return n[void 0!==r$&&l$||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):o("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return o("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):o("return",e)}),n}var f$=o$,p$=Gr,h$=a,g$=r,v$=w,m$=je,y$=F,A$=K,b$=Of,E$=Ct.f,_$=Tr,w$=g$.Symbol,S$=w$&&w$.prototype;if(h$&&y$(w$)&&(!("description"in S$)||void 0!==w$().description)){var C$={},I$=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:b$(arguments[0]),t=A$(S$,this)?new w$(e):void 0===e?w$():w$(e);return""===e&&(C$[t]=!0),t};_$(I$,w$),I$.prototype=S$,S$.constructor=I$;var O$="Symbol(test)"==String(w$("test")),T$=v$(S$.toString),R$=v$(S$.valueOf),N$=/^Symbol\((.*)\)[^)]+$/,P$=v$("".replace),k$=v$("".slice);E$(S$,"description",{configurable:!0,get:function(){var e=R$(this),t=T$(e);if(m$(C$,e))return"";var n=O$?k$(t,7,-1):P$(t,N$,"$1");return""===n?void 0:n}}),p$({global:!0,forced:!0},{Symbol:I$})}var D$={exports:{}};function x$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x$(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j$(e,t,n,r,o,i,a){let s=[],c=[],u=[],l=[],d=!1,f=!1;if(D$.exports.parse(e).mediaDescriptions.forEach((e=>{a&&a!==e.attributes.direction||("video"!==e.media.mediaType||d||(c=e.attributes.payloads,l=e.attributes.extmaps,d=!0),"audio"!==e.media.mediaType||f||(s=e.attributes.payloads,u=e.attributes.extmaps,f=!0))})),!l||0===c.length)throw new Error("Cannot get video capabilities from SDP.");if(!u||0===s.length)throw new Error("Cannot get audio capabilities from SDP.");return c.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),s.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),t&&(s=s.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),c=c.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),n&&(c=c.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),r&&(s=s.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),o&&(null==o?void 0:o.length)>0&&(s=s.filter((e=>{var t;return o.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),i&&(null==i?void 0:i.length)>0&&(c=c.filter((e=>{var t;return i.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),{audioCodecs:s,videoCodecs:c,audioExtensions:u,videoExtensions:l}}function M$(e){const t=D$.exports.parse(e);let n,r;for(const o of t.mediaDescriptions){if(!n){const e=o.attributes.iceUfrag,t=o.attributes.icePwd;if(!e||!t)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:e,icePwd:t}}if(!r){const e=o.attributes.fingerprints;e.length>0&&(r={fingerprints:e})}}if(!r&&t.attributes.fingerprints.length>0&&(r={fingerprints:t.attributes.fingerprints}),!r||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:r}}function B$(e,t,n){const{cname:r}=e;let o;void 0!==t&&void 0!==n?(o=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t,port:n.toString(),type:"host",extension:{}}],KP.debug("Using remote candidate from AP ".concat(t,":").concat(n)),uk("debug",[],"Using remote candidate from AP ".concat(t,":").concat(n))):o=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})));const i={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},a={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let s;switch(e.dtlsParameters.role){case"server":s="passive";break;case"client":s="active";break;case"auto":s="actpass"}return{dtlsParameters:i,iceParameters:a,candidates:o,rtpCapabilities:G$(e.rtpCapabilities),setup:s,cname:r}}function F$(e,t,n){const r=[],o=[];return e.forEach((e=>{let{ssrcId:i,rtx:a}=e;const s=yQ(8,"track-"),c={ssrcId:i,attributes:L$({label:s,mslabel:n=n||yQ(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(r.push(c),void 0!==a){const e={ssrcId:a,attributes:L$({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};r.push(e),o.push({semantic:"FID",ssrcIds:[i,a]})}})),e.length>1&&o.push({semantic:"SIM",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:r,ssrcGroups:o}}function U$(e,t){t instanceof QH&&e.attributes.payloads.forEach((e=>{var n;const r=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!r||-1===["opus","pcmu","pcma","g722"].indexOf(r))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const o=t._encoderConfig;o&&("pcmu"!==r&&"pcma"!==r&&"g722"!==r&&(o.bitrate&&!vR()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*o.bitrate))),o.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(o.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(o.sampleRate))),o.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}))}function V$(e){const t=e.attributes.unrecognized.findIndex((e=>"x-google-flag"===e.attField&&"conference"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function W$(e,t){if(!(t instanceof eX&&t._encoderConfig&&-1===t._hints.indexOf(Xx.SCREEN_TRACK)))return;const n=t._encoderConfig;SL().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(n.bitrateMin))})),SL().supportMinBitrate&&!t._hints.includes(Xx.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(Pk("X_GOOGLE_START_BITRATE")||Math.floor(n.bitrateMax)))}))}function H$(e,t,n){if(!t)return;let r,o;if("video"===e.media.mediaType?(r=n.videoExtensions,o=n.videoCodecs):(r=n.audioExtensions,o=n.audioCodecs),!0===t.tcc){const t=r.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&(e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))))))}(o,e.attributes.payloads).forEach((e=>{e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))||e.rtcpFeedbacks.push({type:"transport-cc"})})))}else if(!1===t.tcc){const t=e.attributes.extmaps.findIndex((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=r.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));t&&(e.attributes.extmaps.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))))))}(o,e.attributes.payloads).forEach((e=>{e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))||e.rtcpFeedbacks.push({type:"goog-remb"})})))}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"goog-remb"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function Q$(e,t,n,r,o,i){if("videoExtensions"===n||"audioExtensions"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?i[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&o[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(n),!0}))?i[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&o[n].push(e)}))}}function G$(e){const{send:t,recv:n,sendrecv:r}=e;if(!r){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let o,i;return t?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...t.audioCodecs,...r.audioCodecs],o.videoCodecs=[...t.videoCodecs,...r.videoCodecs],o.audioExtensions=[...t.audioExtensions,...r.audioExtensions],o.videoExtensions=[...t.videoExtensions,...r.videoExtensions]):o=r,n?(i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i.audioCodecs=[...n.audioCodecs,...r.audioCodecs],i.videoCodecs=[...n.videoCodecs,...r.videoCodecs],i.audioExtensions=[...n.audioExtensions,...r.audioExtensions],i.videoExtensions=[...n.videoExtensions,...r.videoExtensions]):i=r,{send:o,recv:i}}!function(e,t){e.exports=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>_,Printer:()=>O,parse:()=>P,print:()=>k});const r="\n",o="".concat("\r").concat(r),i=" ";let a;function s(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function u(e){return c(e)||e>=""&&e<="ÿ"}function l(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function d(e){return e>="1"&&e<="9"}function f(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function h(e){return e>""&&e<"\t"||e>"\v"&&e<"\f"||e>""&&e<"ÿ"}function g(e){return f(e)||s(e)||"+"===e||"/"===e}function v(e){return s(e)||f(e)||"+"===e||"/"===e||"-"===e||"_"===e}function m(e){return f(e)||s(e)||"+"===e||"/"===e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(a||(a={}));class E{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===r)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,i)}consumeOneOrMore(e,t,n){let r=t;for(;n(e[r]);)r++;if(r-t==0)throw new Error("Invalid rule at ".concat(t,"."));return r}consumeSpace(e,t){if(e[t]===i)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let r=0;r<4;r++)if(n=this.consumeDecimalUChar(e,n),3!==r){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let o=0;o<3&&s(e[n]);o++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const r=parseInt(e.slice(t,n));if(r>=0&&r<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((r=e[t+n])>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F")){if(0===n)throw new Error("Invalid hex 4");break}var r;return t+n}consumeFQDN(e,t){let n=t;for(;s(e[n])||f(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,u)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const r=e.slice(t,n),o=parseInt(r);if(o<224||o>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let i=0;i<3;i++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!d(e[t]))throw new Error("Invalid integer.");for(t+=1;s(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!d(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&s(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,l)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(d(e[n])&&(n+=1);s(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,i)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,s),p(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!d(e[t]))throw new Error("Invalid repeat interval");for(t+=1;s(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,s)}consume(e,t,n){for(let r=0;r<n.length;r++){if(t+r>=e.length)throw new Error("consume exceeding value length");if(e[t+r]!==n[r])throw new Error("consume ".concat(n," failed at ").concat(r))}return t+n.length}consumeTill(e,t,n){let r=t;for(;r<e.length&&("string"!=typeof n||e[r]!==n)&&("function"!=typeof n||!n(e[r]));)r++;return r}}class _ extends E{constructor(){super(),b(this,"records",[]),b(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),r=this.parseOrigin(),o=this.parseSessionName(),i=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),l=this.parseBandWidth(),d=this.parseTimeFields(),f=this.parseKey(),p=this.parseSessionAttribute(),h=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:r,sessionName:o,information:i,uri:a,emails:s,phones:c,connection:u,bandwidths:l,timeFields:d,key:f,attributes:p,mediaDescriptions:h}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===r)return"\r"===e[t-1]?o:r;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new S;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,(e=>l(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,h)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new C(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,(e=>l(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,h)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===a.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===a.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let r=!1;"-"===e.value[e.cur]&&(r=!0,e.cur+=1);const o=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:o,back:r})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),r=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:r}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.BANDWIDTH)break;{const n=this.extractOneOrMore(t,l);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const r=this.extractOneOrMore(t,s);e.push({bwtype:n,bandwidth:r}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==a.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,s));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==a.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:r,nettype:o,addrtype:i,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===a.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==a.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===a.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===a.CONNECTION){const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const r=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:r}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const r=[];for(r.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,r.push(this.extract(e,this.consumeToken));if(0===r.length)throw new Error("Invalid proto");const o=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:r,fmts:o}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===a.TIME;){const t=this.parseTime(),n=this.parseRepeat(),r=this.parseZone();e.push({time:t,repeats:n,zones:r})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),r=this.parseConnections(),o=this.parseBandWidth(),i=this.parseKey(),a=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:r,bandwidths:o,key:i,attributes:a})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t,...n){const r=t.call(this,e.value,e.cur,...n),o=e.value.slice(e.cur,r);return e.cur=r,o}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),r=e.value.slice(e.cur,n);return e.cur=n,r}consumeSpaceForRecord(e){if(e.value[e.cur]!==i)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class w extends E{constructor(...e){super(...e),b(this,"attributes",void 0),b(this,"digested",!1)}extractOneOrMore(e,t,n){const r=this.consumeOneOrMore(e.attValue,e._cur,t),o=e.attValue.slice(e._cur,r),[i,a]=n||[];if("number"==typeof i&&o.length<i)throw new Error("error in length, should be more or equal than ".concat(i," characters."));if("number"==typeof a&&o.length>a)throw new Error("error in length, should be less or equal than ".concat(a," characters."));return e._cur=r,o}consumeAttributeSpace(e){if(e.attValue[e._cur]!==i)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t,...n){if(!e.attValue)throw new Error("Nothing to extract from attValue.");const r=t.call(this,e.attValue,e._cur,...n),o=e.attValue.slice(e._cur,r);return e._cur=r,o}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,g,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,g,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,g));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,s);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,i),o=A(A({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:r});this.peekChar(e)===i&&(this.consumeAttributeSpace(e),o.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(o)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class S extends w{constructor(...e){super(...e),b(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===i;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,v)}parseIdentity(e){const t=this.extractOneOrMore(e,m),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===i;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const r=this.extractOneOrMore(e,(e=>e!==i&&h(e)));n.push({name:t,value:r})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===i&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,i);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class C extends w{constructor(e){super(),b(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,g,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const o=this.extractOneOrMore(e,s,[1,10]);this.consumeAttributeSpace(e);const a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const u=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const l={foundation:t,componentId:n,transport:r,priority:o,connectionAddress:a,port:u,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),l.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),l.relPort=this.extract(e,this.consumePort));this.peekChar(e)===i;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),l.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(l)}parseRemoteCandidate(e){const t=[];for(;;){const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const o=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:r,port:o});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const r={encodingName:n,clockRate:this.extractOneOrMore(e,s)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),r.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const o=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));o?o.rtpMap=r:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:r,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,s);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let r;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),r=this.extract(e,this.consumeTill));const o=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));o?o.attributes[n]=r:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:r}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,i);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),r={};n.split(";").forEach((e=>{let[t,n]=e.split("=");t=t.trim(),n="string"==typeof n?n.trim():n,"string"==typeof t&&t.length>0&&(r[t]=n)}));const o=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));o?o.fmtp={parameters:r}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:r}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");for(t[n]=r;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");t[n]=r}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,i),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,i);let r;switch(n){case"trr-int":r={type:n,interval:this.extract(e,this.consumeTill)};break;case"ack":case"nack":default:{const t={type:n};this.peekChar(e)===i&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===i&&(t.additional=this.extract(e,this.consumeTill))),r=t}}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(r);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(r):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[r]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===i&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,l,[1,64])};this.peekChar(e)===i&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,l,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>f(e)||s(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===i){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=t,this.peekChar(e)===i&&this.extract(e,this.consume,i)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const r={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(r);break}case"max-width":case"height-width":case"max-fps":case"max-fs":case"max-br":case"max-pps":case"max-bpp":default:{const r={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),r.val=this.extract(e,this.consumeTill,";")),n.params.push(r)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,s,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,s,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O{constructor(){I(this,"eol",o)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new R(this.eol).print(e)}printMediaAttributes(e){return new N(this.eol).print(e)}}class T{constructor(e){I(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(i)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(i).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(i).concat(e.extensionName).concat(e.extensionAttributes?"".concat(i).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class R extends T{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(i).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(i).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(i,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(i).concat(e)))),t+this.eol}}class N extends T{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCRPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(i).concat(e.componentId).concat(i).concat(e.transport).concat(i).concat(e.priority).concat(i).concat(e.connectionAddress).concat(i).concat(e.port).concat(i,"typ").concat(i).concat(e.type).concat(e.relAddr?"".concat(i,"raddr").concat(i).concat(e.relAddr):"").concat(e.relPort?"".concat(i,"rport").concat(i).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(i).concat(t).concat(i).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(i)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const r of t)n+=this.printRtpMap(r.payloadType,r.rtpMap),n+=this.printFmtp(r.payloadType,r.fmtp),n+=r.rtcpFeedbacks.map((e=>this.printRTCPFeedback(r.payloadType,e))).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&void 0===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(i).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(i).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(i).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(i),r=t;switch(r.type){case"trr-int":n+="ttr-int".concat(i).concat(r.interval);break;case"ack":case"nack":default:n+="".concat(r.type),r.parameter&&(n+="".concat(i).concat(r.parameter),r.additional&&(n+="".concat(i).concat(r.additional)))}return n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(i).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(i).concat(e.netType)),e.addressType&&(t+="".concat(i).concat(e.addressType)),e.address&&(t+="".concat(i).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(i).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(i).concat(e.direction);return e.payloads&&(t+="".concat(i,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(i).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCRPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(i).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function P(e){return(new _).parse(e)}function k(e,t){return(new O).print(e,t)}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})()}(D$);class K${constructor(e){LR(this,"sessionDesc",void 0),LR(this,"localCapabilities",void 0),LR(this,"rtpCapabilities",void 0),LR(this,"candidates",void 0),LR(this,"iceParameters",void 0),LR(this,"dtlsParameters",void 0),LR(this,"setup",void 0),LR(this,"currentMidIndex",void 0),LR(this,"cname",void 0),e=NQ(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:o,remoteSetup:i,localCapabilities:a,sdkCodec:s,cname:c}=e,u=D$.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=o,this.candidates=r,this.iceParameters=t,this.dtlsParameters=n,this.setup=i,this.localCapabilities=a,this.cname=c;for(let l=0;l<u.mediaDescriptions.length;l++){const e=u.mediaDescriptions[l];if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=r,e.attributes.setup=i,"video"===e.media.mediaType){e.media.fmts=o.videoCodecs.map((e=>e.payloadType.toString(10)));const t=o.videoCodecs.filter((e=>{var t;return null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase().includes(s)}));if(0===t.length)throw new Error("Codec ".concat(s," not supported by remote SDP."));e.attributes.payloads=t,e.attributes.extmaps=o.videoExtensions}"audio"===e.media.mediaType&&(e.media.fmts=o.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=o.audioCodecs,e.attributes.extmaps=o.audioExtensions),u.mediaDescriptions[l]=this.mungMediaDesc(e)}this.sessionDesc=u,this.currentMidIndex=u.mediaDescriptions.length-1}toString(){return D$.exports.print(this.sessionDesc)}send(e,t,n){const{ssrcs:r,ssrcGroups:o}=F$(t,this.cname),i=this.sessionDesc.mediaDescriptions.find((t=>e===lL.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType)),a=r[0].attributes.label,s=r[0].attributes.mslabel;return i.attributes.ssrcs=i.attributes.ssrcs.concat(r),i.attributes.ssrcGroups=i.attributes.ssrcGroups.concat(o),{id:a,mslabel:s}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const n=[],r=[],o=[];t.attributes.ssrcs.forEach((t=>{e.includes(t.attributes.label||"")?o.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((e=>{o.map((e=>e.ssrcId)).includes(e.ssrcIds[0])||r.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=r}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===n.kind)),o=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r],e);this.sessionDesc.mediaDescriptions[r]=o}))}stopReceiving(e){}restartICE(e,t){e=NQ(e),t=NQ(t),this.iceParameters=e,this.candidates=t,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.candidates=this.candidates}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=NQ(e);return U$(n,t),W$(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const r=this.sessionDesc.mediaDescriptions.find((t=>e===lL.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid));if(r){const e=r.attributes.ssrcs.find((e=>e.attributes.label===t));var o;e&&(e.attributes.label=n,null===(o=e.attributes.msid)||void 0===o||o.replace(t,n))}}mungMediaDesc(e){const t=NQ(e);return V$(t),function(e){const t=e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}function q$(e){if(Array.isArray(e))return e.map((function(e){return e}));if(!z$(e))return e;var t={};for(var n in e)z$(e[n])||Array.isArray(e[n])?t[n]=q$(e[n]):t[n]=e[n];return t}function z$(e){return!("object"!=typeof e||Array.isArray(e)||!e)}var Y$=function(){function e(e){this.input=[],this.size=e}return e.prototype.add=function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)},e.prototype.diffMean=function(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length},e}(),J$=function(e,t){return(J$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */function X$(e,t){function n(){this.constructor=e}J$(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Z$=function(){return(Z$=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function $$(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function e0(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var t0,n0={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},r0={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:n0,remoteCandidate:n0}},o0={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},i0={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,qpSumPerFrame:0},a0={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},s0={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0},c0=function(){function e(e,t){var n=this;this.videoIsReady=!1,this.videoIsReady2={},this.stats=q$(r0),this.isFirstVideoReceived={},this.isFirstVideoDecoded={},this.isFirstAudioReceived={},this.isFirstAudioDecoded={},this.lossRateWindowStats=[],this.pc=e,this.options=t,this.intervalTimer=window.setInterval((function(){return $$(n,void 0,void 0,(function(){return e0(this,(function(e){return this.updateStats(),[2]}))}))}),this.options.updateInterval)}return e.prototype.getStats=function(){return this.stats},e.prototype.setVideoIsReady=function(e){this.videoIsReady=e},e.prototype.setVideoIsReady2=function(e,t){this.videoIsReady2[e]=t},e.prototype.getVideoIsReady=function(e){return this.videoIsReady2[e]||!1},e.prototype.setIsFirstAudioDecoded=function(e){},e.prototype.destroy=function(){window.clearInterval(this.intervalTimer),this.pc=void 0},e.prototype.calcLossRate=function(e){var t=this;this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);for(var n=this.lossRateWindowStats.length,r=0,o=0,i=0,a=0,s=function(s){e[s].forEach((function(e,c){if(t.lossRateWindowStats[n-1][s][c]&&t.lossRateWindowStats[0][s][c]){var u=t.lossRateWindowStats[n-1][s][c].packets-t.lossRateWindowStats[0][s][c].packets,l=t.lossRateWindowStats[n-1][s][c].packetsLost-t.lossRateWindowStats[0][s][c].packetsLost;"videoSend"===s||"audioSend"===s?(r+=u,i+=l):(o+=u,a+=l),Number.isNaN(u)||Number.isNaN(u)?e.packetLostRate=0:e.packetLostRate=u<=0||l<=0?0:l/(u+l)}}))},c=0,u=["videoSend","audioSend","videoRecv","audioRecv"];c<u.length;c++)s(u[c]);e.sendPacketLossRate=r<=0||i<=0?0:i/(r+i),e.recvPacketLossRate=o<=0||a<=0?0:a/(o+a)},e}(),u0=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=r0,t.lastDecodeVideoReceiverStats=new Map,t}return X$(t,e),t.prototype.updateStats=function(){return $$(this,void 0,void 0,(function(){var e,t,n,r;return e0(this,(function(o){switch(o.label){case 0:return[4,this._getStats()];case 1:return e=o.sent(),t=this.statsResponsesToObjects(e),this._stats=q$(r0),n=t.filter((function(e){return"ssrc"===e.type})),this.processSSRCStats(n),(r=t.find((function(e){return"VideoBwe"===e.type})))&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processBandwidthStats=function(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)},t.prototype.processSSRCStats=function(e){var t=this;e.forEach((function(e){var n=e.id.includes("send");switch(e.mediaType+"_"+(n?"send":"recv")){case"video_send":var r=q$(i0);r.codec=e.googCodecName,r.adaptionChangeReason="none",e.googCpuLimitedResolution&&(r.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(r.adaptionChangeReason="bandwidth"),r.avgEncodeMs=Number(e.googAvgEncodeMs),r.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.firsCount=Number(e.googFirReceived),r.nacksCount=Number(e.googNacksReceived),r.plisCount=Number(e.googPlisReceived),r.frameCount=Number(e.framesEncoded),r.bytes=Number(e.bytesSent),r.packets=Number(e.packetsSent),r.packetsLost=Number(e.packetsLost),r.ssrc=Number(e.ssrc),r.rttMs=Number(e.googRtt||0),t._stats.videoSend.push(r),t._stats.rtt=r.rttMs;break;case"video_recv":var o=q$(o0),i=t.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(o.codec=e.googCodecName,o.targetDelayMs=Number(e.googTargetDelayMs),o.renderDelayMs=Number(e.googRenderDelayMs),o.currentDelayMs=Number(e.googCurrentDelayMs),o.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),o.decodeMs=Number(e.googDecodeMs),o.maxDecodeMs=Number(e.googMaxDecodeMs),o.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},o.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},o.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},o.jitterBufferMs=Number(e.googJitterBufferMs),o.firsCount=Number(e.googFirsSent),o.nacksCount=Number(e.googNacksSent),o.plisCount=Number(e.googPlisSent),o.framesDecodeCount=Number(e.framesDecoded),o.bytes=Number(e.bytesReceived),o.packets=Number(e.packetsReceived),o.packetsLost=Number(e.packetsLost),o.ssrc=Number(e.ssrc),o.packets>0&&!t.isFirstVideoReceived[o.ssrc]&&(t.onFirstVideoReceived&&t.onFirstVideoReceived(o.ssrc),t.isFirstVideoReceived[o.ssrc]=!0),o.framesDecodeCount>0&&!t.isFirstVideoDecoded[o.ssrc]&&(t.onFirstVideoDecoded&&t.onFirstVideoDecoded(o.ssrc,o.decodedFrame.width,o.decodedFrame.height),t.isFirstVideoDecoded[o.ssrc]=!0),i){var a=i.stats,s=Date.now()-i.lts;o.framesDecodeFreezeTime=a.framesDecodeFreezeTime,o.framesDecodeInterval=a.framesDecodeInterval,o.framesDecodeCount>a.framesDecodeCount&&t.isFirstVideoDecoded[o.ssrc]?(i.lts=Date.now(),o.framesDecodeInterval=s,o.framesDecodeInterval>=t.options.freezeRateLimit&&(t.getVideoIsReady(parseInt(e.ssrc,10))?o.framesDecodeFreezeTime+=o.framesDecodeInterval:t.setVideoIsReady2(parseInt(e.ssrc,10),!0))):o.framesDecodeCount<i.stats.framesDecodeCount&&(o.framesDecodeInterval=0)}t.lastDecodeVideoReceiverStats.set(o.ssrc,{stats:Z$({},o),lts:Date.now()}),t._stats.videoRecv.push(o);break;case"audio_recv":var c=q$(s0);c.codec=e.googCodecName,c.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,c.decodingCNG=Number(e.googDecodingCNG),c.decodingCTN=Number(e.googDecodingCTN),c.decodingCTSG=Number(e.googDecodingCTSG),c.decodingNormal=Number(e.googDecodingNormal),c.decodingPLC=Number(e.googDecodingPLC),c.decodingPLCCNG=Number(e.googDecodingPLCCNG),c.expandRate=Number(e.googExpandRate),c.accelerateRate=Number(e.googAccelerateRate),c.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),c.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),c.speechExpandRate=Number(e.googSpeechExpandRate),c.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),c.jitterBufferMs=Number(e.googJitterBufferMs),c.jitterMs=Number(e.googJitterReceived),c.bytes=Number(e.bytesReceived),c.packets=Number(e.packetsReceived),c.packetsLost=Number(e.packetsLost),c.ssrc=Number(e.ssrc),c.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),c.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),c.receivedFrames>0&&!t.isFirstAudioReceived[c.ssrc]&&(t.onFirstAudioReceived&&t.onFirstAudioReceived(c.ssrc),t.isFirstAudioReceived[c.ssrc]=!0),c.decodingNormal>0&&!t.isFirstAudioDecoded[c.ssrc]&&(t.onFirstAudioDecoded&&t.onFirstAudioDecoded(c.ssrc),t.isFirstAudioDecoded[c.ssrc]=!0),t._stats.audioRecv.push(c);break;case"audio_send":var u=q$(a0);u.codec=e.googCodecName,u.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,u.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),u.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),u.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),u.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),u.bytes=Number(e.bytesSent),u.packets=Number(e.packetsSent),u.packetsLost=Number(e.packetsLost),u.ssrc=Number(e.ssrc),u.rttMs=Number(e.googRtt||0),t._stats.rtt=u.rttMs,t._stats.audioSend.push(u)}}))},t.prototype._getStats=function(){var e=this;return new Promise((function(t,n){e.pc.getStats(t,n)}))},t.prototype.statsResponsesToObjects=function(e){var t=[];return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t.push(n)})),t},t}(c0);!function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(t0||(t0={}));var l0,d0=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=r0,t.lastDecodeVideoReceiverStats=new Map,t.lastVideoFramesRecv=new Map,t.lastVideoFramesSent=new Map,t.lastVideoFramesDecode=new Map,t.lastVideoJBDelay=new Map,t.lastAudioJBDelay=new Map,t.mediaBytesSent=new Map,t.mediaBytesRetransmit=new Map,t.mediaBytesTargetEncode=new Map,t.lastEncoderMs=new Map,t}return X$(t,e),t.prototype.updateStats=function(){return $$(this,void 0,void 0,(function(){var e,t=this;return e0(this,(function(n){switch(n.label){case 0:return e=this,[4,this.pc.getStats()];case 1:return e.report=n.sent(),this._stats=q$(r0),this.report.forEach((function(e){switch(e.type){case t0.OUTBOUND:"audio"===e.mediaType?t.processAudioOutboundStats(e):"video"===e.mediaType&&t.processVideoOutboundStats(e);break;case t0.INBOUND:"audio"===e.mediaType?t.processAudioInboundStats(e):"video"===e.mediaType&&t.processVideoInboundStats(e);break;case t0.TRANSPORT:var n=t.report.get(e.selectedCandidatePairId);n&&t.processCandidatePairStats(n);break;case t0.CANDIDATE_PAIR:e.selected&&t.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processCandidatePairStats=function(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){var t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){var n=this.report.get(e.remoteCandidateId);n&&this.processCandidateStats(n)}},t.prototype.processCandidateStats=function(e){var t;e.type===t0.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===t0.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===t0.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(Z$({},t),Z$({},this.stats.selectedCandidatePair.localCandidate)),e.type===t0.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(Z$({},t),Z$({},this.stats.selectedCandidatePair.remoteCandidate)))},t.prototype.processAudioInboundStats=function(e){var t=this._stats.audioRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=q$(s0),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,e.trackId&&this.processAudioTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0)},t.prototype.processVideoInboundStats=function(e){var t=this._stats.videoRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=q$(o0),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded;var n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),o=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){var i=t.decodedFrame?t.decodedFrame.width:0,a=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,i,a),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){var s=n.stats,c=o-n.lts;t.framesDecodeFreezeTime=s.framesDecodeFreezeTime,t.framesDecodeInterval=s.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&c>this.options.firstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),t.framesDecodeCount>s.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=c,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<s.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}r&&o-r.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((o-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),e.trackId&&this.processVideoTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:Z$({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})},t.prototype.processVideoOutboundStats=function(e){var t=this._stats.videoSend.find((function(t){return t.ssrc===e.ssrc}));t||(t=q$(i0),this._stats.videoSend.push(t));var n,r=this.mediaBytesSent.get(e.ssrc);if(r?r.add(e.bytesSent):((i=new Y$(10)).add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,i)),void 0!==e.retransmittedBytesSent){var o=this.mediaBytesRetransmit.get(e.ssrc);o?o.add(e.retransmittedBytesSent):((i=new Y$(10)).add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,i))}if(e.totalEncodedBytesTarget){var i,a=this.mediaBytesTargetEncode.get(e.ssrc);a?a.add(e.totalEncodedBytesTarget):((i=new Y$(10)).add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,i))}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,e.totalEncodeTime&&e.framesEncoded)if(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{var s=e.framesEncoded-n.lastFrameCount,c=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*c/s}if(e.framesEncoded&&e.qpSum&&(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)),this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),e.trackId&&this.processVideoTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var u=this.findRemoteStatsId(e.ssrc,t0.REMOTE_INBOUND);u&&this.processRemoteInboundStats(u,t)}},t.prototype.processAudioOutboundStats=function(e){var t=this._stats.audioSend.find((function(t){return t.ssrc===e.ssrc}));if(t||(t=q$(a0),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.trackId&&this.processAudioTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var n=this.findRemoteStatsId(e.ssrc,t0.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}},t.prototype.findRemoteStatsId=function(e,t){var n=Array.from(this.report.values()).find((function(n){return n.type===t&&n.ssrc===e}));return n?n.id:null},t.prototype.processVideoMediaSource=function(e,t){var n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})},t.prototype.processAudioMediaSource=function(e,t){var n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)},t.prototype.processVideoTrackSenderStats=function(e,t){var n=this.report.get(e);if(n){var r=0,o=Date.now(),i=this.lastVideoFramesSent.get(t.ssrc);i&&o-i.lts>=800?(r=Math.round((n.framesSent-i.count)/((o-i.lts)/1e3)),this.lastVideoFramesSent.set(t.ssrc,{count:n.framesSent,lts:o,rate:r})):i?r=i.rate:this.lastVideoFramesSent.set(t.ssrc,{count:n.framesSent,lts:o,rate:0}),t.sentFrame={width:n.frameWidth,height:n.frameHeight,frameRate:r}}},t.prototype.processVideoTrackReceiverStats=function(e,t){var n=this.report.get(e);if(n){var r=this.lastVideoFramesRecv.get(t.ssrc),o=Date.now();t.framesReceivedCount=n.framesReceived;var i=0;if(r&&o-r.lts>=800?(i=Math.round((n.framesReceived-r.count)/((o-r.lts)/1e3)),this.lastVideoFramesRecv.set(t.ssrc,{count:n.framesReceived,lts:o,rate:i})):r?i=r.rate:this.lastVideoFramesRecv.set(t.ssrc,{count:n.framesReceived,lts:o,rate:0}),t.receivedFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:i||0},t.decodedFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:t.decodeFrameRate||0},t.outputFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:t.decodeFrameRate||0},n.jitterBufferDelay&&n.jitterBufferEmittedCount){var a=this.lastVideoJBDelay.get(t.ssrc);this.lastVideoJBDelay.set(t.ssrc,{jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount}),a||(a={jitterBufferDelay:0,jitterBufferEmittedCount:0});var s=1e3*(n.jitterBufferDelay-a.jitterBufferDelay)/(n.jitterBufferEmittedCount-a.jitterBufferEmittedCount);t.jitterBufferMs=s,t.currentDelayMs=Math.round(s)}}},t.prototype.processAudioTrackSenderStats=function(e,t){var n=this.report.get(e);n&&(t.aecReturnLoss=n.echoReturnLoss||0,t.aecReturnLossEnhancement=n.echoReturnLossEnhancement||0)},t.prototype.processAudioTrackReceiverStats=function(e,t){var n=this.report.get(e);if(n){if(n.removedSamplesForAcceleration&&n.totalSamplesReceived&&(t.accelerateRate=n.removedSamplesForAcceleration/n.totalSamplesReceived),n.jitterBufferDelay&&n.jitterBufferEmittedCount){var r=this.lastAudioJBDelay.get(t.ssrc);this.lastAudioJBDelay.set(t.ssrc,{jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount}),r||(r={jitterBufferDelay:0,jitterBufferEmittedCount:0});var o=1e3*(n.jitterBufferDelay-r.jitterBufferDelay)/(n.jitterBufferEmittedCount-r.jitterBufferEmittedCount);t.jitterBufferMs=Math.round(o)}t.outputLevel=n.audioLevel;var i=1920;n.totalSamplesDuration&&n.totalSamplesReceived&&(i=n.totalSamplesReceived/n.totalSamplesDuration/50,t.receivedFrames=Math.round(n.totalSamplesReceived/i)),n.concealedSamples&&(t.droppedFrames=Math.round(n.concealedSamples/i))}},t.prototype.processRemoteInboundStats=function(e,t){var n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime))},t.prototype.getCodecFromCodecStats=function(e){var t=this.report.get(e);if(!t)return"";var n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""},t.prototype.updateSendBitrate=function(){var e=0,t=null,n=null;this.mediaBytesSent.forEach((function(t){e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((function(e){t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((function(e){n=null===n?e.diffMean():n+e.diffMean()}));var r=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))},t}(c0),f0=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X$(t,e),t.prototype.updateStats=function(){return Promise.resolve()},t}(c0);function p0(e,t,n,r,o){void 0===t&&(t=250),void 0===n&&(n=8),void 0===r&&(r=500),void 0===o&&(o=1e4);var i,a=(i=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i))&&i[0]?Number(i[0].split("/")[1]):null;return a?a<76?new u0(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o}):new d0(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof Promise}(e)?new d0(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o}):new f0(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:o})}function h0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h0(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let v0=(BV((l0=class e extends vL{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}constructor(t,n){super(t,n),LR(this,"store",void 0),LR(this,"peerConnection",void 0),LR(this,"remoteSDP",void 0),LR(this,"initialOffer",void 0),LR(this,"statsFilter",void 0),LR(this,"useRTX",!1),LR(this,"localCapabilities",void 0),LR(this,"localCandidateCount",0),LR(this,"allCandidatesReceived",!1),LR(this,"mutex",new mW("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=p0(this.peerConnection,void 0,void 0,vR()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=M$(e.sdp),n=j$(e.sdp,!this.useRTX,Pk("FILTER_VIDEO_FEC"),Pk("FILTER_AUDIO_FEC"),["opus"]);return this.localCapabilities=n,this.initialOffer=e,g0(g0({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new BP(MP.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,o,i){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new K$({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r.send,remoteSetup:o,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:i});const a=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t){var n=this;return c$((function*(){const r=yield u$(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=e.map((e=>n.peerConnection.addTrack(e._mediaStreamTrack))),i=yield u$(n.peerConnection.createOffer()),a=D$.exports.parse(i.sdp),s=e.map((e=>{const t=e._mediaStreamTrack,r=a.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!r)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const r=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),o=e.attributes.ssrcGroups;if(0===r.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(o&&r.length>1){const e=o.find((e=>-1!==e.ssrcIds.indexOf(r[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:r[0].ssrcId}]}return[{ssrcId:r[0].ssrcId}]}(r,t.id,n.useRTX)}));let c;try{c=yield s}catch(e){throw o.forEach((e=>{gR()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),e}const u=n.mungSendOfferSDP(i.sdp,e);n.remoteSDP.receive(e,t,c);const l=n.remoteSDP.toString();return yield u$(n.peerConnection.setLocalDescription({type:"offer",sdp:u})),yield u$(n.applySendEncodings(o,e)),yield u$(n.peerConnection.setRemoteDescription({type:"answer",sdp:l})),e.map(((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:s[t],id:n}}))}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{gR()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:o}=this.remoteSDP.send(e,t,r),i=new iS(((t,r)=>{const i=setTimeout((()=>{r(new Error("Cannot receive track, id: ".concat(n)))}),1e4),a=r=>{const s=aR();if(("Safari"===s.name&&11===Number(s.version)||mR())&&r.track.id!==n&&r.streams[0].id===o){var c;const o=r.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,n,r.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(i),void t(o)}if(r.track.id===n)return this.peerConnection.removeEventListener("track",a),clearTimeout(i),void t(r.track)};this.peerConnection.addEventListener("track",a)})),a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:a});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),{track:await i,id:n}}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map((e=>{if(gR()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map((async e=>{if(gR()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async reEstablish(){const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot get SDP from restart offer.");return{iceParameters:M$(e.sdp).iceParameters,restartICE:async(t,n)=>this.restartICE(e,t,n),restartOfferSDP:e.sdp}}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e}));1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find((e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t}));n&&await n.replaceTrack(e._mediaStreamTrack)}async restartICE(e,t,n){try{if(!this.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");this.remoteSDP.restartICE(t,n);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(e),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.restartICE failed; ".concat(e.toString()))}}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,KP.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,KP.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),Pk("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(wx(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),Pk("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async applySendEncodings(e,t){try{if(!SL().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let r=0;r<e.length;r++){var n;const o=e[r],i=t[r];if(!i)continue;const a={},s={};if(i instanceof eX)switch(i._optimizationMode){case"motion":a.degradationPreference="maintain-framerate";break;case"detail":a.degradationPreference="maintain-resolution";break;default:a.degradationPreference="balanced"}if(Pk("DSCP_TYPE")&&IR()){const e=Pk("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(s.networkPriority=e)}const c=o.getParameters(),u=null===(n=c.encodings)||void 0===n?void 0:n[0];u&&Object.assign(u,s),Object.assign(c,a),await o.setParameters(c)}}catch(e){KP.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t){const n=D$.exports.parse(e);return t.forEach(((e,t)=>{const r=e._mediaStreamTrack,o=n.mediaDescriptions.find((e=>e.attributes.mid===r.kind));o&&U$(o,e)})),D$.exports.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map(((t,n)=>{let{id:r,mslabel:o}=t;const{kind:i}=e[n];return new iS(((e,t)=>{const n=setTimeout((()=>{t(new Error("Cannot receive track, id: ".concat(r)))}),1e4),a=t=>{const s=aR();if("Safari"===s.name&&11===Number(s.version)&&t.track.id!==r&&t.streams[0].id===o){var c;const o=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(i,r,t.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:o,id:r})}if(t.track.id===r)return this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:t.track,id:r})};this.peerConnection.addEventListener("track",a)}))})),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await iS.all(t)}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"connect"),l0.prototype),BV(l0.prototype,"stopSending",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"stopSending"),l0.prototype),BV(l0.prototype,"receive",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"receive"),l0.prototype),BV(l0.prototype,"stopReceiving",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"stopReceiving"),l0.prototype),BV(l0.prototype,"muteRemote",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"muteRemote"),l0.prototype),BV(l0.prototype,"unmuteRemote",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"unmuteRemote"),l0.prototype),BV(l0.prototype,"muteLocal",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"muteLocal"),l0.prototype),BV(l0.prototype,"unmuteLocal",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"unmuteLocal"),l0.prototype),BV(l0.prototype,"reEstablish",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"reEstablish"),l0.prototype),BV(l0.prototype,"close",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"close"),l0.prototype),BV(l0.prototype,"updateEncoderConfig",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"updateEncoderConfig"),l0.prototype),BV(l0.prototype,"updateSendParameters",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"updateSendParameters"),l0.prototype),BV(l0.prototype,"replaceTrack",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"replaceTrack"),l0.prototype),BV(l0.prototype,"restartICE",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"restartICE"),l0.prototype),BV(l0.prototype,"getRemoteSSRC",[m0],Object.getOwnPropertyDescriptor(l0.prototype,"getRemoteSSRC"),l0.prototype),l0);function m0(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}var y0;const A0="9",b0=4e4;let E0=vk("RemoteSDP")(y0=class{get localCapabilities(){return NQ(this._localCapabilities)}get rtpCapabilities(){return NQ(this._rtpCapabilities)}get candidates(){return NQ(this._candidates)}get iceParameters(){return NQ(this._iceParameters)}get dtlsParameters(){return NQ(this._dtlsParameters)}constructor(e){LR(this,"sessionDesc",void 0),LR(this,"_localCapabilities",void 0),LR(this,"_rtpCapabilities",void 0),LR(this,"_candidates",void 0),LR(this,"_iceParameters",void 0),LR(this,"_dtlsParameters",void 0),LR(this,"setup",void 0),LR(this,"currentMidIndex",void 0),LR(this,"cname",void 0),LR(this,"firefoxSsrcMidMap",new Map),e=NQ(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:o,remoteSetup:i,localCapabilities:a,cname:s}=e,c=D$.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=o,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=i,this.cname=s;const u=this.rtpCapabilities.send;for(const l of c.mediaDescriptions){if(l.attributes.iceUfrag=t.iceUfrag,l.attributes.icePwd=t.icePwd,l.attributes.fingerprints=n.fingerprints,l.attributes.candidates=r,l.attributes.setup=i,"video"===l.media.mediaType&&(l.media.fmts=u.videoCodecs.map((e=>e.payloadType.toString(10))),l.attributes.payloads=u.videoCodecs,l.attributes.extmaps=u.videoExtensions,Pk("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=F$([{ssrcId:b0,rtx:Pk("USE_RTX")?40001:void 0}],this.cname);l.attributes.ssrcs=e,l.attributes.ssrcGroups=t}if("audio"===l.media.mediaType&&(l.media.fmts=u.audioCodecs.map((e=>e.payloadType.toString(10))),l.attributes.payloads=u.audioCodecs,l.attributes.extmaps=u.audioExtensions,Pk("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:e,ssrcGroups:t}=F$([{ssrcId:2e4}],this.cname);l.attributes.ssrcs=e,l.attributes.ssrcGroups=t}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=Pk("PRELOAD_MEDIA_COUNT");pk("debug",this,"preloadRemoteMedia",e),this.rtpCapabilities;const t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,o=this.rtpCapabilities.send;for(let i=1;i<e;i++){const e=2*i+2e4,a=2*i+b0,{ssrcs:s,ssrcGroups:c}=F$([{ssrcId:e}],this.cname),{ssrcs:u,ssrcGroups:l}=F$([{ssrcId:a,rtx:Pk("USE_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:A0,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:o.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:u,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:o.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*i)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:A0,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:o.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:o.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*i+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return D$.exports.print(this.sessionDesc)}send(e,t,n,r){const{ssrcs:o,ssrcGroups:i}=F$(t,this.cname,n),a=this.findPreloadMediaDesc(o);if(a){if(vR()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.tcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,o);if(gR()||yR()){if(-1!==t&&1!==t){const e=NQ(this.sessionDesc.mediaDescriptions[t]);return e.attributes.direction="sendonly",e.attributes.ssrcs=o,e.attributes.ssrcGroups=i,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(e,r),{mid:e.attributes.mid,needExchangeSDP:!0}}{const t=this.createOrRecycleSendMedia(e,o,i,"sendonly",r);return this.updateBundleMids(),{mid:t.attributes.mid,needExchangeSDP:!0}}}if(-1!==t){const e=NQ(this.sessionDesc.mediaDescriptions[t]);return e.attributes.direction="sendonly",e.attributes.ssrcs=o,e.attributes.ssrcGroups=i,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(e,r),vR()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,e.attributes.mid),{mid:e.attributes.mid,needExchangeSDP:!0}}{const t=this.createOrRecycleSendMedia(e,o,i,"sendonly",r);return this.updateBundleMids(),vR()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,t.attributes.mid),{mid:t.attributes.mid,needExchangeSDP:!0}}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:r}=e;return this.send(t,n,r)})),n=[];let r=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:o}=e;o&&(r=!0),n.push(t)})),{mids:n,needExchangeSDP:r}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||vR()||gR()||yR()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,r){e.forEach(((e,o)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[o])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}restartICE(e,t){e=NQ(e),t=NQ(t),this._iceParameters=e,this._candidates=t,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.candidates=this.candidates}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(vR()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r}))}createOrRecycleRecvMedia(e,t,n,r,o,i){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=this.localCapabilities.send;let u=[];if(a===lL.VIDEO){var l,d;if(Pk("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(u=s.videoCodecs.filter((e=>{var t,n;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)&&(null==e||null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])===Pk("H264_PROFILE_LEVEL_ID")}))),!u||0===(null===(l=u)||void 0===l?void 0:l.length)){const e=c.videoCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)}));0!==e.length&&(u=s.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(Pk("USE_RTX")){const e=u.map((e=>e.payloadType.toString())),t=s.videoCodecs.filter((t=>{var n,r;return"rtx"===(null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName)&&e.includes((null===(r=t.fmtp)||void 0===r?void 0:r.parameters.apt)||"")}));u=[...u,...t]}0===u.length&&(KP.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(null===(d=s.videoCodecs[0].rtpMap)||void 0===d?void 0:d.encodingName)),u=s.videoCodecs)}else u=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(o)})),0===u.length&&(KP.warning("codec ".concat(o," not included in rtpCapabilities, fallback to opus")),u=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes("opus")})));const f=a===lL.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const p="".concat(this.currentMidIndex);let h={media:{mediaType:a,port:A0,protos:["UDP","TLS","RTP","SAVPF"],fmts:u.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:f,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:u,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(p)}};h=this.mungRecvMediaDsec(h,e,i);const g=this.findFirstClosedMedia(a);if(g){const e=this.sessionDesc.mediaDescriptions.indexOf(g);this.sessionDesc.mediaDescriptions[e]=h}else this.sessionDesc.mediaDescriptions.push(h);return h}createOrRecycleSendMedia(e,t,n,r,o){const i=this.rtpCapabilities.send,a=e===lL.VIDEO?i.videoCodecs:i.audioCodecs,s=e===lL.VIDEO?i.videoExtensions:i.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let u={media:{mediaType:e,port:A0,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};u=this.mungSendMediaDesc(u,o);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const r=NQ(e);return V$(r),U$(r,t),W$(r,t),function(e){if("video"!==e.media.mediaType)return;const t=aR();if(t.name!==nR.SAFARI&&t.os!==tR.IOS)return;const n=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==n&&e.attributes.extmaps.splice(n,1)}(r),H$(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=NQ(e);return H$(n,t,this.localCapabilities.recv),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>vR()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n,r;return(null===(n=t.attributes)||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}})||y0;var _0,w0;function S0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S0(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let I0=vk("P2PConnection","store.p2pId")((BV((w0=class e extends vL{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(t,n){super(t,n),LR(this,"store",void 0),LR(this,"peerConnection",void 0),LR(this,"remoteSDP",void 0),LR(this,"initialOffer",void 0),LR(this,"transportEventReceiver",void 0),LR(this,"statsFilter",void 0),LR(this,"useRTX",Pk("USE_RTX")),LR(this,"localCapabilities",void 0),LR(this,"localCandidateCount",0),LR(this,"allCandidatesReceived",!1),LR(this,"mutex",new mW("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=p0(this.peerConnection,void 0,void 0,vR()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=M$(e.sdp),n=await async function(e,t,n,r,o){const i=new RTCPeerConnection;i.addTransceiver("video",{direction:"sendonly"}),i.addTransceiver("audio",{direction:"sendonly"}),i.addTransceiver("video",{direction:"recvonly"}),i.addTransceiver("audio",{direction:"recvonly"});const a=(await i.createOffer()).sdp,s=j$(a,e,t,n,r,o,"sendonly"),c=j$(a,e,t,n,r,o,"recvonly"),u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},l={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},d={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(Q$(s,c,"videoExtensions",u,l,d),Q$(s,c,"videoCodecs",u,l,d),Q$(s,c,"audioExtensions",u,l,d),Q$(s,c,"audioCodecs",u,l,d),Pk("RAISE_H264_BASELINE_PRIORITY")){const e=d.videoCodecs.findIndex((e=>{var t,n;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"===(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])}));if(-1!==e){const t=d.videoCodecs.findIndex((e=>{var t;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){KP.debug("raising H264 baseline profile priority");const n=d.videoCodecs[e];d.videoCodecs.splice(e,1),d.videoCodecs.splice(t,0,n)}-1!==t&&(l.videoCodecs=l.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))}))),-1!==t&&Pk("FILTER_SEND_H264_BASELINE")&&(u.videoCodecs=u.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))})))}}try{i.close()}catch(e){}return{send:u,recv:l,sendrecv:d}}(!this.useRTX,Pk("FILTER_VIDEO_FEC"),Pk("FILTER_AUDIO_FEC"));return this.localCapabilities=G$(n),this.initialOffer=e,C0(C0({},t),{},{rtpCapabilities:n,offerSDP:e.sdp})}catch(e){throw new BP(MP.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,o,i){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new E0({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r,remoteSetup:o,localCapabilities:this.localCapabilities,cname:i});const a=this.remoteSDP.toString(),s=this.logSDPExchange(this.initialOffer.sdp||"","offer","local","connect");await this.peerConnection.setLocalDescription(this.initialOffer),null==s||s(a),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a});const c=this.peerConnection.getTransceivers()[0];if(null!=c&&c.receiver&&this.tryBindTransportEvents(c.receiver),Pk("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t,n){var r=this;return c$((function*(){const o=yield u$(r.mutex.lock());try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const i=[];e.forEach((e=>{const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});i.push(t)})),vR()&&!0===Pk("SIMULCAST")&&(uk("debug",r,"apply simulcast for firefox"),yield u$(r.applySimulcastForFirefox(i,e)));const a=yield u$(r.peerConnection.createOffer()),s=r.remoteSDP.predictReceivingMids(e.length),c=r.mungSendOfferSDP(a.sdp,e,s),u=D$.exports.parse(c),l=s.map((e=>{const t=u.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t){const n=[],r=e.attributes.ssrcGroups.filter((e=>"FID"===e.semantic)),o=e.attributes.ssrcGroups.find((e=>"SIM"===e.semantic)),i=e.attributes.ssrcs;if(o)o.ssrcIds.forEach((e=>{var o;const i=null===(o=r.find((t=>t.ssrcIds[0]===e)))||void 0===o?void 0:o.ssrcIds[1];n.push({ssrcId:e,rtx:t?i:void 0})}));else if(r.length>0){const e=r[0].ssrcIds[0],o=r[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}else{if(0===i.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:i[0].ssrcId})}return n}(t,r.useRTX)}));let d;try{d=yield l}catch(o){d=[],r.remoteSDP.receive(e,t,n,d);const i=r.remoteSDP.toString();throw yield u$(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield u$(r.peerConnection.setRemoteDescription({type:"answer",sdp:i})),yield u$(r.stopSending(s,!0)),o}r.remoteSDP.receive(e,t,n,d);const f=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return yield u$(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield u$(r.applySimulcastEncodings(i,e)),yield u$(r.applySendEncodings(i,e)),null==p||p(f),yield u$(r.peerConnection.setRemoteDescription({type:"answer",sdp:f})),i.map(((e,t)=>{const n=s[t];return{localSSRC:l[t],id:n,transceiver:e}}))}catch(e){throw e instanceof BP?e:new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{o()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const r=await this.peerConnection.createOffer(),o=this.logSDPExchange(r.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(r),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();null==o||o(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:o,needExchangeSDP:i}=this.remoteSDP.send(e,t,n,r);if(i){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r),KP.debug("[P2PConnection] receive ".concat(e," by exchanging SDP."))}else KP.debug("[P2PConnection] receive ".concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===o));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:o}}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);if(n){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();null==t||t(n.sdp||""),await this.peerConnection.setLocalDescription(n),KP.debug("[P2PConnection] batchReceive by exchanging SDP.")}else KP.debug("[P2PConnection] batchReceive no need to exchange SDP.");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}}))}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async reEstablish(){const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot get SDP from restart offer.");return{iceParameters:M$(e.sdp).iceParameters,restartICE:async(t,n)=>this.restartICE(e,t,n),restartOfferSDP:e.sdp}}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const o=this.remoteSDP.toString(),i=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==i||i(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?vR()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async restartICE(e,t,n){try{if(!this.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");this.remoteSDP.restartICE(t,n);const r=this.remoteSDP.toString(),o=this.logSDPExchange(e.sdp||"","offer","local","restartICE");await this.peerConnection.setLocalDescription(e),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new BP(MP.EXCHANGE_SDP_FAILED,"P2PConnection.restartICE failed; ".concat(e.toString()))}}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,KP.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,KP.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),Pk("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(wx(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),Pk("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),Pk("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(rQ(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!Pk("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}tryBindTransportEvents(e){e.transport&&(this.transportEventReceiver=e,e.transport.onstatechange=()=>{var t,n;null!==(t=e.transport)&&void 0!==t&&t.state&&(null===(n=this.onDTLSTransportStateChange)||void 0===n||n.call(this,e.transport.state))},e.transport.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,e.error)},e.transport.iceTransport&&(e.transport.iceTransport.onstatechange=()=>{var t,n,r;null!==(t=e.transport)&&void 0!==t&&t.iceTransport.state&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,null===(r=e.transport)||void 0===r?void 0:r.iceTransport.state))}))}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async applySendEncodings(e,t){try{if(!SL().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let c=0;c<e.length;c++){const u=e[c],l=t[c];if(l&&l instanceof eX){var n,r;if(this.isVP8Simulcast(l))continue;const e={},t={};switch(l._optimizationMode){case"motion":e.degradationPreference="maintain-framerate";break;case"detail":e.degradationPreference="maintain-resolution";break;default:e.degradationPreference="balanced"}var o,i,a,s;if(null!==(n=l._encoderConfig)&&void 0!==n&&n.bitrateMax&&(t.maxBitrate=1e3*(null===(o=l._encoderConfig)||void 0===o?void 0:o.bitrateMax)),l._hints.includes(Xx.LOW_STREAM)&&(null!==(i=l._encoderConfig)&&void 0!==i&&i.frameRate&&(t.maxFramerate=iQ(l._encoderConfig.frameRate)),null!==(a=l._encoderConfig)&&void 0!==a&&a.scaleResolutionDownBy&&(null===(s=l._encoderConfig)||void 0===s?void 0:s.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=l._encoderConfig.scaleResolutionDownBy)),Pk("DSCP_TYPE")&&IR()){const e=Pk("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(t.networkPriority=e)}const c=u.sender.getParameters(),d=null===(r=c.encodings)||void 0===r?void 0:r[0];vR()&&!d&&(e.encodings=[t]),d&&Object.assign(d,t),Object.assign(c,e),await u.sender.setParameters(c)}}}catch(e){KP.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t,n){const r=D$.exports.parse(e);return t.forEach(((e,t)=>{const o=n[t],i=r.mediaDescriptions.find((e=>e.attributes.mid===o));i&&(U$(i,e),function(e,t,n){if(vR())return;if("video"!==e.media.mediaType)return;if(!(t instanceof eX))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!Pk("SIMULCAST"))return;if(void 0===t._scalabiltyMode||t._scalabiltyMode.numSpatialLayers<=1)return;const r="vp8"===n?2:t._scalabiltyMode.numSpatialLayers,o=e.attributes.ssrcs[0],i=e.attributes.ssrcGroups.find((e=>"FID"===e.semantic&&e.ssrcIds[0]===o.ssrcId)),a={semantic:"SIM",ssrcIds:[o.ssrcId]};for(let s=1;s<r;s++)e.attributes.ssrcs.push({ssrcId:o.ssrcId+s,attributes:NQ(o.attributes)}),a.ssrcIds.push(o.ssrcId+s),i&&(e.attributes.ssrcs.push({ssrcId:i.ssrcIds[1]+s,attributes:NQ(o.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[o.ssrcId+s,i.ssrcIds[1]+s]}));e.attributes.ssrcGroups.unshift(a)}(i,e,this.store.codec))})),D$.exports.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var n,r,o,i;const s=e[a],c=t[a];if(c instanceof eX&&!c._hints.includes(Xx.LOW_STREAM)&&null!==(n=c._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=c._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=c._scalabiltyMode)&&void 0!==o&&o.numSpatialLayers&&(null===(i=c._scalabiltyMode)||void 0===i?void 0:i.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=s.sender.getParameters();await s.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!vR()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof eX&&this.isVP8Simulcast(r)){const t=e[n],o={},i={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};o.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:i.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:i.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,o))}}}isVP8Simulcast(e){var t,n,r,o;return!!(e instanceof eX&&Pk("SIMULCAST")&&"vp8"===this.store.codec&&!e._hints.includes(Xx.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabiltyMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(Pk("SDP_LOGGING"))return KP.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"connect"),w0.prototype),BV(w0.prototype,"receive",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"receive"),w0.prototype),BV(w0.prototype,"batchReceive",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"batchReceive"),w0.prototype),BV(w0.prototype,"stopReceiving",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"stopReceiving"),w0.prototype),BV(w0.prototype,"muteRemote",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"muteRemote"),w0.prototype),BV(w0.prototype,"unmuteRemote",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"unmuteRemote"),w0.prototype),BV(w0.prototype,"muteLocal",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"muteLocal"),w0.prototype),BV(w0.prototype,"unmuteLocal",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"unmuteLocal"),w0.prototype),BV(w0.prototype,"reEstablish",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"reEstablish"),w0.prototype),BV(w0.prototype,"close",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"close"),w0.prototype),BV(w0.prototype,"updateEncoderConfig",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"updateEncoderConfig"),w0.prototype),BV(w0.prototype,"updateSendParameters",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"updateSendParameters"),w0.prototype),BV(w0.prototype,"replaceTrack",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"replaceTrack"),w0.prototype),BV(w0.prototype,"restartICE",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"restartICE"),w0.prototype),BV(w0.prototype,"getRemoteSSRC",[O0],Object.getOwnPropertyDescriptor(w0.prototype,"getRemoteSSRC"),w0.prototype),_0=w0))||_0;function O0(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}function T0(e,t){let n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=iQ(t.width),r.height=iQ(t.height);const o=iQ(t.framerate||15);document.body.append(n),document.body.append(r);let i=e._mediaStreamTrack;n.srcObject=new MediaStream([i]),n.play();const a=r.getContext("2d");if(!a)throw new BP(MP.UNEXPECTED_ERROR,"can not get canvas context");const s=SL(),c=r.captureStream(s.supportRequestFrame?0:o).getVideoTracks()[0],u=PW((()=>(()=>{if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,o=r.width*t;Math.abs(o-r.height)>=2&&(KP.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(o)),r.height=o)}a.drawImage(n,0,0,r.width,r.height),c.requestFrame&&c.requestFrame(),i!==e._mediaStreamTrack&&(i=e._mediaStreamTrack,n.srcObject=new MediaStream([i]))})()),o),l=c.stop;return c.stop=()=>{l.call(c),u(),n&&(n.remove(),n=null),r&&(r.width=0,r.remove(),r=null),KP.debug("clean low stream renderer")},c}var R0,N0;function P0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P0(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class D0 extends fW{getUserId(){return this._userId}constructor(e,t,n,r){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(r.clientId,"_").concat(yQ(5,""))),LR(this,"_userId",void 0),LR(this,"_uintId",void 0),LR(this,"_isDestroyed",!1),LR(this,"store",void 0),LR(this,"processor",void 0),LR(this,"processorContext",void 0),this._userId=t,this._uintId=n,this.store=r}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,KP.info("[".concat(this.getTrackId(),"] is destroyed")),pk("info",this,"_destroy"),this.stop(),super.close()}}let x0=vk("RemoteVideoTrack","getTrackId")(R0=class extends D0{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==qD.PLAYING)}constructor(e,t,n,r){super(e,t,n,r),LR(this,"_videoVisibleTimer",null),LR(this,"_previousVideoVisibleStatus",void 0),LR(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),LR(this,"trackMediaType","video"),LR(this,"_videoWidth",void 0),LR(this,"_videoHeight",void 0),LR(this,"_player",void 0),LR(this,"processorDestination",void 0),LR(this,"processorContext",void 0),pk("info",this,"constructor",{userId:t}),this.updateMediaStreamTrackResolution(),this.processorContext=new FH(this.getTrackId()),this.processorDestination=new BH(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return kQ((()=>{KP.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead"),uk("warning",this,"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),CQ(this,Jx.GET_STATS)||k0({},Nx)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",t]});if("string"==typeof e){const t=document.getElementById(e);t?e=t:(KP.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),uk("warning",this,'can not find "#'.concat(e,'" element, use document.body')),e=document.body)}KP.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(t)),pk("debug",this,"play",t);const r=k0(k0({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(r):(this._player=new YY(r),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.emit(tL.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.emit(tL.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),Pk("CHECK_VIDEO_VISIBLE_INTERVAL")),n.onSuccess()}stop(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,KP.debug("[".concat(this.getTrackId(),"] stop video playback")),pk("debug",this,"stop"),e.onSuccess()}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){EQ(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(bQ)}_updatePlayerSource(){KP.debug("[".concat(this.getTrackId(),"] update player source track")),pk("debug",this,"_updatePlayerSource"),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:o,slot:i}=r;if(this.isPlaying&&o instanceof HTMLVideoElement&&i instanceof HTMLElement){const e=XJ.checkOneElementVisible(o),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new BP(MP.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new BP(MP.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(yL.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(yL.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}})||R0,L0=vk("RemoteAudioTrack","getTrackId")(N0=class extends D0{get isPlaying(){return this._useAudioElement?ZW.isPlaying(this.getTrackId()):this._source.isPlayed}constructor(e,t,n,r){super(e,t,n,r),LR(this,"trackMediaType","audio"),LR(this,"_source",void 0),LR(this,"_useAudioElement",!0),LR(this,"_volume",100),LR(this,"processorContext",void 0),LR(this,"processorDestination",void 0),LR(this,"_played",!1),pk("info",this,"constructor",{userId:t}),Pk("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),this._source=new LW(e,!0),this._source.once(bx.RECEIVE_TRACK_BUFFER,(()=>{this.emit(tL.FIRST_FRAME_DECODED)})),this.processorContext=new VH(this._source.context,this.getTrackId()),this.processorDestination=new UH(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(bx.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(bx.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(bx.ON_AUDIO_BUFFER),this._source.on(bx.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_AUDIO_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._useAudioElement?ZW.setVolume(this.getTrackId(),e):this._source.setVolume(e/100),t.onSuccess()}async setPlaybackDevice(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),e]});if(!this._useAudioElement)throw new BP(MP.NOT_SUPPORTED,"your browser does not support setting the audio output device");try{await ZW.setSinkID(this.getTrackId(),e)}catch(e){throw t.onError(e),e}t.onSuccess()}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return kQ((()=>{KP.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead"),uk("warning",this,"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),CQ(this,Jx.GET_STATS)||k0({},Tx)}play(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});KP.debug("[".concat(this.getTrackId(),"] start audio playback")),pk("debug",this,"play"),this._played=!0,this._useAudioElement?(KP.debug("[".concat(this.getTrackId(),"] use audio element to play")),uk("debug",this,"use audio element to play"),ZW.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play(),e.onSuccess()}stop(){const e=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.REMOTE_AUDIO_TRACK_STOP,options:[this.getTrackId()]});KP.debug("[".concat(this.getTrackId(),"] stop audio playback")),pk("debug",this,"stop"),this._played=!1,this._useAudioElement?ZW.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];KP.debug("[".concat(this.getTrackId(),"] update player source track")),pk("debug",this,"_updatePlayerSource"),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&ZW.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this.processor===e)return e;if(e._source)throw new BP(MP.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(yL.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(yL.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(yL.ON_TRACK),this.processorDestination.removeAllListeners(yL.ON_NODE)}})||N0;function j0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j0(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class B0 extends LP{constructor(){super(),LR(this,"uplinkStatsUploadInterval",void 0),LR(this,"uplinkStatsUploadSlowInterval",void 0),LR(this,"uplinkRelatedStatsUploadInterval",void 0),LR(this,"uplinkDenoiserStatsUploadInterval",void 0),LR(this,"transportStatsUploadInterval",void 0),LR(this,"extensionStatsUploadInterval",void 0),LR(this,"downlinkStatsUploadInterval",void 0),LR(this,"downlinkStatsUploadSlowInterval",void 0),LR(this,"downlinkRelatedStatsUploadInterval",void 0),LR(this,"lastStats",void 0),LR(this,"uploadUnplinkStarted",!1),LR(this,"uploadDownlinkStarted",!1),LR(this,"uploadTransportStarted",!1),LR(this,"requestStats",void 0),LR(this,"requestLocalMedia",void 0),LR(this,"requestRemoteMedia",void 0),LR(this,"requestAllTracks",void 0),LR(this,"requestVideoIsReady",void 0),LR(this,"requestUpload",void 0)}startUploadTransportStats(){this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadTransportStats(t)}),6e3))}startUploadUplinkStats(){this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadUplinkStats(t,this.lastStats),this.lastStats=t)}),3e3),this.uplinkStatsUploadSlowInterval&&window.clearInterval(this.uplinkStatsUploadSlowInterval),this.uplinkStatsUploadSlowInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadSlowUplinkStats(t)}),6e4),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadRelatedUplinkStats(t,this.lastStats),this.lastStats=t}),1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadDenoiserStats(t)}),2e3),this.extensionStatsUploadInterval&&window.clearInterval(this.extensionStatsUploadInterval),this.extensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadExtensionStats(t)}),2e3))}uploadTransportStats(e){RQ((()=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,mx.TRANSPORT_STATS,function(e){const t={connectionType:100};if("relay"===e.selectedCandidatePair.localCandidate.candidateType){const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t.connectionType=101),"tcp"===n&&(t.connectionType=103),"tls"===n&&(t.connectionType=104)}return t}(e))}))}uploadUplinkStats(e,t){var n;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,{track:o,ssrcs:i}]=n;switch(r){case dL.LocalVideoLowTrack:case dL.LocalVideoTrack:{const n=function(e,t,n){var r;const o=t.videoSend.find((t=>t.ssrc===e));if(!o)return null;const i={id:yQ(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:o.ssrc.toString()};switch(i.A_vstd=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||!n._mediaStreamTrack.enabled?"1":"0",o.sentFrame&&(i.A_fhs=o.sentFrame.height.toString(),i.A_frs=o.sentFrame.frameRate.toString(),i.A_fws=o.sentFrame.width.toString()),o.adaptionChangeReason){case"none":i.A_ac="0";break;case"cpu":i.A_ac="1";break;case"bandwidth":i.A_ac="2";break;case"other":i.A_ac="3"}return i.A_lvps=zD[n._player?n._player.videoElementStatus:"uninit"].toString(),i.A_nr=null===(r=o.nacksCount)||void 0===r?void 0:r.toString(),o.avgEncodeMs&&(i.A_aem=o.avgEncodeMs.toFixed(0).toString()),i}(i[0].ssrcId,e,o),a=sQ(i[0].ssrcId,e,t);n&&RQ((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,mx.PUBLISH_STATS,{stream_type:r===dL.LocalVideoLowTrack?"low":"high",stats:M0(M0({},n),a)})}));break}case dL.LocalAudioTrack:{const t=function(e,t,n){const r=t.audioSend.find((t=>t.ssrc===e));if(!r)return null;const o={id:yQ(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return o.A_astd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1",r.inputLevel?o.A_ail=Math.round(100*r.inputLevel).toString():o.A_ail=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),o.A_apil=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),r.aecReturnLoss&&(o.A_ecrl=Math.round(r.aecReturnLoss).toString()),r.aecReturnLossEnhancement&&(o.A_ecrle=Math.round(r.aecReturnLossEnhancement).toString()),o}(i[0].ssrcId,e,o);t&&RQ((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,mx.PUBLISH_STATS,{stream_type:"high",stats:t})}));break}}const a=function(e){const t={id:"bweforvideo",timestamp:new Date(e.timestamp).toISOString(),type:"VideoBwe"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);a&&RQ((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,mx.PUBLISH_STATS,{stream_type:r===dL.LocalVideoLowTrack?"low":"high",stats:a})}))}))}uploadSlowUplinkStats(e){var t;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).filter((e=>{let[t]=e;return t===dL.LocalVideoLowTrack||t===dL.LocalVideoTrack})).forEach((t=>{let[n,{ssrcs:r}]=t;const o=sQ(r[0].ssrcId,e);o&&RQ((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,mx.PUBLISH_STATS,{stream_type:n===dL.LocalVideoLowTrack?"low":"high",stats:o})}))}))}uploadRelatedUplinkStats(e,t){var n;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).filter((e=>{let[t]=e;return t===dL.LocalVideoLowTrack||t===dL.LocalVideoTrack})).forEach((t=>{let[n,{ssrcs:r}]=t;const o=function(e,t){const n=t.videoSend.find((t=>t.ssrc===e));return n?{mediaType:"video",isVideoMute:!1,frameRateInput:n.inputFrame&&n.inputFrame.frameRate.toString(),frameRateSent:n.sentFrame&&n.sentFrame.frameRate.toString(),googRtt:n.rttMs.toString(),qpSumPerFrame:Math.floor(n.qpSumPerFrame).toString()}:null}(r[0].ssrcId,e);o&&RQ((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,mx.PUBLISH_RELATED_STATS,{stream_type:n===dL.LocalVideoLowTrack?"low":"high",stats:o})}))}))}uploadDenoiserStats(e){for(let o=0;o<e.length;o++){const i=e[o];if(i instanceof GH){var t,n,r;const e=null===(t=(n=i._external).getDenoiserStats)||void 0===t?void 0:t.call(n);return void(e&&(null===(r=this.requestUpload)||void 0===r||r.call(this,mx.DENOISER_STATS,e)))}}}uploadExtensionStats(e){for(let t=0;t<e.length;t++){const n=e[t];if(n instanceof GH)return void n.getProcessorStats().forEach((e=>{var t;e.type===mx.DENOISER_STATS&&(null===(t=this.requestUpload)||void 0===t||t.call(this,mx.DENOISER_STATS,e.stats))}))}}stopUploadUplinkStats(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}startUploadDownlinkStats(){this.uploadDownlinkStarted||(this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadDownlinkStats(t,this.lastStats),this.lastStats=t)}),3e3),this.downlinkStatsUploadSlowInterval&&window.clearInterval(this.downlinkStatsUploadSlowInterval),this.downlinkStatsUploadSlowInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadSlowDownlinkStats(t)}),6e4),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadRelatedDownlinkStats(t,this.lastStats),this.lastStats=t)}),1e3))}uploadDownlinkStats(e,t){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((t=>{let[n,r]=t;if(r.has(lL.VIDEO)&&n.videoTrack){const t=n.videoTrack?function(e,t,n){const r=t.videoRecv.find((t=>t.ssrc===e));if(!r)return null;const o={id:yQ(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:r.ssrc.toString()};var i,a;return o.bytesReceived=r.bytes.toString(),o.packetsLost=r.packetsLost.toString(),o.packetsReceived=r.packets.toString(),r.framesRateFirefox&&(o.A_frr=r.framesRateFirefox.toString()),r.receivedFrame?(o.A_frr=r.receivedFrame.frameRate.toString(),o.A_fhr=r.receivedFrame.height.toString(),o.A_fwr=r.receivedFrame.width.toString()):(o.A_fhr=null===(i=n._videoHeight)||void 0===i?void 0:i.toString(),o.A_fwr=null===(a=n._videoWidth)||void 0===a?void 0:a.toString()),o.A_frd=r.decodeFrameRate.toString(),r.outputFrame&&(o.A_fro=r.outputFrame.frameRate.toString()),void 0!==r.jitterBufferMs&&(o.A_jbm=Math.floor(r.jitterBufferMs).toString()),void 0!==r.currentDelayMs&&(o.A_cdm=Math.floor(r.currentDelayMs).toString()),o.A_fs=r.firsCount.toString(),o.A_ns=r.nacksCount.toString(),o.A_ps=r.plisCount.toString(),n&&(o.A_vrtd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1"),n._player&&n._player.freezeTimeCounterList.length>0&&(o.A_vrft=n._player.freezeTimeCounterList.splice(0,1)[0].toString()),o.A_rvps=zD[n._player?n._player.videoElementStatus:"uninit"].toString(),o}(n._videoSSRC,e,n.videoTrack):void 0;t&&RQ((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,mx.SUBSCRIBE_STATS,{stream_id:n.uid,stats:t})}))}if(r.has(lL.AUDIO)&&n.audioTrack){const t=n.audioTrack?function(e,t,n){const r=t.audioRecv.find((t=>t.ssrc===e));if(!r)return null;const o={id:yQ(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return o.bytesReceived=r.bytes.toString(),o.packetsLost=r.packetsLost.toString(),o.packetsReceived=r.packets.toString(),r.outputLevel?o.A_aol=Math.round(100*r.outputLevel).toString():o.A_aol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),o.A_apol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),n&&(o.A_artd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1"),o.A_jr=r.jitterMs.toString(),o.A_jbm=Math.floor(r.jitterBufferMs).toString(),o.A_cdm=Math.floor(r.jitterBufferMs).toString(),o.A_raps=zD[ZW.getPlayerState(n.getTrackId())].toString(),o}(n._audioSSRC,e,n.audioTrack):void 0;t&&RQ((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,mx.SUBSCRIBE_STATS,{stream_id:n.uid,stats:t})}))}}))}uploadSlowDownlinkStats(e){}uploadRelatedDownlinkStats(e,t){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,o]=n;if(o.has(lL.VIDEO)&&r.videoTrack){var i;const n=!0===(r._videoSSRC&&(null===(i=this.requestVideoIsReady)||void 0===i?void 0:i.call(this,r._videoSSRC))||!1),o=function(e,t,n,r,o,i){const a=n.videoRecv.find((t=>t.ssrc===e)),s=o?o.videoRecv.find((t=>t.ssrc===e)):void 0;if(!a)return null;const c=$H.isRemoteVideoFreeze(i,a,s)&&t,u={mediaType:"video",isVideoMute:!1,peerId:r,frameRateReceived:a.receivedFrame&&a.receivedFrame.frameRate.toString(),frameRateDecoded:a.decodedFrame&&a.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:a.bytes.toString(),packetsReceived:a.packets.toString(),packetsLost:a.packetsLost.toString(),qpSumPerFrame:Math.floor(a.qpSumPerFrame).toString()};return a.framesRateFirefox&&(u.frameRateDecoded=a.framesRateFirefox.toString(),u.frameRateReceived=a.framesRateFirefox.toString()),u}(r._videoSSRC,n,e,r.uid,t,r.videoTrack);o&&RQ((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,mx.SUBSCRIBE_RELATED_STATS,{stream_id:r.uid,stats:o})}))}if(o.has(lL.AUDIO)&&r.audioTrack){const t=function(e,t,n,r){const o=t.audioRecv.find((t=>t.ssrc===e));if(!o)return null;const i=$H.isRemoteAudioFreeze(r);return{mediaType:"audio",isAudioMute:!1,peerId:n,googJitterReceived:o.jitterMs.toString(),isFreeze:i,bytesReceived:o.bytes.toString(),packetsReceived:o.packets.toString(),packetsLost:o.packetsLost.toString(),frameReceived:o.receivedFrames.toString(),frameDropped:o.droppedFrames.toString()}}(r._audioSSRC,e,r.uid,r.audioTrack);t&&RQ((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,mx.SUBSCRIBE_RELATED_STATS,{stream_id:r.uid,stats:t})}))}}))}stopUploadDownlinkStats(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}stopUploadTransportStats(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}}var F0,U0;function V0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V0(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H0(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=f$,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Q0(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Q0(e){function t(e){if(Object(e)!==e)return iS.reject(new TypeError(e+" is not an object."));var t=e.done;return iS.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Q0=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?iS.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?iS.reject(e):t(n.apply(this.s,arguments))}},new Q0(e)}let G0=vk("P2PChannel","store.p2pId")((BV((U0=class extends LP{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(pL.StateChange,t,this._state)}constructor(e,t){super(),LR(this,"store",void 0),LR(this,"statsUploader",void 0),LR(this,"connection",void 0),LR(this,"localTrackMap",new Map),LR(this,"remoteUserMap",new Map),LR(this,"pendingLocalTracks",[]),LR(this,"pendingRemoteTracks",[]),LR(this,"statsCollector",void 0),LR(this,"isPlanB",!1),LR(this,"iceFailedCount",0),LR(this,"dtlsFailedCount",0),LR(this,"mutex",new mW("P2PChannel-mutex")),LR(this,"_state",fL.Disconnected),LR(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection)return void n(new BP(MP.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));pk("debug",this,"handleMuteLocalTrack",e.getTrackId()),await this.waitTillConnected();const o=this.filterTobeMutedTracks(e);if(0===o.length)return void t();const i=o.find((e=>"videoLowTrack"===e[0]));i&&i[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(o.map((e=>{let[,{id:t}]=e;return t})));const a=this.createMuteMessage(o);await SQ(this,pL.RequestMuteLocal,a),t()}catch(e){n(e)}finally{r()}})),LR(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection)return void n(new BP(MP.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));pk("debug",this,"handleUnmuteLocalTrack",e.getTrackId()),await this.waitTillConnected();const o=this.filterTobeUnmutedTracks(e);if(0===o.length)return void t();const i=o.find((e=>"videoLowTrack"===e[0]));if(i){const t=i[1];if(t.track._originMediaStreamTrack.stop(),SL().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=T0(e,IQ(this,pL.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new iS(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}await this.connection.unmuteLocal(o.map((e=>{let[,{id:t}]=e;return t})));const a=this.createUnmuteMessage(o);await SQ(this,pL.RequestUnmuteLocal,a),t()}catch(e){n(e)}finally{r()}})),LR(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(dL.LocalVideoTrack);if(!this.connection||!n||n.track!==e)return void t();await this.waitTillConnected();const{id:o,track:i}=n;await this.connection.updateSendParameters(o,i),await this.connection.updateEncoderConfig(o,i),this.emit(pL.UpdateVideoEncoder,i),t()}catch(e){n(e)}finally{r()}})),LR(this,"handleSetOptimizationMode",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");try{const n=this.localTrackMap.get(dL.LocalVideoTrack);if(!this.connection||!n||n.track!==e)return;await this.waitTillConnected();const{id:o,track:i}=n;await this.connection.updateSendParameters(o,i),t()}catch(e){n(e)}finally{r()}})),LR(this,"handleReplaceTrack",(async(e,t,n,r)=>{let o;KP.debug("P2PChannel handleReplaceTrack for [track-id-".concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(o=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var i;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.connection||!n)return void t();if(await this.waitTillConnected(),await(null===(i=this.connection)||void 0===i?void 0:i.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===dL.LocalVideoTrack&&SL().supportDualStreamEncoding){const t=this.localTrackMap.get(dL.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new iS(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=o)||void 0===a||a()}})),LR(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),LR(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),LR(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),LR(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new B0,this.bindStatsUploaderEvents(),this.isPlanB=!SL().supportUnifiedPlan||Pk("CHROME_FORCE_PLAN_B")&&IR()}async startP2PConnection(e){return this.state=fL.New,this.connection=this.isPlanB?new v0(e,this.store):new I0(e,this.store),this.bindConnectionEvents(this.connection),this.connection.establish()}async connect(e,t,n,r,o,i){if(!this.connection)throw new BP(MP.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.store.peerConnectionStart(),await this.connection.connect(e,t,n,r,o,i),this.statsUploader.startUploadTransportStats(),this.state=fL.Connected}publish(e,t,n){var r=this;return c$((function*(){const o=yield u$(r.mutex.lock("From P2PChannel.publish"));try{if(!r.connection){if(r.state===fL.Disconnected)throw new BP(MP.UNEXPECTED_ERROR,"PeerConnection already disconnected.");r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,JH.markPublishStart(r.store.clientId,r.store.pubId),yield u$(r.waitTillConnected());const i=r.filterTobePublishedTracks(e,t,n);if(0===i.length)return void(yield u$(r.tryToUnmuteAudio(e)));yield*d$(H0(r.doPublish(r.connection,i)),u$)}finally{o()}}))()}doPublish(e,t){var n=this;return c$((function*(){t.forEach((e=>{let{track:t,type:r}=e;const o=Date.now();n.store.publish(t.getTrackId(),r===dL.LocalAudioTrack?"audio":"video",o)})),n.bindLocalTrackEvents(t);const r=yield u$(e.send(t.map((e=>{let{track:t}=e;return t})),n.store.codec,n.store.audioCodec)),o=(yield u$(r.next())).value,i=n.createGatewayPublishMessage(t,o);let a;try{a=yield i}catch(e){throw uk("error",n,"doPublish yield error: ".concat(e.toString())),r.throw(e),(null==e?void 0:e.code)===MP.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),e}const s=n.mapPubResToRemoteConfig(i,a);pk("debug",n,"doPublish",{remoteConfigs:s,tracks:t.map((e=>{let{track:t}=e;return t.getTrackId()})),pubMsg:i,pubAns:a});const c=(yield u$(r.next(s))).value;t.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,c),n.statsUploader.startUploadUplinkStats(),t.forEach((e=>{let{track:t,type:r}=e;const o=Date.now();n.store.publish(t.getTrackId(),r===dL.LocalAudioTrack?"audio":"video",void 0,o)}))}))()}publishLowStream(e){var t=this;return c$((function*(){if(!t.connection)return;pk("debug",t,"publishLowStream",e);const n=yield u$(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const o=t.localTrackMap.get(dL.LocalVideoTrack);if(!o)throw new BP(MP.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(dL.LocalVideoLowTrack))throw new BP(MP.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));yield u$(t.waitTillConnected());const i=[{track:t.getLowVideoTrack(o.track,e),type:dL.LocalVideoLowTrack}];if(yield*d$(H0(t.doPublish(t.connection,i)),u$),o.track.muted||!o.track.enabled){var r;const e=null===(r=t.localTrackMap.get(dL.LocalVideoLowTrack))||void 0===r?void 0:r.id;void 0!==e&&(yield u$(t.connection.muteLocal([e])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(KP.debug("Emit P2PChannelEvents.RequestRePublish to republish tracks."),pk("debug",this,"republish",this.pendingLocalTracks.map((e=>e.getTrackId()))),await wQ(this,pL.RequestRePublish,this.pendingLocalTracks),this.emit(pL.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async reSubscribe(e){pk("debug",this,"reSubscribe",this.pendingRemoteTracks.map((e=>{let{user:t}=e;return t.uid})));for(let t=this.pendingRemoteTracks.length-1;t>=0;t--){const{user:e,kind:n}=this.pendingRemoteTracks[t];(n!==lL.AUDIO||e._audio_added_&&e._audioSSRC)&&(n!==lL.VIDEO||e._video_added_&&e._videoSSRC)||this.pendingRemoteTracks.splice(t,1)}if(e)await wQ(this,pL.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:t,kind:n}of this.pendingRemoteTracks)await this.subscribe(t,n,n===lL.VIDEO?t._videoSSRC:t._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(pL.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));await this.waitTillConnected();const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));return n&&n[1].track.close(),pk("debug",this,"unpublish"),this.doUnpublish(this.connection,t)}async unpublishLowStream(){if(!this.connection)return;pk("debug",this,"unpublishLowStream");const e=this.localTrackMap.get(dL.LocalVideoLowTrack);if(!e)return;await this.waitTillConnected(),e.track.close();const t=[[dL.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),n}async subscribe(e,t,n,r,o){var i;if(!this.connection)throw new BP(MP.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(pk("debug",this,"subscribe",{uid:e.uid,mediaType:t,ssrcId:n}),null!==(i=this.remoteUserMap.get(e))&&void 0!==i&&i.has(t))return;let a,s;if(await this.waitTillConnected(),o){const n=o.find((e=>{let{stream_type:n}=e;return n===t}));if(!n)throw new BP(MP.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const r=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);a=r.track,s=r.id}else{const o=await this.connection.receive(t,[{ssrcId:n,rtx:r}],String(e._uintid),void 0);a=o.track,s=o.id}t===lL.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new L0(a,e.uid,e._uintid,this.store),KP.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new x0(a,e.uid,e._uintid,this.store),KP.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats();const u=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:o}=n;return r.uid===e.uid&&t===o}));-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(pL.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection)throw new BP(MP.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");pk("debug",this,"subscribeAll",e.map((e=>{let{user:t,mediaType:n,ssrcId:r}=e;return{uid:t.uid,mediaType:n,ssrcId:r}}))),e=e.filter((e=>{var t;let{user:n,mediaType:r}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(r))})),await this.waitTillConnected();const t=await this.connection.batchReceive(e.map((e=>{let{user:t,mediaType:n,ssrcId:r,rtxSsrcId:o}=e;return{kind:n,ssrcMsg:[{ssrcId:r,rtx:o}],mslabel:String(t._uintid)}})));e.forEach(((e,n)=>{let{user:r,mediaType:o}=e;const{track:i,id:a}=t[n];o===lL.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(i):(r._audioTrack=new L0(i,r.uid,r._uintid,this.store),KP.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(i):(r._videoTrack=new x0(i,r.uid,r._uintid,this.store),KP.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(r,r._videoTrack));const s=this.remoteUserMap.get(r);s?s.set(o,a):this.remoteUserMap.set(r,new Map([[o,a]])),this.statsCollector.addRemoteStats(r.uid),this.statsUploader.startUploadDownlinkStats();const c=this.pendingRemoteTracks.findIndex((e=>{let{user:t,kind:n}=e;return t.uid===r.uid&&o===n}));-1!==c&&(this.pendingRemoteTracks.splice(c,1),this.emit(pL.MediaReconnectEnd,r.uid))}))}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:o}=n;return void 0!==t?r.uid===e.uid&&t===o:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===lL.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===lL.VIDEO){var o;null===(o=e._videoTrack)||void 0===o||o._destroy(),e._videoTrack=void 0}})),!this.connection)return;pk("debug",this,"unsubscribe",{uid:e.uid,mediaType:t});const o=this.filterTobeUnSubscribedTracks(e,t);if(0===o.length)return;await this.connection.stopReceiving(o.map((e=>{let[,{id:t}]=e;return t})));const i=this.createUnsubscribeMessage(o);return this.withdrawRemoteTracks(o),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),o.forEach((e=>{let[t,{kind:r}]=e;var o,i;if(r===lL.VIDEO&&t._videoSSRC&&(null===(o=this.connection)||void 0===o||o.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===lL.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0);else if(r===lL.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),i}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:o,mediaType:i}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:n}=e;return void 0!==i?t.uid===o.uid&&i===n:t.uid===o.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection)return void t.forEach((e=>{let{user:t,kind:n}=e;var r;if(n===lL.AUDIO)null===(r=t._audioTrack)||void 0===r||r._destroy(),t._audioTrack=void 0;else if(n===lL.VIDEO){var o;null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0}}));pk("debug",this,"batchUnsubscribe",e.map((e=>{let{user:t,mediaType:n}=e;return{uid:t.uid,mediaType:n}})));const n=Sf(e).call(e,((e,t)=>{let{user:n,mediaType:r}=t;const o=this.filterTobeUnSubscribedTracks(n,r);return e.concat(o)}),[]);if(0===n.length)return;await this.connection.stopReceiving(n.map((e=>{let[,{id:t}]=e;return t})));const r=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),n.forEach((e=>{let[t,{kind:n}]=e;var r,o;if(n===lL.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===lL.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0;else if(n===lL.AUDIO){var i;this.unbindRemoteTrackEvents(t._audioTrack),null===(i=t._audioTrack)||void 0===i||i._destroy(),t._audioTrack=void 0}})),r}async muteRemote(e,t){if(!this.connection)return;pk("debug",this,"muteRemote",{uid:e.uid,kind:t});const n=this.remoteUserMap.get(e);if(!n)return KP.warning("P2PChannel.muteRemote has no remote user ".concat(e.uid,".")),void uk("warning",this,"P2PChannel.muteRemote has no remote user ".concat(e.uid,"."));if(!n.get(t))return KP.warning("P2PChannel.muteRemote has no remote user ".concat(e.uid," media type ").concat(t,".")),void uk("warning",this,"P2PChannel.muteRemote has no remote user ".concat(e.uid," media type ").concat(t,"."));const r=t===lL.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.connection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;pk("debug",this,"unmuteRemote",{uid:e.uid,kind:t});const n=this.remoteUserMap.get(e);return n?n.get(t)?void 0:(KP.warning("P2PChannel.unmuteRemote has no remote user ".concat(e.uid," media type ").concat(t,".")),void uk("warning",this,"unmuteRemote has no remote user ".concat(e.uid," media type ").concat(t))):(KP.warning("P2PChannel.unmuteRemote has no remote user ".concat(e.uid,".")),void uk("warning",this,"unmuteRemote has no remote user ".concat(e.uid)))}getAllTracks(e){const t=this.localTrackMap.get(dL.LocalAudioTrack);if((null==t?void 0:t.track)instanceof qH){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==dL.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===dL.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===dL.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,n,r,o){if(e){const n=this.localTrackMap.get(dL.LocalAudioTrack),i=r?this.localTrackMap.get(dL.LocalVideoLowTrack):this.localTrackMap.get(dL.LocalVideoTrack);dW.publish(this.store.sessionId,{eventElapse:JH.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==i?void 0:i.track.getTrackLabel(),screenshare:-1!==(null==i?void 0:i.track._hints.indexOf(Xx.SCREEN_TRACK)),audio:!!n,video:!!i,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:o})}else{var i;n||(n=[]);const a=n.find((e=>e instanceof QH)),s=r?null===(i=this.localTrackMap.get(dL.LocalVideoTrack))||void 0===i?void 0:i.track:n.find((e=>e instanceof eX));dW.publish(this.store.sessionId,{eventElapse:JH.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(Xx.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:o})}}reportSubscribeEvent(e,t,n,r){const o=r===lL.VIDEO?n._videoSSRC:n._audioSSRC;o&&dW.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===lL.VIDEO,audio:r===lL.AUDIO,peerid:n.uid,subscribeRequestid:r===lL.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:JH.measureFromSubscribeStart(this.store.clientId,o)})}reset(){KP.debug("P2PChannel.reset"),this.mutex=new mW("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=fL.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(dL.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(dL.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof eX||t&&t.track instanceof QH?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(KV(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(dL.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=kD(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(pk("debug",this,"disconnectForReconnect"),KP.debug("P2PChannel.disconnectForReconnect closing P2PConnection"),this.state=fL.Reconnecting,this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;switch(t){case dL.LocalVideoTrack:n._hints.includes(Xx.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case dL.LocalAudioTrack:n instanceof qH?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);break;case dL.LocalVideoLowTrack:}})),this.emit(pL.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(KV(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(pL.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),KP.debug("P2PChannel disconnected, waiting to reconnect."))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:o}=n;if((e instanceof nX?e.uid:e)===r.uid&&t===o)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async reEstablish(){if(this.connection)return this.connection.reEstablish()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(dL.LocalVideoTrack),n=this.localTrackMap.get(dL.LocalAudioTrack),r=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),o=e.audioSend.find((e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)));if(!r||!o)return 1;const i=CQ(this,pL.NeedSignalRTT),a=r?r.rttMs:void 0,s=o?o.rttMs:void 0,c=a&&s?(a+s)/2:a||s,u=(c&&i?(c+i)/2:c||i)||0,l=100*e.sendPacketLossRate*.7/50+.3*u/1500,d=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,f=null==t?void 0:t.track;if(f&&f._encoderConfig&&-1===f._hints.indexOf(Xx.SCREEN_TRACK)){const t=f._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return Bk[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const o=r._audioSSRC,i=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===o)),s=e.videoRecv.find((e=>e.ssrc===i));if(!a&&!s)return void(t+=1);const c=CQ(this,pL.NeedSignalRTT),u=e.rtt,l=(u&&c?(u+c)/2:u||c)||0,d=a?a.jitterMs:void 0,f=e.recvPacketLossRate;let p=.7*f*100/50+.3*l/1500;d&&(p=.6*f*100/50+.2*l/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new iS(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const r=[],o=SL(),i=this.getAllTracks();e=TQ(e=e.filter((e=>-1===i.indexOf(e))));let a=!1,s=!1;for(const c of e){if(c instanceof eX&&(this.localTrackMap.has(dL.LocalVideoTrack)||a?new BP(MP.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:c,type:dL.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(c,n);r.push({track:e,type:dL.LocalVideoLowTrack})}if(c instanceof QH){const e=this.localTrackMap.get(dL.LocalAudioTrack);if(e){if(!(e.track instanceof qH))throw new BP(MP.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new BP(MP.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(s){const e=r.find((e=>{let{type:t}=e;return t===dL.LocalAudioTrack}));if(!(e.track instanceof qH))throw new BP(MP.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new BP(MP.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(c)}else{if(!o.webAudioMediaStreamDest||c instanceof qH||c._bypassWebAudio)r.push({track:c,type:dL.LocalAudioTrack});else{const e=new qH;e.addAudioTrack(c),r.push({track:e,type:dL.LocalAudioTrack})}s=!0}}}return r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=TQ(e=e.filter((e=>-1!==n.indexOf(e))));for(const r of e){if(r instanceof QH){const e=this.localTrackMap.get(dL.LocalAudioTrack);if(!e)continue;e.track instanceof qH?(e.track.removeAudioTrack(r),this.unbindLocalAudioTrackEvents(r),0===e.track.trackList.length&&(t.push([dL.LocalAudioTrack,e]),e.track.close())):t.push([dL.LocalAudioTrack,e])}if(r instanceof eX){const e=this.localTrackMap.get(dL.LocalVideoTrack);if(!e)continue;t.push([dL.LocalVideoTrack,e]);const n=this.localTrackMap.get(dL.LocalVideoLowTrack);n&&t.push([dL.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case dL.LocalVideoTrack:t.addListener(Jx.GET_STATS,this.handleGetLocalVideoStats),t.addListener(Jx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(Jx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(Jx.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(Jx.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(Jx.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(Jx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(Jx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case dL.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);break;case dL.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof qH?e.trackList.forEach((e=>{e.addListener(Jx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Jx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Jx.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Jx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Jx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(Jx.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Jx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Jx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Jx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Jx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Jx.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case dL.LocalVideoTrack:t.off(Jx.GET_STATS,this.handleGetLocalVideoStats),t.off(Jx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Jx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Jx.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(Jx.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(Jx.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(Jx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Jx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case dL.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);break;case dL.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof qH?e.trackList.forEach((e=>{e.off(Jx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Jx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Jx.GET_STATS,this.handleGetLocalAudioStats),e.off(Jx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Jx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(Jx.GET_STATS,this.handleGetLocalAudioStats),e.off(Jx.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Jx.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Jx.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Jx.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Jx.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof x0&&t.addListener(Jx.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof L0&&t.addListener(Jx.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Jx.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(lL.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(lL.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{let r,o,{track:i,type:a}=e;switch(a){case dL.LocalAudioTrack:r=qx.Audio,o={dtx:i instanceof GH&&i._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case dL.LocalVideoTrack:r=i._hints.includes(Xx.SCREEN_TRACK)?qx.Screen:qx.High,o=W0(W0({},aQ(i)),{},{codec:this.store.codec});break;case dL.LocalVideoLowTrack:r=qx.Low,o=W0(W0({},aQ(i)),{},{codec:this.store.codec})}return{stream_type:r,attributes:o,ssrcs:t[n]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:o,id:i}]=e;switch(n){case dL.LocalVideoTrack:t=r._hints.includes(Xx.SCREEN_TRACK)?qx.Screen:qx.High;break;case dL.LocalAudioTrack:t=qx.Audio;break;case dL.LocalVideoLowTrack:t=qx.Low}return{stream_type:t,ssrcs:o,mid:i}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:o}=e;this.localTrackMap.set(o,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}async waitTillConnected(){return new iS(((e,t)=>{switch(this.state){case fL.New:case fL.Reconnecting:{const n=(r,o)=>o===fL.Disconnected?(this.off(pL.StateChange,n),void t(new BP(MP.UNEXPECTED_ERROR,"PeerConnection already disconnected."))):o===fL.Connected?(this.off(pL.StateChange,n),void e(void 0)):void 0;this.on(pL.StateChange,n);break}case fL.Connected:e(void 0);break;case fL.Disconnected:t(new BP(MP.UNEXPECTED_ERROR,"PeerConnection already disconnected."))}}))}bindConnectionEvents(e){e.onConnectionStateChange=async e=>{KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(e,")")),lk("info",this,"connectionStateChange",e),this.emit(pL.PeerConnectionStateChange,e),"connected"!==e||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"failed"===e&&await this.requestReconnect()},e.onICEConnectionStateChange=e=>{KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),lk("info",this,"iceConnectionStateChange",e),dW.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:nx.TRACER}).onSuccess(),this.emit(pL.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")")),lk("info",this,"ICETransportStateChange",e)},e.onDTLSTransportStateChange=e=>{KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")")),lk("info",this,"DTLSTransportStateChange",e)},e.onDTLSTransportError=e=>{KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")")),lk("info",this,"DTLSTransportError",e)},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(KV(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(tL.FIRST_FRAME_DECODED),dW.firstRemoteFrame(this.store.sessionId,XD.FIRST_AUDIO_DECODE,ZD.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:JH.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(KV(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&dW.firstRemoteFrame(this.store.sessionId,XD.FIRST_AUDIO_RECEIVED,ZD.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:JH.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(KV(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&dW.firstRemoteFrame(this.store.sessionId,XD.FIRST_VIDEO_RECEIVED,ZD.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:JH.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(pL.ConnectionTypeChange,n),KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(fQ(t))," -> ").concat(JSON.stringify(fQ(e)),")")),lk("info",this,"SelectedLocalCandidateChanged","".concat(JSON.stringify(fQ(t))," -> ").concat(JSON.stringify(fQ(e))))},e.onSelectedRemoteCandidateChanged=(e,t)=>{KP.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(fQ(t))," -> ").concat(JSON.stringify(fQ(e)),")")),lk("info",this,"SelectedRemoteCandidateChanged","".concat(JSON.stringify(fQ(t))," -> ").concat(JSON.stringify(fQ(e))))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(dL.LocalAudioTrack);if(e instanceof QH&&(null==n?void 0:n.track)instanceof qH)return n.track.isActive||t.push([dL.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===dL.LocalVideoTrack)){const e=this.localTrackMap.get(dL.LocalVideoLowTrack);e&&t.push([dL.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(dL.LocalAudioTrack);if(e instanceof QH&&(null==n?void 0:n.track)instanceof qH)return n.track.isActive&&t.push([dL.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===dL.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(dL.LocalVideoLowTrack);e&&t.push([dL.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:o,id:i}]=e;switch(n){case dL.LocalAudioTrack:t=qx.Audio;break;case dL.LocalVideoTrack:t=r._hints.includes(Xx.SCREEN_TRACK)?qx.Screen:qx.High;break;case dL.LocalVideoLowTrack:t=qx.Low}return{stream_type:t,ssrcs:o,mid:i}}))}createUnmuteMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:o,id:i}]=e;switch(n){case dL.LocalAudioTrack:t=qx.Audio;break;case dL.LocalVideoTrack:t=r._hints.includes(Xx.SCREEN_TRACK)?qx.Screen:qx.High;break;case dL.LocalVideoLowTrack:t=qx.Low}return{stream_type:t,ssrcs:o,mid:i}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const o=r.get(t);if(!o)return n;n.push([e,{kind:t,id:o}])}else Array.from(r.entries()).forEach((t=>{let[r,o]=t;n.push([e,{kind:r,id:o}])}));return n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:o}]=e;switch(r){case lL.VIDEO:return void(n._videoSSRC&&t.push({stream_type:lL.VIDEO,ssrcId:n._videoSSRC}));case lL.AUDIO:return void(n._audioSSRC&&t.push({stream_type:lL.AUDIO,ssrcId:n._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[n,{kind:r}]=e;if(t.has(n)){let e=t.get(n);r===lL.VIDEO?e|=Yx.Video:e|=Yx.Audio,t.set(n,e)}else r===lL.VIDEO?t.set(n,Yx.Video):t.set(n,Yx.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(dL.LocalVideoTrack),n=this.localTrackMap.get(dL.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(e,t){return e.map(((e,n)=>{var r;let{stream_type:o}=e;return null===(r=t.find((e=>{let{stream_type:t}=e;return o===t})))||void 0===r?void 0:r.attributes}))}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof QH){var t;const r=this.filterTobeUnmutedTracks(e[n]);if(0===r.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t}))));const o=this.createUnmuteMessage(r);return void await SQ(this,pL.RequestUnmuteLocal,o)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(pL.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await vQ(UP(this.dtlsFailedCount,FP)),this.emit(pL.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await wQ(this,pL.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(pL.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(dL.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof eX))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof eX)).length>1)throw new BP(MP.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof QH)).length>1&&(e.some((e=>e instanceof QH&&e._bypassWebAudio))||!SL().webAudioMediaStreamDest))throw new BP(MP.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof eX&&this.pendingLocalTracks.some((e=>e instanceof eX)))throw new BP(MP.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof QH&&this.pendingLocalTracks.some((e=>e instanceof QH))&&(!SL().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof QH&&e._bypassWebAudio))))throw new BP(MP.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=SL().supportDualStreamEncoding,r=W0(W0({},{width:160,height:120,framerate:15,bitrate:50}),t);let o;o=n?e._mediaStreamTrack.clone():T0(e,r);const i=new eX(o,W0(W0({},n&&{scaleResolutionDownBy:dQ(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}));return i._hints.push(Xx.LOW_STREAM),e.addListener(Jx.NEED_CLOSE,(()=>{i.close()})),i}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}reportVideoFirstFrameDecoded(e,t,n,r){var o;const i=Array.from(KV(o=this.remoteUserMap).call(o)).find((t=>t._videoSSRC===e));if(i){r||this.store.subscribe(i.uid,"video",void 0,void 0,void 0,void 0,Date.now());const o=this.store.keyMetrics,a=o.subscribe.find((e=>e.userId===i.uid&&"video"===e.type));dW.firstRemoteVideoDecode(this.store.sessionId,XD.FIRST_VIDEO_DECODE,ZD.FIRST_VIDEO_DECODE,{peer:i._uintid,videowidth:t,videoheight:n,subscribeElapse:JH.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:o.requestAPEnd||0,apStart:o.requestAPStart||0,joinGwEnd:o.joinGatewayEnd||0,joinGwStart:o.joinGatewayStart||0,pcEnd:o.peerConnectionEnd||0,pcStart:o.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const o=r.get(t);if(!o)return!1;const i=await this.connection.getRemoteSSRC(o);return void 0!==i&&i!==n}}).prototype,"startP2PConnection",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"startP2PConnection"),U0.prototype),BV(U0.prototype,"connect",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"connect"),U0.prototype),BV(U0.prototype,"unpublish",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"unpublish"),U0.prototype),BV(U0.prototype,"unpublishLowStream",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"unpublishLowStream"),U0.prototype),BV(U0.prototype,"subscribe",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"subscribe"),U0.prototype),BV(U0.prototype,"massSubscribe",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"massSubscribe"),U0.prototype),BV(U0.prototype,"unsubscribe",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"unsubscribe"),U0.prototype),BV(U0.prototype,"massUnsubscribe",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"massUnsubscribe"),U0.prototype),BV(U0.prototype,"muteRemote",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"muteRemote"),U0.prototype),BV(U0.prototype,"unmuteRemote",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"unmuteRemote"),U0.prototype),BV(U0.prototype,"hasRemoteMediaWithLock",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"hasRemoteMediaWithLock"),U0.prototype),BV(U0.prototype,"disconnectForReconnect",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"disconnectForReconnect"),U0.prototype),BV(U0.prototype,"reEstablish",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"reEstablish"),U0.prototype),BV(U0.prototype,"updateBitrateLimit",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"updateBitrateLimit"),U0.prototype),BV(U0.prototype,"remoteMediaSsrcChanged",[K0],Object.getOwnPropertyDescriptor(U0.prototype,"remoteMediaSsrcChanged"),U0.prototype),F0=U0))||F0;function K0(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return await r.apply(this,i)}finally{n()}},n}function q0(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var z0,Y0="function"==typeof Symbol&&Symbol.observable||"@@observable",J0=function(){return Math.random().toString(36).substring(7).split("").join(".")},X0={INIT:"@@redux/INIT"+J0(),REPLACE:"@@redux/REPLACE"+J0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+J0()}};function Z0(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $0(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(q0(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(q0(1));return n($0)(e,t)}if("function"!=typeof e)throw new Error(q0(2));var o=e,i=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(q0(3));return i}function d(e){if("function"!=typeof e)throw new Error(q0(4));if(c)throw new Error(q0(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(q0(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!Z0(e))throw new Error(q0(7));if(void 0===e.type)throw new Error(q0(8));if(c)throw new Error(q0(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}function p(e){if("function"!=typeof e)throw new Error(q0(10));o=e,f({type:X0.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(q0(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Y0]=function(){return this},e}return f({type:X0.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:p})[Y0]=h,r}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_UID="SET_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS"}(z0||(z0={}));class n1{constructor(e,t,n,r){LR(this,"store",void 0),LR(this,"reducer",void 0);const o={codec:e,audioCodec:t,mode:n,clientId:r,sessionId:null,p2pId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled"};this.reducer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z0.SET_SESSION_ID:return t1(t1({},e),{},{sessionId:t.sessionId});case z0.SET_P2P_ID:return t1(t1({},e),{},{p2pId:t.p2pId});case z0.SET_UID:return t1(t1({},e),{},{uid:t.uid});case z0.SET_PUB_ID:return t1(t1({},e),{},{pubId:t.pubId});case z0.KEY_METRIC_CLIENT_CREATED:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{clientCreated:t.metric})});case z0.KEY_METRIC_JOIN_START:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{joinStart:t.metric})});case z0.AVOID_JOIN_START:return t1(t1({},e),{},{avoidJoinStart:t.avoidJoinStart});case z0.KEY_METRIC_JOIN_END:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{joinEnd:t.metric})});case z0.KEY_METRIC_REQUEST_AP_START:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{requestAPStart:t.metric})});case z0.KEY_METRIC_REQUEST_AP_END:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{requestAPEnd:t.metric})});case z0.KEY_METRIC_JOIN_GATEWAY_START:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case z0.KEY_METRIC_JOIN_GATEWAY_END:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case z0.KEY_METRIC_PEER_CONNECTION_START:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case z0.KEY_METRIC_PEER_CONNECTION_END:return t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case z0.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,r=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==r?(n[r]=t1(t1({},n[r]),t.metric),t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{publish:[...n]})})):t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case z0.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,r=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==r?(n[r]=t1(t1({},n[r]),t.metric),t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{subscribe:[...n]})})):t1(t1({},e),{},{keyMetrics:t1(t1({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case z0.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case z0.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=t1(t1({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case z0.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case z0.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;default:return e}},this.store=$0(this.reducer)}set sessionId(e){this.store.dispatch({type:z0.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.store.getState().sessionId}get codec(){return this.store.getState().codec}get audioCodec(){return this.store.getState().audioCodec}get clientId(){return this.store.getState().clientId}set p2pId(e){this.store.dispatch({type:z0.SET_P2P_ID,p2pId:e})}get p2pId(){return this.store.getState().p2pId}set uid(e){this.store.dispatch({type:z0.SET_UID,uid:e})}get uid(){return this.store.getState().uid}set pubId(e){this.store.dispatch({type:z0.SET_PUB_ID,pubId:e})}get pubId(){return this.store.getState().pubId}set cloudProxyServerMode(e){this.store.dispatch({type:z0.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.store.getState().cloudProxyServerMode}clientCreated(){this.store.dispatch({type:z0.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.store.dispatch({type:z0.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.store.dispatch({type:z0.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.store.dispatch({type:z0.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.store.dispatch({type:z0.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.store.dispatch({type:z0.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.store.dispatch({type:z0.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.store.dispatch({type:z0.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.store.dispatch({type:z0.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}publish(e,t,n,r){this.store.dispatch({type:z0.KEY_METRIC_PUBLISH,metric:t1(t1({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}subscribe(e,t,n,r,o,i,a){this.store.dispatch({type:z0.KEY_METRIC_SUBSCRIBE,metric:t1(t1(t1(t1(t1({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),o&&{firstFrame:o}),i&&{streamAdded:i}),a&&{firstDecoded:a})})}massSubscribe(e,t,n,r){e.forEach((e=>{this.store.dispatch({type:z0.KEY_METRIC_SUBSCRIBE,metric:t1(t1(t1({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}get keyMetrics(){return this.store.getState().keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.store.dispatch({type:z0.RECORD_JOIN_CHANNEL_SERVICE,record:t1(t1({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.store.getState().joinChannelServiceRecords.length-1):(t<0||t>=this.store.getState().joinChannelServiceRecords.length||this.store.dispatch({type:z0.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.store.dispatch({type:z0.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.store.dispatch({type:z0.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.store.getState().joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.store.getState().avoidJoinStart}set avoidJoinStart(e){this.store.dispatch({type:z0.AVOID_JOIN_START,avoidJoinStart:e})}}let r1;const o1=()=>"HTTPS"===(r1||r1||(r1=(window.location.protocol.split(":")[0]||"").toUpperCase(),r1)),i1=()=>void 0!==window.isSecureContext;class a1{constructor(e,t){LR(this,"time",void 0),LR(this,"sequence",void 0),LR(this,"name",void 0),LR(this,"elapse",void 0),this.name=e,this.time=performance.now(),this.sequence=mL[t].indexOf(e)}setElapse(e){this.elapse=e}}const s1=new Map;class c1{constructor(e,t){LR(this,"records",[]),LR(this,"_id",void 0),LR(this,"_group",void 0),LR(this,"_localTimeStamp",void 0),LR(this,"_performanceTimeStamp",void 0),this._id=e,this._group=t,this._localTimeStamp=Date.now(),this._performanceTimeStamp=performance.now()}checkPoint(e){const t=new a1(e,this._group);-1===t.sequence&&KP.warning("[".concat(this._id,"] check point record failed, cannot get the sequence")),this.records.push(t);const n=this.records.find((e=>e.sequence===t.sequence-1));n&&t.setElapse(t.time-n.time)}getRecord(e){return this.records.find((t=>t&&t.name===e))}resetRecords(){this.records.length=0}}function u1(e){let t=b1();return function(e,t){let n=e.appId;void 0!==n&&(x1(t,10),O1(t,n));let r=e.cid;void 0!==r&&(x1(t,16),x1(t,r));let o=e.cname;void 0!==o&&(x1(t,26),O1(t,o));let i=e.deviceId;void 0!==i&&(x1(t,34),O1(t,i));let a=e.elapse;void 0!==a&&(x1(t,40),L1(t,a));let s=e.fileSize;void 0!==s&&(x1(t,48),L1(t,y1(s)));let c=e.height;void 0!==c&&(x1(t,56),L1(t,y1(c)));let u=e.jpg;void 0!==u&&(x1(t,66),x1(t,u.length),function(e,t){let n=S1(e,t.length);e.bytes.set(t,n)}(t,u));let l=e.networkType;void 0!==l&&(x1(t,72),L1(t,y1(l)));let d=e.osType;void 0!==d&&(x1(t,80),L1(t,y1(d)));let f=e.requestId;void 0!==f&&(x1(t,90),O1(t,f));let p=e.sdkVersion;void 0!==p&&(x1(t,98),O1(t,p));let h=e.sequence;void 0!==h&&(x1(t,104),L1(t,y1(h)));let g=e.sid;void 0!==g&&(x1(t,114),O1(t,g));let v=e.timestamp;void 0!==v&&(x1(t,120),L1(t,v));let m=e.uid;void 0!==m&&(x1(t,128),x1(t,m));let y=e.vid;void 0!==y&&(x1(t,136),x1(t,y));let A=e.width;void 0!==A&&(x1(t,144),L1(t,y1(A)));let b=e.service;void 0!==b&&(x1(t,152),x1(t,b));let E=e.callbackData;void 0!==E&&(x1(t,162),O1(t,E));let _=e.jpgEncryption;void 0!==_&&(x1(t,168),x1(t,_));let w=e.requestType;void 0!==w&&(x1(t,176),x1(t,w));let S=e.scorePorn;void 0!==S&&(x1(t,185),k1(t,S));let C=e.scoreSexy;void 0!==C&&(x1(t,193),k1(t,C));let I=e.scoreNeutral;void 0!==I&&(x1(t,201),k1(t,I));let O=e.scene;void 0!==O&&(x1(t,208),x1(t,O));let T=e.ossFilePrefix;void 0!==T&&(x1(t,218),O1(t,T));let R=e.serviceVendor;if(void 0!==R)for(let N of R){x1(t,226);let e=b1();f1(N,e),x1(t,e.limit),T1(t,e),E1(e)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function l1(e){return function(e){let t={};e:for(;!w1(e);){let n=D1(e);switch(n>>>3){case 0:break e;case 1:t.code=D1(e);break;case 2:t.msg=I1(e,D1(e));break;case 3:{let n=p1(e);t.data=d1(e),e.limit=n;break}default:h1(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function d1(e){let t={};e:for(;!w1(e);){let n=D1(e);switch(n>>>3){case 0:break e;case 1:t.requestId=I1(e,D1(e));break;case 2:t.requestType=D1(e)>>>0;break;case 3:t.scorePorn=P1(e);break;case 4:t.scoreSexy=P1(e);break;case 5:t.scoreNeutral=P1(e);break;case 6:t.requestScene=D1(e)>>>0;break;case 7:t.scene=D1(e)>>>0;break;default:h1(e,7&n)}}return t}function f1(e,t){let n=e.service;void 0!==n&&(x1(t,8),x1(t,n));let r=e.vendor;void 0!==r&&(x1(t,16),x1(t,r));let o=e.token;void 0!==o&&(x1(t,26),O1(t,o));let i=e.callbackUrl;void 0!==i&&(x1(t,34),O1(t,i))}function p1(e){let t=D1(e),n=e.limit;return e.limit=e.offset+t,n}function h1(e,t){switch(t){case 0:for(;128&R1(e););break;case 2:_1(e,D1(e));break;case 5:_1(e,4);break;case 1:_1(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let g1=new Float32Array(1);new Uint8Array(g1.buffer);let v1=new Float64Array(1),m1=new Uint8Array(v1.buffer);function y1(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let A1=[];function b1(){const e=A1.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function E1(e){A1.push(e)}function _1(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function w1(e){return e.offset>=e.limit}function S1(e,t){let n=e.bytes,r=e.offset,o=e.limit,i=r+t;if(i>n.length){let t=new Uint8Array(2*i);t.set(n),e.bytes=t}return e.offset=i,i>o&&(e.limit=i),r}function C1(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function I1(e,t){let n=C1(e,t),r=String.fromCharCode,o=e.bytes,i="�",a="";for(let s=0;s<t;s++){let e,c,u,l,d=o[s+n];0==(128&d)?a+=r(d):192==(224&d)?s+1>=t?a+=i:(e=o[s+n+1],128!=(192&e)?a+=i:(l=(31&d)<<6|63&e,l<128?a+=i:(a+=r(l),s++))):224==(240&d)?s+2>=t?a+=i:(e=o[s+n+1],c=o[s+n+2],32896!=(49344&(e|c<<8))?a+=i:(l=(15&d)<<12|(63&e)<<6|63&c,l<2048||l>=55296&&l<=57343?a+=i:(a+=r(l),s+=2))):240==(248&d)?s+3>=t?a+=i:(e=o[s+n+1],c=o[s+n+2],u=o[s+n+3],8421504!=(12632256&(e|c<<8|u<<16))?a+=i:(l=(7&d)<<18|(63&e)<<12|(63&c)<<6|63&u,l<65536||l>1114111?a+=i:(l-=65536,a+=r(55296+(l>>10),56320+(1023&l)),s+=3))):a+=i}return a}function O1(e,t){let n=t.length,r=0;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),r+=e<128?1:e<2048?2:e<65536?3:4}x1(e,r);let o=S1(e,r),i=e.bytes;for(let a=0;a<n;a++){let e=t.charCodeAt(a);e>=55296&&e<=56319&&a+1<n&&(e=(e<<10)+t.charCodeAt(++a)-56613888),e<128?i[o++]=e:(e<2048?i[o++]=e>>6&31|192:(e<65536?i[o++]=e>>12&15|224:(i[o++]=e>>18&7|240,i[o++]=e>>12&63|128),i[o++]=e>>6&63|128),i[o++]=63&e|128)}}function T1(e,t){let n=S1(e,t.limit),r=e.bytes,o=t.bytes;for(let i=0,a=t.limit;i<a;i++)r[i+n]=o[i]}function R1(e){return e.bytes[C1(e,1)]}function N1(e,t){let n=S1(e,1);e.bytes[n]=t}function P1(e){let t=C1(e,8),n=e.bytes;return m1[0]=n[t++],m1[1]=n[t++],m1[2]=n[t++],m1[3]=n[t++],m1[4]=n[t++],m1[5]=n[t++],m1[6]=n[t++],m1[7]=n[t++],v1[0]}function k1(e,t){let n=S1(e,8),r=e.bytes;v1[0]=t,r[n++]=m1[0],r[n++]=m1[1],r[n++]=m1[2],r[n++]=m1[3],r[n++]=m1[4],r[n++]=m1[5],r[n++]=m1[6],r[n++]=m1[7]}function D1(e){let t,n=0,r=0;do{t=R1(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function x1(e,t){for(t>>>=0;t>=128;)N1(e,127&t|128),t>>>=7;N1(e,t)}function L1(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,o=t.high>>>24,i=0===o?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:o<128?9:10,a=S1(e,i),s=e.bytes;switch(i){case 10:s[a+9]=o>>>7&1;case 9:s[a+8]=9!==i?128|o:127&o;case 8:s[a+7]=8!==i?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==i?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==i?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==i?128|r:127&r;case 4:s[a+3]=4!==i?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==i?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==i?n>>>7|128:n>>>7&127;case 1:s[a]=1!==i?128|n:127&n}}var j1={};Object.defineProperty(j1,"__esModule",{value:!0});var M1=function(){function e(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var n,r,o,i,a=e.hexChars,s=e.hexOut;for(i=0;i<4;i+=1)for(r=8*i,n=t[i],o=0;o<8;o+=2)s[r+1+o]=a.charAt(15&n),n>>>=4,s[r+0+o]=a.charAt(15&n),n>>>=4;return s.join("")},e._md5cycle=function(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+t[3]-1044525330|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+t[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+t[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+t[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+t[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+t[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+t[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+t[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+t[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+t[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var n,r,o=this._buffer8,i=this._buffer32,a=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)o[a++]=n;else if(n<2048)o[a++]=192+(n>>>6),o[a++]=63&n|128;else if(n<55296||n>56319)o[a++]=224+(n>>>12),o[a++]=n>>>6&63|128,o[a++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");o[a++]=240+(n>>>18),o[a++]=n>>>12&63|128,o[a++]=n>>>6&63|128,o[a++]=63&n|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,i),a-=64,i[0]=i[16])}return this._bufferLength=a,this},e.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,o=this._buffer32,i=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-i);n--;)r[i++]=t.charCodeAt(a++);if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,o),i=0}return this._bufferLength=i,this},e.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,o=this._buffer32,i=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-i);n--;)r[i++]=t[a++];if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,o),i=0}return this._bufferLength=i,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,n=e.buffer,r=e.state,o=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var n=this._bufferLength,r=this._buffer8,o=this._buffer32,i=1+(n>>2);this._dataLength+=n;var a=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,o.set(e.buffer32Identity.subarray(i),i),n>55&&(e._md5cycle(this._state,o),o.set(e.buffer32Identity)),a<=4294967295)o[14]=a;else{var s=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var c=parseInt(s[2],16),u=parseInt(s[1],16)||0;o[14]=c,o[15]=u}return e._md5cycle(this._state,o),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}(),B1=j1.Md5=M1;if("5d41402abc4b2a76b9719d911017c592"!==M1.hashStr("hello"))throw new Error("Md5 self test failed.");const F1=async(e,t,n)=>await(async(e,t,n)=>{const r=""+t+n,o=new Uint8Array(B1.hashStr(r,!0).buffer).slice(0,16),i=o.slice(0,12),a=await window.crypto.subtle.importKey("raw",o,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},a,e))})(e.buffer,t,n);function U1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const V1=new Map([["moderation",1],["supervise",2],["all",3]]);class W1 extends LP{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(_L.CONNECTION_STATE_CHANGE,t,e)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),LR(this,"name","AgoraRTCVideoContentInspect"),LR(this,"_connectionState",bL.CONNECTING),LR(this,"_innerConnectionState",void 0),LR(this,"sequence",0),LR(this,"inspectStartTime",void 0),LR(this,"workerManagerConnection",void 0),LR(this,"workerConnection",void 0),LR(this,"workerMessageLengthLimit",void 0),LR(this,"inspectIntervalMinimum",void 0),LR(this,"qualityRatio",void 0),LR(this,"_connectInfo",void 0),LR(this,"_cancelTokenSource",DP.CancelToken.source()),LR(this,"_retryConfig",void 0),LR(this,"wmSequence",0),LR(this,"inspectInterval",void 0),LR(this,"inspectTimer",null),LR(this,"ossFilePrefix",void 0),LR(this,"extraInfo",void 0),LR(this,"inspectType","all"),LR(this,"_quality",1),LR(this,"qualityTimer",null),LR(this,"_inspectId",void 0),LR(this,"_needWorkUrlOnly",!1),LR(this,"inspectImage",(()=>{if(this.connectionState!==bL.CONNECTED)throw new BP(MP.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{if(this.connectionState!==bL.CONNECTED)return KP.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState),void uk("debug",this,"Inspect State is not connected , ".concat(this.connectionState));this.requestToInspectImage()}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=yQ(5,"inspect-"),this.workerMessageLengthLimit=Pk("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=Pk("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=Pk("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType||"all",this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new Yz("worker-manager-"+this._inspectId,FP),this.on(_L.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,KP.debug("[".concat(this._inspectId,"] Inspect operation :").concat(EL[e]," ").concat(t||"")),fk("debug",["Inspect",this._inspectId],_L.STATE_CHANGE,"".concat(EL[e]," ").concat(t||""))})),this.handleWorkerManagerEvents(),this.workerConnection=new Yz("worker-"+this._inspectId,FP),this.handleWorkerEvents()}async init(e,t){this.emit(_L.STATE_CHANGE,EL.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new iS(((r,o)=>{this.on(_L.CONNECTION_STATE_CHANGE,((e,t)=>{t===bL.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{o(e)}))}))}async requestAP(e,t,n){const r=Pk("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),o=await function(e,t,n,r){let{appId:o,areaCode:i,cname:a,sid:s,token:c,uid:u}=t;vY++;const l="image_moderation_api",d={service_name:l,json_body:JSON.stringify({appId:o,areaCode:i,cname:a,command:"allocateEdge",requestId:vY,seq:vY,sid:s,token:c,ts:Date.now(),uid:u+""})};let f,p,h=e[0];return VP((async()=>{f=Date.now();const e=await XV(h,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-f,0!==e.code){const t=new BP(MP.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:p});throw KP.error(t.toString()),pk("error",["AjaxAPI"],"requestImageInspectAP",void 0,t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new BP(MP.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestImageInspectAP",void 0,e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new BP(MP.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:p});throw KP.error(e.toString()),pk("error",["AjaxAPI"],"requestImageInspectAP",void 0,e.toString()),e}const r=Pk("VIDEO_INSPECT_WORKER_MANAGER_HOST"),o=Pk("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(o||n)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,n)=>(dW.apworkerEvent(s,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(dW.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==MP.OPERATION_ABORTED&&t.code!==MP.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(h=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(_L.STATE_CHANGE,EL.AP_CONNECTED);const{addressList:i}=o;return this.wmSequence++,i}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(_L.STATE_CHANGE,EL.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Px.CONNECTED,(async()=>{this.emit(_L.STATE_CHANGE,EL.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.13.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)})),this.workerManagerConnection.on(Px.CLOSED,(()=>{this._innerConnectionState<EL.GET_WORKER_MANAGER_RESPONSE&&(KP.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker")),fk("debug",["Inspect",this._inspectId],"workerManagerConnectionClosed"))})),this.workerManagerConnection.on(Px.FAILED,(()=>{this._innerConnectionState<EL.GET_WORKER_MANAGER_RESPONSE&&(KP.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker")),fk("debug",["Inspect",this._inspectId],"workerManagerConnectionFailed"))})),this.workerManagerConnection.on(Px.RECONNECTING,(()=>{this._innerConnectionState<EL.GET_WORKER_MANAGER_RESPONSE&&(KP.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker")),fk("debug",["Inspect",this._inspectId],"workerManagerConnectionReconnecting"))})),this.workerManagerConnection.on(Px.ON_MESSAGE,(async e=>{this.emit(_L.STATE_CHANGE,EL.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw KP.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),uk("error",this,"Unexpected code ".concat(n.code," from worker manager")),new BP(MP.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw KP.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),uk("error",this,"Unexpected content from worker manager : "+JSON.stringify(n)),new BP(MP.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=Pk("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,r=t.replace(/:\d+\/?$/,":".concat(e));this.emit(_L.STATE_CHANGE,EL.CONNECT_WORKER,r),this._needWorkUrlOnly?this.emit(_L.REQUEST_NEW_WORKER_URL,r):await this.connectWorker(r)}})),this.workerManagerConnection.on(Px.WILL_RECONNECT,((e,t)=>{t(e)})),this.workerManagerConnection.on(Px.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(Px.CONNECTED,(async()=>{this.emit(_L.STATE_CHANGE,EL.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=bL.CONNECTED})),this.workerConnection.on(Px.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const n=l1(new Uint8Array(e.data));if(Pk("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&KP.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if("supervise"===this.inspectType)return void this.emit(_L.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},r=Sf(t=Object.keys(e)).call(t,((t,n)=>e[t]>e[n]?t:n),"porn"),o=Object.keys(e).find((e=>e===r));this.emit(_L.INSPECT_RESULT,o)}else this.emit(_L.INSPECT_RESULT,void 0,new BP(MP.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(_L.INSPECT_RESULT,void 0,new BP(MP.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else KP.error("[".concat(this._inspectId,"] Unexpected message type from worker")),uk("error",this,"Unexpected message type from worker"),this.emit(_L.INSPECT_RESULT,void 0,new BP(MP.UNEXPECTED_RESPONSE,"invalid worker message type"))})),this.workerConnection.on(Px.CLOSED,(()=>{this.connectionState=bL.CLOSED})),this.workerConnection.on(Px.FAILED,(()=>{this.connectionState=bL.CLOSED})),this.workerConnection.on(Px.RECONNECTING,(()=>{this.connectionState=this.connectionState===bL.CONNECTED?bL.RECONNECTING:bL.CONNECTING})),this.workerConnection.on(Px.WILL_RECONNECT,((e,t)=>{"recover"===e&&t(e),t("tryNext")})),this.workerConnection.on(Px.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(_L.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=CQ(this,_L.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(_L.INSPECT_RESULT,void 0,new BP(MP.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(_L.INSPECT_RESULT,void 0,new BP(MP.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:r,cid:o,vid:i,sid:a,uid:s}=t;const c=Date.now(),u=await e.getCurrentFrameImage("image/jpeg",this.quality),l=await F1(u,n,r),d=this.sequence+"-"+o+"-"+s+"-"+c+"-"+yQ(12,""),f={appId:n,cid:o,cname:r,deviceId:"",elapse:W1.intToLong(Number(c-this.inspectStartTime)),fileSize:l.byteLength,jpgEncryption:2,height:u.height,width:u.width,jpg:l,networkType:6,osType:7,requestId:d,sdkVersion:"4.13.0",sequence:this.sequence,sid:a,timestamp:W1.intToLong(c),uid:s,vid:i,service:V1.get(this.inspectType)||3,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete f.callbackData,void 0===this.ossFilePrefix&&delete f.ossFilePrefix;const p=u1(f);if(p.byteLength<this.workerMessageLengthLimit){if(Pk("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U1(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f);delete e.jpg,KP.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e)),uk("debug",this,"Request message for worker of inspect content ".concat(JSON.stringify(e)))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:o,vid:i,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=DP.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=bL.CLOSED,this.emit(_L.STATE_CHANGE,EL.CLOSED)}}var H1,Q1,G1,K1,q1,z1,Y1,J1,X1,Z1,$1,e2,t2,n2;function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r2(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let i2=(H1=vk("AgoraRTCClient","store.clientId"),Q1=uW({report:dW}),G1=uW(),K1=uW(),q1=uW({report:dW}),z1=lW(),Y1=uW({report:dW}),J1=lW({report:dW}),X1=lW({report:dW}),Z1=lW({report:dW}),$1=uW({reportResult:!0,report:dW}),e2=lW(),H1((BV((n2=class extends LP{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}constructor(e){let t;if(super(),LR(this,"store",void 0),LR(this,"_uid",void 0),LR(this,"_channelName",void 0),LR(this,"_uintUid",void 0),LR(this,"_users",[]),LR(this,"_codec",void 0),LR(this,"_mode",void 0),LR(this,"_config",void 0),LR(this,"_clientId",void 0),LR(this,"_appId",void 0),LR(this,"_sessionId",null),LR(this,"_key",void 0),LR(this,"_joinInfo",void 0),LR(this,"_gateway",void 0),LR(this,"_statsCollector",void 0),LR(this,"_configDistribute",void 0),LR(this,"_leaveMutex",new mW("client-leave")),LR(this,"_publishMutex",new mW("client-publish")),LR(this,"_renewTokenMutex",new mW("client-renewtoken")),LR(this,"_subscribeMutex",new mW("client-subscribe")),LR(this,"_encryptionMode","none"),LR(this,"_encryptionSecret",null),LR(this,"_encryptionSalt",null),LR(this,"_proxyServer",void 0),LR(this,"_performanceRecorder",void 0),LR(this,"_turnServer",{servers:[],mode:"auto"}),LR(this,"_cloudProxyServerMode","disabled"),LR(this,"_isDualStreamEnabled",!1),LR(this,"_defaultStreamFallbackType",void 0),LR(this,"_lowStreamParameter",void 0),LR(this,"_streamFallbackTypeCacheMap",new Map),LR(this,"_remoteStreamTypeCacheMap",new Map),LR(this,"_axiosCancelSource",DP.CancelToken.source()),LR(this,"_audioVolumeIndicationInterval",void 0),LR(this,"_networkQualityInterval",void 0),LR(this,"_userOfflineTimeout",void 0),LR(this,"_streamRemovedTimeout",void 0),LR(this,"_injectStreamingClient",void 0),LR(this,"_liveTranscodeStreamingClient",void 0),LR(this,"_liveRawStreamingClient",void 0),LR(this,"_channelMediaRelayClient",void 0),LR(this,"_networkQualitySensitivity","normal"),LR(this,"_p2pChannel",void 0),LR(this,"_useLocalAccessPoint",!1),LR(this,"_joinAndNotLeaveYet",!1),LR(this,"_numberOfJoinCount",0),LR(this,"_remoteDefaultVideoStreamType",void 0),LR(this,"_inspect",void 0),LR(this,"_license",void 0),LR(this,"_handleLocalTrackEnable",((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),LR(this,"_handleLocalTrackDisable",((e,t,n)=>{this.unpublish(e).then(t).catch(n)})),LR(this,"_handleUserOnline",(e=>{this.isStringUID&&"string"!=typeof e.uid&&(KP.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID")),uk("error",this,"StringUID is Mixed with UintUID"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0;else{const t=new nX(e.uid,e.uint_id||e.uid);this._users.push(t),KP.debug("[".concat(this._clientId,"] user online"),e.uid),dk("info",this,"user-joined",{uid:e.uid}),this.emit(fx.USER_JOINED,t)}})),LR(this,"_handleUserOffline",(e=>{const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),OQ(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),KP.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),dk("info",this,"user-left",{reason:e.reason,uid:e.uid}),this.emit(fx.USER_LEAVED,t,e.reason))})),LR(this,"_handleAddAudioOrVideoStream",((e,t,n,r,o,i,a)=>{const s=this._users.find((e=>e.uid===t));if(!s)return KP.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)")),void lk("error",["AgoraRTCGateway",this._clientId],"add_".concat(e,"_stream"),"can not find target user!");KP.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),lk("debug",["AgoraRTCGateway",this._clientId],"add_".concat(e,"_stream"),{uid:t,mediaType:e}),this.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());const c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=o||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==r&&(s._cname=r),i&&(s._audioOrtc=i)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==r&&(s._cname=r),void 0!==a&&(s._rtxSsrcId=a),i&&(s._videoOrtc=i)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(KP.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published ").concat(e)),uk("info",this,"remote user ".concat(s.uid," published ").concat(e)),dk("info",this,"user-published",{uid:s.uid,mediaType:e}),this.emit(fx.USER_PUBLISHED,s,e)),"video"===e?dW.onGatewayStream(this._sessionId,XD.ON_ADD_VIDEO_STREAM,ZD.ON_ADD_VIDEO_STREAM,{peer:o||t}):dW.onGatewayStream(this._sessionId,XD.ON_ADD_AUDIO_STREAM,ZD.ON_ADD_AUDIO_STREAM,{peer:o||t}),this._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((t=>{if(t)return KP.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),this._p2pChannel.unsubscribe(s,e,!0).then((()=>this._subscribe(s,e,!0).catch((e=>{KP.error("[".concat(this._clientId,"] resubscribe error"),e.toString()),uk("error",this,"resubscribe error: ".concat(e.toString()))}))))})),this._p2pChannel.hasPendingRemoteMedia(s,e)&&(KP.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),this._subscribe(s,e,!0).catch((e=>{KP.error("[".concat(this._clientId,"] resubscribe error"),e.toString()),uk("error",this,"resubscribe error: ".concat(e.toString()))})))})),LR(this,"_handleRemoveStream",(e=>{const t=this._users.find((t=>t.uid===e.uid));if(!t)return KP.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)")),void lk("warning",["AgoraRTCGateway",this._clientId],"remove_stream",{uid:e.uid,info:"can not find target user!"});KP.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid)),lk("debug",["AgoraRTCGateway",this._clientId],"remove_stream",{uid:e.uid});let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{KP.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),dk("info",this,"user-unpublished",{uid:t.uid,mediaType:"audio"}),this.emit(fx.USER_UNPUBLISHED,t,"audio"),KP.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),dk("info",this,"user-unpublished",{uid:t.uid,mediaType:"video"}),this.emit(fx.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{KP.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),dk("info",this,"user-unpublished",{uid:t.uid,mediaType:"video"}),this.emit(fx.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{KP.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),dk("info",this,"user-unpublished",{uid:t.uid,mediaType:"audio"}),this.emit(fx.USER_UNPUBLISHED,t,"audio")}),t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0,dW.onGatewayStream(this._sessionId,XD.ON_REMOVE_STREAM,ZD.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),LR(this,"_handleSetStreamLocalEnable",((e,t,n)=>{const r=this._users.find((e=>e.uid===t));if(!r)return KP.error("[".concat(this._clientId,"] can not find target user!(disable_local)")),void lk("error",this,"disable_local_video","can not find target user!(disable_local)");KP.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t)),lk("debug",this,"disable_local_video","local ".concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const o="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;const e=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===e)return;{const e=r._audio_enabled_?"enable-local-audio":"disable-local-audio";KP.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),gk("debug",this,"user-info-updated",{uid:t,msg:e}),this.emit(fx.USER_INFO_UPDATED,t,e)}}else{r._trust_video_enabled_state_=!0;const e=r._video_enabled_;if(r._video_enabled_=n,r._video_enabled_===e)return;{const e=r._video_enabled_?"enable-local-video":"disable-local-video";KP.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),gk("debug",this,"user-info-updated",{uid:t,msg:e}),this.emit(fx.USER_INFO_UPDATED,t,e)}}const i="audio"===e?r.hasAudio:r.hasVideo;return o!==i?!o&&i?(KP.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),dk("info",this,"user-published",{uid:t,mediaType:e}),void this.emit(fx.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,this._p2pChannel.muteRemote(r,e),KP.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),dk("info",this,"user-unpublished",{uid:t,mediaType:e}),void this.emit(fx.USER_UNPUBLISHED,r,e)):void 0})),LR(this,"_handleMuteStream",((e,t,n)=>{KP.debug("[".concat(this._clientId,"] receive mute message"),e,t,n),lk("debug",this,"mute_".concat(t),n);const r=this._users.find((t=>t.uid===e));if(!r)return KP.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e)),void lk("warning",this,"mute_".concat(t),"can not find remote user, ignore mute event, uid: ".concat(e));const o="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;const t=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===t)return;{const t=r._audio_muted_?"mute-audio":"unmute-audio";KP.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),gk("debug",this,"user-info-updated",{uid:e,msg:t}),this.emit(fx.USER_INFO_UPDATED,e,t)}}else{r._trust_video_mute_state_=!0;const t=r._video_muted_;if(r._video_muted_=n,r._video_muted_===t)return;{const t=r._video_muted_?"mute-video":"unmute-video";KP.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),gk("debug",this,"user-info-updated",{uid:e,msg:t}),this.emit(fx.USER_INFO_UPDATED,e,t)}}const i="audio"===t?r.hasAudio:r.hasVideo;if(o!==i){if(!o&&i)return("audio"===t?r._audioSSRC:r._videoSSRC)?(KP.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),dk("info",this,"user-published",{uid:r.uid,mediaType:t}),void this.emit(fx.USER_PUBLISHED,r,t)):void KP.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,this._p2pChannel.muteRemote(r,t),KP.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),dk("info",this,"user-unpublished",{uid:e,mediaType:t}),this.emit(fx.USER_UNPUBLISHED,r,t)}})),LR(this,"_handleP2PLost",(async e=>{if(KP.debug("[".concat(this._clientId,"] receive p2p lost"),e),lk("debug",this,"p2p_lost",e),parseInt(e.p2pid,10)!==this.store.p2pId)return KP.warning("P2PLost stream not found",e),void lk("warning",this,"p2p_lost","P2PLost stream not found, ".concat(e));await this._p2pChannel.requestReconnect()})),LR(this,"_handleTokenWillExpire",(()=>{KP.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),lk("debug",this,"token_privilege_will_expire"),this.emit(fx.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),LR(this,"_handleBeforeUnload",(e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),KP.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")),fk("info",["window",this.store.clientId],gR()?"beforeunload":"pagehide"))})),LR(this,"_handleUpdateNetworkQuality",(()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.emit(fx.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.emit(fx.NETWORK_QUALITY,e)})),this._codec=e.codec,this._mode=e.mode,this._clientId=yQ(5,"client-"),this.store=new n1(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),KP.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(Ak," build: ").concat(yk,", mode: ").concat(this._mode,", codec: ").concat(this._codec)),gk("info",this,"constructor",{version:Ak,build:yk,mode:this._mode,codec:this._codec}),this._performanceRecorder=function(e,t){const n=new c1(e,t);return s1.set(e,n),n}(this._clientId,"join"),e.clientRoleOptions)try{Cx(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){KP.warning("[".concat(this._clientId,"] ").concat(e.toString())),uk("warning",this,e.toString())}this._statsCollector=new $H(this.store),this._statsCollector.onStatsException=(e,t,n)=>{KP.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),dk("debug",this,fx.EXCEPTION,{code:e,message:t,uid:n}),this.emit(fx.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,r)=>{const o=this._users.find((t=>t.uid===e));o&&dW.peerPublishStatus(this._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:o._uintid})},this._gateway=new rY(this.store,{clientId:this._clientId,mode:this._mode,codec:this._codec,websocketRetryConfig:e.websocketRetryConfig||FP,httpRetryConfig:e.httpRetryConfig||FP,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._config=e,this._configDistribute=new LY,this._p2pChannel=new G0(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents()}async join(e,t,n,r,o){const i=++this._numberOfJoinCount;this._performanceRecorder.checkPoint("startJoin"),this.store.joinStart(),r&&(this.store.uid=r);const a=o1(),s=i1()?window.isSecureContext:"Browser Not Support";if(!i1()&&!a||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";KP.warning(e),pk("warning",this,e)}const c=AQ();"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),KP.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)),pk("debug",this,"join",void 0,"[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)));const u=dW.reportApiInvoke(c,{name:tx.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:nx.TRACER});dW.setAppId(e);try{if(!n&&null!==n)throw new BP(MP.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&MD(n,"token",1,2047),MD(e,"appid",1,2047),FD(t),r&&UD(r),o&&MD(o,"optionalInfo",1,2047)}catch(e){throw u.onError(e),e}if(KP.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(i)),gk("info",this,"join",{channel:t}),this._leaveMutex.isLocked&&(KP.debug("[".concat(this._clientId,"] join: waiting leave operation")),uk("debug",this,"join: waiting leave operation"),(await this._leaveMutex.lock())(),KP.debug("[".concat(this._clientId,"] join: continue")),uk("debug",this,"join: continue")),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const e=new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw u.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING";const l=o2({clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof r?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:o,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if("string"==typeof r&&(l.stringUid=r,this._uintUid?(l.uid=this._uintUid,this._uintUid=void 0):l.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(l.aesmode=this._encryptionMode,l.aespassword=await(async e=>{const t=DQ("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),r=rW(e),o=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);return xQ(new Uint8Array(o))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(l.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e});const d=this._sessionId;setTimeout((()=>{"CONNECTING"===this.connectionState&&d===this._sessionId&&dW.joinChannelTimeout(this._sessionId,5)}),5e3);try{let r;const o=l.cloudProxyServer;if("443only"===o)l.proxyServer=Pk("PROXY_SERVER_TYPE2");else if(["proxy3","proxy4","proxy5"].includes(o)){const e=Pk("PROXY_SERVER_TYPE3");Array.isArray(e)?l.proxyServer=e[0]:l.proxyServer=e}if(dW.setProxyServer(l.proxyServer),KP.setProxyServer(l.proxyServer),ck(l.proxyServer),this._performanceRecorder.checkPoint("startRequestAp"),this.store.requestAPStart(),l.stringUid&&!l.uid&&"normal"===o){await SY(l,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,!1,this.store);const e=await CY(l.stringUid,l,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,this.store);KP.debug("getUserAccount Success ".concat(l.stringUid," => ").concat(e)),uk("debug",this,"getUserAccount Success ".concat(l.stringUid," => ").concat(e)),l.uid=e,r=await wY(l,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,this.store)}else if(l.stringUid&&!l.uid){const e=await CY(l.stringUid,l,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,this.store);KP.debug("getUserAccount Success ".concat(l.stringUid," => ").concat(e)),uk("debug",this,"getUserAccount Success ".concat(l.stringUid," => ").concat(e)),l.uid=e,r=await SY(l,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,!0,this.store)}else r=await SY(l,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,!0,this.store);if(!this._joinAndNotLeaveYet)throw new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this.store.requestAPEnd(),this._performanceRecorder.checkPoint("startJoinGateway"),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(l,this._axiosCancelSource.token),this._configDistribute.on(cL.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||e;const i=r.gatewayInfo;this._joinInfo=o2(o2({},l),{},{cid:i.cid,uid:l.uid?l.uid:i.uid,vid:i.vid,apResponse:i.res,uni_lbs_ip:i.uni_lbs_ip,gatewayAddrs:i.gatewayAddrs});const a=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));return u.onSuccess(a),this._appId=e,this._channelName=l.cname,this._uid=a,this.store.uid=a,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(gR()?"beforeunload":"pagehide",this._handleBeforeUnload)}),0),KP.info("[".concat(this._clientId,"] Joining channel success: ").concat(t)),gk("info",this,"join",t,"success"),setTimeout((()=>{Pk("USE_NEW_LOG")?mk():KP.startUpload()}),5e3),this._performanceRecorder.checkPoint("finishJoin"),this.store.joinEnd(),f=this,Fk.includes(f)||Fk.push(f),a}catch(e){const n=Array.isArray(e)?e[0]:e;throw KP.error("[".concat(this._clientId,"] join number: ").concat(i,", Joining channel failed, rollback"),n),gk("error",this,"join",t,n.toString()),n.code!==MP.OPERATION_ABORTED&&this._numberOfJoinCount===i&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(n),n}var f}_joinGateway(){if(!this._joinInfo||!this._key)throw new BP(MP.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!Pk("JOIN_WITH_FALLBACK_SIGNAL_PROXY"))).then((e=>e)).catch((e=>{if(e.code===MP.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,dx.FALLBACK);throw e})).then((e=>{if(e)return e;if(KP.info("[".concat(this._clientId,"] join timeout, fallback to proxy")),!this._joinInfo||!this._key)throw new BP(MP.INVALID_OPERATION);this._joinInfo.cloudProxyServer="fallback",this._cloudProxyServerMode="fallback",this.store.cloudProxyServerMode="fallback";const t=Pk("PROXY_SERVER_TYPE3");if(Array.isArray(t))if(this._joinInfo.apUrl){const e=new Rz(this._joinInfo.apUrl).host.split("."),n=e.slice(e.length-2).join(".");t.forEach((e=>{this._joinInfo&&e.includes(n)&&(this._joinInfo.proxyServer=e)})),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=t[0])}else this._joinInfo.proxyServer=t[0];else this._joinInfo.proxyServer=t;return KP.setProxyServer(this._joinInfo.proxyServer),dW.setProxyServer(this._joinInfo.proxyServer),ck(this._joinInfo.proxyServer),dW.reportApiInvoke(this._sessionId,{name:tx.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:nx.TRACER}).onSuccess(),this.emit(fx.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),this._gateway.join(this._joinInfo,this._key)})).then((e=>e))}async leave(){const e=dW.reportApiInvoke(this._sessionId,{name:tx.LEAVE,options:[],tag:nx.TRACER});KP.info("[".concat(this._clientId,"] Leaving channel")),gk("info",this,"leave"),window.removeEventListener(gR()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=Fk.indexOf(e);-1!==t&&Fk.splice(t,1)}(this);const t=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return KP.info("[".concat(this._clientId,"] Leaving channel repeated, success")),t(),e.onSuccess();await this._gateway.leave("CONNECTED"!==this.connectionState),KP.info("[".concat(this._clientId,"] Leaving channel success")),gk("info",this,"leave",void 0,"success"),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t(),e.onSuccess()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)||(e=[e]);const n=dW.reportApiInvoke(this._sessionId,{name:tx.PUBLISH,options:e.map((e=>e?Object(e).toString():"null")),tag:nx.TRACER});if(0===e.length){const e=new BP(MP.INVALID_PARAMS,"track list is empty");return n.onError(e),e.throw()}if("audience"===this._gateway.role){const e=new BP(MP.INVALID_OPERATION,"audience can not publish stream");return n.onError(e),e.throw()}for(const o of e){if(!(o instanceof AW)){const e=new BP(MP.INVALID_PARAMS,"parameter is not local track");return n.onError(e),e.throw()}if(!o._enabled&&t){const e=new BP(MP.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(o.getTrackId()));return n.onError(e),e.throw()}}KP.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(e.map((e=>"".concat(e.getTrackId()," "))))),gk("info",this,"publish",e.map((e=>"".concat(e.getTrackId())))),await this._configDistribute.awaitConfigDistributeComplete(),t&&e.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof eX&&t&&e.setBitrateLimit(t.uplink)}));const r=await this._publishMutex.lock();try{await this._publishHighStream(e),n.onSuccess(e.map((e=>e.trackMediaType+":"+e.getTrackLabel())).toString()),KP.info("[".concat(this._clientId,"] Publish success, id ").concat(e.map((e=>"".concat(e.getTrackId()," "))))),gk("info",this,"publish",e.map((e=>"".concat(e.getTrackId()))),"success")}catch(e){throw n.onError(e),KP.error("[".concat(this._clientId,"] publish error"),e.toString()),gk("error",this,"publish",void 0,e.toString()),e}finally{r()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new BP(MP.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");e?Array.isArray(e)||(e=[e]):e=this._p2pChannel.getAllTracks(!0);const t=dW.reportApiInvoke(this._sessionId,{name:tx.UNPUBLISH,options:e.map((e=>e.getTrackId())),tag:nx.TRACER});KP.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(e.map((e=>"".concat(e.getTrackId()," ")))," ")),gk("info",this,"unpublish",e.map((e=>"".concat(e.getTrackId()))));const n=await this._publishMutex.lock();try{const r=await this._p2pChannel.unpublish(e);r&&await this._gateway.unpublish(r,this._uid),KP.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(e.map((e=>"".concat(e.getTrackId()))))),gk("info",this,"unpublish",e.map((e=>"".concat(e.getTrackId()))),"success"),t.onSuccess()}catch(e){throw t.onError(e),KP.error("[".concat(this._clientId,"] unpublish error"),e.toString()),gk("error",this,"unpublish",void 0,e.toString()),e}finally{n&&n()}}async subscribe(e,t){return this._subscribe(e,t)}async _subscribe(e,t,n){xD(t,"mediaType",["audio","video"]);const r=dW.reportApiInvoke(this._sessionId,{name:tx.SUBSCRIBE,options:[e.uid,t],tag:nx.TRACER});if(!this._joinInfo){const e=new BP(MP.INVALID_OPERATION,"Can't subscribe stream, not joined");throw r.onError(e),e}if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState){const e=new BP(MP.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));throw r.onError(e),e}if(!this._users.find((t=>t===e))){const t=new BP(MP.INVALID_REMOTE_USER,"user is not in the channel");throw KP.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),gk("error",this,"subscribe",e.uid,"this user is not in the channel"),r.onError(t),t}if(!e.hasAudio&&!e.hasVideo){const t=new BP(MP.INVALID_REMOTE_USER,"user is not published");throw KP.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),gk("error",this,"subscribe",e.uid,"this user is not published"),r.onError(t),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new BP(MP.REMOTE_USER_IS_NOT_PUBLISHED);throw KP.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),gk("error",this,"subscribe",e.uid,"mediaType ".concat(t,", remote track is not published")),r.onError(n),n}const o="audio"===t?e._audioSSRC:e._videoSSRC,i="audio"===t?e._audioOrtc:e._videoOrtc,a="video"===t?e._rtxSsrcId:void 0,s={stream_type:"audio"===t?lL.AUDIO:lL.VIDEO,ssrcId:o},c=await this._subscribeMutex.lock();KP.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t)),gk("info",this,"subscribe",{uid:e.uid,mediaType:t});try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{JH.markSubscribeStart(this.store.clientId,o),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,o,a,i);try{await this._gateway.subscribe(e.uid,s,!0)}catch(n){if((null==n?void 0:n.code)!==MP.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),n;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,e,t),n}KP.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),gk("info",this,"subscribe",{uid:e.uid,mediaType:t},"success"),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{KP.warning("[".concat(this._clientId,"] auto set fallback failed"),e),uk("warning",this,"auto set fallback failed, ".concat(e.toString()))}));const u="audio"===t?e._audioTrack:e._videoTrack;if(!u){const e=new BP(MP.UNEXPECTED_ERROR,"can not find remote track in user object");return r.onError(e),e.throw()}return r.onSuccess(u.getTrackId()),u}catch(n){throw r.onError(n),KP.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),n),gk("error",this,"subscribe",{uid:e.uid,mediaType:t},n.toString()),n}finally{c()}}async massSubscribe(e){BD(e,"subscribeList");const t=dW.reportApiInvoke(this._sessionId,{name:tx.MASS_SUBSCRIBE,options:e.map((e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]})),tag:nx.TRACER});if(!this._joinInfo){const e=new BP(MP.INVALID_OPERATION,"Can't subscribe stream, not joined");throw t.onError(e),e}if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState){const e=new BP(MP.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));throw t.onError(e),e}const n=Date.now(),r=new Map,o=await this._subscribeMutex.lock();KP.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),gk("info",this,"massSubscribe",e);const i=(e=[...e]).map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}})),a=await this._p2pChannel.globalLock();try{var s;for(let n=e.length-1;n>=0;n--){const o=e[n],{user:a,mediaType:s}=o;if(xD(s,"mediaType",["audio","video"]),!a){const e=new BP(MP.INVALID_PARAMS,"user property does not exist in subscribeList item");throw KP.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),t.onError(e),e}if(!this._users.find((e=>e===a))){const t=new BP(MP.INVALID_REMOTE_USER,"user is not in the channel");KP.error("[".concat(this._clientId,"] can not massSubscribe ").concat(a.uid,", this user is not in the channel")),gk("error",this,"massSubscribe",a.uid,"this user is not in the channel"),i[n].error=t,e.splice(n,1);continue}if("audio"===s&&(!a.hasAudio||void 0===a._audioSSRC)||"video"===s&&(!a.hasVideo||void 0===a._videoSSRC)){const t=new BP(MP.REMOTE_USER_IS_NOT_PUBLISHED);KP.error("[".concat(this._clientId,"] can not subscribe ").concat(a.uid," with mediaType ").concat(s,", remote user is not published")),gk("error",this,"subscribe",a.uid,"mediaType ".concat(s,", remote user is not published")),i[n].error=t,e.splice(n,1);continue}const c=Yx.Video|Yx.LwoVideo,u=r.get(a);if(u){if("video"===s?u&c:u&Yx.Audio){e.splice(n,1),KP.warning("repeat massSubscribe user:".concat(a.uid,", mediaType:").concat(s," twice"));continue}r.set(a,u|("video"===s?c:Yx.Audio))}else r.set(a,"video"===s?c:Yx.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:o,mediaType:i}=n,a=Yx.Video|Yx.LwoVideo;if(this._p2pChannel.hasRemoteMedia(o,i)){await this._p2pChannel.unmuteRemoteNoLock(o,i);const n=r.get(o);r.set(o,"video"===i?n^a:n^Yx.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),n);const c=Sf(s=Array.from(r.entries())).call(s,((e,t)=>{let[n,r]=t;if(0===r)return e;const o={stream_id:n.uid,stream_type:r};return r&Yx.Audio&&(o.audio_ssrc=n._audioSSRC),r&Yx.Video&&(o.video_ssrc=n._videoSSRC),e.push(o),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===lL.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:t._rtxSsrcId}})));const r=new Map;if(c.length>0){const e=await this._gateway.subscribeAll(c,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:n,audio_error_code:o,error_code:i}=e;(n||o||i)&&r.set(t,{video_error_code:n,audio_error_code:o,error_code:i})}))}if(Array.from(r.entries()).length>0){const e=Array.from(r.entries()).map((e=>{let t,[n,r]=e;return r.error_code||r.video_error_code&&r.audio_error_code?t=void 0:r.video_error_code?t=lL.VIDEO:r.audio_error_code&&(t=lL.AUDIO),{user:this.remoteUsers.find((e=>e.uid===n)),mediaType:t}}));await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of i){const t=r.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=Dz(n);KP.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new BP(MP.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(i.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),i.forEach((e=>{var t;dW.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(t=e.error)||void 0===t?void 0:t.code)||null,video:e.mediaType===lL.VIDEO,audio:e.mediaType===lL.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===lL.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-n)},!0)})),t.onSuccess(),KP.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),gk("info",this,"massSubscribe",e,"success"),i}catch(n){throw await this._p2pChannel.massUnsubscribeNoLock(e),t.onError(n),n}}finally{a(),o()}}async unsubscribe(e,t){if(t&&xD(t,"mediaType",["audio","video"]),!this._joinInfo)throw new BP(MP.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");const n=dW.reportApiInvoke(this._sessionId,{name:tx.UNSUBSCRIBE,options:[e.uid,t],tag:nx.TRACER});if(!this._users.find((t=>t===e))){const r=new BP(MP.INVALID_REMOTE_USER,"user is not in the channel");throw KP.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),gk("error",this,"unsubscribe",{uid:e.uid,mediaType:t},"user is not in the channel"),n.onError(r),r}KP.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t)),gk("info",this,"unsubscribe",{uid:e.uid,mediaType:t});try{const r=await this._p2pChannel.unsubscribe(e,t);r&&await this._gateway.unsubscribe(r,e.uid),KP.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t)),gk("info",this,"unsubscribe",{uid:e.uid,mediaType:t},"success"),n.onSuccess()}catch(o){if(o.code===MP.DISCONNECT_P2P)return KP.warning("disconnecting p2p, abort unsubscribe request."),void n.onSuccess();throw KP.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),o.toString()),gk("error",this,"unsubscribe",{uid:e.uid,mediaType:t},o.toString()),n.onError(o),o}}async massUnsubscribe(e){BD(e,"unsubscribeList");const t=dW.reportApiInvoke(this._sessionId,{name:tx.UNSUBSCRIBE,options:e.map((e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}})),tag:nx.TRACER});if(!this._joinInfo){const e=new BP(MP.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");throw t.onError(e),e}KP.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),gk("info",this,"massUnsubscribe",e),e=[...e];const n=new Map;for(let r=e.length-1;r>=0;r--){const{user:o,mediaType:i}=e[r];if(!o){const e=new BP(MP.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw KP.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),t.onError(e),e}if(xD(i,"mediaType",["video","audio",void 0]),!this._users.find((e=>e===o))){KP.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(o.uid,", user is not in the channel")),gk("error",this,"unsubscribe",{uid:o.uid,mediaType:i},"user is not in the channel"),e.splice(r,1);continue}const a=Yx.Video|Yx.LwoVideo;if(n.has(o)){const t=n.get(o);let s;switch(i){case"video":s=t&a;break;case"audio":s=t&Yx.Audio;break;default:s=t&(Yx.Audio|a)}if(s){KP.warning("repeat massUnsubscribe user:".concat(o.uid,",mediaType:").concat(i," twice.")),e.splice(r,1);continue}i?"audio"===i?n.set(o,t|Yx.Audio):"video"===i&&n.set(o,t|a):n.set(o,t|Yx.Audio|a)}else i?"audio"===i?n.set(o,Yx.Audio):"video"===i&&n.set(o,a):n.set(o,Yx.Audio|a)}try{const n=await this._p2pChannel.massUnsubscribe(e);n&&await this._gateway.massUnsubscribe(n),KP.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),gk("info",this,"massUnsubscribe",e,"success"),t.onSuccess()}catch(n){if(n.code===MP.DISCONNECT_P2P)return KP.warning("disconnecting p2p, abort unsubscribe request."),void t.onSuccess();throw KP.error("[".concat(this._clientId,"] massUnsubscribe error"),n.toString()),gk("error",this,"massUnsubscribe",e,n.toString()),t.onError(n),n}}setLowStreamParameter(e){!function(e){if(!e)throw new BP(MP.INVALID_PARAMS);VD(e.width)||jD(e.width,"streamParameter.width"),VD(e.height)||jD(e.height,"streamParameter.height"),VD(e.framerate)||jD(e.framerate,"streamParameter.framerate"),VD(e.bitrate)||LD(e.bitrate,"streamParameter.bitrate")}(e);const t=dW.reportApiInvoke(this._sessionId,{name:tx.SET_LOW_STREAM_PARAMETER,options:[e],tag:nx.TRACER});(!e.width&&e.height||e.width&&!e.height)&&(KP.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),uk("warning",this,"The width and height parameters take effect only when both are set")),KP.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e)),gk("info",this,"setLowStreamParameter",e);const n=this._configDistribute.getLowStreamConfigDistribute();n&&n.bitrate&&e.bitrate&&n.bitrate<e.bitrate&&(e.bitrate=n.bitrate),this._lowStreamParameter=e,t.onSuccess()}async enableDualStream(){const e=dW.reportApiInvoke(this._sessionId,{name:tx.ENABLE_DUAL_STREAM,options:[],tag:nx.TRACER});if(!SL().supportDualStream){dW.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1});const t=new BP(MP.NOT_SUPPORTED,"Your browser is not support dual stream");throw e.onError(t),t}if(this._isDualStreamEnabled){const t=new BP(MP.INVALID_OPERATION,"Dual stream is already enabled");throw e.onError(t),t}if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(t){throw dW.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e.onError(t),t}this._isDualStreamEnabled=!0,dW.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),KP.info("[".concat(this._clientId,"] enable dual stream")),gk("info",this,"enableDualStream"),e.onSuccess()}async disableDualStream(){if(!this._isDualStreamEnabled)return;if(!this._joinInfo)throw new BP(MP.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");const e=dW.reportApiInvoke(this._sessionId,{name:tx.DISABLE_DUAL_STREAM,options:[],tag:nx.TRACER});if(this._p2pChannel.getLocalMedia(dL.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(t){throw dW.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e.onError(t),t}this._isDualStreamEnabled=!1,dW.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),KP.info("[".concat(this._clientId,"] disable dual stream")),gk("info",this,"disableDualStream"),e.onSuccess()}async setClientRole(e,t){!function(e){xD(e,"role",["audience","host"])}(e),t&&Cx(t);const n=dW.reportApiInvoke(this._sessionId,{name:tx.SET_CLIENT_ROLE,options:[e,t],tag:nx.TRACER});if("rtc"===this._mode){KP.warning("[".concat(this._clientId,"]rtc mode can not use setClientRole")),gk("warning",this,"setClientRole",e,"rtc mode can not use setClientRole");const t=new BP(MP.INVALID_OPERATION,"rtc mode can not use setClientRole");return n.onError(t),t.throw()}if(t&&t.level&&"host"===e){const e=new BP(MP.INVALID_OPERATION,"host mode can not set audience latency level");return n.onError(e),e.throw()}try{if("audience"===e&&this._p2pChannel.hasLocalMedia()){const e=new BP(MP.INVALID_OPERATION,"can not set client role to audience when publishing stream");return n.onError(e),e.throw()}await this._gateway.setClientRole(e,t),KP.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level)),gk("info",this,"setClientRole",{role:e,level:t&&t.level}),n.onSuccess()}catch(e){throw n.onError(e),e}}setProxyServer(e,t){if(MD(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new BP(MP.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new BP(MP.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,dW.setProxyServer(this._proxyServer),KP.setProxyServer(this._proxyServer),ck(this._proxyServer),KP.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success.")),gk("info",this,"setProxyServer",[...arguments],"success")}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new BP(MP.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new BP(MP.INVALID_OPERATION,"You have already set the proxy")}if(wx(e))return this._turnServer={servers:e,mode:"original-manual"},KP.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((e=>e.urls)).join(","),".")),void gk("info",this,"setOriginalTurnServer",[...arguments],"success");e.forEach((e=>Sx(e))),this._turnServer={servers:e,mode:"manual"},KP.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success.")),gk("info",this,"setTurnServer",[...arguments],"success")}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new BP(MP.INVALID_OPERATION,"you should set license before join channel");MD(e,"license",0,32),this._license=e,KP.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){const t=dW.reportApiInvoke(this._sessionId,{name:tx.START_PROXY_SERVER,options:[],tag:nx.TRACER});if("DISCONNECTED"!==this.connectionState){const e=new BP(MP.INVALID_OPERATION,"Start proxy server before join channel");throw t.onError(e),e}if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint){const e=new BP(MP.INVALID_OPERATION,"You have already set the proxy");throw t.onError(e),e}const n=[1,2,3,4,5];let r;switch(void 0===e&&(e=1),e){case 1:r="normal";break;case 2:r="443only";break;case 3:r="proxy3";break;case 4:r="proxy4";break;case 5:r="proxy5";break;default:{const e=new BP(MP.INVALID_PARAMS,"proxy server mode must be ".concat(n.join("|")));throw t.onError(e),e}}this._cloudProxyServerMode=r,this.store.cloudProxyServerMode=r,KP.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),gk("info",this,"startProxyServer",this._cloudProxyServerMode),t.onSuccess()}stopProxyServer(){const e=dW.reportApiInvoke(this._sessionId,{name:tx.STOP_PROXY_SERVER,options:[],tag:nx.TRACER});if("DISCONNECTED"!==this.connectionState)throw new BP(MP.INVALID_OPERATION,"Stop proxy server after leave channel");dW.setProxyServer(),KP.setProxyServer(),ck(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",KP.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),gk("info",this,"stopProxyServer",this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]},e.onSuccess()}setLocalAccessPoints(e,t){if(BD(e,"serverList"),MD(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new BP(MP.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e)),this._useLocalAccessPoint=!0,Nk("WEBCS_DOMAIN",e),Nk("WEBCS_DOMAIN_BACKUP_LIST",e),Nk("GATEWAY_DOMAINS",[t]),Nk("EVENT_REPORT_DOMAIN",e[0]),Nk("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),Nk("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),KP.info("set local access point success"),gk("info",this,"setLocalAccessPoints")}async setRemoteDefaultVideoStreamType(e){if(xD(e,"streamType",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw KP.error("[".concat(this._clientId,"] set default remote video stream type error"),e.toString()),e}else KP.debug("haven't joined yet, cache remoteDefaultVideoStreamType ".concat(e))}async setRemoteVideoStreamType(e,t){xD(t,"streamType",[0,1]);const n=dW.reportApiInvoke(this._sessionId,{name:tx.SET_REMOTE_VIDEO_STREAM_TYPE,options:[e,t],tag:nx.TRACER});try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw n.onError(e),KP.error("[".concat(this._clientId,"] set remote video stream type error"),e.toString()),gk("error",this,"setRemoteVideoStreamType",void 0,e.toString()),e}KP.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),gk("info",this,"setRemoteVideoStreamType",{uid:e,streamType:t}),this._remoteStreamTypeCacheMap.set(e,t),n.onSuccess()}async setStreamFallbackOption(e,t){xD(t,"fallbackType",[0,1,2]);const n=dW.reportApiInvoke(this._sessionId,{name:tx.SET_STREAM_FALLBACK_OPTION,options:["too long to show",t],tag:nx.TRACER});try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw n.onError(e),KP.error("[".concat(this._clientId,"] set stream fallback option"),e.toString()),gk("error",this,"setStreamFallbackOption",void 0,e.toString()),e}KP.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),gk("info",this,"setStreamFallbackOption",{uid:e,fallbackType:t}),this._streamFallbackTypeCacheMap.set(e,t),n.onSuccess()}setEncryptionConfig(e,t,n){if(function(e){xD(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),MD(t,"secret"),["aes-128-gcm2","aes-256-gcm2"].includes(e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new BP(MP.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new BP(MP.INVALID_PARAMS,"current encrypt mode does not need salt");new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||(KP.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),uk("warning",this,"The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      ")),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=xQ(n))}async renewToken(e){MD(e,"token",1,2047);const t=dW.reportApiInvoke(this._sessionId,{name:tx.RENEW_TOKEN,options:[e],tag:nx.TRACER});if(!this._key||!this._joinInfo){const e=new BP(MP.INVALID_OPERATION,"renewToken should not be called before user join");return t.onError(e),e.throw()}const n=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const r=await this._renewTokenMutex.lock();try{if(Pk("USE_NEW_TOKEN")){KP.debug("start renew token with ticket from unilbs"),gk("debug",this,"renewToken","unilbs");const t=await PY(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||FP);KP.debug("[".concat(this._clientId,"] get ticket from unilbs success")),gk("debug",this,"renewToken","unilbs","success"),await this._gateway.renewToken({token:e,ticket:t})}else KP.debug("start renew token without ticket"),gk("debug",this,"renewToken"),await this._gateway.renewToken({token:e});KP.debug("[".concat(this._clientId,"] renewToken success")),gk("debug",this,"renewToken",void 0,"success"),t.onSuccess()}catch(e){throw this._key=n,this._joinInfo.token=n,t.onError(e),KP.error("[".concat(this._clientId,"] renewToken failed"),e.toString()),gk("error",this,"renewToken",void 0,e.toString()),e}finally{r()}}enableAudioVolumeIndicator(){const e=dW.reportApiInvoke(this._sessionId,{name:tx.ENABLE_AUDIO_VOLUME_INDICATOR,options:[],tag:nx.TRACER});if(this._audioVolumeIndicationInterval)return KP.warning("you have already enabled audio volume indicator!"),gk("warning",this,"enableAudioVolumeIndicator","you have already enabled audio volume indicator!"),e.onSuccess();this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.emit(fx.VOLUME_INDICATOR,e)}),Pk("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3),e.onSuccess()}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}startLiveStreaming(e,t){const n=dW.reportApiInvoke(this._sessionId,{name:tx.START_LIVE_STREAMING,options:[e,t],tag:nx.TRACER});if(!t){if("h264"!==this._codec){const e=new BP(MP.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");return n.onError(e),iS.reject(e)}if(!this._p2pChannel.hasLocalMedia()){const e=new BP(MP.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming");return n.onError(e),iS.reject(e)}}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e)){const e=new BP(MP.LIVE_STREAMING_TASK_CONFLICT);return n.onError(e),iS.reject(e)}const r=t?kx.TRANSCODE:kx.RAW;return this._createLiveStreamingClient(r).startLiveStreamingTask(e,r).then((()=>n.onSuccess())).catch((e=>{throw n.onError(e),e}))}setLiveTranscoding(e){const t=dW.reportApiInvoke(this._sessionId,{name:tx.SET_LIVE_TRANSCODING,options:[e],tag:nx.TRACER});return this._createLiveStreamingClient(kx.TRANSCODE).setTranscodingConfig(e).then((()=>t.onSuccess())).catch((e=>{throw t.onError(e),e}))}stopLiveStreaming(e){const t=dW.reportApiInvoke(this._sessionId,{name:tx.STOP_LIVE_STREAMING,options:[e],tag:nx.TRACER}),n=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!n.length){const e=new BP(MP.INVALID_PARAMS,"can not find live streaming url to stop");return t.onError(e),iS.reject(e)}return iS.all(n.map((t=>t&&t.stopLiveStreamingTask(e)))).then((()=>t.onSuccess())).catch((e=>{throw t.onError(e),e}))}async addInjectStreamUrl(e,t){const n=dW.reportApiInvoke(this._sessionId,{name:tx.ADD_INJECT_STREAM_URL,options:[e,t],tag:nx.TRACER});try{if(!this._joinInfo)throw new BP(MP.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");const n=this._createLiveStreamingClient(kx.INJECT);n.setInjectStreamConfig(t,0),await n.startLiveStreamingTask(e,kx.INJECT)}catch(e){throw n.onError(e),e}n.onSuccess()}async removeInjectStreamUrl(){const e=dW.reportApiInvoke(this._sessionId,{name:tx.REMOVE_INJECT_STREAM_URL,options:[],tag:nx.TRACER});try{var t;const e=this._createLiveStreamingClient(kx.INJECT),n=Array.from(MH(t=e.streamingTasks).call(t)).find((e=>e.mode===kx.INJECT));if(!this._joinInfo||!n)throw new BP(MP.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");await e.stopLiveStreamingTask(n.url)}catch(t){throw e.onError(t),t}e.onSuccess()}async startChannelMediaRelay(e){const t=dW.reportApiInvoke(this._sessionId,{name:tx.START_CHANNEL_MEDIA_RELAY,options:[e],tag:nx.TRACER});try{HY(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}catch(e){return t.onError(e),e.throw()}t.onSuccess()}async updateChannelMediaRelay(e){const t=dW.reportApiInvoke(this._sessionId,{name:tx.UPDATE_CHANNEL_MEDIA_RELAY,options:[e],tag:nx.TRACER});try{HY(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}catch(e){return t.onError(e),e.throw()}t.onSuccess()}async stopChannelMediaRelay(){const e=dW.reportApiInvoke(this._sessionId,{name:tx.STOP_CHANNEL_MEDIA_RELAY,options:[],tag:nx.TRACER});try{const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay()}catch(t){return e.onError(t),t.throw()}e.onSuccess()}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new BP(MP.INVALID_OPERATION,"can not send data stream, not joined");if("string"==typeof e&&(e=(new TextEncoder).encode(e)),new Blob([e]).size>1024)throw new BP(MP.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(vx.DATA_STREAM,{payload:xQ(e)},!t)}sendMetadata(e){if(!this._joinInfo)throw new BP(MP.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new BP(MP.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(vx.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:xQ(e)})}async sendCustomReportMessage(e){Array.isArray(e)||(e=[e]),e.forEach(YD);const t=dW.reportApiInvoke(this._sessionId,{name:tx.SEND_CUSTOM_REPORT_MESSAGE,options:[JSON.stringify(e)],tag:nx.TRACER});if(!this._joinInfo){const e=new BP(MP.INVALID_OPERATION,"can not send custom report, not joined");return t.onError(e),e.throw()}await dW.sendCustomReportMessage(this._joinInfo.sid,e),t.onSuccess()}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){xD(t.spatialLayer,"spatialLayer",[0,1,2,3]),xD(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw KP.error("[".concat(this._clientId,"] pick SVC layer failed"),e.toString()),pk("error",this,"pickSVCLayer",t,e.toString()),e}}_reset(){if(KP.debug("[".concat(this._clientId,"] reset client")),pk("debug",this,"_reset"),this._axiosCancelSource.cancel(),this._axiosCancelSource=DP.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy()})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new mW("client-publish"),this._subscribeMutex=new mW("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}}_startSession(e,t){const n=e||AQ();e?KP.debug("[".concat(this._clientId,"] new Session ").concat(n)):KP.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(n)),pk("debug",this,"_startSession",{newSid:n,sid:this._sessionId}),this._sessionId=n,this.store.sessionId=n,t?dW.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this._mode}):this._joinInfo?dW.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this._mode}):this._gateway.joinInfo&&dW.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this._mode}),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new BP(MP.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new BP(MP.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&Pk("FORCE_TURN")&&!Pk("TURN_ENABLE_TCP")&&!Pk("TURN_ENABLE_UDP"))throw new BP(MP.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");KP.debug("[".concat(this._clientId,"] publish high stream")),pk("debug",this,"_publishHighStream");try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter),r=(await n.next()).value;if(r){var t;let o;try{o=await this._gateway.publish(this._uid,r,!0)}catch(e){if(e.code!==MP.DISCONNECT_P2P)throw n.throw(e),e}await n.next((null===(t=o)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof eX&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===MP.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new BP(MP.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new BP(MP.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));KP.debug("[".concat(this._clientId,"] publish low stream")),pk("debug",this,"_publishLowStream");const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await e.next()).value;if(n){var t;let r;try{r=await this._gateway.publish(this._uid,n,!0)}catch(t){if(t.code!==MP.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=r)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===MP.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId)return new BP(MP.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const t=()=>new VY(this._joinInfo,this._config.websocketRetryConfig||FP,this._config.httpRetryConfig||FP),n=e=>{e.onLiveStreamError=(e,t)=>{dW.reportApiInvoke(this._sessionId,{name:tx.ON_LIVE_STREAM_ERROR,options:[e,t],tag:nx.TRACER}).onSuccess(),this.emit(fx.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{dW.reportApiInvoke(this._sessionId,{name:tx.ON_LIVE_STREAM_WARNING,options:[e,t],tag:nx.TRACER}).onSuccess(),this.emit(fx.LIVE_STREAMING_WARNING,e,t)},e.on(Ux.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new BP(MP.INVALID_OPERATION,"can not find join info to get worker manager"));RY(e,this._joinInfo,this._axiosCancelSource.token,FP).then(t).catch(n)}))};switch(e){case kx.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),n(this._liveRawStreamingClient)),this._liveRawStreamingClient;case kx.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),n(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case kx.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on(Ux.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new BP(MP.INVALID_OPERATION,"can not find join info to get worker manager"));RY(e,this._joinInfo,this._axiosCancelSource.token,FP).then(t).catch(n)})),this._injectStreamingClient.onInjectStatusChange=(e,t,n)=>{this.emit(fx.INJECT_STREAM_STATUS,e,t,n)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){return this._joinInfo?(this._channelMediaRelayClient||(this._channelMediaRelayClient=new GY(this._joinInfo,this._clientId,this._config.websocketRetryConfig||FP,this._config.httpRetryConfig||FP),this._channelMediaRelayClient.on("state",(e=>{e===Gx.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.emit(fx.CHANNEL_MEDIA_RELAY_STATE,e)})),this._channelMediaRelayClient.on("event",(e=>{this.emit(fx.CHANNEL_MEDIA_RELAY_EVENT,e)}))),this._channelMediaRelayClient):new BP(MP.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw()}_handleGatewayEvents(){this._gateway.on(zx.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(zx.CONNECTION_STATE_CHANGE,((e,t,n)=>{var r;if(n===dx.FALLBACK)return;const o=()=>{this.emit(fx.CONNECTION_STATE_CHANGE,e,t,n)};if(dW.reportApiInvoke(this._sessionId||(null===(r=this._gateway.joinInfo)||void 0===r?void 0:r.sid)||null,{name:tx.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:nx.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),KP.info("[".concat(this._clientId,"] connection state change: ").concat(t," -> ").concat(e)),lk("info",this,"connection-state-change","".concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void o();if("RECONNECTING"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var i;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{KP.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e),uk("warning",this,"auto set stream fallback option failed, ".concat(e.toString()))}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{KP.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e),uk("warning",this,"auto set remote stream type failed, ".concat(e.toString()))}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(i=this._joinInfo)||void 0===i?void 0:i.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{KP.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((e=>{KP.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{KP.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),uk("debug",this,"user offline timeout, emit user offline ".concat(e.uid)),this._handleUserOffline({uid:e.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(KP.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),uk("debug",this,"auto dispatch audio unmute event ".concat(e.uid)),this._handleMuteStream(e.uid,"audio",!1)),e._trust_video_mute_state_||(KP.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),uk("debug",this,"auto dispatch video unmute event ".concat(e.uid)),this._handleMuteStream(e.uid,"video",!1)),e._trust_audio_enabled_state_||(KP.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),uk("debug",this,"auto dispatch enable local audio ".concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(KP.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),uk("debug",this,"auto dispatch enable local video ".concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(KP.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(KP.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(KP.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),uk("debug",this,"auto dispatch stream remove ".concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3)}o()})),this._gateway.on(zx.REQUEST_NEW_GATEWAY_LIST,((e,t)=>{if(!this._joinInfo)return t(new BP(MP.UNEXPECTED_ERROR,"can not recover, no join info"));wY(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||FP,this.store).then((t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip),e(t.gatewayInfo.gatewayAddrs.map((e=>{if(this._joinInfo&&this._joinInfo.proxyServer){const t=e.address.split(":");return"wss://".concat(this._joinInfo.proxyServer,"/ws/?h=").concat(t[0],"&p=").concat(t[1])}return"wss://".concat(e.address)})))})).catch(t)})),this._gateway.on(zx.NETWORK_QUALITY,(e=>{"normal"===this._networkQualitySensitivity&&this.emit(fx.NETWORK_QUALITY,e)})),this._gateway.on(zx.STREAM_TYPE_CHANGE,((e,t)=>{this.emit(fx.STREAM_TYPE_CHANGED,e,t),dW.reportApiInvoke(this._sessionId,{name:tx.STREAM_TYPE_CHANGE,options:[e,t],tag:nx.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(zx.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(zx.NEED_RENEW_SESSION,(()=>{this._startSession()})),this._gateway.on(zx.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,n)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){n(e)}})),this._gateway.on(zx.JOIN_RESPONSE,((e,t,n)=>{const{dtlsParameters:r,iceParameters:o,candidates:i,rtpCapabilities:a,setup:s,cname:c}=B$(e.ortc,t,n);this._p2pChannel.connect(o,r,i,a,s,c)})),this._gateway.signal.on(yx.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(yx.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(yx.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(yx.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(yx.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(yx.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(yx.MUTE_AUDIO,(e=>(lk("debug",["AgoraRTCGateway",this._clientId],"mute_audio",{uid:e.uid}),this._handleMuteStream(e.uid,"audio",!0)))),this._gateway.signal.on(yx.UNMUTE_AUDIO,(e=>(lk("debug",["AgoraRTCGateway",this._clientId],"unmute_audio",{uid:e.uid}),this._handleMuteStream(e.uid,"audio",!1)))),this._gateway.signal.on(yx.MUTE_VIDEO,(e=>(lk("debug",["AgoraRTCGateway",this._clientId],"mute_video",{uid:e.uid}),this._handleMuteStream(e.uid,"video",!0)))),this._gateway.signal.on(yx.UNMUTE_VIDEO,(e=>(lk("debug",["AgoraRTCGateway",this._clientId],"unmute_video",{uid:e.uid}),this._handleMuteStream(e.uid,"video",!1)))),this._gateway.signal.on(yx.RECEIVE_METADATA,(e=>{const t=DQ(e.metadata);this.emit(fx.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(yx.ON_DATA_STREAM,(e=>{e.seq&&delete e.seq,e.payload=DQ(e.payload),this.emit(fx.STREAM_MESSAGE,e.uid,e.payload),this.onStreamMessage&&this.onStreamMessage(e)})),this._gateway.signal.on(yx.ON_CRYPT_ERROR,(()=>{kQ((()=>{KP.warning("[".concat(this._clientId,"] on crypt error")),lk("warning",this,"crypt_error"),this.emit(fx.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(yx.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(yx.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{KP.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),lk("warning",this,"token_privilege_did_expire"),this._gateway.leave(!0),this.emit(fx.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(yx.ON_STREAM_FALLBACK_UPDATE,(e=>{KP.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),lk("debug",this,"stream_fallback_update",{peerId:e.stream_id,attr:e.stream_type}),this.emit(fx.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(yx.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),KP.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))),lk("info",this,"publish_stream",e))})),this._gateway.signal.on(yx.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(yx.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(gx.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case vx.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,r,o,i;const a=e.some((e=>{let{stream_type:t}=e;return t===qx.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t!==qx.Audio})),c=e.some((e=>{let{stream_type:t}=e;return t===qx.Screen||t===qx.ScreenLow}));"offer"===t.state&&dW.publish(this._joinInfo.sid,{eventElapse:JH.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:MP.TIMEOUT,audio:a,video:s,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:c,audioName:a?null===(n=e.find((e=>{let{stream_type:t}=e;return t===qx.Audio})))||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId.toString():void 0,videoName:s?null===(o=e.find((e=>{let{stream_type:t}=e;return t!==qx.Audio})))||void 0===o||null===(i=o.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0})}break}case vx.SUBSCRIBE:t&&dW.subscribe(this._joinInfo.sid,{succ:!1,ec:MP.TIMEOUT,audio:t.stream_type===lL.AUDIO,video:t.stream_type===lL.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:JH.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}})),this._gateway.signal.on(yx.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(yx.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;const t=[],n=[];for(const r of e.users){let e=this._users.find((e=>e.uid===r.stream_id));e?e._trust_in_room_=!0:(e=new nX(r.stream_id,r.stream_id),this._users.push(e),0===this.getListeners(fx.PUBLISHED_USER_LIST).length&&(KP.debug("[".concat(this._clientId,"] user online"),r.stream_id),dk("info",this,"user-joined",{uid:r.stream_id}),this.emit(fx.USER_JOINED,e)));const o=Yx.Audio&r.stream_type,i=(Yx.Video|Yx.LwoVideo)&r.stream_type,a=o&&e.hasAudio,s=i&&e.hasVideo;i&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=r.video_ssrc),o&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=r.audio_ssrc),o&&!a&&0===this.getListeners(fx.PUBLISHED_USER_LIST).length&&(KP.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),uk("info",this,"remote user ".concat(e.uid," published audio")),this.emit(fx.USER_PUBLISHED,e,"audio")),i&&!s&&0===this.getListeners(fx.PUBLISHED_USER_LIST).length&&(KP.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),uk("info",this,"remote user ".concat(e.uid," published video")),this.emit(fx.USER_PUBLISHED,e,"video")),(o&&!a||i&&!s)&&t.push(e),i&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),o&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(KP.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map((e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType))).join("; ")," ")),this.massSubscribe(n).catch((e=>{KP.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())}))),this.getListeners(fx.PUBLISHED_USER_LIST).length>0?(KP.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map((e=>e.uid)).join(", "))),this.emit(fx.PUBLISHED_USER_LIST,t)):KP.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map((e=>e.uid)).join(", ")))}))}_handleP2PChannelEvents(){this._p2pChannel.on(pL.RequestMuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===MP.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(pL.RequestUnmuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===MP.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(pL.RequestRePublish,((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on(pL.RequestReSubscribe,(async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===lL.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(e){n(e)}})),this._p2pChannel.on(pL.RequestUploadStats,((e,t)=>{this._gateway.uploadStats(e,t)})),this._p2pChannel.on(pL.MediaReconnectStart,(e=>{this.emit(fx.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(pL.MediaReconnectEnd,(e=>{this.emit(fx.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(pL.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(pL.RequestRestartICE,(async()=>{const e=await this._p2pChannel.reEstablish();if(e){const{restartICEResponse:t,gatewayIP:n,gatewayPort:r}=await this._gateway.restartICE({iceParameters:e.iceParameters}),{candidates:o,iceParameters:i}=function(e,t,n){const r=e.iceParameters;let o;return void 0!==t&&void 0!==n?(o=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t,port:n.toString(),type:"host",extension:{}}],KP.debug("Using remote candidate from AP ".concat(t,":").concat(n)),uk("debug",[],"Using remote candidate from AP ".concat(t,":").concat(n))):o=r.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}))),{candidates:o,iceParameters:{iceUfrag:r.iceUfrag,icePwd:r.icePwd}}}(t,n,r);await e.restartICE(i,o)}})),this._p2pChannel.on(pL.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(pL.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:o,gatewayIP:i,gatewayPort:a}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:r}),{dtlsParameters:s,iceParameters:c,candidates:u,rtpCapabilities:l,setup:d,cname:f}=B$(o,i,a);await this._p2pChannel.connect(c,s,u,l,d,f),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(pL.RequestUnpublishForReconnectPC,(async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()})),this._p2pChannel.on(pL.P2PLost,(()=>{this.emit(fx.P2P_LOST,this.store.uid)})),this._p2pChannel.on(pL.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(pL.ConnectionTypeChange,(e=>{this.emit(fx.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(pL.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if("CONNECTED"!==this.connectionState||!this._joinInfo)throw new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));if(this._inspect)throw new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));if(!e)throw new BP(MP.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new BP(MP.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));try{const t=new W1(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},FP)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new BP(MP.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}handleVideoInspectEvents(e){e.on(_L.CONNECTION_STATE_CHANGE,((t,n)=>{switch(this.emit(fx.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n){case bL.CONNECTED:if("CONNECTED"!==this.connectionState)return void this.emit(fx.CONTENT_INSPECT_ERROR,new BP(MP.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(_L.INSPECT_RESULT,((e,t)=>{var n;if((null==t?void 0:t.code)===MP.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return KP.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.emit(fx.CONTENT_INSPECT_RESULT,e,t)})),e.on(_L.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}getJoinChannelServiceRecords(){return KP.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){DD(e,"enabled"),Nk("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}).prototype,"setProxyServer",[Q1],Object.getOwnPropertyDescriptor(n2.prototype,"setProxyServer"),n2.prototype),BV(n2.prototype,"setTurnServer",[G1],Object.getOwnPropertyDescriptor(n2.prototype,"setTurnServer"),n2.prototype),BV(n2.prototype,"setLicense",[K1],Object.getOwnPropertyDescriptor(n2.prototype,"setLicense"),n2.prototype),BV(n2.prototype,"setLocalAccessPoints",[q1],Object.getOwnPropertyDescriptor(n2.prototype,"setLocalAccessPoints"),n2.prototype),BV(n2.prototype,"setRemoteDefaultVideoStreamType",[z1],Object.getOwnPropertyDescriptor(n2.prototype,"setRemoteDefaultVideoStreamType"),n2.prototype),BV(n2.prototype,"setEncryptionConfig",[Y1],Object.getOwnPropertyDescriptor(n2.prototype,"setEncryptionConfig"),n2.prototype),BV(n2.prototype,"pickSVCLayer",[J1],Object.getOwnPropertyDescriptor(n2.prototype,"pickSVCLayer"),n2.prototype),BV(n2.prototype,"enableContentInspect",[X1],Object.getOwnPropertyDescriptor(n2.prototype,"enableContentInspect"),n2.prototype),BV(n2.prototype,"disableContentInspect",[Z1],Object.getOwnPropertyDescriptor(n2.prototype,"disableContentInspect"),n2.prototype),BV(n2.prototype,"getJoinChannelServiceRecords",[$1],Object.getOwnPropertyDescriptor(n2.prototype,"getJoinChannelServiceRecords"),n2.prototype),BV(n2.prototype,"setPublishAudioFilterEnabled",[e2],Object.getOwnPropertyDescriptor(n2.prototype,"setPublishAudioFilterEnabled"),n2.prototype),t2=n2))||t2);class a2 extends xW{set currentState(e){e!==this._currentState&&(this._currentState=e,this.emit(bx.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),LR(this,"audioBuffer",void 0),LR(this,"sourceNode",void 0),LR(this,"startPlayTime",0),LR(this,"startPlayOffset",0),LR(this,"pausePlayTime",0),LR(this,"options",void 0),LR(this,"currentLoopCount",0),LR(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer.duration}get currentTime(){return"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:(this.context.currentTime-this.startPlayTime+this.startPlayOffset)%this.audioBuffer.duration}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):KP.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const s2=new Map;async function c2(e,t){let n=null;if("string"==typeof e){const t=s2.get(e);if(t)return KP.debug("use cached audio resource: ",e),t;try{n=(await VP((()=>DP.get(e,{responseType:"arraybuffer"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new BP(MP.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new iS(((t,n)=>{const r=new FileReader;r.onload=e=>{e.target?t(e.target.result):n(new BP(MP.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=()=>{n(new BP(MP.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(e)}));n=await t}const r=await function(e){const t=TW();return new iS(((n,r)=>{t.decodeAudioData(e,(e=>{n(e)}),(e=>{r(new BP(MP.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);return"string"==typeof e&&t&&s2.set(e,r),r}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u2(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d2(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=l2(l2({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?(KP.debug("[".concat(e,"] set content hint to"),n.optimizationMode),gk("debug",["AgoraRTC"],"videoTrackOptimizationModeProcess",[e,n,r])):(KP.debug("[".concat(e,"] set content hint failed")),gk("warning",["AgoraRTC"],"videoTrackOptimizationModeProcess",[e,n,r],"failed")))):(KP.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")),uk("warning",["AgoraRTC"],"[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig"))))}const f2=aR().name;function p2(e,t,n,r){let o,i=0,a=null;return new iS(((s,c)=>{setTimeout((()=>{o&&(o(),s(i))}),t),o=PW((()=>{!function(){i>r&&o&&(o(),s(i));const t=n.getContext("2d");if(!t){const e=new BP(MP.UNEXPECTED_ERROR,"can not get canvas 2d context.");return KP.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const u=t.getImageData(0,0,n.width,n.height),l=Math.floor(u.data.length/3);if(a){for(let e=0;e<l;e+=3)if(u.data[e]!==a[e])return i+=1,void(a=u.data);a=u.data}else a=u.data}()}),30)}))}class h2{constructor(e,t){LR(this,"id",0),LR(this,"element",void 0),LR(this,"peerPair",void 0),LR(this,"context",void 0),LR(this,"audioPlayerElement",void 0),LR(this,"audioTrack",void 0),h2.count+=1,this.id=h2.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new iS((t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const r=await e(this.peerPair[1],"answer");await t(this.peerPair[0],r)}catch(e){throw new BP(MP.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(e){throw new BP(MP.LOCAL_AEC_ERROR,e.toString()).print()}if(!t)throw new BP(MP.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){KP.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var g2,v2;LR(h2,"count",0);const m2=window.AudioContext||window.webkitAudioContext,y2=new(g2=uW({report:dW}),BV((v2=class{constructor(){LR(this,"units",[]),LR(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return KP.debug("the system does not need to process local aec"),-1;this.context||(this.context=new m2);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new h2(e,this.context),this.units.push(t)),t.startEchoCancellation(),KP.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return aR().name!==nR.SAFARI}}).prototype,"processExternalMediaAEC",[g2],Object.getOwnPropertyDescriptor(v2.prototype,"processExternalMediaAEC"),v2.prototype),v2);Nk("PROCESS_ID","process-".concat(yQ(8,""),"-").concat(yQ(4,""),"-").concat(yQ(4,""),"-").concat(yQ(4,""),"-").concat(yQ(12,""))),function(){const e=aR();wL.getDisplayMedia=function(e){return!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)}(),wL.getStreamFromExtension=e.name===nR.CHROME&&Number(e.version)>34,wL.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),wL.supportMinBitrate=e.name===nR.CHROME||e.name===nR.EDGE,wL.supportSetRtpSenderParameters=function(){const e=aR();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!IR()||!(!gR()&&!dR())||e.name===nR.FIREFOX&&Number(e.version)>=64)}(),e.name===nR.SAFARI&&(Number(e.version)>=14?wL.supportDualStream=!0:wL.supportDualStream=!1),wL.webAudioMediaStreamDest=function(){const e=aR();return!(e.name===nR.SAFARI&&Number(e.version)<12)}(),wL.supportReplaceTrack=function(){return!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack}(),wL.supportWebGL="undefined"!=typeof WebGLRenderingContext,wL.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,IR()||(wL.webAudioWithAEC=!0),wL.supportShareAudio=function(){const e=aR();return(e.os===tR.WIN_10||e.os===tR.WIN_81||e.os===tR.WIN_7||e.os===tR.LINUX||e.os===tR.MAC_OS)&&e.name===nR.CHROME&&Number(e.version)>=74}(),wL.supportDualStreamEncoding=function(){const e=aR();return"Safari"===e.name&&Number(e.version)>=14}(),KP.info("browser compatibility",JSON.stringify(wL),JSON.stringify(e)),pk("info",[],"updateAgoraRTCCompatibility",{browserCompatibility:wL,browserInfo:e})}(),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void KP.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();KP.debug("Loading global parameters from cache",t),pk("debug",[],"loadConfigFromLocalStorage",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(kk,e)){const{value:r,expires:o}=t[e];if(o&&o<=n)return;Dk[e]=r,kk[e]=r}}))}catch(t){KP.error("Error loading mutableParamsCache: ".concat(e),t.message)}}();const A2={__CLIENT_LIST__:Fk,__TRACK_LIST__:Uk,VERSION:Ak,BUILD:yk,setParameter:Nk,getParameter:Pk,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:"recvonly"}),t.addTransceiver("audio",{direction:"recvonly"});const n=(await t.createOffer()).sdp;if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(e){throw new BP(MP.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=dW.reportApiInvoke(null,{name:tx.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:nx.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!!(e&&n&&r)}catch(e){return KP.error("check system requirement failed: ",e),!1}let n=!1;const r=aR();r.name===nR.CHROME&&Number(r.version)>=58&&(!pR()||fR())&&(n=!0),r.name===nR.FIREFOX&&Number(r.version)>=56&&(n=!0),r.name===nR.OPERA&&Number(r.version)>=45&&(n=!0),r.name===nR.SAFARI&&Number(r.version)>=11&&(n=!0),(SR()||aR().name===nR.QQ)&&(n=!0),KP.debug("checkSystemRequirements, api:",t,"browser",n);const o=t&&n;return e.onSuccess(o),o},getDevices:function(e){return zW.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return zW.getRecordingDevices(e)},getCameras:function(e){return zW.getCamerasDevices(e)},getElectronScreenSources:BW,getPlaybackDevices:function(e){return zW.getSpeakers(e)},createClient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const t=dW.reportApiInvoke(null,{name:tx.CREATE_CLIENT,options:[e],tag:nx.TRACER});try{_x(e)}catch(e){throw t.onError(e),e}return void 0===e.audioCodec&&(e.audioCodec="opus"),t.onSuccess(),new i2(o2(o2({forceWaitGatewayResponse:!0},e),{},{role:"rtc"===e.mode?"host":e.role}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{encoderConfig:"480p_1"};const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_CAM_VIDEO_TRACK,options:[l2({},e)]}),n=bJ(e),r=yQ(8,"track-cam-");let o=null;KP.info("start create camera video track with config",JSON.stringify(e),"trackId",r),gk("info",["AgoraRTC"],"createCameraVideoTrack",e);try{o=(await QW({video:n},r)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!o){const e=new BP(MP.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw()}e.optimizationMode&&d2(r,o,e,e.encoderConfig&&Ck(e.encoderConfig));const i=new tX(o,e,n,e.scalabiltyMode?Ok(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r);return t.onSuccess(i.getTrackId()),KP.info("create camera video success, trackId:",r),gk("info",["AgoraRTC"],"createCameraVideoTrack",void 0,r),i},createCustomVideoTrack:function(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),n=new eX(e.mediaStreamTrack,{bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?Ok(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode);return t.onSuccess(n.getTrackId()),KP.info("create custom video track success with config",e,"trackId",n.getTrackId()),gk("info",["AgoraRTC"],"createCustomVideoTrack",e,n.getTrackId()),n},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_SCREEN_VIDEO_TRACK,options:[l2({},e),t]});e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const r=EJ(e),o=yQ(8,"track-scr");let i=null,a=null;const s=SL();if(!s.supportShareAudio&&"enable"===t){const e=new BP(MP.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return n.onError(e),e.throw()}KP.info("start create screen video track with config",e,"withAudio",t,"trackId",o),gk("info",["AgoraRTC"],"createScreenVideoTrack",[e,t]);try{const e=await QW({screen:r,screenAudio:"auto"===t?s.supportShareAudio:"enable"===t},o);i=e.getVideoTracks()[0]||null,a=e.getAudioTracks()[0]||null}catch(e){throw n.onError(e),e}if(!i){const e=new BP(MP.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw()}if(!a&&"enable"===t){i&&i.stop();const e=new BP(MP.SHARE_AUDIO_NOT_ALLOWED);return n.onError(e),e.throw()}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(d2(o,i,e,e.encoderConfig&&Ik(e.encoderConfig)),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const c=new eX(i,e.encoderConfig?Ik(e.encoderConfig):{},e.scalabiltyMode?Ok(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,o,[Xx.SCREEN_TRACK]);if(!a)return n.onSuccess(c.getTrackId()),KP.info("create screen video track success","video:",c.getTrackId()),gk("info",["AgoraRTC"],"createScreenVideoTrack",void 0,{videoTrack:c.getTrackId()}),c;const u=new QH(a);return n.onSuccess([c.getTrackId(),u.getTrackId()]),KP.info("create screen video track success","video:",c.getTrackId(),"audio:",u.getTrackId()),gk("info",["AgoraRTC"],"createScreenVideoTrack",void 0,{videoTrack:c.getTrackId(),audioTrack:u.getTrackId()}),[c,u]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encoderConfig:"480p_1"};const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),r=bJ(t),o=_J(e),i=yQ(8,"track-mic-"),a=yQ(8,"track-cam-");let s=null,c=null;KP.info("start create camera video track(".concat(a,") and microphone audio track(").concat(i,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t))),gk("info",["AgoraRTC"],"createMicrophoneAndCameraTracks",{videoConfig:t,audioConfig:e});try{const e=await QW({audio:o,video:r},"".concat(i,"-").concat(a));s=e.getAudioTracks()[0],c=e.getVideoTracks()[0]}catch(e){throw n.onError(e),e}if(!s||!c){const e=new BP(MP.UNEXPECTED_ERROR,"can not find tracks in media stream");return n.onError(e),e.throw()}t.optimizationMode&&d2(a,c,t,t.encoderConfig&&Ck(t.encoderConfig));const u=new GH(s,e,o,i),l=new tX(c,t,r,t.scalabiltyMode?Ok(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,a);return n.onSuccess([u.getTrackId(),l.getTrackId()]),KP.info("create camera video track(".concat(a,") and microphone audio track(").concat(i,") success")),gk("info",["AgoraRTC"],"createMicrophoneAndCameraTracks",void 0,{videoTrackId:a,audioTrackId:i}),[u,l]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_MIC_AUDIO_TRACK,options:[e]}),n=_J(e),r=yQ(8,"track-mic-");let o=null;KP.info("start create microphone audio track with config",JSON.stringify(e),"trackId",r),gk("info",["AgoraRTC"],"createMicrophoneAudioTrack",e);try{o=(await QW({audio:n},r)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!o){const e=new BP(MP.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw()}const i=new GH(o,e,n,r);return t.onSuccess(i.getTrackId()),KP.info("create microphone audio track success, trackId:",r),gk("info",["AgoraRTC"],"createMicrophoneAudioTrack",e,r),i},createCustomAudioTrack:function(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new QH(e.mediaStreamTrack,e.encoderConfig?Rk(e.encoderConfig):{});return KP.info("create custom audio track success with config",e,"trackId",n.getTrackId()),gk("info",["AgoraRTC"],"createCustomAudioTrack",e,n.getTrackId()),t.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(e){const t=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CREATE_BUFFER_AUDIO_TRACK,options:[e]}),n=yQ(8,"track-buf-");KP.info("start create buffer source audio track with config",JSON.stringify(e),"trackId",n),gk("info",[],"createBufferSourceAudioTrack",e);const r=e.source;if(!(e.source instanceof AudioBuffer))try{e.source=await c2(e.source,e.cacheOnlineFile)}catch(e){return t.onError(e),e.throw()}const o=new a2(e.source),i=new KH(r,o,e.encoderConfig?Rk(e.encoderConfig):{},n);return KP.info("create buffer source audio track success, trackId:",n),gk("info",["AgoraRTC"],"createBufferSourceAudioTrack",void 0,n),t.onSuccess(i.getTrackId()),i},setAppType:function(e){if(KP.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw KP.debug("Invalid appType"),new BP(MP.INVALID_PARAMS,"invalid app type",e);Nk("APP_TYPE",Math.floor(e))},setLogLevel:function(e){Pk("USE_NEW_LOG")?function(e){e=Math.min(Math.max(0,e),4),$P=e}(e):KP.setLogLevel(e)},enableLogUpload:function(){Pk("USE_NEW_LOG")?Nk("UPLOAD_LOG",!0):KP.enableLogUpload()},disableLogUpload:function(){Pk("USE_NEW_LOG")?Nk("UPLOAD_LOG",!1):KP.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new WY},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof QH||e instanceof L0)){const e=new BP(MP.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof QH?e.getTrackLabel():"remote_track",o=e.getVolumeLevel();let i=o,a=o;const s=Date.now();return new iS((o=>{const c=setInterval((()=>{const u=e.getVolumeLevel();i=u>i?u:i,a=u<a?u:a;const l=i-a>1e-4,d=Date.now()-s;if(l||d>t){clearInterval(c);const t=l,a={duration:d,deviceLabel:r,maxVolumeLevel:i,result:t};KP.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(a))),n.onSuccess(a),o(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=dW.reportApiInvoke(null,{tag:nx.TRACER,name:tx.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof eX||e instanceof x0)){const e=new BP(MP.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}const r=4;t&&t<1e3&&(t=1e3);const o=e instanceof eX?e.getTrackLabel():"remote_track",i=e.getMediaStreamTrack(!0),a=document.createElement("video");a.style.width="1px",a.style.height="1px",a.setAttribute("muted",""),a.muted=!0,a.setAttribute("playsinline",""),a.controls=!1,(gR()||dR())&&(a.style.opacity="0.01",a.style.position="fixed",a.style.left="0",a.style.top="0",document.body.appendChild(a)),a.srcObject=new MediaStream([i]),a.play();const s=document.createElement("canvas");s.width=160,s.height=120;let c=0,u=0;try{const e=Date.now();c=await p2(a,t,s,r),u=Date.now()-e}catch(e){throw n.onError(e),e}f2===nR.SAFARI&&(a.pause(),a.remove()),a.srcObject=null;const l=c>r,d={duration:u,changedPicNum:c,deviceLabel:o,result:l};return KP.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(d))),n.onSuccess(d),l},setArea:function(e){const t=dW.reportApiInvoke(null,{name:tx.SET_AREA,options:e,tag:nx.TRACER});try{let t=[];if("string"==typeof e&&(t=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!iL.includes(e))throw new BP(MP.INVALID_PARAMS,"invalid area code")})),t=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:n,excludedArea:r}=e;if(!n)throw new BP(MP.INVALID_PARAMS,"area code is needed");let o=n;"string"==typeof n&&(o=[n]),t=r?_Y(o,r):o}Nk("AREAS",t);const n=(e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const n=sL[e],r=Object.keys(n);r&&r.map((e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t})(t);Object.keys(n).map((e=>{Nk(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?n[e][0]:n[e])})),KP.debug("set area success:",t.join(","))}catch(e){throw t.onError(e),e}t.onSuccess()},loadModule:async function(e,t){if(KP.debug("loadModule: ".concat(e.name,", loadOption: ").concat(JSON.stringify(t))),!e.moduleInit)throw KP.debug("Invalid Plugin"),new BP(MP.INVALID_PLUGIN,"invalid plugin");try{EW.installPlugin(e),await e.moduleInit({logger:KP,report:dW,pluginCenter:EW,getParameter:Pk},t)}catch(e){throw new BP(MP.UNEXPECTED_ERROR,"unexpected error in loadModule",e)}},audioElementPlayCenter:ZW,processExternalMediaAEC:function(e){y2.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach((e=>{const t=e;t.__registered__=!0,t.logger.hookLog=KP.extLog,t.reporter.hookApiInvoke=dW.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach((e=>{t.parameters[e]=Pk(e)}))}))},ChannelMediaRelayError:Kx,ChannelMediaRelayEvent:Qx,ChannelMediaRelayState:Gx,RemoteStreamFallbackType:$x,RemoteStreamType:Zx,ConnectionDisconnectedReason:dx,AudienceLatencyLevelType:lx,AREAS:nL};return Object.defineProperties(A2,{onAudioAutoplayFailed:{get:()=>tW.onAudioAutoplayFailed,set:e=>{tW.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>tW.onAutoplayFailed,set:e=>{tW.onAutoplayFailed=e}}}),zW.on(ox.CAMERA_DEVICE_CHANGED,(e=>{KP.info("camera device changed",JSON.stringify(e)),A2.onCameraChanged&&A2.onCameraChanged(e)})),zW.on(ox.RECORDING_DEVICE_CHANGED,(e=>{KP.info("microphone device changed",JSON.stringify(e)),A2.onMicrophoneChanged&&A2.onMicrophoneChanged(e)})),zW.on(ox.PLAYOUT_DEVICE_CHANGED,(e=>{KP.debug("playout device changed",JSON.stringify(e)),A2.onPlaybackDeviceChanged&&A2.onPlaybackDeviceChanged(e)})),ZW.onAutoplayFailed=()=>{KP.info("detect audio element autoplay failed"),tW.onAudioAutoplayFailed&&tW.onAudioAutoplayFailed()},IW.on("autoplay-failed",(()=>{KP.info("detect webaudio autoplay failed"),tW.onAudioAutoplayFailed&&tW.onAudioAutoplayFailed()})),window&&(window.__ARTC__=A2),A2}))},6039:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),
/*
 @preserve
 AgoraRTM Web SDK 1.5.0 - commit: v1.5.0-0-g83bd874d
 Copyright (C) 2018-2022 Agora Lab.
 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
*/
__webpack_require__(1703),__webpack_require__(8675),__webpack_require__(3462),__webpack_require__(7380),__webpack_require__(1118),__webpack_require__(2801),__webpack_require__(6699),__webpack_require__(2087),function(e,t){module.exports=t()}(0,(function(){function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ja(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){rm(s,r,o,i,a,"next",e)}function a(e){rm(s,r,o,i,a,"throw",e)}var s=e.apply(t,n);i(void 0)}))}}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cb(e,t,n){return t&&sm(e.prototype,t),n&&sm(e,n),e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hf(e,t)}function Sd(e){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hf(e,t){return(Hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tm(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Di(e,t,n){return(Di=tm()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),e=new(Function.bind.apply(e,r)),n&&Hf(e,n.prototype),e}).apply(null,arguments)}function If(e){var t="function"==typeof Map?new Map:void 0;return(If=function(e){function n(){return Di(e,arguments,Sd(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Hf(n,e)})(e)}function Ei(e,t){if(null==e)return{};if(null==e)var n={};else{n={};var r,o=Object.keys(e);for(r=0;r<o.length;r++){var i=o[r];0<=t.indexOf(i)||(n[i]=e[i])}}if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),i=0;i<r.length;i++)o=r[i],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ha(e){var t=tm();return function(){var n=Sd(e);if(t){var r=Sd(this).constructor;n=Reflect.construct(n,arguments,r)}else n=n.apply(this,arguments);return!n||"object"!=typeof n&&"function"!=typeof n?z(this):n}}function Fi(e,t,n){return(Fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sd(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function Xa(e,t){var n=Array.isArray(e)?e:void 0;if(!n)if(null==(n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"])))n=void 0;else{var r,o=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){a=!0;var s=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw s}}n=o}if(!(e=n||um(e,t)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function W(e){var t=Array.isArray(e)?Gi(e):void 0;if(t||(t="undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]?Array.from(e):void 0),!(e=t||um(e)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function um(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gi(e,t)}}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ca(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function tb(e){var t={exports:{}};return e(t,t.exports),t.exports}function Ae(e){e||(e={});var t=e.ua;if(t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;var n=Rt.test(t)&&!St.test(t)||!!e.tablet&&Tt.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}function vm(e,t){var n,r=3>arguments.length?e:arguments[2];return Ia(e)===r?e[t]:(n=Zb.f(e,t))?ha(n,"value")?n.value:void 0===n.get?void 0:n.get.call(r):va(n=nc(e))?vm(n,t,r):void 0}function Ut(e){var t=e.charCodeAt(0)<<24,n=0|Vt(~t),r=0,o=0|e.length,i="";if(5>n&&o>=n){for(t=t<<n>>>24+n,r=1;r<n;r=r+1|0)t=t<<6|63&e.charCodeAt(r);65535>=t?i+=Td(t):1114111>=t?i+=Td(55296+((t=t-65536|0)>>10)|0,56320+(1023&t)|0):r=0}for(;r<o;r=r+1|0)i+="�";return i}function wm(){}function Wt(e){var t=0|e.charCodeAt(0);if(55296<=t&&56319>=t){var n=0|e.charCodeAt(1);if(!(n==n&&56320<=n&&57343>=n))return Td(239,191,189);if(65535<(t=(t-55296<<10)+n-56320+65536|0))return Td(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}return 127>=t?e:2047>=t?Td(192|t>>>6,128|63&t):Td(224|t>>>12,128|t>>>6&63,128|63&t)}function xm(){}function ya(){ya.init.call(this)}function Ug(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+oa(e))}function ym(e,t,n,r){Ug(n);var o=e._events;if(void 0===o)o=e._events=Object.create(null),e._eventsCount=0;else{void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events);var i=o[t]}return void 0===i?(o[t]=n,++e._eventsCount):("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),0<(n=void 0===e._maxListeners?ya.defaultMaxListeners:e._maxListeners)&&i.length>n&&!i.warned&&(i.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=i.length,console&&console.warn&&console.warn(n))),e}function Xt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zm(e,t,n){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},(t=Xt.bind(e)).listener=n,e.wrapFn=t}function Am(e,t,n){if(void 0===(e=e._events))return[];if(void 0===(t=e[t]))return[];if("function"==typeof t)return n?[t.listener||t]:[t];if(n)for(n=Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];else n=Bm(t,t.length);return n}function Cm(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function Bm(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Yt(e,t,n){"function"==typeof e.on&&Dm(e,"error",t,n)}function Dm(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+oa(e));e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}function Zt(e){return e?W(e):$t((function(){return[]}),(function(e,t){return e.push(t),e}))}function Em(e,t){var n,r,o,i;return M.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Fm(e)([Gm,Gm,function(e,t){return t}])[2],r=0;case 2:if(!(r<t.length)){a.next=17;break}if(o=t[r],!((i=n(Hi,o))instanceof Vg)){a.next=11;break}if((i=Ii(i.deref()))===Hi){a.next=10;break}return a.next=10,i;case 10:return a.abrupt("return");case 11:if(i===Hi){a.next=14;break}return a.next=14,i;case 14:r++,a.next=2;break;case 17:case"end":return a.stop()}}),au)}function Wg(e,t){return null!=t&&"function"==typeof t[Symbol.iterator]?Em(Wg(e),t):function(t){var n=t[2];return bu(t,(function(t,r){return n(t,e(r))}))}}function Xc(e){return Object.prototype.toString.call(e).slice(8,-1)}function Be(e){return"Object"===Xc(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Hm(e){var t;return(t="Boolean"===Xc(e)||"Null"===Xc(e)||"Undefined"===Xc(e))||(t="Number"===Xc(e)&&!isNaN(e)),t||"String"===Xc(e)||"Symbol"===Xc(e)}function Ud(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function De(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jf(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xg;++t<n;)this.add(e[t])}function Ee(e){this.size=(this.__data__=new Yg(e)).size}function Fe(e,t,n,r,o,i){var a,s=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!Db(e))return e;if(r=pb(e)){if(a=cu(e),!s)return Ji(e,a)}else{var l=Kf(e),d="[object Function]"==l||"[object GeneratorFunction]"==l;if(Lf(e))return Im(e,s);if("[object Object]"==l||"[object Arguments]"==l||d&&!o){if(a=c||d?{}:Jm(e),!s)return c?du(e,eu(a,e)):fu(e,gu(a,e))}else{if(!Na[l])return o?e:{};a=hu(e,l,s)}}if(i||(i=new Ge),o=i.get(e))return o;i.set(e,a),iu(e)?e.forEach((function(r){a.add(Fe(r,t,n,r,e,i))})):ju(e)&&e.forEach((function(r,o){a.set(o,Fe(r,t,n,o,e,i))})),c=u?c?Km:Ki:c?Mf:Vd;var f=r?void 0:c(e);return ku(f||e,(function(r,o){f&&(r=e[o=r]),Lm(a,o,Fe(r,t,n,o,e,i))})),a}function Li(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;return i.has(o)?i.get(o):(r=e.apply(this,r),n.cache=i.set(o,r)||i,r)};return n.cache=new(Li.Cache||Xg),n}function Mm(e){if("string"==typeof e)return e;if(pb(e))return He(e,Mm)+"";if(Ie(e))return Nm?Nm.call(e):"";var t=e+"";return"0"==t&&1/e==-lu?"-0":t}function Mi(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=mu),o||(o=[]);++i<a;){var s=e[i];0<t&&n(s)?1<t?Mi(s,t-1,n,r,o):Ni(o,s):r||(o[o.length]=s)}return o}function Je(e,t,n,r,o){if(e===t)t=!0;else if(null==e||null==t||!Bc(e)&&!Bc(t))t=e!=e&&t!=t;else e:{var i=pb(e),a=pb(t),s=i?"[object Array]":Kf(e),c=a?"[object Array]":Kf(t),u="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s);if(a="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),(c=s==c)&&Lf(e)){if(!Lf(t)){t=!1;break e}i=!0,u=!1}if(c&&!u)o||(o=new Ge),t=i||Oi(e)?Om(e,t,n,r,Je,o):nu(e,t,s,n,r,Je,o);else{if(!(1&n)&&(i=u&&Pm.call(e,"__wrapped__"),s=a&&Pm.call(t,"__wrapped__"),i||s)){e=i?e.value():e,t=s?t.value():t,o||(o=new Ge),t=Je(e,t,n,r,o);break e}if(c)t:if(o||(o=new Ge),i=1&n,s=Ki(e),a=s.length,c=Ki(t).length,a==c||i){for(c=a;c--;){var l=s[c];if(!(i?l in t:ou.call(t,l))){t=!1;break t}}if(u=o.get(e),l=o.get(t),u&&l)t=u==t&&l==e;else{u=!0,o.set(e,t),o.set(t,e);for(var d=i;++c<a;){var f=e[l=s[c]],p=t[l];if(r)var h=i?r(p,f,l,t,e,o):r(f,p,l,e,t,o);if(void 0===h?f!==p&&!Je(f,p,n,r,o):!h){u=!1;break}d||(d="constructor"==l)}u&&!d&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(u=!1),o.delete(e),o.delete(t),t=u}}else t=!1;else t=!1}}return t}function Oa(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Eb(e){return!0===(e&&e.__isLong__)}function Wd(e,t){var n;if(t){if((t=0<=(e>>>=0)&&256>e)&&(n=Qm[e]))return n;n=Pa(e,0>(0|e)?-1:0,!0),t&&(Qm[e]=n)}else{if((t=-128<=(e|=0)&&128>e)&&(n=Rm[e]))return n;n=Pa(e,0>e?-1:0,!1),t&&(Rm[e]=n)}return n}function $b(e,t){if(isNaN(e))return t?Xd:ac;if(t){if(0>e)return Xd;if(e>=Sm)return Tm}else{if(e<=-Um)return Fb;if(e+1>=Um)return Vm}return 0>e?$b(-e,t).neg():Pa(e%Ke|0,e/Ke|0,t)}function Pa(e,t,n){return new Oa(e,t,n)}function Pi(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return ac;if("number"==typeof t?(n=t,t=!1):t=!!t,2>(n=n||10)||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(0===r)return Pi(e.substring(1),t,n).neg();r=$b(Zg(n,8));for(var o=ac,i=0;i<e.length;i+=8){var a=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+a),n);8>a?(a=$b(Zg(n,a)),o=o.mul(a).add($b(s))):o=(o=o.mul(r)).add($b(s))}return o.unsigned=t,o}function oc(e,t){return"number"==typeof e?$b(e,t):"string"==typeof e?Pi(e,t):Pa(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}function da(e,t){function n(){this.constructor=e}Qi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Le(e){return"function"==typeof e}function Me(e){setTimeout((function(){throw e}),0)}function Ri(e){return null!==e&&"object"===oa(e)}function Wm(e){return e.reduce((function(e,t){return e.concat(t instanceof Nf?t.errors:t)}),[])}function Si(e){for(;e;){var t=e.destination,n=e.isStopped;if(e.closed||n)return!1;e=t&&t instanceof za?t:null}return!0}function td(e){return e}function Ti(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xm(e)}function Xm(e){return 0===e.length?td:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function Ym(e){if(e||(e=bc.Promise||Promise),!e)throw Error("no Promise impl found");return e}function Zm(){return function(e){return e.lift(new pu(e))}}function Of(e){return e?qu(e):Nb}function qu(e){return new ra((function(t){return e.schedule((function(){return t.complete()}))}))}function ud(e){return e&&"function"==typeof e.schedule}function Ui(e,t){return new ra((function(n){var r=new kb,o=0;return r.add(t.schedule((function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||r.add(this.schedule()))}))),r}))}function Pf(e,t){return t?Ui(e,t):new ra($m(e))}function wb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ud(t=e[e.length-1])?(e.pop(),Ui(e,t)):Pf(e)}function pa(e,t){return new ra(t?function(n){return t.schedule(ru,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function ru(e){e.subscriber.error(e.error)}function su(e,t){return void 0===t&&(t=0),function(n){return n.lift(new tu(e,t))}}function an(e){return e in Vi&&(delete Vi[e],!0)}function Cc(){}function Da(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new uu(e,t))}}function bn(e,t,n){if(t){if(!ud(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return bn(e,n).apply(void 0,r).pipe(Da((function(e){return cc(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,i=this,a={context:i,subject:o,callbackFunc:e,scheduler:n};return new ra((function(r){if(n)return n.schedule(vu,0,{args:t,subscriber:r,params:a});if(!o){o=new Qf;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(1>=e.length?e[0]:e),o.complete()}]))}catch(e){Si(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function vu(e){var t=this,n=e.args,r=e.subscriber,o=e.params;e=o.callbackFunc;var i=o.context,a=o.scheduler,s=o.subject;if(!s){s=o.subject=new Qf,o=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.add(a.schedule(wu,0,{value:1>=e.length?e[0]:e,subject:s}))};try{e.apply(i,n.concat([o]))}catch(e){s.error(e)}}this.add(s.subscribe(r))}function wu(e){var t=e.subject;t.next(e.value),t.complete()}function cn(e,t,n){if(t){if(!ud(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return cn(e,n).apply(void 0,r).pipe(Da((function(e){return cc(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new ra((function(r){var i=o.context,a=o.subject;if(n)return n.schedule(xu,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new Qf;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(t=e.shift())?a.error(t):(a.next(1>=e.length?e[0]:e),a.complete())}]))}catch(e){Si(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function xu(e){var t=this,n=e.params,r=e.subscriber;e=e.context;var o=n.callbackFunc,i=n.args,a=n.scheduler,s=n.subject;if(!s){s=n.subject=new Qf,n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(n=e.shift())?t.add(a.schedule(dn,0,{err:n,subject:s})):t.add(a.schedule(yu,0,{value:1>=e.length?e[0]:e,subject:s}))};try{o.apply(e,i.concat([n]))}catch(e){this.add(a.schedule(dn,0,{err:e,subject:s}))}}this.add(s.subscribe(r))}function yu(e){var t=e.subject;t.next(e.value),t.complete()}function dn(e){e.subject.error(e.err)}function en(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function Wi(e,t,n,r,o){if(void 0===o&&(o=new zu(e,n,r)),!o.closed)return t instanceof ra?t.subscribe(o):Rf(t)(o)}function Au(e,t){return new ra((function(n){var r=new kb;return r.add(t.schedule((function(){var o=e[Ne]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}function Bu(e,t){return new ra((function(n){var r=new kb;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}function Cu(e,t){if(!e)throw Error("Iterable cannot be null");return new ra((function(n){var r,o=new kb;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[vd](),o.add(t.schedule((function(){if(!n.closed){try{var e=r.next(),t=e.value,o=e.done}catch(e){return void n.error(e)}o?n.complete():(n.next(t),this.schedule())}})))}))),o}))}function fn(e,t){if(null!=e){if(e&&"function"==typeof e[Ne])return Au(e,t);if(en(e))return Bu(e,t);if(gn(e))return Ui(e,t);if(e&&"function"==typeof e[vd]||"string"==typeof e)return Cu(e,t)}throw new TypeError((null!==e&&oa(e)||e)+" is not observable")}function Dc(e,t){return t?fn(e,t):e instanceof ra?e:new ra(Rf(e))}function Yc(e,t){if(!t.closed){if(e instanceof ra)return e.subscribe(t);try{var n=Rf(e)(t)}catch(e){t.error(e)}return n}}function Ab(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(Ab((function(n,r){return Dc(e(n,r)).pipe(Da((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Du(e,n))})}function $g(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Ab(td,e)}function hn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $g(1)(wb.apply(void 0,e))}function wd(e){return new ra((function(t){try{var n=e()}catch(e){return void t.error(e)}return(n?Dc(n):Of()).subscribe(t)}))}function ah(e,t){return new ra((function(n){var r=e.length;if(0===r)n.complete();else for(var o=Array(r),i=0,a=0,s=function(s){var c=Dc(e[s]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,a++),o[s]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},c=0;c<r;c++)s(c)}))}function Gb(e,t,n,r){return Le(n)&&(r=n,n=void 0),r?Gb(e,t,n).pipe(Da((function(e){return cc(e)?r.apply(void 0,e):r(e)}))):new ra((function(r){jn(e,t,(function(e){1<arguments.length?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function jn(e,t,n,r,o){if(e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){e.addEventListener(t,n,o);var i=function(){return e.removeEventListener(t,n,o)}}else if(e&&"function"==typeof e.on&&"function"==typeof e.off)e.on(t,n),i=function(){return e.off(t,n)};else if(e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener)e.addListener(t,n),i=function(){return e.removeListener(t,n)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,s=e.length;a<s;a++)jn(e[a],t,n,r,o)}r.add(i)}function kn(e,t,n){return n?kn(e,t).pipe(Da((function(e){return cc(e)?n.apply(void 0,e):n(e)}))):new ra((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{var o=e(r)}catch(e){return void n.error(e)}if(Le(t))return function(){return t(r,o)}}))}function Eu(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}try{var o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function Xi(e){return!cc(e)&&0<=e-parseFloat(e)+1}function ln(e,t){return void 0===e&&(e=0),void 0===t&&(t=xd),(!Xi(e)||0>e)&&(e=0),t&&"function"==typeof t.schedule||(t=xd),new ra((function(n){return n.add(t.schedule(Fu,e,{subscriber:n,counter:0,period:e})),n}))}function Fu(e){var t=e.subscriber,n=e.counter;e=e.period,t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}function Ec(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var n=null,r=e[e.length-1];return ud(r)?(n=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof ra?e[0]:$g(t)(Pf(e,n))}function Yi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return Nb;var n=e[0],r=e.slice(1);return 1===e.length&&cc(n)?Yi.apply(void 0,n):new ra((function(e){var t=function(){return e.add(Yi.apply(void 0,r).subscribe(e))};return Dc(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function Gu(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription;if(e=e.obj,!r.closed)if(n<t.length){var i=t[n];r.next([i,e[i]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:e}))}else r.complete()}function Hu(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function Ob(e,t){return function(n){return n.lift(new Iu(e,t))}}function ab(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!cc(e[0]))return e[0];e=e[0]}return Pf(e,void 0).lift(new Ju)}function Ku(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function Zc(e,t,n){void 0===e&&(e=0);var r=-1;return Xi(t)?r=1>Number(t)?1:Number(t):ud(t)&&(n=t),ud(n)||(n=xd),new ra((function(t){var o=Xi(e)?e:+e-n.now();return n.schedule(Lu,o,{index:0,period:r,subscriber:t})}))}function Lu(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Zi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof(t=e[e.length-1])&&e.pop(),Pf(e,void 0).lift(new Mu(t))}function Ya(e){return function(t){var n=new Nu(e);return t=t.lift(n),n.caught=t}}function $i(e,t){return Ab(e,t,1)}function mn(e){return void 0===e&&(e=null),function(t){return t.lift(new Ou(e))}}function Yd(e,t){void 0===t&&(t=xd);var n=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new Pu(n,t))}}function nn(e,t){return function(n){return n.lift(new Qu(e,t))}}function Zd(e){return void 0===e&&(e=Ru),function(t){return t.lift(new Su(e))}}function Ru(){return new bh}function db(e){return function(t){return 0===e?Of():t.lift(new Tu(e))}}function ch(e){return function(t){return t.lift(new Uu(e))}}function Aa(e,t){var n=2<=arguments.length;return function(r){return r.pipe(e?Ob((function(t,n){return e(t,n,r)})):td,db(1),n?mn(t):Zd((function(){return new bh})))}}function Vu(){return function(e){return e.lift(new Wu)}}function on(e){return function(t){return 0===e?Of():t.lift(new Xu(e))}}function Sf(e){return function(t){return t.lift(new Yu(e))}}function dh(e,t){var n=!1;return 2<=arguments.length&&(n=!0),function(r){return r.lift(new Zu(e,t,n))}}function pn(e,t){return 2<=arguments.length?function(n){return Ti(dh(e,t),on(1),mn(t))(n)}:function(t){return Ti(dh((function(t,n,r){return e(t,n,r+1)})),on(1))(t)}}function $u(e,t){return function(n){var r="function"==typeof e?e:function(){return e};if("function"==typeof t)return n.lift(new av(r,t));var o=Object.create(n,bv);return o.source=n,o.subjectFactory=r,o}}function Oe(e){return function(t){return t.lift(new cv(e,t))}}function dv(){return new nb}function Pe(){return function(e){return Zm()($u(dv)(e))}}function qn(e,t,n){var r=e&&"object"===oa(e)?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift(ev(r))}}function ev(e){var t,n,r=e.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,i=void 0===(r=e.windowTime)?Number.POSITIVE_INFINITY:r,a=e.refCount,s=e.scheduler,c=0,u=!1,l=!1;return function(e){if(c++,!t||u){u=!1;var r=(t=new Qe(o,i,s)).subscribe(this);n=e.subscribe({next:function(e){t.next(e)},error:function(e){u=!0,t.error(e)},complete:function(){l=!0,n=void 0,t.complete()}}),l&&(n=void 0)}else r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!l&&a&&0===c&&(n.unsubscribe(),t=n=void 0)}))}}function Fc(e,t){return"function"==typeof t?function(n){return n.pipe(Fc((function(n,r){return Dc(e(n,r)).pipe(Da((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new fv(e))}}function Gc(e){return function(t){return t.lift(new gv(e))}}function sa(e,t,n){return function(r){return r.lift(new hv(e,t,n))}}function iv(e,t,n){return void 0===t&&(t=xd),void 0===n&&(n=jv),function(r){return r.lift(new kv(e,t,n.leading,n.trailing))}}function lv(e){e.subscriber.clearThrottle()}function mv(e,t,n){return void 0===n&&(n=xd),function(r){var o=e instanceof Date&&!isNaN(+e),i=o?+e-n.now():Math.abs(e);return r.lift(new nv(i,o,t,n))}}function Hb(e,t){return void 0===t&&(t=xd),mv(e,pa(new Pb),t)}function ov(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new pv(e,n))}}function rn(e){(aj||e)&&(sn.abort(),e&&(sn=new AbortController),aj=e)}function tn(e,t,n,r,o){e!==t&&un(t,(function(i,a){if(o||(o=new Ge),Db(i)){i=o;var s=bj(e,a),c=bj(t,a),u=i.get(c);if(u)cj(e,a,u);else{var l=void 0===(u=r?r(s,c,a+"",e,t,i):void 0);if(l){var d=pb(c),f=!d&&Lf(c),p=!d&&!f&&Oi(c);u=c,d||f||p?pb(s)?u=s:Bc(s)&&$d(s)?u=Ji(s):f?(l=!1,u=Im(c,!0)):p?(l=!1,u=vn(c,!0)):u=[]:wn(c)||Tf(c)?(u=s,Tf(s)?u=Re(s,Mf(s)):Db(s)&&!dj(s)||(u=Jm(c))):l=!1}l&&(i.set(c,u),tn(u,c,n,r,i),i.delete(c)),cj(e,a,u)}}else void 0===(s=r?r(bj(e,a),i,a+"",e,t,o):void 0)&&(s=i),cj(e,a,s)}),Mf)}function qv(e){var t=1,n=ej;1==(1>=arguments.length?0:arguments.length-1)?"number"==typeof(1>=arguments.length?void 0:arguments[1])?t=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:2==(1>=arguments.length?0:arguments.length-1)&&(t=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var r=t||1;return function(t){return t.pipe(dh((function(t,o){var i=n.now(),a=i-e;if((t=t.filter((function(e){return e.until>a}))).length>=r){var s=t[t.length-1],c=t[0].until+e*Math.floor(t.length/r);t.push({delay:s.until<i?c-i:c-s.until,until:c,value:o})}else t.push({delay:0,until:i,value:o});return t}),[]),Da((function(e){return e[e.length-1]})),$i((function(e){var t=wb(e.value);return e.delay?t.pipe(Yd(e.delay,n)):t})))}}function rv(e,t){var n=(t=void 0===t?{protocols:xn,makeWebSocket:yn}:t).protocols,r=void 0===n?xn:n,o=void 0===(t=t.makeWebSocket)?yn:t;return new ra((function(t){var n,i=new nb,a=o(e,r),s=!1,c=!1,u=!1,l=function(e){if(n)throw s=!0,e=Error("Web socket message factory function called more than once"),t.error(e),e;return n=e.subscribe((function(e){a.send(e)})),i};return a.onopen=function(){u=!0,c?(s=!0,a.close()):t.next(l)},a.onmessage=function(e){i.next(e.data)},a.onerror=function(e){s=!0,t.error(Error(e.message))},a.onclose=function(e){s||(s=!0,c?(t.complete(),i.complete()):t.error(Error(1e3===e.code?"Normal closure":e.reason)))},function(){c=!0,n&&n.unsubscribe(),s||(s=!0,u&&a.close())}}))}function eh(){this._listeners={}}function zn(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,n){i[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3]}function n(e,t,n){i[0]=e,t[n]=a[3],t[n+1]=a[2],t[n+2]=a[1],t[n+3]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],i[0]}function o(e,t){return a[3]=e[t],a[2]=e[t+1],a[1]=e[t+2],a[0]=e[t+3],i[0]}var i=new Float32Array([-0]),a=new Uint8Array(i.buffer),s=128===a[3];e.writeFloatLE=s?t:n,e.writeFloatBE=s?n:t,e.readFloatLE=s?r:o,e.readFloatBE=s?o:r}():function(){function t(e,t,n,r){var o=0>t?1:0;if(o&&(t=-t),0===t)e(0<1/t?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(34028234663852886e22<t)e((o<<31|2139095040)>>>0,n,r);else if(11754943508222875e-54>t)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(e,t,n){return n=e(t,n),e=2*(n>>31)+1,t=n>>>23&255,n&=8388607,255===t?n?NaN:1/0*e:0===t?1401298464324817e-60*e*n:e*Math.pow(2,t-150)*(n+8388608)}e.writeFloatLE=t.bind(null,An),e.writeFloatBE=t.bind(null,Bn),e.readFloatLE=n.bind(null,Cn),e.readFloatBE=n.bind(null,Dn)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,n){i[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3],t[n+4]=a[4],t[n+5]=a[5],t[n+6]=a[6],t[n+7]=a[7]}function n(e,t,n){i[0]=e,t[n]=a[7],t[n+1]=a[6],t[n+2]=a[5],t[n+3]=a[4],t[n+4]=a[3],t[n+5]=a[2],t[n+6]=a[1],t[n+7]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],a[4]=e[t+4],a[5]=e[t+5],a[6]=e[t+6],a[7]=e[t+7],i[0]}function o(e,t){return a[7]=e[t],a[6]=e[t+1],a[5]=e[t+2],a[4]=e[t+3],a[3]=e[t+4],a[2]=e[t+5],a[1]=e[t+6],a[0]=e[t+7],i[0]}var i=new Float64Array([-0]),a=new Uint8Array(i.buffer),s=128===a[7];e.writeDoubleLE=s?t:n,e.writeDoubleBE=s?n:t,e.readDoubleLE=s?r:o,e.readDoubleBE=s?o:r}():function(){function t(e,t,n,r,o,i){var a=0>r?1:0;if(a&&(r=-r),0===r)e(0,o,i+t),e(0<1/r?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(17976931348623157e292<r)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+n);else if(22250738585072014e-324>r)e((r/=5e-324)>>>0,o,i+t),e((a<<31|r/4294967296)>>>0,o,i+n);else{var s=Math.floor(Math.log(r)/Math.LN2);1024===s&&(s=1023),e(4503599627370496*(r*=Math.pow(2,-s))>>>0,o,i+t),e((a<<31|s+1023<<20|1048576*r&1048575)>>>0,o,i+n)}}function n(e,t,n,r,o){return t=e(r,o+t),r=e(r,o+n),e=2*(r>>31)+1,t=4294967296*(1048575&r)+t,2047===(n=r>>>20&2047)?t?NaN:1/0*e:0===n?5e-324*e*t:e*Math.pow(2,n-1075)*(t+4503599627370496)}e.writeDoubleLE=t.bind(null,An,0,4),e.writeDoubleBE=t.bind(null,Bn,4,0),e.readDoubleLE=n.bind(null,Cn,0,4),e.readDoubleBE=n.bind(null,Dn,4,0)}(),e}function An(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Bn(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function Cn(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Dn(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function qb(e,t){this.lo=e>>>0,this.hi=t>>>0}function Uf(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function fj(){}function sv(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function xa(){this.len=0,this.tail=this.head=new Uf(fj,0,0),this.states=null}function gj(e,t,n){t[n]=255&e}function hj(e,t){this.len=e,this.next=void 0,this.val=t}function ij(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo>>>=7;t[n++]=e.lo}function jj(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Hc(){kj.call(this)}function tv(e,t,n){40>e.length?na.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}function pc(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function eb(e){this.buf=e,this.pos=0,this.len=e.length}function lj(){var e=new En(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw pc(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw pc(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function fh(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Fn(){if(this.pos+8>this.len)throw pc(this,8);return new En(fh(this.buf,this.pos+=4),fh(this.buf,this.pos+=4))}function ae(e){mj.call(this,e)}function Vf(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");na.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}function Sa(e){return"string"==typeof e&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e)&&"null"!==e}function Gn(e){try{var t=e.split(".").map((function(e){return Number(e)}))}catch(e){return!1}if(4!==t.length||0===t[0])return!1;for(e=0;e<t.length;e++){var n=t[e];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function Hn(e,t){if(!Array.isArray(t)||0===t.length||32<t.length||t.some((function(e){return 0===e.length||32<e.length})))throw new Z("arguments is not valid",bb);if(!Sa(e))throw new Z("ID is invalid",bb)}function Wf(e){var t=e.attributes,n=e.attrSizeMap,r=e.maxAttrsCount,o=e.maxAttrValueSize;if(e=e.maxTotalSize,!Be(t))throw new Z("attributes must be an object",bb);if(Object.keys(t).length>r)throw new dc("Exceed the limit of ".concat(r," attributes"),Se);if(0===Object.keys(t).length)throw new Z("The attributes is an empty object",bb);var i=0,a=0;for(t=Object.entries(t);a<t.length;a++){var s=Xa(t[a],2),c=s[1];s=new Blob([s[0]]).size;var u=new Blob([c]).size;if(0===s||32<s)throw new Z("Invalid attribute key",bb);if(u>o)throw new dc("Invalid attribute value, over the limit of ".concat(o," bytes"),Se);if("string"!=typeof c||0===c.length)throw new Z("Invalid attribute value",bb);i+=s,i+=u}if(i>e)throw new dc("The attributes size overflow",Se);if(void 0!==n){if(Object.keys(n).length>r)throw new dc("Exceed the limit of ".concat(r," attributes"),Se);for(i=r=0,n=Object.entries(n);i<n.length;i++){if(a=(t=Xa(n[i],2))[1],0===(t=new Blob([t[0]]).size))throw new Z("Invalid attribute key",bb);if(a>o)throw new dc("Invalid attribute value, over the limit of ".concat(o," bytes"),Se);r+=t,r+=a}if(r>e)throw new dc("The attributes size overflow",Se)}}function gh(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function hh(){var e=gh(0,4294967295),t=gh(1,4294967295);return new ma(e,t,!0)}function rb(e){return e.toString().padEnd(32,"0")}function In(e,t){return new TypeError("Unexpected ".concat(e,": ").concat(t))}function Jn(e,t){return e=e.split(".").map((function(e){return Number(e)})),t=t.split(".").map((function(e){return Number(e)})),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function Kn(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function nj(e,t){t="".concat(e).concat(t||"");var n=Ln.get(t)||1;return Ln.set(t,n+1),"".concat(e).concat(n)}function Mn(e,t){var n="number"==typeof t?t:void 0!==t&&"string"!=typeof t?t.code:void 0;return t="number"!=typeof t&&"string"!=typeof t&&void 0!==t&&void 0!==t.serverCode?t.serverCode:void 0,n="".concat(void 0!==n?" Error Code ".concat(n):"").concat(void 0!==t?", server Code ".concat(t):""),e="string"==typeof e&&e?ih(e):Array.isArray(e)&&"string"==typeof e[0]&&e[0]?ih(Nn.apply(void 0,[e[0]].concat(W(e.slice(1))))):"","".concat(""===n?"":"".concat(n," - ")).concat(e)}function uv(e,t){return oj.apply(this,arguments)}function oj(){return(oj=ja(M.mark((function e(t,n){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.aborted){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){setTimeout(e,t),null==n||n.addEventListener("abort",e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(e,t,n){return pj.apply(this,arguments)}function pj(){return(pj=ja(M.mark((function e(t,n,r){var o,i,a,s,c,u,l,d,f,p,h,g,v,m,y,A,b,E,_,w,S,C,I,O,T,R;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.body,i=n.headers,a=void 0===i?{}:i,s=n.timeout,c=void 0===s?1e4:s,u=n.signal,l=n.withCredentials,d=void 0!==l&&l,f=(r||{}).useBinaryResponse,p=void 0!==f&&f,(h=new XMLHttpRequest).open("POST",t,!0),h.responseType=p?"arraybuffer":"text",h.withCredentials=d,h.timeout=c,g=o instanceof FormData,v=o instanceof Uint8Array,!(1<(m=Object.keys(a).filter((function(e){return"content-type"===e.toLowerCase()}))).length)){e.next=14;break}throw new RangeError("multiple content-type");case 14:0===m.length&&(v?a["Content-Type"]="application/octet-stream":g||(a["Content-Type"]="application/json"));case 15:if("setRequestHeader"in h){e.next=46;break}return h.abort(),e.next=19,fetch(t,{body:g||v?o:JSON.stringify(o),cache:"no-cache",credentials:d?"include":"same-origin",headers:a,method:"POST",mode:"cors",referrer:"no-referrer",signal:u});case 19:if(y=e.sent,!(200<=(A=y.status)&&300>A||304===A)){e.next=31;break}if(!p){e.next=27;break}return e.next=25,y.arrayBuffer();case 25:return b=e.sent,e.abrupt("return",{status:A,responseData:b});case 27:return e.next=29,y.text();case 29:return E=e.sent,e.abrupt("return",{status:A,responseText:E});case 31:return _=new Ja(["Post XHR failure, status %d",A]),e.prev=32,e.next=35,y.text();case 35:throw w=e.sent,_.statusCode=A,_.message=w||"Request failed, status ".concat(A),_;case 41:throw e.prev=41,e.t0=e.catch(32),_.statusCode=A,_.message="Request failed, status ".concat(A),_;case 46:if(0!==Object.keys(a).length)for(S=0,C=Object.entries(a);S<C.length;S++)I=Xa(C[S],2),O=I[0],T=I[1],h.setRequestHeader(O,T);return void 0!==u&&(R=function e(){h.abort(),u.removeEventListener("abort",e)},u.addEventListener("abort",R)),g||v?h.send(o):h.send(JSON.stringify(o)),e.abrupt("return",new Promise((function(e,t){h.onload=function(){var n=h.status;if(200<=n&&300>n||304===n)e(p?{status:n,responseData:h.response}:{status:n,responseText:h.responseText});else{var r=new Ja(["Post XHR failure, status %d",n]);r.statusCode=n,r.message=h.response||"Request failed, status ".concat(h.status),t(r)}},h.ontimeout=function(e){t(new Qb(["XHR request timed out after %d ms",c],{originalError:e}))},h.onerror=function(){var e=new Ja(["Post XHR failure, status %d",h.status]);e.statusCode=h.status,e.message=h.response||"Request failed, status ".concat(h.status),t(e)},h.onabort=function(){try{t(new DOMException("The request aborted.","AbortError"))}catch(n){var e=Error("The request aborted.");e.name="AbortError",t(e)}}})));case 50:case"end":return e.stop()}}),e,null,[[32,41]])})))).apply(this,arguments)}function On(e,t){if(!Be(e))throw new Z("message object is not a plain object",t);if(void 0===e.messageType)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",void 0!==e.text)throw new Z("Raw messages cannot have text property. Use description instead",t)}else{if("string"!=typeof e.text)throw new Z("messageType is undefined",t);if(e.messageType="TEXT",void 0!==e.rawMessage)throw new Z("Text messages cannot have rawMessage property",t)}}function kh(e){return qj.apply(this,arguments)}function qj(){return(qj=ja(M.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,f,p,h,g,v,m,y,A,b,E;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.message,r=t.peerId,o=t.toPeer,i=t.session,a=t.errorCodes,s=t.diff,c=t.logger,void 0!==i){e.next=3;break}throw new aa("The client is not logged in. Cannot do the operation",a.NOT_LOGGED_IN);case 3:if(u=!1,"TEXT"!==n.messageType||!n.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!o){e.next=11;break}if(l=n.text.split("_"),d=Xa(l,3),f=d[0],p=d[1],void 0!==d[2]&&Sa(p)&&"AgoraRTMLegacyEndcallCompatibleMessagePrefix"===f){e.next=10;break}throw new Z("Message is not valid",Xf);case 10:u=!0;case 11:if(h=Date.now(),g=i.messageSentTimes.length-1,!((v=i.messageSentTimes[g])&&v+3e3<h)){e.next=18;break}i.messageSentTimes=[h],e.next=29;break;case 18:m=g;case 19:if(!(0<=m)){e.next=28;break}if(!(i.messageSentTimes[m]+3e3<h)){e.next=23;break}return i.messageSentTimes=i.messageSentTimes.slice(m+1,g+1),e.abrupt("break",28);case 23:if(!(180<=g-m+1)){e.next=25;break}throw new dc("Message sent failed, exceeded the 180 message in 3 seconds",a.TOO_OFTEN);case 25:m--,e.next=19;break;case 28:i.messageSentTimes.push(h);case 29:e.t0=n.messageType,e.next="TEXT"===e.t0?32:"RAW"===e.t0?37:39;break;case 32:if(!u){e.next=36;break}return y=n.text.split("_"),A=Xa(y,3),b=A[1],E=A[2],c.info("[rtm-API] EndCall message send api is called"),e.abrupt("return",i.sendInvitationMessage({peerId:r,type:"CallCancel",extra:E,channelId:b,callId:"0"}));case 36:return e.abrupt("return",i.sendTextMessage(n.text,r,o,1e4-s));case 37:return void 0===n.description&&(n.description=""),e.abrupt("return",i.sendRawMessage(n.rawMessage,n.description,r,o,1e4-s));case 39:throw new Z("Invalid message type",Xf);case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(n=n.split(".").slice(e.length-2).join(".")),-1!==n.indexOf("/")?n.split("/")[0]:n}function Ka(e){if("string"!=typeof e)return"[Sensitive Info]";var t=Math.floor(.7*e.length),n=e.length;return Pn(e,t,n,"*".repeat(n-t))}function Qn(e,t,n){function r(o){if(void 0===e)return e;if(Hm(o))return o;if(Array.isArray(o))return o.map(r);var i={},a=0;for(o=lh(o);a<o.length;a++){var s=Xa(o[a],2),c=s[0];if("string"==typeof(s=s[1])&&n.includes(c)){i[c]="string"==typeof s?Ka(s):"[Sensitive Info]";break}t.includes(c)?i[c]="[Hidden Info]":i[c]=null==s?s:n.includes(c)?"[Sensitive Info]":r(s)}return i}return Array.isArray(e)?e.map(r):r(e)}function Rn(e){return Object.getOwnPropertyNames(e).forEach((function(t){"object"==oa(t=e[t])&&null!==t&&Rn(t)})),Object.freeze(e)}function Yf(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function mh(e){return(new TextEncoder).encode(e).length}function Sn(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e+=n[t].length;for(e=new Uint8Array(e),r=t=0;r<n.length;r++){var o=n[r];e.set(o,t),t+=o.length}return e}function Te(e,t,n){var r=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=null==r?void 0:r[1],r=null==r?void 0:r[2]){var o;for(r=r.substr(1).split("&"),o=0;o<r.length;o++)if(r[o].split("=")[0]==t){r[o]=t+"="+encodeURIComponent(n);break}return o==r.length&&r.push(t+"="+encodeURIComponent(n)),e+"?"+r.join("&")}return e+"?"+t+"="+encodeURIComponent(n)}function Pn(e,t,n,r){return"string"!=typeof e?"[Sensitive Info]":e.substring(0,t)+r+e.substring(n)}function Zf(e){return"string"==typeof e&&0!==e.length&&"false"!==e&&"null"!==e&&"undefined"!==e}function Tn(e){var t=[];return function e(n){if(null===n||"object"!==oa(n))return n;if(-1!==t.indexOf(n))return"[Circular]";if(t.push(n),"function"==typeof n.toJSON)try{var r=e(n.toJSON());return t.pop(),r}catch(e){return"[Throws: "+(e?e.message:"?")+"]"}return Array.isArray(n)?(r=n.map(e),t.pop(),r):(r=Object.keys(n).reduce((function(t,r){e:{if(wv.call(n,r))try{var o=n[r];break e}catch(e){o="[Throws: "+(e?e.message:"?")+"]";break e}o=n[r]}return t[r]=e(o),t}),{}),t.pop(),r)}(e)}function xv(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function nh(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}function yv(e){var t=e.areas,n=e.excludedArea;if(1===t.length&&t[0]===R.GLOBAL&&n===R.CHINA)return Ue([R.OVERSEA]);if(t.includes(R.GLOBAL)){if(e=$f(oh).filter((function(e){return e!==R.GLOBAL&&e!==R.OVERSEA})),n in ag){t=ag[n];var r=[].concat(W(null!=t?t:[]),[n]);return Ue(e.filter((function(e){return!r.includes(e)})))}if(Un(n)){var o=zv(n);return Ue(e.filter((function(e){return e!==n&&e!==o})))}}if(Un(n)||n in ag)return Ue(t);throw new Z("Invalid excludedArea area config")}function fb(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];this.invokeTracker.apply(this,["%s: ".concat(0<o.length?"%s with args: ".concat(o.map((function(){return"%o"}))):"%s"),this.name,t].concat(W(o.map(Ve))));try{var a=r.apply(this,o)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<o.length?" with args: ".concat(o.map((function(){return"%o"}))):""),t].concat(W(o.map(Ve)))),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return ja(M.mark((function n(){var r,i;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<o.length?" with args: ".concat(o.map((function(){return"%o"}))):""),t].concat(W(o.map(Ve)))),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,Ve(r)):"Object"!==Xc(r)||Be(r)?e.resultTracker("%s result is %o",t,Ve(r)):e.resultTracker("%s result is %s",t,r.name||(null===(i=r.constructor)||void 0===i?void 0:i.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function Ic(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];this.invokeTracker.apply(this,["%s: ".concat(0<o.length?"%s with args: ".concat(o.map((function(){return"%o"}))):"%s"),this.name,t].concat(o));try{var a=r.apply(this,o)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<o.length?" with args: ".concat(o.map((function(){return"%o"}))):""),t].concat(o)),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return ja(M.mark((function n(){var r,i;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<o.length?" with args: ".concat(o.map((function(){return"%o"}))):""),t].concat(o)),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,r):"Object"!==Xc(r)||Be(r)?e.resultTracker("%s result is %o",t,r):e.resultTracker("%s result is %s",t,r.name||(null===(i=r.constructor)||void 0===i?void 0:i.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function Av(e,t){var n="".concat(e,"Uri");if("number"!=typeof(n=rj[n])||0===n)throw new TypeError("Got Unknown URI Name");return t=new(e=Vn[e])(t),t=e.encode(t).finish(),new Bv({uri:n,data:t})}function Wn(e,t){var n=Zf(null);return"".concat(e.split(".").join("-"),".edge.").concat(n?null:t?"sd-rtn.com":"agora.io")}function xb(e,t,n){return sj.apply(this,arguments)}function sj(){return(sj=ja(M.mark((function e(t,n,r){var o,i,a,s=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=3<s.length&&void 0!==s[3]&&s[3],i=Cv[t].encode(n).finish(),a=function(){var e=ja(M.mark((function e(n){var s,c,u,l=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(3<(c=1<l.length&&void 0!==l[1]?l[1]:0))){e.next=3;break}return e.abrupt("return");case 3:if(u=Te(u=r?"https://".concat(null!==(s=null==ca?void 0:ca.PROXY_NGINX[0])&&void 0!==s?s:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(n,"&p=443&d=events/proto-raw"):"https://".concat(n,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),u=Te(u,"id",Dv[t].toString()),!o){e.next=9;break}return e.next=9,uv(1e4);case 9:return e.next=11,jh(u,{body:i,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch((function(e){return a(n,c+1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=3,e.next=6,a((null==ca?void 0:ca.EVENT_REPORT_DOMAIN[0])||Zf(null)&&null||"webcollector-rtm.agora.io");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,a(ca&&Xn(1<(null==ca?void 0:ca.EVENT_REPORT_DOMAIN.length)?null==ca?void 0:ca.EVENT_REPORT_DOMAIN.slice(1):null==ca?void 0:ca.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function yb(e){return void 0===e?ma.fromNumber(0):ma.fromNumber(Date.now()-e)}function ph(e,t){return ma.fromValue(e).eq(t)}function qh(e,t){var n=void 0===t?e.val:t,r=e.isBoolean;t=e.isNumber;var o=e.oneof,i=e.len;if(2!==[r,t,o].filter((function(e){return!e})).length)throw new TypeError("invalid field type");if(void 0!==n&&(e=!1,void 0!==o&&(o=tj(o),Ev(o,ph).length===o.length&&void 0!==Fv(o,(function(e){return ph(n,e)}))&&(e=!0)),r=void 0!==r&&(0===n||1===n)&&1===i,t=void 0!==t&&n.toString(2).length<=i,!(e||r||t)))throw Error("invalid field value")}function Yn(e){return e.reduce((function(e,t){return e.concat(t instanceof rh.UnsubscriptionError?t.errors:t)}),[])}function Gv(e,t){do{2147483647==bg?bg=0:bg++}while(We.hasOwnProperty(bg));var n=bg;return We[n]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},uj.postMessage({name:"setInterval",fakeId:n,time:t}),n}function Zn(e){return function(){var t=e();if(!t)throw new aa("Client is not logged in. Cannot do the operation");return t}}var Va="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},sh=function(e){return e&&e.Math==Math&&e},Q=sh("object"==typeof globalThis&&globalThis)||sh("object"==typeof window&&window)||sh("object"==typeof self&&self)||sh("object"==typeof Va&&Va)||function(){return this}()||Function("return this")(),ia=function(e){try{return!!e()}catch(e){return!0}},ta=!ia((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),$n={}.propertyIsEnumerable,ao=Object.getOwnPropertyDescriptor,cg=ao&&!$n.call({1:2},1)?function(e){return!!(e=ao(this,e))&&e.enumerable}:$n,Jc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Hv={}.toString,qc=function(e){return Hv.call(e).slice(8,-1)},Iv="".split,dg=ia((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==qc(e)?Iv.call(e,""):Object(e)}:Object,Bb=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Ib=function(e){return dg(Bb(e))},va=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Kc=function(e,t){if(!va(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!va(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!va(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!va(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},lb=function(e){return Object(Bb(e))},Jv={}.hasOwnProperty,ha=function(e,t){return Jv.call(lb(e),t)},Xe=Q.document,th=va(Xe)&&va(Xe.createElement),bo=!ta&&!ia((function(){return 7!=Object.defineProperty(th?Xe.createElement("div"):{},"a",{get:function(){return 7}}).a})),co=Object.getOwnPropertyDescriptor,Zb={f:ta?co:function(e,t){if(e=Ib(e),t=Kc(t,!0),bo)try{return co(e,t)}catch(e){}if(ha(e,t))return Jc(!cg.call(e,t),e[t])}},Ia=function(e){if(!va(e))throw TypeError(String(e)+" is not an object");return e},eo=Object.defineProperty,mb={f:ta?eo:function(e,t,n){if(Ia(e),t=Kc(t,!0),Ia(n),bo)try{return eo(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},gb=ta?function(e,t,n){return mb.f(e,t,Jc(1,n))}:function(e,t,n){return e[t]=n,e},vj=function(e,t){try{gb(Q,e,t)}catch(n){Q[e]=t}return t},yd=Q["__core-js_shared__"]||vj("__core-js_shared__",{}),Kv=Function.toString;"function"!=typeof yd.inspectSource&&(yd.inspectSource=function(e){return Kv.call(e)});var wj=yd.inspectSource,fo=Q.WeakMap,Lv="function"==typeof fo&&/native code/.test(wj(fo)),zd=tb((function(e){(e.exports=function(e,t){return yd[e]||(yd[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),Mv=0,Nv=Math.random(),Ye=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Mv+Nv).toString(36)},go=zd("keys"),uh=function(e){return go[e]||(go[e]=Ye(e))},Ze={},Ov=Q.WeakMap;if(Lv||yd.state)var be=yd.state||(yd.state=new Ov),Pv=be.get,ho=be.has,Qv=be.set,xj=function(e,t){if(ho.call(be,e))throw new TypeError("Object already initialized");return t.facade=e,Qv.call(be,e,t),t},vh=function(e){return Pv.call(be,e)||{}},yj=function(e){return ho.call(be,e)};else{var $e=uh("state");Ze[$e]=!0,xj=function(e,t){if(ha(e,$e))throw new TypeError("Object already initialized");return t.facade=e,gb(e,$e,t),t},vh=function(e){return ha(e,$e)?e[$e]:{}},yj=function(e){return ha(e,$e)}}var Za={set:xj,get:vh,has:yj,enforce:function(e){return yj(e)?vh(e):xj(e,{})},getterFor:function(e){return function(t){var n;if(!va(t)||(n=vh(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Wa=tb((function(e){var t=Za.get,n=Za.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var a=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable;if(i=!!i&&!!i.noTargetGet,"function"==typeof o){"string"!=typeof t||ha(o,"name")||gb(o,"name",t);var c=n(o);c.source||(c.source=r.join("string"==typeof t?t:""))}e===Q?s?e[t]=o:vj(t,o):(a?!i&&e[t]&&(s=!0):delete e[t],s?e[t]=o:gb(e,t,o))})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||wj(this)}))})),io=function(e){return"function"==typeof e?e:void 0},Lc=function(e,t){return 2>arguments.length?io(Q[e])||io(Q[e]):Q[e]&&Q[e][t]||Q[e]&&Q[e][t]},Rv=Math.ceil,Sv=Math.floor,rc=function(e){return isNaN(e=+e)?0:(0<e?Sv:Rv)(e)},Tv=Math.min,La=function(e){return 0<e?Tv(rc(e),9007199254740991):0},Uv=Math.max,Vv=Math.min,Rb=function(e,t){return 0>(e=rc(e))?Uv(e+t,0):Vv(e,t)},jo=function(e){return function(t,n,r){t=Ib(t);var o=La(t.length);if(r=Rb(r,o),e&&n!=n){for(;o>r;)if((n=t[r++])!=n)return!0}else for(;o>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},ko=jo(!0),zj=jo(!1),lo=function(e,t){e=Ib(e);var n,r=0,o=[];for(n in e)!ha(Ze,n)&&ha(e,n)&&o.push(n);for(;t.length>r;)ha(e,n=t[r++])&&(~zj(o,n)||o.push(n));return o},wh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Wv=wh.concat("length","prototype"),ce={f:Object.getOwnPropertyNames||function(e){return lo(e,Wv)}},eg={f:Object.getOwnPropertySymbols},mo=Lc("Reflect","ownKeys")||function(e){var t=ce.f(Ia(e)),n=eg.f;return n?t.concat(n(e)):t},no=function(e,t){for(var n=mo(t),r=mb.f,o=Zb.f,i=0;i<n.length;i++){var a=n[i];ha(e,a)||r(e,a,o(t,a))}},Xv=/#|\.prototype\./,Mc=function(e,t){return(e=Yv[Zv(e)])==$v||e!=aw&&("function"==typeof t?ia(t):!!t)},Zv=Mc.normalize=function(e){return String(e).replace(Xv,".").toLowerCase()},Yv=Mc.data={},aw=Mc.NATIVE="N",$v=Mc.POLYFILL="P",bw=Zb.f,ba=function(e,t){var n,r,o,i=e.target,a=e.global,s=e.stat;if(r=a?Q:s?Q[i]||vj(i,{}):(Q[i]||{}).prototype)for(o in t){var c=t[o],u=e.noTargetGet?(n=bw(r,o))&&n.value:r[o];if(!(n=Mc(a?o:i+(s?".":"#")+o,e.forced))&&void 0!==u){if(typeof c==typeof u)continue;no(c,u)}(e.sham||u&&u.sham)&&gb(c,"sham",!0);try{Wa(r,o,c,e)}catch(e){}}},Aj=function(){var e=Ia(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Nc=ia((function(){var e=/a/y;return e.lastIndex=2,null!=e.exec("abcd")})),cw=ia((function(){var e=/^r/gy;return e.lastIndex=2,null!=e.exec("str")})),xh=RegExp.prototype.exec,dw=zd("native-string-replace",String.prototype.replace),oo=xh,Bj=(c=/a/,b=/b*/g,xh.call(c,"a"),xh.call(b,"a"),0!==c.lastIndex||0!==b.lastIndex),po=Nc||cw,Cj=void 0!==/()??/.exec("")[1],c,b;(Bj||Cj||po)&&(oo=function(e){var t,n=po&&this.sticky,r=Aj.call(this),o=this.source,i=0,a=e;if(n){-1===(r=r.replace("y","")).indexOf("g")&&(r+="g"),a=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==e[this.lastIndex-1])&&(o="(?: "+o+")",a=" "+a,i++);var s=new RegExp("^(?:"+o+")",r)}if(Cj&&(s=new RegExp("^"+o+"$(?!\\s)",r)),Bj)var c=this.lastIndex;var u=xh.call(n?s:this,a);return n?u?(u.input=u.input.slice(i),u[0]=u[0].slice(i),u.index=this.lastIndex,this.lastIndex+=u[0].length):this.lastIndex=0:Bj&&u&&(this.lastIndex=this.global?u.index+u[0].length:c),Cj&&u&&1<u.length&&dw.call(u[0],s,(function(){for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(u[t]=void 0)})),u});var fg=oo;ba({target:"RegExp",proto:!0,forced:/./.exec!==fg},{exec:fg});var af=Lc("navigator","userAgent")||"",qo=Q.process,ro=qo&&qo.versions,so=ro&&ro.v8;if(so)var Ad=so.split("."),Dj=4>Ad[0]?1:Ad[0]+Ad[1];else af&&(Ad=af.match(/Edge\/(\d+)/),(!Ad||74<=Ad[1])&&(Ad=af.match(/Chrome\/(\d+)/))&&(Dj=Ad[1]));var Bd=Dj&&+Dj,Oc=!!Object.getOwnPropertySymbols&&!ia((function(){return!String(Symbol())||!Symbol.sham&&Bd&&41>Bd})),to=Oc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gg=zd("wks"),hg=Q.Symbol,ew=to?hg:hg&&hg.withoutSetter||Ye,Ea=function(e){return ha(gg,e)&&(Oc||"string"==typeof gg[e])||(Oc&&ha(hg,e)?gg[e]=hg[e]:gg[e]=ew("Symbol."+e)),gg[e]},fw=Ea("species"),Ej=RegExp.prototype,gw=!ia((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),uo="$0"==="a".replace(/./,"$0"),vo=Ea("replace"),wo=!!/./[vo]&&""===/./[vo]("a","$0"),hw=!ia((function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},2!==(e="ab".split(e)).length||"a"!==e[0]||"b"!==e[1]})),yh=function(e,t,n,r){var o=Ea(e),i=!ia((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!ia((function(){var t=!1,n=/a/;return"split"===e&&((n={constructor:{}}).constructor[fw]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||"replace"===e&&(!gw||!uo||wo)||"split"===e&&!hw){var s=/./[o],c=(n=n(o,""[e],(function(e,t,n,r,o){var a=t.exec;return a===fg||a===Ej.exec?i&&!o?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:uo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:wo}))[1];Wa(String.prototype,e,n[0]),Wa(Ej,o,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}r&&gb(Ej[o],"sham",!0)},iw=Ea("match"),Fj=function(e){var t;return va(e)&&(void 0!==(t=e[iw])?!!t:"RegExp"==qc(e))},Sb=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},jw=Ea("species"),de=function(e,t){var n;return void 0===(e=Ia(e).constructor)||null==(n=Ia(e)[jw])?t:Sb(n)},xo=function(e){return function(t,n){t=String(Bb(t)),n=rc(n);var r,o=t.length;if(0>n||n>=o)return e?"":void 0;var i=t.charCodeAt(n);return 55296>i||56319<i||n+1===o||56320>(r=t.charCodeAt(n+1))||57343<r?e?t.charAt(n):i:e?t.slice(n,n+2):r-56320+(i-55296<<10)+65536}},kw=xo(!1),yo=xo(!0),Gj=function(e,t,n){return t+(n?yo(e,t).length:1)},bf=function(e,t){var n=e.exec;if("function"==typeof n){if("object"!=typeof(e=n.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return e}if("RegExp"!==qc(e))throw TypeError("RegExp#exec called on incompatible receiver");return fg.call(e,t)},lw=[].push,mw=Math.min;yh("split",2,(function(e,t,n){var r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,n){var r=String(Bb(this));if(0===(n=void 0===n?4294967295:n>>>0))return[];if(void 0===e)return[r];if(!Fj(e))return t.call(r,e,n);var o,i,a,s=[],c=0;for(e=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(o=fg.call(e,r))&&!((i=e.lastIndex)>c&&(s.push(r.slice(c,o.index)),1<o.length&&o.index<r.length&&lw.apply(s,o.slice(1)),a=o[0].length,c=i,s.length>=n));)e.lastIndex===o.index&&e.lastIndex++;return c===r.length?(a||!e.test(""))&&s.push(""):s.push(r.slice(c)),s.length>n?s.slice(0,n):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t;return[function(t,n){var o=Bb(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var a=Ia(e);e=String(this);var s=de(a,RegExp);if(i=a.unicode,a=new s(Nc?"^(?:"+a.source+")":a,(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Nc?"g":"y")),0===(o=void 0===o?4294967295:o>>>0))return[];if(0===e.length)return null===bf(a,e)?[e]:[];var c=0,u=0;for(s=[];u<e.length;){a.lastIndex=Nc?0:u;var l,d=bf(a,Nc?e.slice(u):e);if(null===d||(l=mw(La(a.lastIndex+(Nc?u:0)),e.length))===c)u=Gj(e,u,i);else{if(s.push(e.slice(c,u)),s.length===o)return s;for(c=1;c<=d.length-1;c++)if(s.push(d[c]),s.length===o)return s;u=c=l}}return s.push(e.slice(c)),s}]}),Nc);var nw=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,ow=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,Hj=function(e){return function(t){return t=String(Bb(t)),1&e&&(t=t.replace(nw,"")),2&e&&(t=t.replace(ow,"")),t}};Hj(1),Hj(2);var Ij=Hj(3),zh=Q.parseInt,pw=/^[+-]?0[Xx]/,zo=8!==zh("\t\n\v\f\r                　\u2028\u2029\ufeff08")||22!==zh("\t\n\v\f\r                　\u2028\u2029\ufeff0x16")?function(e,t){return e=Ij(String(e)),zh(e,t>>>0||(pw.test(e)?16:10))}:zh;ba({global:!0,forced:parseInt!=zo},{parseInt:zo});var Cd=function(e,t,n){if(Sb(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Dd=Array.isArray||function(e){return"Array"==qc(e)},qw=Ea("species"),Ah=function(e,t){if(Dd(e)){var n=e.constructor;"function"!=typeof n||n!==Array&&!Dd(n.prototype)?va(n)&&null===(n=n[qw])&&(n=void 0):n=void 0}return new(void 0===n?Array:n)(0===t?0:t)},Ao=[].push,Ed=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,s=5==e||i;return function(c,u,l,d){var f=lb(c),p=dg(f);u=Cd(u,l,3),l=La(p.length);var h,g=0;for(d=d||Ah,c=t?d(c,l):n||a?d(c,0):void 0;l>g;g++)if((s||g in p)&&(h=u(d=p[g],g,f),e))if(t)c[g]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return g;case 2:Ao.call(c,d)}else switch(e){case 4:return!1;case 7:Ao.call(c,d)}return i?-1:r||o?o:c}},ee=Ed(0),Bo=Ed(1),Co=Ed(2),rw=Ed(3),sw=Ed(4),Do=Ed(5),tw=Ed(6);Ed(7);var uw=Ea("species"),ig=function(e){return 51<=Bd||!ia((function(){var t=[];return(t.constructor={})[uw]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},vw=ig("filter");ba({target:"Array",proto:!0,forced:!vw},{filter:function(e){return Co(this,e,1<arguments.length?arguments[1]:void 0)}});var $c=Object.keys||function(e){return lo(e,wh)},ww=ia((function(){$c(1)}));ba({target:"Object",stat:!0,forced:ww},{keys:function(e){return $c(lb(e))}});var cf=function(e,t){var n=[][e];return!!n&&ia((function(){n.call(null,t||function(){throw 1},1)}))},xw=[].join,yw=dg!=Object,zw=cf("join",",");ba({target:"Array",proto:!0,forced:yw||!zw},{join:function(e){return xw.call(Ib(this),void 0===e?",":e)}});var Aw=ig("map");ba({target:"Array",proto:!0,forced:!Aw},{map:function(e){return Bo(this,e,1<arguments.length?arguments[1]:void 0)}});var Jj=function(e){var t=e.return;if(void 0!==t)return Ia(t.call(e)).value},df={},Bw=Ea("iterator"),Cw=Array.prototype,Kj=function(e){return void 0!==e&&(df.Array===e||Cw[Bw]===e)},ef=function(e,t,n){(t=Kc(t))in e?mb.f(e,t,Jc(0,n)):e[t]=n},Dw=Ea("toStringTag"),Eo={};Eo[Dw]="z";var Lj="[object z]"===String(Eo),Ew=Ea("toStringTag"),Fw="Arguments"==qc(function(){return arguments}()),ff=Lj?qc:function(e){var t;if(void 0===e)var n="Undefined";else{if(null===e)var r="Null";else{e:{var o=e=Object(e);try{r=o[Ew];break e}catch(e){}r=void 0}r="string"==typeof(n=r)?n:Fw?qc(e):"Object"==(t=qc(e))&&"function"==typeof e.callee?"Arguments":t}n=r}return n},Gw=Ea("iterator"),jg=function(e){if(null!=e)return e[Gw]||e["@@iterator"]||df[ff(e)]},fe=function(e){var t,n=lb(e),r="function"==typeof this?this:Array,o=arguments.length,i=1<o?arguments[1]:void 0,a=void 0!==i,s=jg(n),c=0;if(a&&(i=Cd(i,2<o?arguments[2]:void 0,2)),null==s||r==Array&&Kj(s)){var u=La(n.length);for(r=new r(u);u>c;c++)s=a?i(n[c],c):n[c],ef(r,c,s)}else for(o=(n=s.call(n)).next,r=new r;!(t=o.call(n)).done;c++){if(a){s=n;var l=i;t=[t.value,c];try{u=l(Ia(t)[0],t[1])}catch(e){throw Jj(s),e}}else u=t.value;ef(r,c,s=u)}return r.length=c,r},Fo=Ea("iterator"),Go=!1;try{var Hw=0,Ho={next:function(){return{done:!!Hw++}},return:function(){Go=!0}};Ho[Fo]=function(){return this},Array.from(Ho,(function(){throw 2}))}catch(c){}var Bh=function(e,t){if(!t&&!Go)return!1;var n=!1;try{(t={})[Fo]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch(e){}return n},Iw=!Bh((function(e){Array.from(e)}));ba({target:"Array",stat:!0,forced:Iw},{from:fe});var Io=!ia((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Jo=uh("IE_PROTO"),Jw=Object.prototype,nc=Io?Object.getPrototypeOf:function(e){return e=lb(e),ha(e,Jo)?e[Jo]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Jw:null},Mj=Ea("iterator"),Ko=!1,Kw=function(){return this},ge;if([].keys){var Lo=[].keys();if("next"in Lo){var Mo=nc(nc(Lo));Mo!==Object.prototype&&(ge=Mo)}else Ko=!0}(null==ge||ia((function(){var e={};return ge[Mj].call(e)!==e})))&&(ge={}),ha(ge,Mj)||gb(ge,Mj,Kw);var Ch=ge,Dh=Ko,No=ta?Object.defineProperties:function(e,t){Ia(e);for(var n,r=$c(t),o=r.length,i=0;o>i;)mb.f(e,n=r[i++],t[n]);return e},Nj=Lc("document","documentElement"),Oo=uh("IE_PROTO"),Oj=function(){},Pj,Eh=function(){try{Pj=document.domain&&new ActiveXObject("htmlfile")}catch(e){}if(Pj){var e=Pj;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=th?Xe.createElement("iframe"):{}).style.display="none",Nj.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(Eh=e,e=wh.length;e--;)delete Eh.prototype[wh[e]];return Eh()};Ze[Oo]=!0;var ec=Object.create||function(e,t){if(null!==e){Oj.prototype=Ia(e);var n=new Oj;Oj.prototype=null,n[Oo]=e}else n=Eh();return void 0===t?n:No(n,t)},Lw=mb.f,Po=Ea("toStringTag"),sc=function(e,t,n){e&&!ha(e=n?e:e.prototype,Po)&&Lw(e,Po,{configurable:!0,value:t})},Mw=function(){return this},Qo=function(e,t,n){return t+=" Iterator",e.prototype=ec(Ch,{next:Jc(1,n)}),sc(e,t,!1),df[t]=Mw,e},ob=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]),e=t instanceof Array}catch(e){}return function(t,r){if(Ia(t),!va(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return e?n.call(t,r):t.__proto__=r,t}}():void 0),kg=Ea("iterator"),Nw=function(){return this},Qj=function(e,t,n,r,o,i,a){Qo(n,t,r),r=function(e){if(e===o&&f)return f;if(!Dh&&e in l)return l[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}};var s,c=t+" Iterator",u=!1,l=e.prototype,d=l[kg]||l["@@iterator"]||o&&l[o],f=!Dh&&d||r(o),p="Array"==t&&l.entries||d;if(p&&(e=nc(p.call(new e)),Ch!==Object.prototype&&e.next&&(nc(e)!==Ch&&(ob?ob(e,Ch):"function"!=typeof e[kg]&&gb(e,kg,Nw)),sc(e,c,!0))),"values"==o&&d&&"values"!==d.name&&(u=!0,f=function(){return d.call(this)}),l[kg]!==f&&gb(l,kg,f),df[t]=f,o){var h={values:r("values"),keys:i?f:r("keys"),entries:r("entries")};if(a)for(s in h)!Dh&&!u&&s in l||Wa(l,s,h[s]);else ba({target:t,proto:!0,forced:Dh||u},h)}return h},Ow=Za.set,Pw=Za.getterFor("String Iterator");Qj(String,"String",(function(e){Ow(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e=Pw(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=yo(t,n),e.index+=t.length,{value:t,done:!1})}));var Rj=Ea("unscopables"),Sj=Array.prototype;null==Sj[Rj]&&mb.f(Sj,Rj,{configurable:!0,value:ec(null)});var lg=function(e){Sj[Rj][e]=!0},Ro=!0;"find"in[]&&Array(1).find((function(){Ro=!1})),ba({target:"Array",proto:!0,forced:Ro},{find:function(e){return Do(this,e,1<arguments.length?arguments[1]:void 0)}}),lg("find");var So=function(e){var t=String(Bb(this)),n="";if(0>(e=rc(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(n+=t);return n};ba({target:"String",proto:!0},{repeat:So});var To=[].indexOf,Uo=!!To&&0>1/[1].indexOf(1,-0),Qw=cf("indexOf");ba({target:"Array",proto:!0,forced:Uo||!Qw},{indexOf:function(e){return Uo?To.apply(this,arguments)||0:zj(this,e,1<arguments.length?arguments[1]:void 0)}});var Rt=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,St=/CrOS/,Tt=/android|ipad|playbook|silk/i;Ae.isMobile=Ae,Ae.default=Ae,ba({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),ba({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),Q.Number.isNaN;var Rw=Lj?{}.toString:function(){return"[object "+ff(this)+"]"};Lj||Wa(Object.prototype,"toString",Rw,{unsafe:!0});var Fh=Q.Promise,gf=function(e,t,n){for(var r in t)Wa(e,r,t[r],n);return e},Vo=Ea("species"),mg=function(e){e=Lc(e);var t=mb.f;ta&&e&&!e[Vo]&&t(e,Vo,{configurable:!0,get:function(){return this}})},tc=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},ng=function(e,t){this.stopped=e,this.result=t},Gh=function(e,t,n){var r,o=!(!n||!n.AS_ENTRIES),i=!(!n||!n.IS_ITERATOR),a=!(!n||!n.INTERRUPTED),s=Cd(t,n&&n.that,1+o+a),c=function(e){return u&&Jj(u),new ng(!0,e)};if(t=function(e){return o?(Ia(e),a?s(e[0],e[1],c):s(e[0],e[1])):a?s(e,c):s(e)},i)var u=e;else{if("function"!=typeof(i=jg(e)))throw TypeError("Target is not iterable");if(Kj(i)){for(i=0,n=La(e.length);n>i;i++)if((r=t(e[i]))&&r instanceof ng)return r;return new ng(!1)}u=i.call(e)}for(e=u.next;!(i=e.call(u)).done;){try{r=t(i.value)}catch(e){throw Jj(u),e}if("object"==typeof r&&r&&r instanceof ng)return r}return new ng(!1)},Wo=/(?:iphone|ipod|ipad).*applewebkit/i.test(af),ad="process"==qc(Q.process),Hh=Q.location,Tj=Q.setImmediate,Xo=Q.clearImmediate,Sw=Q.process,Yo=Q.MessageChannel,Uj=Q.Dispatch,Vj=0,og={},Wj=function(e){if(og.hasOwnProperty(e)){var t=og[e];delete og[e],t()}},Xj=function(e){return function(){Wj(e)}},Zo=function(e){Wj(e.data)},$o=function(e){Q.postMessage(e+"",Hh.protocol+"//"+Hh.host)};if(!Tj||!Xo)if(Tj=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return og[++Vj]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},pg(Vj),Vj},Xo=function(e){delete og[e]},ad)var pg=function(e){Sw.nextTick(Xj(e))};else if(Uj&&Uj.now)pg=function(e){Uj.now(Xj(e))};else if(Yo&&!Wo){var ap=new Yo,bp=ap.port2;ap.port1.onmessage=Zo,pg=Cd(bp.postMessage,bp,1)}else Q.addEventListener&&"function"==typeof postMessage&&!Q.importScripts&&Hh&&"file:"!==Hh.protocol&&!ia($o)?(pg=$o,Q.addEventListener("message",Zo,!1)):pg="onreadystatechange"in(th?Xe.createElement("script"):{})?function(e){Nj.appendChild(th?Xe.createElement("script"):{}).onreadystatechange=function(){Nj.removeChild(this),Wj(e)}}:function(e){setTimeout(Xj(e),0)};var Yj=Tj,Tw=/web0s(?!.*chrome)/i.test(af),Uw=Zb.f,cp=Q.MutationObserver||Q.WebKitMutationObserver,dp=Q.document,ep=Q.process,Ih=Q.Promise,fp=Uw(Q,"queueMicrotask"),gp=fp&&fp.value,he,qg;if(!gp){var Kh=function(){var e;for(ad&&(e=ep.domain)&&e.exit();he;){var t=he.fn;he=he.next;try{t()}catch(e){throw he?Jh():qg=void 0,e}}qg=void 0,e&&e.enter()};if(Wo||ad||Tw||!cp||!dp)if(Ih&&Ih.resolve){var Zj=Ih.resolve(void 0);Zj.constructor=Ih;var Vw=Zj.then,Jh=function(){Vw.call(Zj,Kh)}}else Jh=ad?function(){ep.nextTick(Kh)}:function(){Yj.call(Q,Kh)};else{var hp=!0,ip=dp.createTextNode("");new cp(Kh).observe(ip,{characterData:!0}),Jh=function(){ip.data=hp=!hp}}}var jp=gp||function(e){e={fn:e,next:void 0},qg&&(qg.next=e),he||(he=e,Jh()),qg=e},Ww=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Sb(t),this.reject=Sb(n)},ak={f:function(e){return new Ww(e)}},Xw=function(e,t){var n=Q.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},bk=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Yw="object"==typeof window,Zw=Ea("species"),kp=Za.get,$w=Za.set,ax=Za.getterFor("Promise"),ie=Fh&&Fh.prototype,Tb=Fh,Lh=ie,lp=Q.TypeError,ck=Q.document,dk=Q.process,hf=ak.f,bx=hf,cx=!!(ck&&ck.createEvent&&Q.dispatchEvent),mp="function"==typeof PromiseRejectionEvent,np=!1,rg=Mc("Promise",(function(){var e=wj(Tb)!==String(Tb);if(!e&&66===Bd)return!0;if(51<=Bd&&/native code/.test(Tb))return!1;var t=new Tb((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[Zw]=n,!(np=t.then((function(){}))instanceof n)||!e&&Yw&&!mp})),dx=rg||!Bh((function(e){Tb.all(e).catch((function(){}))})),op=function(e){var t;return!(!va(e)||"function"!=typeof(t=e.then))&&t},ek=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;jp((function(){for(var r=e.value,o=1==e.state,i=0;n.length>i;){var a,s=n[i++],c=o?s.ok:s.fail,u=s.resolve,l=s.reject,d=s.domain;try{if(c){if(o||(2===e.rejection&&ex(e),e.rejection=1),!0===c)var f=r;else if(d&&d.enter(),f=c(r),d){d.exit();var p=!0}f===s.promise?l(lp("Promise-chain cycle")):(a=op(f))?a.call(f,u,l):u(f)}else l(r)}catch(e){d&&!p&&d.exit(),l(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&fx(e)}))}},pp=function(e,t,n){var r;if(cx){var o=ck.createEvent("Event");o.promise=t,o.reason=n,o.initEvent(e,!1,!0),Q.dispatchEvent(o)}else o={promise:t,reason:n};!mp&&(r=Q["on"+e])?r(o):"unhandledrejection"===e&&Xw("Unhandled promise rejection",n)},fx=function(e){Yj.call(Q,(function(){var t=e.facade,n=e.value;if(1!==e.rejection&&!e.parent){var r=bk((function(){ad?dk.emit("unhandledRejection",n,t):pp("unhandledrejection",t,n)}));if(e.rejection=ad||1!==e.rejection&&!e.parent?2:1,r.error)throw r.value}}))},ex=function(e){Yj.call(Q,(function(){var t=e.facade;ad?dk.emit("rejectionHandled",t):pp("rejectionhandled",t,e.value)}))},jf=function(e,t,n){return function(r){e(t,r,n)}},kf=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ek(e,!0))},fk=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw lp("Promise can't be resolved itself");var r=op(t);r?jp((function(){var n={done:!1};try{r.call(t,jf(fk,n,e),jf(kf,n,e))}catch(t){kf(n,t,e)}})):(e.value=t,e.state=1,ek(e,!1))}catch(t){kf({done:!1},t,e)}}};if(rg){Tb=function(e){tc(this,Tb,"Promise"),Sb(e),gk.call(this);var t=kp(this);try{e(jf(fk,t),jf(kf,t))}catch(e){kf(t,e)}},Lh=Tb.prototype;var gk=function(e){$w(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};gk.prototype=gf(Lh,{then:function(e,t){var n=ax(this),r=hf(de(this,Tb));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ad?dk.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ek(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var gx=function(){var e=new gk,t=kp(e);this.promise=e,this.resolve=jf(fk,t),this.reject=jf(kf,t)};if(ak.f=hf=function(e){return e===Tb||e===hx?new gx(e):bx(e)},"function"==typeof Fh&&ie!==Object.prototype){var ix=ie.then;np||(Wa(ie,"then",(function(e,t){var n=this;return new Tb((function(e,t){ix.call(n,e,t)})).then(e,t)}),{unsafe:!0}),Wa(ie,"catch",Lh.catch,{unsafe:!0}));try{delete ie.constructor}catch(c){}ob&&ob(ie,Lh)}}ba({global:!0,wrap:!0,forced:rg},{Promise:Tb}),sc(Tb,"Promise",!1),mg("Promise");var hx=Lc("Promise");ba({target:"Promise",stat:!0,forced:rg},{reject:function(e){var t=hf(this);return t.reject.call(void 0,e),t.promise}}),ba({target:"Promise",stat:!0,forced:rg},{resolve:function(e){if(Ia(this),!va(e)||e.constructor!==this){var t=ak.f(this);(0,t.resolve)(e),e=t.promise}return e}}),ba({target:"Promise",stat:!0,forced:dx},{all:function(e){var t=this,n=hf(t),r=n.resolve,o=n.reject,i=bk((function(){var n=Sb(t.resolve),i=[],a=0,s=1;Gh(e,(function(e){var c=a++,u=!1;i.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=hf(t),r=n.reject,o=bk((function(){var o=Sb(t.resolve);Gh(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var jx=Math.floor,kx="".replace,lx=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,mx=/\$([$&'`]|\d{1,2})/g,nx=function(e,t,n,r,o,i){var a=n+e.length,s=r.length,c=mx;return void 0!==o&&(o=lb(o),c=lx),kx.call(i,c,(function(i,c){switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":i=o[c.slice(1,-1)];break;default:var u=+c;if(0===u)return i;if(u>s)return 0===(u=jx(u/10))?i:u<=s?void 0===r[u-1]?c.charAt(1):r[u-1]+c.charAt(1):i;i=r[u-1]}return void 0===i?"":i}))},ox=Math.max,px=Math.min;yh("replace",2,(function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(n,r){var o=Bb(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(a)){var s=n(t,e,this,r);if(s.done)return s.value}var c=Ia(e);e=String(this),(s="function"==typeof r)||(r=String(r));var u=c.global;if(u){var l=c.unicode;c.lastIndex=0}for(var d=[];;){var f=bf(c,e);if(null===f)break;if(d.push(f),!u)break;""===String(f[0])&&(c.lastIndex=Gj(e,La(c.lastIndex),l))}for(l="",u=c=0;u<d.length;u++){f=d[u];for(var p=String(f[0]),h=ox(px(rc(f.index),e.length),0),g=[],v=1;v<f.length;v++){var m=g,y=f[v];m.push.call(m,void 0===y?y:String(y))}f=f.groups,s?(g=[p].concat(g,h,e),void 0!==f&&g.push(f),f=String(r.apply(void 0,g))):f=nx(p,e,h,g,f,r),h>=c&&(l+=e.slice(c,h)+f,c=h+p.length)}return l+e.slice(c)}]}));var qx=ig("slice"),rx=Ea("species"),sx=[].slice,tx=Math.max;ba({target:"Array",proto:!0,forced:!qx},{slice:function(e,t){var n=Ib(this),r=La(n.length);if(e=Rb(e,r),t=Rb(void 0===t?r:t,r),Dd(n)){var o=n.constructor;if("function"!=typeof o||o!==Array&&!Dd(o.prototype)?va(o)&&null===(o=o[rx])&&(o=void 0):o=void 0,o===Array||void 0===o)return sx.call(n,e,t)}for(o=new(void 0===o?Array:o)(tx(t-e,0)),r=0;e<t;e++,r++)e in n&&ef(o,r,n[e]);return o.length=r,o}});var ux=Za.set,vx=Za.getterFor("Array Iterator"),Fd=Qj(Array,"Array",(function(e,t){ux(this,{type:"Array Iterator",target:Ib(e),index:0,kind:t})}),(function(){var e=vx(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");df.Arguments=df.Array,lg("keys"),lg("values"),lg("entries");var qp="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,lf=function(e){if(void 0===e)return 0;e=rc(e);var t=La(e);if(e!==t)throw RangeError("Wrong length or index");return t},wx=Math.abs,bd=Math.pow,xx=Math.floor,yx=Math.log,zx=Math.LN2,rp=function(e){var t=lb(this),n=La(t.length),r=arguments.length,o=Rb(1<r?arguments[1]:void 0,n);for(n=void 0===(r=2<r?arguments[2]:void 0)?n:Rb(r,n);n>o;)t[o++]=e;return t},Ax=ce.f,Bx=mb.f,mf=Za.get,sp=Za.set,uc=Q.ArrayBuffer,Ub=uc,vc=Q.DataView,Mh=vc&&vc.prototype,tp=Object.prototype,Nh=Q.RangeError,up=function(e,t,n){var r,o=Array(n),i=(1<<(n=8*n-t-1))-1,a=i>>1,s=23===t?bd(2,-24)-bd(2,-77):0,c=0>e||0===e&&0>1/e?1:0,u=0;if((e=wx(e))!=e||1/0===e){e=e!=e?1:0;var l=i}else l=xx(yx(e)/zx),1>e*(r=bd(2,-l))&&(l--,r*=2),2<=(e=1<=l+a?e+s/r:e+s*bd(2,1-a))*r&&(l++,r/=2),l+a>=i?(e=0,l=i):1<=l+a?(e=(e*r-1)*bd(2,t),l+=a):(e=e*bd(2,a-1)*bd(2,t),l=0);for(;8<=t;o[u++]=255&e,e/=256,t-=8);for(l=l<<t|e,n+=t;0<n;o[u++]=255&l,l/=256,n-=8);return o[--u]|=128*c,o},vp=function(e,t){var n=e.length,r=8*n-t-1,o=(1<<r)-1,i=o>>1;r-=7,--n;var a=e[n--],s=127&a;for(a>>=7;0<r;s=256*s+e[n],n--,r-=8);var c=s&(1<<-r)-1;for(s>>=-r,r+=t;0<r;c=256*c+e[n],n--,r-=8);if(0===s)s=1-i;else{if(s===o)return c?NaN:a?-1/0:1/0;c+=bd(2,t),s-=i}return(a?-1:1)*c*bd(2,s-t)},wp=function(e){return[255&e]},xp=function(e){return[255&e,e>>8&255]},yp=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},zp=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Cx=function(e){return up(e,23,4)},Dx=function(e){return up(e,52,8)},Oh=function(e,t){Bx(e.prototype,t,{get:function(){return mf(this)[t]}})},Gd=function(e,t,n,r){n=lf(n);var o=mf(e);if(n+t>o.byteLength)throw Nh("Wrong index");return e=mf(o.buffer).bytes,n+=o.byteOffset,t=e.slice(n,n+t),r?t:t.reverse()},Hd=function(e,t,n,r,o,i){n=lf(n);var a=mf(e);if(n+t>a.byteLength)throw Nh("Wrong index");for(e=mf(a.buffer).bytes,n+=a.byteOffset,r=r(+o),o=0;o<t;o++)e[n+o]=r[i?o:t-o-1]};if(qp){if(!ia((function(){uc(1)}))||!ia((function(){new uc(-1)}))||ia((function(){return new uc,new uc(1.5),new uc(NaN),"ArrayBuffer"!=uc.name}))){Ub=function(e){return tc(this,Ub),new uc(lf(e))};for(var Ex=Ub.prototype=uc.prototype,Ap=Ax(uc),Bp=0,hk;Ap.length>Bp;)(hk=Ap[Bp++])in Ub||gb(Ub,hk,uc[hk]);Ex.constructor=Ub}ob&&nc(Mh)!==tp&&ob(Mh,tp);var Ph=new vc(new Ub(2)),Cp=Mh.setInt8;Ph.setInt8(0,2147483648),Ph.setInt8(1,2147483649),!Ph.getInt8(0)&&Ph.getInt8(1)||gf(Mh,{setInt8:function(e,t){Cp.call(this,e,t<<24>>24)},setUint8:function(e,t){Cp.call(this,e,t<<24>>24)}},{unsafe:!0})}else Ub=function(e){tc(this,Ub,"ArrayBuffer"),e=lf(e),sp(this,{bytes:rp.call(Array(e),0),byteLength:e}),ta||(this.byteLength=e)},vc=function(e,t,n){tc(this,vc,"DataView"),tc(e,Ub,"DataView");var r=mf(e).byteLength;if(0>(t=rc(t))||t>r)throw Nh("Wrong offset");if(t+(n=void 0===n?r-t:La(n))>r)throw Nh("Wrong length");sp(this,{buffer:e,byteLength:n,byteOffset:t}),ta||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},ta&&(Oh(Ub,"byteLength"),Oh(vc,"buffer"),Oh(vc,"byteLength"),Oh(vc,"byteOffset")),gf(vc.prototype,{getInt8:function(e){return Gd(this,1,e)[0]<<24>>24},getUint8:function(e){return Gd(this,1,e)[0]},getInt16:function(e){var t=Gd(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Gd(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return zp(Gd(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return zp(Gd(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return vp(Gd(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return vp(Gd(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){Hd(this,1,e,wp,t)},setUint8:function(e,t){Hd(this,1,e,wp,t)},setInt16:function(e,t){Hd(this,2,e,xp,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){Hd(this,2,e,xp,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){Hd(this,4,e,yp,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){Hd(this,4,e,yp,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){Hd(this,4,e,Cx,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){Hd(this,8,e,Dx,t,2<arguments.length?arguments[2]:void 0)}});sc(Ub,"ArrayBuffer"),sc(vc,"DataView");var sg={ArrayBuffer:Ub,DataView:vc},ik=sg.ArrayBuffer,Dp=sg.DataView,Ep=ik.prototype.slice,Fx=ia((function(){return!new ik(2).slice(1,void 0).byteLength}));ba({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Fx},{slice:function(e,t){if(void 0!==Ep&&void 0===t)return Ep.call(Ia(this),e);var n=Ia(this).byteLength;e=Rb(e,n),t=Rb(void 0===t?n:t,n),n=new(de(this,ik))(La(t-e));for(var r=new Dp(this),o=new Dp(n),i=0;e<t;)o.setUint8(i++,r.getUint8(e++));return n}});var Gx=mb.f,Qh=Q.Int8Array,jk=Qh&&Qh.prototype,Fp=Q.Uint8ClampedArray,Gp=Fp&&Fp.prototype,Pc=Qh&&nc(Qh),wc=jk&&nc(jk),Hp=Object.prototype,Ip=Hp.isPrototypeOf,Jp=Ea("toStringTag"),kk=Ye("TYPED_ARRAY_TAG"),cd=qp&&!!ob&&"Opera"!==ff(Q.opera),Kp=!1,Vb,Qc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Hx={BigInt64Array:8,BigUint64Array:8},Rh=function(e){return!!va(e)&&(e=ff(e),ha(Qc,e)||ha(Hx,e))};for(Vb in Qc)Q[Vb]||(cd=!1);if((!cd||"function"!=typeof Pc||Pc===Function.prototype)&&(Pc=function(){throw TypeError("Incorrect invocation")},cd))for(Vb in Qc)Q[Vb]&&ob(Q[Vb],Pc);if((!cd||!wc||wc===Hp)&&(wc=Pc.prototype,cd))for(Vb in Qc)Q[Vb]&&ob(Q[Vb].prototype,wc);if(cd&&nc(Gp)!==wc&&ob(Gp,wc),ta&&!ha(wc,Jp))for(Vb in Kp=!0,Gx(wc,Jp,{get:function(){return va(this)?this[kk]:void 0}}),Qc)Q[Vb]&&gb(Q[Vb],kk,Vb);var tg=cd,Lp=Kp&&kk,Ta=function(e){if(Rh(e))return e;throw TypeError("Target is not a typed array")},nf=function(e){if(ob){if(Ip.call(Pc,e))return e}else for(var t in Qc)if(ha(Qc,Vb)){var n=Q[t];if(n&&(e===n||Ip.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Qa=function(e,t,n){if(ta){if(n)for(var r in Qc){var o=Q[r];if(o&&ha(o.prototype,e))try{delete o.prototype[e]}catch(e){}}wc[e]&&!n||Wa(wc,e,n?t:cd&&jk[e]||t)}},Mp=function(e,t,n){var r,o;if(ta){if(ob){if(n)for(r in Qc)if((o=Q[r])&&ha(o,e))try{delete o[e]}catch(e){}if(Pc[e]&&!n)return;try{return Wa(Pc,e,n?t:cd&&Pc[e]||t)}catch(e){}}for(r in Qc)!(o=Q[r])||o[e]&&!n||Wa(o,e,t)}},Np=Pc,ug=wc,Ix=Q.ArrayBuffer,je=Q.Int8Array,lk=!tg||!ia((function(){je(1)}))||!ia((function(){new je(-1)}))||!Bh((function(e){new je,new je(null),new je(1.5),new je(e)}),!0)||ia((function(){return 1!==new je(new Ix(2),1,void 0).length})),Sh=function(e,t){if(0>(e=rc(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},mk=function(e){var t=lb(e),n=arguments.length,r=1<n?arguments[1]:void 0,o=void 0!==r,i=jg(t);if(null!=i&&!Kj(i)){var a=i.call(t),s=a.next;for(t=[];!(i=s.call(a)).done;)t.push(i.value)}for(o&&2<n&&(r=Cd(r,arguments[2],2)),i=La(t.length),a=new(nf(this))(i),n=0;i>n;n++)a[n]=o?r(t[n],n):t[n];return a},Th=function(e,t,n){var r,o;return ob&&"function"==typeof(r=t.constructor)&&r!==n&&va(o=r.prototype)&&o!==n.prototype&&ob(e,o),e},vg=tb((function(e){var t=ce.f,n=Za.get,r=Za.set,o=mb.f,i=Zb.f,a=Math.round,s=Q.RangeError,c=sg.ArrayBuffer,u=sg.DataView,l=function(e,t){var n=0,r=t.length;for(e=new(nf(e))(r);r>n;)e[n]=t[n++];return e},d=function(e,t){o(e,t,{get:function(){return n(this)[t]}})},f=function(e){var t;return e instanceof c||"ArrayBuffer"==(t=ff(e))||"SharedArrayBuffer"==t},p=function(e,t){return Rh(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},h=function(e,t){return p(e,t=Kc(t,!0))?Jc(2,e[t]):i(e,t)},g=function(e,t,n){return!(p(e,t=Kc(t,!0))&&va(n)&&ha(n,"value"))||ha(n,"get")||ha(n,"set")||n.configurable||ha(n,"writable")&&!n.writable||ha(n,"enumerable")&&!n.enumerable?o(e,t,n):(e[t]=n.value,e)};ta?(tg||(Zb.f=h,mb.f=g,d(ug,"buffer"),d(ug,"byteOffset"),d(ug,"byteLength"),d(ug,"length")),ba({target:"Object",stat:!0,forced:!tg},{getOwnPropertyDescriptor:h,defineProperty:g}),e.exports=function(e,i,d){var p=e.match(/\d+$/)[0]/8,h=e+(d?"Clamped":"")+"Array",g="get"+e,v="set"+e,m=Q[h],y=m;e=y&&y.prototype;var A={},b=function(e,t){o(e,t,{get:function(){var e=n(this);return e.view[g](t*p+e.byteOffset,!0)},set:function(e){var r=n(this);d&&(e=0>(e=a(e))?0:255<e?255:255&e),r.view[v](t*p+r.byteOffset,e,!0)},enumerable:!0})};tg?lk&&(y=i((function(e,t,n,r){return tc(e,y,h),Th(va(t)?f(t)?void 0!==r?new m(t,Sh(n,p),r):void 0!==n?new m(t,Sh(n,p)):new m(t):Rh(t)?l(y,t):mk.call(y,t):new m(lf(t)),e,y)})),ob&&ob(y,Np),ee(t(m),(function(e){e in y||gb(y,e,m[e])})),y.prototype=e):(y=i((function(e,t,n,o){tc(e,y,h);var i=0,a=0;if(va(t)){if(!f(t))return Rh(t)?l(y,t):mk.call(y,t);var d=t;if(a=Sh(n,p),t=t.byteLength,void 0===o){if(t%p)throw s("Wrong length");if(0>(o=t-a))throw s("Wrong length")}else if((o=La(o)*p)+a>t)throw s("Wrong length");t=o/p}else t=lf(t),d=new c(o=t*p);for(r(e,{buffer:d,byteOffset:a,byteLength:o,length:t,view:new u(d)});i<t;)b(e,i++)})),ob&&ob(y,Np),e=y.prototype=ec(ug)),e.constructor!==y&&gb(e,"constructor",y),Lp&&gb(e,Lp,h),A[h]=y,ba({global:!0,forced:y!=m,sham:!tg},A),"BYTES_PER_ELEMENT"in y||gb(y,"BYTES_PER_ELEMENT",p),"BYTES_PER_ELEMENT"in e||gb(e,"BYTES_PER_ELEMENT",p),mg(h)}):e.exports=function(){}}));vg("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Jx=Math.min,Kx=[].copyWithin||function(e,t){var n=lb(this),r=La(n.length),o=Rb(e,r),i=Rb(t,r),a=2<arguments.length?arguments[2]:void 0;for(r=Jx((void 0===a?r:Rb(a,r))-i,r-o),a=1,i<o&&o<i+r&&(a=-1,i+=r-1,o+=r-1);0<r--;)i in n?n[o]=n[i]:delete n[o],o+=a,i+=a;return n};Qa("copyWithin",(function(e,t){return Kx.call(Ta(this),e,t,2<arguments.length?arguments[2]:void 0)})),Qa("every",(function(e){return sw(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("fill",(function(e){return rp.apply(Ta(this),arguments)})),Qa("filter",(function(e){var t=Co(Ta(this),e,1<arguments.length?arguments[1]:void 0),n=de(this,this.constructor),r=0,o=t.length;for(n=new(nf(n))(o);o>r;)n[r]=t[r++];return n})),Qa("find",(function(e){return Do(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("findIndex",(function(e){return tw(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("forEach",(function(e){ee(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("includes",(function(e){return ko(Ta(this),e,1<arguments.length?arguments[1]:void 0)})),Qa("indexOf",(function(e){return zj(Ta(this),e,1<arguments.length?arguments[1]:void 0)}));var Op=Ea("iterator"),Pp=Q.Uint8Array,Lx=Fd.values,Mx=Fd.keys,Nx=Fd.entries,nk=Pp&&Pp.prototype[Op],Qp=!!nk&&("values"==nk.name||null==nk.name),Rp=function(){return Lx.call(Ta(this))};Qa("entries",(function(){return Nx.call(Ta(this))})),Qa("keys",(function(){return Mx.call(Ta(this))})),Qa("values",Rp,!Qp),Qa(Op,Rp,!Qp);var Ox=[].join;Qa("join",(function(e){return Ox.apply(Ta(this),arguments)}));var Px=Math.min,ok=[].lastIndexOf,Sp=!!ok&&0>1/[1].lastIndexOf(1,-0),Qx=cf("lastIndexOf"),Rx=Sp||!Qx?function(e){if(Sp)return ok.apply(this,arguments)||0;var t=Ib(this),n=La(t.length),r=n-1;for(1<arguments.length&&(r=Px(r,rc(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:ok;Qa("lastIndexOf",(function(e){return Rx.apply(Ta(this),arguments)})),Qa("map",(function(e){return Bo(Ta(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(nf(de(e,e.constructor)))(t)}))}));var Tp=function(e){return function(t,n,r,o){Sb(n),t=lb(t);var i=dg(t),a=La(t.length),s=e?a-1:0,c=e?-1:1;if(2>r)for(;;){if(s in i){o=i[s],s+=c;break}if(s+=c,e?0>s:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=s:a>s;s+=c)s in i&&(o=n(o,i[s],s,t));return o}},Up=Tp(!1),Sx=Tp(!0);Qa("reduce",(function(e){return Up(Ta(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)})),Qa("reduceRight",(function(e){return Sx(Ta(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}));var Tx=Math.floor;Qa("reverse",(function(){for(var e,t=Ta(this).length,n=Tx(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var Ux=ia((function(){new Int8Array(1).set({})}));Qa("set",(function(e){Ta(this);var t=Sh(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=lb(e),o=La(r.length),i=0;if(o+t>n)throw RangeError("Wrong length");for(;i<o;)this[t+i]=r[i++]}),Ux);var Vx=[].slice,Wx=ia((function(){new Int8Array(1).slice()}));Qa("slice",(function(e,t){e=Vx.call(Ta(this),e,t);var n=de(this,this.constructor);t=0;var r=e.length;for(n=new(nf(n))(r);r>t;)n[t]=e[t++];return n}),Wx),Qa("some",(function(e){return rw(Ta(this),e,1<arguments.length?arguments[1]:void 0)}));var Xx=[].sort;Qa("sort",(function(e){return Xx.call(Ta(this),e)})),Qa("subarray",(function(e,t){var n=Ta(this),r=n.length;return e=Rb(e,r),new(de(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,La((void 0===t?r:Rb(t,r))-e))}));var Uh=Q.Int8Array,Vp=[].toLocaleString,Yx=[].slice,Zx=!!Uh&&ia((function(){Vp.call(new Uh(1))})),$x=ia((function(){return[1,2].toLocaleString()!=new Uh([1,2]).toLocaleString()}))||!ia((function(){Uh.prototype.toLocaleString.call([1,2])}));Qa("toLocaleString",(function(){return Vp.apply(Zx?Yx.call(Ta(this)):Ta(this),arguments)}),$x);var Wp=Q.Uint8Array,ay=Wp&&Wp.prototype||{},Vh=[].toString,by=[].join;ia((function(){Vh.call({})}))&&(Vh=function(){return by.call(this)}),Qa("toString",Vh,ay.toString!=Vh);var Xp=sg.ArrayBuffer;ba({global:!0,forced:Q.ArrayBuffer!==Xp},{ArrayBuffer:Xp}),mg("ArrayBuffer");var cy=mb.f,pk=Function.prototype,dy=pk.toString,ey=/^\s*function ([^ (]*)/;!ta||"name"in pk||cy(pk,"name",{configurable:!0,get:function(){try{return dy.call(this).match(ey)[1]}catch(e){return""}}});var Yp=RegExp.prototype,Zp=Yp.toString,fy=ia((function(){return"/a/b"!=Zp.call({source:"a",flags:"b"})})),gy="toString"!=Zp.name;(fy||gy)&&Wa(RegExp.prototype,"toString",(function(){var e=Ia(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Yp)?Aj.call(e):n)}),{unsafe:!0});var hy=ig("splice"),iy=Math.max,jy=Math.min;ba({target:"Array",proto:!0,forced:!hy},{splice:function(e,t){var n,r,o=lb(this),i=La(o.length),a=Rb(e,i),s=arguments.length;if(0===s?s=n=0:1===s?(s=0,n=i-a):(s-=2,n=jy(iy(rc(t),0),i-a)),9007199254740991<i+s-n)throw TypeError("Maximum allowed length exceeded");var c=Ah(o,n);for(r=0;r<n;r++){var u=a+r;u in o&&ef(c,r,o[u])}if(c.length=n,s<n){for(r=a;r<i-n;r++){var l=r+s;(u=r+n)in o?o[l]=o[u]:delete o[l]}for(r=i;r>i-n+s;r--)delete o[r-1]}else if(s>n)for(r=i-n;r>a;r--)l=r+s-1,(u=r+n-1)in o?o[l]=o[u]:delete o[l];for(r=0;r<s;r++)o[r+a]=arguments[r+2];return o.length=i-n+s,c}});var qk={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},rk=Ea("iterator"),$p=Ea("toStringTag"),sk=Fd.values,Wh;for(Wh in qk){var aq=Q[Wh],dd=aq&&aq.prototype;if(dd){if(dd[rk]!==sk)try{gb(dd,rk,sk)}catch(c){dd[rk]=sk}if(dd[$p]||gb(dd,$p,Wh),qk[Wh])for(var of in Fd)if(dd[of]!==Fd[of])try{gb(dd,of,Fd[of])}catch(c){dd[of]=Fd[of]}}}var bq=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};yh("search",1,(function(e,t,n){return[function(t){var n=Bb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;e=Ia(e);var o=String(this);return r=e.lastIndex,bq(r,0)||(e.lastIndex=0),o=bf(e,o),bq(e.lastIndex,r)||(e.lastIndex=r),null===o?-1:o.index}]})),tb((function(e){!function(t,n){e.exports?e.exports=n(t):n(t)}("undefined"!=typeof self?self:Va,(function(e){function t(e){return btoa(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function r(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function o(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function i(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=i(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=i(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function a(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function s(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(o(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach((function(n){n in e&&(t[n]=e[n])}));break;default:throw new TypeError("Unsupported key type")}return t}function c(e){return e=s(e),b&&(e.extractable=e.ext,delete e.ext),r(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}function u(e){var n=l(e),r=!1;switch(2<n.length&&(r=!0,n.shift()),e={ext:!0},n[0][0]){case"1.2.840.113549.1.1.1":var i="n e d p q dp dq qi".split(" ");for(n=l(n[1]),r&&n.shift(),r=0;r<n.length;r++)n[r][0]||(n[r]=n[r].subarray(1)),e[i[r]]=t(o(n[r]));e.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return e}function l(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),2>t.end-t.pos||t.end>e.length)throw new RangeError("Malformed DER");var n=e[t.pos++],r=e[t.pos++];if(128<=r){if(r&=127,t.end-t.pos<r)throw new RangeError("Malformed DER");for(var i=0;r--;)i<<=8,i|=e[t.pos++];r=i}if(t.end-t.pos<r)throw new RangeError("Malformed DER");switch(n){case 2:n=e.subarray(t.pos,t.pos+=r);break;case 3:if(e[t.pos++])throw Error("Unsupported bit string");r--;case 4:n=new Uint8Array(e.subarray(t.pos,t.pos+=r)).buffer;break;case 5:n=null;break;case 6:if(!((e=btoa(o(e.subarray(t.pos,t.pos+=r))))in _))throw Error("Unsupported OBJECT ID "+e);n=_[e];break;case 48:for(n=[],r=t.pos+r;t.pos<r;)n.push(l(e,t));break;default:throw Error("Unsupported DER tag 0x"+n.toString(16))}return n}function d(e,t){t||(t=[]);var n=t.length+2;if(t.push(0,0),e instanceof Uint8Array)for(var o=2,i=e.length,a=0;a<i;a++)t.push(e[a]);else if(e instanceof ArrayBuffer)for(o=4,i=e.byteLength,e=new Uint8Array(e),a=0;a<i;a++)t.push(e[a]);else if(null===e)o=5,i=0;else if("string"==typeof e&&e in w)for(o=6,i=(e=r(atob(w[e]))).length,a=0;a<i;a++)t.push(e[a]);else if(e instanceof Array){for(a=0;a<e.length;a++)d(e[a],t);o=48,i=t.length-n}else{if(!("object"===oa(e)&&3===e.tag&&e.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+e);for(o=3,i=(e=new Uint8Array(e.value)).byteLength,t.push(0),a=0;a<i;a++)t.push(e[a]);i++}if(128<=i){for(a=i,i=4,t.splice(n,0,a>>24&255,a>>16&255,a>>8&255,255&a);1<i&&!(a>>24);)a<<=8,i--;4>i&&t.splice(n,4-i),i|=128}return t.splice(n-2,2,o,i),t}function f(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function p(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function h(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var g=e.crypto||e.msCrypto;if(g){var v=g.subtle||g.webkitSubtle;if(v){var m=e.Crypto||g.constructor||Object,y=e.SubtleCrypto||v.constructor||Object;e.CryptoKey||e.Key;var A=-1<e.navigator.userAgent.indexOf("Edge/"),b=!!e.msCrypto&&!A,E=!g.subtle&&!!g.webkitSubtle;if(b||E){var _={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},w={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var t=v[e];v[e]=function(o,l,d){var m=[].slice.call(arguments);switch(e){case"generateKey":var y=i(o),A=l,_=d;break;case"importKey":y=i(d),A=m[3],_=m[4],"jwk"===o&&((l=s(l)).alg||(l.alg=a(y)),l.key_ops||(l.key_ops="oct"!==l.kty?"d"in l?_.filter(h):_.filter(p):_.slice()),m[1]=c(l));break;case"unwrapKey":y=m[4],A=m[5],_=m[6],m[2]=d._key}if("generateKey"===e&&"HMAC"===y.name&&y.hash)return y.length=y.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[y.hash.name],v.importKey("raw",g.getRandomValues(new Uint8Array(y.length+7>>3)),y,A,_);if(E&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===y.name&&(!y.modulusLength||2048<=y.modulusLength))return(o=i(o)).name="RSAES-PKCS1-v1_5",delete o.hash,v.generateKey(o,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([v.exportKey("jwk",e.publicKey),v.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=a(y),e[0].key_ops=_.filter(p),e[1].key_ops=_.filter(h),Promise.all([v.importKey("jwk",e[0],y,!0,e[0].key_ops),v.importKey("jwk",e[1],y,A,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((E||b&&"SHA-1"===(y.hash||{}).name)&&"importKey"===e&&"jwk"===o&&"HMAC"===y.name&&"oct"===l.kty)return v.importKey("raw",r(n(l.k)),d,m[3],m[4]);if(E&&"importKey"===e&&("spki"===o||"pkcs8"===o))return v.importKey("jwk",u(l),d,m[3],m[4]);if(b&&"unwrapKey"===e)return v.decrypt(m[3],d,l).then((function(e){return v.importKey(o,e,m[4],m[5],m[6])}));try{var w=t.apply(v,m)}catch(e){return Promise.reject(e)}return b&&(w=new Promise((function(e,t){w.onabort=w.onerror=function(e){t(e)},w.oncomplete=function(t){e(t.target.result)}}))),w=w.then((function(e){return"HMAC"!==y.name||y.length||(y.length=8*e.algorithm.length),0==y.name.search("RSA")&&(y.modulusLength||(y.modulusLength=(e.publicKey||e).algorithm.modulusLength),y.publicExponent||(y.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e.publicKey&&e.privateKey?{publicKey:new f(e.publicKey,y,A,_.filter(p)),privateKey:new f(e.privateKey,y,A,_.filter(h))}:new f(e,y,A,_)}))}})),["exportKey","wrapKey"].forEach((function(e){var i=v[e];v[e]=function(c,u,l){var f=[].slice.call(arguments);switch(e){case"exportKey":f[1]=u._key;break;case"wrapKey":f[1]=u._key,f[2]=l._key}if((E||b&&"SHA-1"===(u.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===c&&"HMAC"===u.algorithm.name&&(f[0]="raw"),!E||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(f[0]="jwk"),b&&"wrapKey"===e)return v.exportKey(c,u).then((function(e){return"jwk"===c&&(e=r(unescape(encodeURIComponent(JSON.stringify(s(e)))))),v.encrypt(f[3],l,e)}));try{var g=i.apply(v,f)}catch(e){return Promise.reject(e)}return b&&(g=new Promise((function(e,t){g.onabort=g.onerror=function(e){t(e)},g.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===c&&(g=g.then((function(e){return(E||b&&"SHA-1"===(u.algorithm.hash||{}).name)&&"HMAC"===u.algorithm.name?{kty:"oct",alg:a(u.algorithm),key_ops:u.usages.slice(),ext:!0,k:t(o(e))}:((e=s(e)).alg||(e.alg=a(u.algorithm)),e.key_ops||(e.key_ops="public"===u.type?u.usages.filter(p):"private"===u.type?u.usages.filter(h):u.usages.slice()),e)}))),!E||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(g=g.then((function(e){var t=[["",null]],o=!1;switch((e=s(e)).kty){case"RSA":for(var i="n e d p q dp dq qi".split(" "),a=[],c=0;c<i.length&&i[c]in e;c++){var u=a[c]=r(n(e[i[c]]));128&u[0]&&(a[c]=new Uint8Array(u.length+1),a[c].set(u,1))}2<a.length&&(o=!0,a.unshift(new Uint8Array([0]))),t[0][0]="1.2.840.113549.1.1.1";break;default:throw new TypeError("Unsupported key type")}return t.push(new Uint8Array(d(a)).buffer),o?t.unshift(new Uint8Array([0])):t[1]={tag:3,value:t[1]},new Uint8Array(d(t)).buffer}))),g}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=v[e];v[e]=function(n,r,o,a){if(b&&(!o.byteLength||a&&!a.byteLength))throw Error("Empty input is not allowed");var s=[].slice.call(arguments),c=i(n);if(!b||"sign"!==e&&"verify"!==e||"RSASSA-PKCS1-v1_5"!==n&&"HMAC"!==n||(s[0]={name:n}),b&&r.algorithm.hash&&(s[0].hash=s[0].hash||r.algorithm.hash),b&&"decrypt"===e&&"AES-GCM"===c.name){var u=n.tagLength>>3;s[2]=(o.buffer||o).slice(0,o.byteLength-u),n.tag=(o.buffer||o).slice(o.byteLength-u)}b&&"AES-GCM"===c.name&&void 0===s[0].tagLength&&(s[0].tagLength=128),s[1]=r._key;try{var l=t.apply(v,s)}catch(e){return Promise.reject(e)}return b&&(l=new Promise((function(t,n){l.onabort=l.onerror=function(e){n(e)},l.oncomplete=function(n){if(n=n.target.result,"encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,o=n.tag;(n=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(o),r.byteLength),n=n.buffer}t(n)}}))),l}})),b){var S=v.digest;v.digest=function(e,t){if(!t.byteLength)throw Error("Empty input is not allowed");try{var n=S.call(v,e,t)}catch(e){return Promise.reject(e)}return n=new Promise((function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}}))},e.crypto=Object.create(g,{getRandomValues:{value:function(e){return g.getRandomValues(e)}},subtle:{value:v}}),e.CryptoKey=f}E&&(g.subtle=v,e.Crypto=m,e.SubtleCrypto=y,e.CryptoKey=f)}}}}))})),function(e){e.console||(e.console={}),e=e.console;for(var t,n=function(){},r=["memory"],o="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");t=r.pop();)e[t]||(e[t]={});for(;t=o.pop();)e[t]||(e[t]=n)}("undefined"==typeof window?Va:window),ba({target:"Object",stat:!0},{setPrototypeOf:ob});var ky=ia((function(){nc(1)}));ba({target:"Object",stat:!0,forced:ky,sham:!Io},{getPrototypeOf:function(e){return nc(lb(e))}});var cq=[].slice,tk={},ly=Function.bind||function(e){var t=Sb(this),n=cq.call(arguments,1),r=function(){var o=n.concat(cq.call(arguments));if(this instanceof r){var i=o.length;if(!(i in tk)){for(var a=[],s=0;s<i;s++)a[s]="a["+s+"]";tk[i]=Function("C,a","return new C("+a.join(",")+")")}o=tk[i](t,o)}else o=t.apply(e,o);return o};return va(t.prototype)&&(r.prototype=t.prototype),r},uk=Lc("Reflect","construct"),dq=ia((function(){function e(){}return!(uk((function(){}),[],e)instanceof e)})),eq=!ia((function(){uk((function(){}))})),fq=dq||eq;ba({target:"Reflect",stat:!0,forced:fq,sham:fq},{construct:function(e,t){Sb(e),Ia(t);var n=3>arguments.length?e:Sb(arguments[2]);if(eq&&!dq)return uk(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}return(n=[null]).push.apply(n,t),new(ly.apply(e,n))}n=n.prototype,n=ec(va(n)?n:Object.prototype);var r=Function.apply.call(e,n,t);return va(r)?r:n}}),ba({target:"Reflect",stat:!0},{get:vm});var gq=Zb.f,my=ia((function(){gq(1)}));ba({target:"Object",stat:!0,forced:!ta||my,sham:!ta},{getOwnPropertyDescriptor:function(e,t){return gq(Ib(e),t)}});var hq=ce.f,ny={}.toString,iq="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vk=function(e){if(iq&&"[object Window]"==ny.call(e))try{var t=hq(e)}catch(e){t=iq.slice()}else t=hq(Ib(e));return t},jq={f:Ea},oy=mb.f,Xh=function(e){var t=Q.Symbol||(Q.Symbol={});ha(t,e)||oy(t,e,{value:jq.f(e)})},Jb=uh("hidden"),kq=Ea("toPrimitive"),py=Za.set,lq=Za.getterFor("Symbol"),fc=Object.prototype,Kb=Q.Symbol,wg=Lc("JSON","stringify"),mq=Zb.f,Id=mb.f,nq=vk,qy=cg,ed=zd("symbols"),xg=zd("op-symbols"),wk=zd("string-to-symbol-registry"),xk=zd("symbol-to-string-registry"),ry=zd("wks"),yk=Q.QObject,zk=!yk||!yk.prototype||!yk.prototype.findChild,Ak=ta&&ia((function(){return 7!=ec(Id({},"a",{get:function(){return Id(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=mq(fc,t);r&&delete fc[t],Id(e,t,n),r&&e!==fc&&Id(fc,t,r)}:Id,Bk=function(e,t){var n=ed[e]=ec(Kb.prototype);return py(n,{type:"Symbol",tag:e,description:t}),ta||(n.description=t),n},Ck=to?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Kb},Yh=function(e,t,n){return e===fc&&Yh(xg,t,n),Ia(e),t=Kc(t,!0),Ia(n),ha(ed,t)?(n.enumerable?(ha(e,Jb)&&e[Jb][t]&&(e[Jb][t]=!1),n=ec(n,{enumerable:Jc(0,!1)})):(ha(e,Jb)||Id(e,Jb,Jc(1,{})),e[Jb][t]=!0),Ak(e,t,n)):Id(e,t,n)},oq=function(e,t){Ia(e);var n=Ib(t);return t=$c(n).concat(Dk(n)),ee(t,(function(t){ta&&!Ek.call(n,t)||Yh(e,t,n[t])})),e},Ek=function(e){e=Kc(e,!0);var t=qy.call(this,e);return!(this===fc&&ha(ed,e)&&!ha(xg,e))&&(!(t||!ha(this,e)||!ha(ed,e)||ha(this,Jb)&&this[Jb][e])||t)},pq=function(e,t){if(e=Ib(e),t=Kc(t,!0),e!==fc||!ha(ed,t)||ha(xg,t)){var n=mq(e,t);return!n||!ha(ed,t)||ha(e,Jb)&&e[Jb][t]||(n.enumerable=!0),n}},qq=function(e){e=nq(Ib(e));var t=[];return ee(e,(function(e){ha(ed,e)||ha(Ze,e)||t.push(e)})),t},Dk=function(e){var t=e===fc;e=nq(t?xg:Ib(e));var n=[];return ee(e,(function(e){!ha(ed,e)||t&&!ha(fc,e)||n.push(ed[e])})),n};if(Oc||(Kb=function(){if(this instanceof Kb)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Ye(e),n=function(e){this===fc&&n.call(xg,e),ha(this,Jb)&&ha(this[Jb],t)&&(this[Jb][t]=!1),Ak(this,t,Jc(1,e))};return ta&&zk&&Ak(fc,t,{configurable:!0,set:n}),Bk(t,e)},Wa(Kb.prototype,"toString",(function(){return lq(this).tag})),Wa(Kb,"withoutSetter",(function(e){return Bk(Ye(e),e)})),cg=Ek,mb.f=Yh,Zb.f=pq,ce.f=vk=qq,eg.f=Dk,jq.f=function(e){return Bk(Ea(e),e)},ta&&(Id(Kb.prototype,"description",{configurable:!0,get:function(){return lq(this).description}}),Wa(fc,"propertyIsEnumerable",Ek,{unsafe:!0}))),ba({global:!0,wrap:!0,forced:!Oc,sham:!Oc},{Symbol:Kb}),ee($c(ry),(function(e){Xh(e)})),ba({target:"Symbol",stat:!0,forced:!Oc},{for:function(e){if(e=String(e),ha(wk,e))return wk[e];var t=Kb(e);return wk[e]=t,xk[t]=e,t},keyFor:function(e){if(!Ck(e))throw TypeError(e+" is not a symbol");if(ha(xk,e))return xk[e]},useSetter:function(){zk=!0},useSimple:function(){zk=!1}}),ba({target:"Object",stat:!0,forced:!Oc,sham:!ta},{create:function(e,t){return void 0===t?ec(e):oq(ec(e),t)},defineProperty:Yh,defineProperties:oq,getOwnPropertyDescriptor:pq}),ba({target:"Object",stat:!0,forced:!Oc},{getOwnPropertyNames:qq,getOwnPropertySymbols:Dk}),ba({target:"Object",stat:!0,forced:ia((function(){eg.f(1)}))},{getOwnPropertySymbols:function(e){return eg.f(lb(e))}}),wg){var sy=!Oc||ia((function(){var e=Kb();return"[null]"!=wg([e])||"{}"!=wg({a:e})||"{}"!=wg(Object(e))}));ba({target:"JSON",stat:!0,forced:sy},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(va(t)||void 0!==e)&&!Ck(e))return Dd(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Ck(t))return t}),o[1]=t,wg.apply(null,o)}})}Kb.prototype[kq]||gb(Kb.prototype,kq,Kb.prototype.valueOf),sc(Kb,"Symbol"),Ze[Jb]=!0;var ty=mb.f,fd=Q.Symbol;if(ta&&"function"==typeof fd&&(!("description"in fd.prototype)||void 0!==fd().description)){var rq={},yg=function(){var e=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof yg?new fd(e):void 0===e?fd():fd(e);return""===e&&(rq[t]=!0),t};no(yg,fd);var Fk=yg.prototype=fd.prototype;Fk.constructor=yg;var uy=Fk.toString,vy="Symbol(test)"==String(fd("test")),wy=/^Symbol\((.*)\)[^)]+$/;ty(Fk,"description",{configurable:!0,get:function(){var e=va(this)?this.valueOf():this,t=uy.call(e);return ha(rq,e)?"":""===(e=vy?t.slice(7,-1):t.replace(wy,"$1"))?void 0:e}}),ba({global:!0,forced:!0},{Symbol:yg})}Xh("toStringTag"),sc(Q.JSON,"JSON",!0),sc(Math,"Math",!0),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(n,arguments,o)}else n=n.apply(this,arguments);return!n||"object"!==oa(n)&&"function"!=typeof n?i(this):n}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}var c=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=0,r=(e=this.listeners[e]).length;n<r;n++)if(e[n].callback===t){e.splice(n,1);break}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var o=t[n];try{o.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}o.options&&o.options.once&&this.removeEventListener(e.type,o.callback)}return!e.defaultPrevented}}}]),t}(),u=function(t){function u(){e(this,u);var t=l.call(this);return t.listeners||c.call(i(t)),Object.defineProperty(i(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(t),"onabort",{value:null,writable:!0,configurable:!0}),t}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(u,t);var l=a(u);return n(u,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(r(u.prototype),"dispatchEvent",this).call(this,e)}}]),u}(c),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){try{var e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var t=!0}else t="function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController;t&&(e.AbortController=l,e.AbortSignal=u)}("undefined"!=typeof self?self:Va)}();var xy=Math.floor,yy=Math.log,zy=Math.LOG2E;ba({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-xy(yy(e+.5)*zy):32}});var Ay=Math.log,By=Math.LN2,Vt=Math.clz32||function(e){return 31-Ay(e>>>0)/By|0},Td=String.fromCharCode,sq={}.toString,Gk=window.Uint8Array,Hk=Gk||Array,Cy=sq.call((window.ArrayBuffer||Hk).prototype),Ik;wm.prototype.decode=function(e){if(e=e&&e.buffer||e,sq.call(e)!==Cy)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var t="",n=0,r=0|(e=Gk?new Hk(e):e).length;n<r;n=n+32768|0)t+=Td.apply(0,e[Gk?"slice":"subarray"](n,n+32768|0));return t.replace(/[\xc0-\xff][\x80-\xbf]*/g,Ut)},window.TextDecoder||(window.TextDecoder=wm),xm.prototype.encode=function(e){for(var t=0|(e=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,Wt)).length,n=new Hk(t),r=0;r<t;r=r+1|0)n[r]=e.charCodeAt(r);return n},window.TextEncoder||(window.TextEncoder=xm),function(e){var t,n,r,o,i,a,s,c,u,l,d,f;(n=t||(t={})).LOGIN="LOGIN",n.LOGIN_SUCCESS="LOGIN_SUCCESS",n.LOGIN_FAILURE="LOGIN_FAILURE",n.LOGIN_TIMEOUT="LOGIN_TIMEOUT",n.INTERRUPTED="INTERRUPTED",n.LOGOUT="LOGOUT",n.BANNED_BY_SERVER="BANNED_BY_SERVER",n.REMOTE_LOGIN="REMOTE_LOGIN",n.TOKEN_EXPIRED="TOKEN_EXPIRED",e.ConnectionChangeReason=t,function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.RECONNECTING="RECONNECTING",e.ABORTED="ABORTED"}(r||(r={})),e.ConnectionState=r,function(e){e.IDLE="IDLE",e.SENT_TO_REMOTE="SENT_TO_REMOTE",e.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",e.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",e.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(o||(o={})),e.LocalInvitationState=o,function(e){e.INVITATION_RECEIVED="INVITATION_RECEIVED",e.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",e.REFUSED="REFUSED",e.ACCEPTED="ACCEPTED",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(i||(i={})),e.RemoteInvitationState=i,function(e){e.UNKNOWN="UNKNOWN",e.PEER_NO_RESPONSE="PEER_NO_RESPONSE",e.INVITATION_EXPIRE="INVITATION_EXPIRE",e.PEER_OFFLINE="PEER_OFFLINE",e.NOT_LOGGEDIN="NOT_LOGGEDIN"}(a||(a={})),e.LocalInvitationFailureReason=a,function(e){e.UNKNOWN="UNKNOWN",e.PEER_OFFLINE="PEER_OFFLINE",e.ACCEPT_FAILURE="ACCEPT_FAILURE",e.INVITATION_EXPIRE="INVITATION_EXPIRE"}(s||(s={})),e.RemoteInvitationFailureReason=s,function(e){e.ONLINE="ONLINE",e.UNREACHABLE="UNREACHABLE",e.OFFLINE="OFFLINE"}(c||(c={})),e.PeerOnlineState=c,(u||(u={})).ONLINE_STATUS="ONLINE_STATUS",e.PeerSubscriptionOption=u,function(e){e.TEXT="TEXT",e.RAW="RAW"}(l||(l={})),e.MessageType=l,function(e){e.CN="CN",e.NA="NA",e.EU="EU",e.AS="AS",e.JP="JP",e.IN="IN",e.GLOB="GLOB",e.OC="OC",e.SA="SA",e.AF="AF",e.OVS="OVS"}(d||(d={})),e.LegacyAreaCode=d,function(e){e.GLOBAL="GLOBAL",e.INDIA="INDIA",e.JAPAN="JAPAN",e.ASIA="ASIA",e.EUROPE="EUROPE",e.CHINA="CHINA",e.NORTH_AMERICA="NORTH_AMERICA"}(f||(f={})),e.AreaCode=f}(Ik||(Ik={}));var qa=Ik;ba({target:"Array",proto:!0},{includes:function(e){return ko(this,e,1<arguments.length?arguments[1]:void 0)}}),lg("includes");var Jk=function(e){if(Fj(e))throw TypeError("The method doesn't accept regular expressions");return e},Dy=Ea("match"),Kk=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Dy]=!1,"/./"[e](t)}catch(e){}}return!1};ba({target:"String",proto:!0,forced:!Kk("includes")},{includes:function(e){return!!~String(Bb(this)).indexOf(Jk(e),1<arguments.length?arguments[1]:void 0)}});var xc={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};Xh("iterator"),Xh("asyncIterator");var Lk=cf("forEach")?[].forEach:function(e){return ee(this,e,1<arguments.length?arguments[1]:void 0)},tq;for(tq in qk){var uq=Q[tq],Zh=uq&&uq.prototype;if(Zh&&Zh.forEach!==Lk)try{gb(Zh,"forEach",Lk)}catch(c){Zh.forEach=Lk}}var Ey=[].reverse,vq=[1,2];ba({target:"Array",proto:!0,forced:String(vq)===String(vq.reverse())},{reverse:function(){return Dd(this)&&(this.length=this.length),Ey.call(this)}});var M=tb((function(e){e=function(e){function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,i){return t=Object.create((t&&t.prototype instanceof o?t:o).prototype),i=new f(i||[]),t._invoke=function(e,t,n){var o=_;return function(i,a){if(o===S)throw Error("Generator is already running");if(o===C){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){if((i=n.delegate)&&(i=u(i,n))){if(i===I)continue;return i}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===_)throw o=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);if(o=S,"normal"===(i=r(e,t,n)).type){if(o=n.done?C:w,i.arg===I)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(o=C,n.method="throw",n.arg=i.arg)}}}(e,n,i),t}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach((function(n){t(e,n,(function(e){return this._invoke(n,e)}))}))}function c(e,t){function n(o,i,a,s){if("throw"!==(o=r(e[o],e,i)).type){var c=o.arg;return(o=c.value)&&"object"===oa(o)&&m.call(o,"__await")?t.resolve(o.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(o).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(o.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function u(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,u(e,t),"throw"===t.method))return I;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}return"throw"===(n=r(n,e.iterator,t.arg)).type?(t.method="throw",t.arg=n.arg,t.delegate=null,I):(n=n.arg)?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,I):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,I)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function p(e){if(e){var t=e[A];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1;return(t=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t}).next=t}}return{next:h}}function h(){return{value:g,done:!0}}var g,v=Object.prototype,m=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},A=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",E=y.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var _="suspendedStart",w="suspendedYield",S="executing",C="completed",I={};t(y={},A,(function(){return this}));var O=Object.getPrototypeOf;(O=O&&O(O(p([]))))&&O!==v&&m.call(O,A)&&(y=O);var T=a.prototype=o.prototype=Object.create(y);return i.prototype=a,t(T,"constructor",a),t(a,"constructor",i),i.displayName=t(a,E,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,t(e,E,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},s(c.prototype),t(c.prototype,b,(function(){return this})),e.AsyncIterator=c,e.async=function(t,r,o,i,a){void 0===a&&(a=Promise);var s=new c(n(t,r,o,i),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},s(T),t(T,E,"Generator"),t(T,A,(function(){return this})),t(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=p,f.prototype={constructor:f,reset:function(e){if(this.next=this.prev=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=m.call(o,"catchLoc"),s=m.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}return o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null),(n=o?o.completion:{}).type=e,n.arg=t,o?(this.method="next",this.next=o.finallyLoc,I):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),I},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),I}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){if("throw"===(e=n.completion).type){var r=e.arg;d(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),I}},e}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":oa(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),wq=!ia((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mk=tb((function(e){var t=mb.f,n=Ye("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!va(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ha(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!ha(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return wq&&a.REQUIRED&&o(e)&&!ha(e,n)&&i(e),e}};Ze[n]=!0})),xq=function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",a=Q[e],s=a&&a.prototype,c=a,u={},l=function(e){var t=s[e];Wa(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!va(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!va(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!va(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Mc(e,"function"!=typeof a||!(o||s.forEach&&!ia((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,i),Mk.REQUIRED=!0;else if(Mc(e,!0)){var d=new c,f=d[i](o?{}:-0,1)!=d,p=ia((function(){d.has(1)})),h=Bh((function(e){new a(e)})),g=!o&&ia((function(){for(var e=new a,t=5;t--;)e[i](t,t);return!e.has(-0)}));h||((c=t((function(t,n){return tc(t,c,e),t=Th(new a,t,c),null!=n&&Gh(n,t[i],{that:t,AS_ENTRIES:r}),t}))).prototype=s,s.constructor=c),(p||g)&&(l("delete"),l("has"),r&&l("get")),(g||f)&&l(i),o&&s.clear&&delete s.clear}return u[e]=c,ba({global:!0,forced:c!=a},u),sc(c,e),o||n.setStrong(c,e,r),c},Fy=mb.f,yq=Mk.fastKey,zq=Za.set,Nk=Za.getterFor,Aq={getConstructor:function(e,t,n,r){var o=e((function(e,i){tc(e,o,t),zq(e,{type:t,index:ec(null),first:void 0,last:void 0,size:0}),ta||(e.size=0),null!=i&&Gh(i,e[r],{that:e,AS_ENTRIES:n})})),i=Nk(t),a=function(e,t,n){var r,o=i(e),a=s(e,t);return a?a.value=n:(o.last=a={index:r=yq(t,!0),key:t,value:n,previous:t=o.last,next:void 0,removed:!1},o.first||(o.first=a),t&&(t.next=a),ta?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},s=function(e,t){e=i(e);var n=yq(t);if("F"!==n)return e.index[n];for(e=e.first;e;e=e.next)if(e.key==t)return e};return gf(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,ta?e.size=0:this.size=0},delete:function(e){var t=i(this);if(e=s(this,e)){var n=e.next,r=e.previous;delete t.index[e.index],e.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==e&&(t.first=n),t.last==e&&(t.last=r),ta?t.size--:this.size--}return!!e},forEach:function(e){for(var t,n=i(this),r=Cd(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),gf(o.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),ta&&Fy(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=Nk(t),i=Nk(r);Qj(e,t,(function(e,t){zq(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),mg(t)}};xq("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Aq);var Ok=Lc("Reflect","apply"),Gy=Function.apply,Hy=!ia((function(){Ok((function(){}))}));ba({target:"Reflect",stat:!0,forced:Hy},{apply:function(e,t,n){return Sb(e),Ia(n),Ok?Ok(e,t,n):Gy.call(e,t,n)}}),ba({target:"Reflect",stat:!0},{ownKeys:mo});var Bq=Ea("isConcatSpreadable"),Iy=51<=Bd||!ia((function(){var e=[];return e[Bq]=!1,e.concat()[0]!==e})),Jy=ig("concat");ba({target:"Array",proto:!0,forced:!Iy||!Jy},{concat:function(e){var t,n=lb(this),r=Ah(n,0),o=0,i=-1;for(t=arguments.length;i<t;i++){var a=-1===i?n:arguments[i],s=a;if(va(s)){var c=s[Bq];s=void 0!==c?!!c:Dd(s)}else s=!1;if(s){if(9007199254740991<o+(c=La(a.length)))throw TypeError("Maximum allowed index exceeded");for(s=0;s<c;s++,o++)s in a&&ef(r,o,a[s])}else{if(9007199254740991<=o)throw TypeError("Maximum allowed index exceeded");ef(r,o++,a)}}return r.length=o,r}});var Ky=vk,Ly=ia((function(){return!Object.getOwnPropertyNames(1)}));ba({target:"Object",stat:!0,forced:Ly},{getOwnPropertyNames:Ky});var My=ce.f,Ny=Zb.f,Oy=mb.f,Jd=Q.Number,$h=Jd.prototype,Py="Number"==qc(ec($h)),Cq=function(e){var t,n=Kc(e,!1);if("string"==typeof n&&2<n.length)if(43===(e=(n=Ij(n)).charCodeAt(0))||45===e){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===e){switch(n.charCodeAt(1)){case 66:case 98:e=2;var r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}var o=(n=n.slice(2)).length;for(t=0;t<o;t++){var i=n.charCodeAt(t);if(48>i||i>r)return NaN}return parseInt(n,e)}return+n};if(Mc("Number",!Jd(" 0o1")||!Jd("0b1")||Jd("+0x1"))){for(var ke=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof ke&&(Py?ia((function(){$h.valueOf.call(n)})):"Number"!=qc(n))?Th(new Jd(Cq(t)),n,ke):Cq(t)},Dq=ta?My(Jd):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),Pk=0,ai;Dq.length>Pk;Pk++)ha(Jd,ai=Dq[Pk])&&!ha(ke,ai)&&Oy(ke,ai,Ny(Jd,ai));ke.prototype=$h,$h.constructor=ke,Wa(Q,"Number",ke)}var pf="object"===("undefined"==typeof Reflect?"undefined":oa(Reflect))?Reflect:null,Eq=pf&&"function"==typeof pf.apply?pf.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Qy=pf&&"function"==typeof pf.ownKeys?pf.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Fq=Number.isNaN||function(e){return e!=e};ya.EventEmitter=ya,ya.prototype._events=void 0,ya.prototype._eventsCount=0,ya.prototype._maxListeners=void 0;var Gq=10;Object.defineProperty(ya,"defaultMaxListeners",{enumerable:!0,get:function(){return Gq},set:function(e){if("number"!=typeof e||0>e||Fq(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Gq=e}}),ya.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ya.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||Fq(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ya.prototype.getMaxListeners=function(){return void 0===this._maxListeners?ya.defaultMaxListeners:this._maxListeners},ya.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);n="error"===e;var r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(0<t.length&&(o=t[0]),o instanceof Error)throw o;throw(t=Error("Unhandled error."+(o?" ("+o.message+")":""))).context=o,t}if(void 0===(n=r[e]))return!1;if("function"==typeof n)Eq(n,this,t);else for(r=Bm(n,o=n.length),n=0;n<o;++n)Eq(r[n],this,t);return!0},ya.prototype.addListener=function(e,t){return ym(this,e,t,!1)},ya.prototype.on=ya.prototype.addListener,ya.prototype.prependListener=function(e,t){return ym(this,e,t,!0)},ya.prototype.once=function(e,t){return Ug(t),this.on(e,zm(this,e,t)),this},ya.prototype.prependOnceListener=function(e,t){return Ug(t),this.prependListener(e,zm(this,e,t)),this},ya.prototype.removeListener=function(e,t){var n;Ug(t);var r=this._events;if(void 0===r)return this;var o=r[e];if(void 0===o)return this;if(o===t||o.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,o.listener||t));else if("function"!=typeof o){var i=-1;for(n=o.length-1;0<=n;n--)if(o[n]===t||o[n].listener===t){var a=o[n].listener;i=n;break}if(0>i)return this;if(0===i)o.shift();else{for(;i+1<o.length;i++)o[i]=o[i+1];o.pop()}1===o.length&&(r[e]=o[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},ya.prototype.off=ya.prototype.removeListener,ya.prototype.removeAllListeners=function(e){var t=this._events;if(void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var n=Object.keys(t);for(t=0;t<n.length;++t){var r=n[t];"removeListener"!==r&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=t[e]))this.removeListener(e,n);else if(void 0!==n)for(t=n.length-1;0<=t;t--)this.removeListener(e,n[t]);return this},ya.prototype.listeners=function(e){return Am(this,e,!0)},ya.prototype.rawListeners=function(e){return Am(this,e,!1)},ya.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Cm.call(e,t)},ya.prototype.listenerCount=Cm,ya.prototype.eventNames=function(){return 0<this._eventsCount?Qy(this._events):[]},ya.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}Dm(e,t,i,{once:!0}),"error"!==t&&Yt(e,o,{once:!0})}))};var qf=Object.assign,Hq=Object.defineProperty,zg=!qf||ia((function(){if(ta&&1!==qf({b:1},qf(Hq({},"a",{enumerable:!0,get:function(){Hq(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=qf({},e)[n]||"abcdefghijklmnopqrst"!=$c(qf({},t)).join("")}))?function(e,t){for(var n=lb(e),r=arguments.length,o=1,i=eg.f,a=cg;r>o;)for(var s,c=dg(arguments[o++]),u=i?$c(c).concat(i(c)):$c(c),l=u.length,d=0;l>d;)s=u[d++],(!ta||a.call(c,s))&&(n[s]=c[s]);return n}:qf;ba({target:"Object",stat:!0,forced:Object.assign!==zg},{assign:zg}),xq("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Aq);var Ry=Math.log,Sy=Math.LN2;ba({target:"Math",stat:!0},{log2:function(e){return Ry(e)/Sy}});var Ty=mb.f,Uy=ce.f,Vy=Za.enforce,Wy=Ea("match"),Rc=Q.RegExp,Qk=Rc.prototype,Ag=/a/g,Rk=/a/g,Sk=new Rc(Ag)!==Ag;if(ta&&Mc("RegExp",!Sk||Nc||ia((function(){return Rk[Wy]=!1,Rc(Ag)!=Ag||Rc(Rk)==Rk||"/a/i"!=Rc(Ag,"i")})))){for(var gd=function(e,t){var n,r=this instanceof gd,o=Fj(e),i=void 0===t;return!r&&o&&e.constructor===gd&&i||(Sk?o&&!i&&(e=e.source):e instanceof gd&&(i&&(t=Aj.call(e)),e=e.source),Nc&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),e=Th(Sk?new Rc(e,t):Rc(e,t),r?this:Qk,gd),Nc&&n&&(Vy(e).sticky=!0)),e},Xy=function(e){e in gd||Ty(gd,e,{configurable:!0,get:function(){return Rc[e]},set:function(t){Rc[e]=t}})},Iq=Uy(Rc),Jq=0;Iq.length>Jq;)Xy(Iq[Jq++]);Qk.constructor=gd,gd.prototype=Qk,Wa(Q,"RegExp",gd)}mg("RegExp"),vg("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),vg("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),vg("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),vg("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var Tk=function(e,t){return e===t?0:null==e?null==t?0:-1:null==t?null==e?0:1:"function"==typeof e.compare?e.compare(t):"function"==typeof t.compare?-t.compare(e):e<t?-1:e>t?1:0},Uk=[],Kq=Uk.sort,Yy=ia((function(){Uk.sort(void 0)})),Zy=ia((function(){Uk.sort(null)})),$y=cf("sort");ba({target:"Array",proto:!0,forced:Yy||!Zy||!$y},{sort:function(e){return void 0===e?Kq.call(lb(this)):Kq.call(lb(this),Sb(e))}});var Lq=Object.getPrototypeOf({}),Bg=function(e,t){var n;return e===t||(null==e?e==t:"function"===oa(e.equiv)?e.equiv(t):null==t?e==t:"function"===oa(t.equiv)?t.equiv(e):"string"!==oa(e)&&"string"!==oa(t)&&(null!=(n=Object.getPrototypeOf(e))&&n!==Lq||null!=(n=Object.getPrototypeOf(t))&&n!==Lq?"function"!==oa(e)&&void 0!==e.length&&"function"!==oa(t)&&void 0!==t.length?bz(e,t):e instanceof Set&&t instanceof Set?cz(e,t):e instanceof Map&&t instanceof Map?dz(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:az(e,t)))},bz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg,r=e.length;if(r===t.length)for(;0<=--r&&n(e[r],t[r]););return 0>r},cz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg;return e.size===t.size&&n(W(e.keys()).sort(),W(t.keys()).sort())},dz=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg;return e.size===t.size&&n(W(e).sort(),W(t).sort())},az=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Bg;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!t.hasOwnProperty(r)||!n(e[r],t[r]))return!1;return!0},Mq=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return void 0!==e?": "+e:""};return function(n){function r(n){return ua(this,r),o.call(this,e(n)+t(n))}Ga(r,n);var o=Ha(r);return r}(If(Error))},ez=Mq((function(){return"illegal argument(s)"})),bi=function(e){throw new ez(e)},Vk=Mq((function(){return"index out of bounds"})),Nq=1/4294967295,fz=function(){function e(){ua(this,e)}return cb(e,[{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.int()*Nq*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(this.int()*Nq-.5)*e}},{key:"minmax",value:function(e,t){return this.float()*(t-e)+e}}]),e}(),Wk=Math.random,gz=new(function(e){function t(){return ua(this,t),n.apply(this,arguments)}Ga(t,e);var n=Ha(t);return cb(t,[{key:"int",value:function(){return 4294967296*Wk()>>>0}},{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return Wk()*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(Wk()-.5)*e}}]),t}(fz)),Hi=Symbol(),Gm=function(){},hz=Mk.onFreeze,Xk=Object.freeze,iz=ia((function(){Xk(1)}));ba({target:"Object",stat:!0,forced:iz,sham:!wq},{freeze:function(e){return Xk&&va(e)?Xk(hz(e)):e}});var jz=cf("reduce"),kz=!ad&&79<Bd&&83>Bd;ba({target:"Array",proto:!0,forced:!jz||kz},{reduce:function(e){return Up(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Fm=function(e){return null!=e&&"function"==typeof e.xform?e.xform():e},Vg=function(){function e(t){ua(this,e),this.value=t}return cb(e,[{key:"deref",value:function(){return this.value}}]),e}(),Ii=function(e){return e instanceof Vg?e.deref():e},$t=function(e,t){return[e,function(e){return e},t]},lz=M.mark((function(e,t){var n,r,o,i,a,s;return M.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=Fm(e)(Zt()),r=n[1],o=n[2],i=0;case 4:if(!(i<t.length)){c.next=15;break}if(a=t[i],!((s=o([],a))instanceof Vg)){c.next=10;break}return c.delegateYield(Ii(r(s.deref())),"t0",9);case 9:return c.abrupt("return");case 10:if(!s.length){c.next=12;break}return c.delegateYield(s,"t1",12);case 12:i++,c.next=4;break;case 15:return c.delegateYield(Ii(r([])),"t2",16);case 16:case"end":return c.stop()}}),lz)})),au=M.mark(Em),bu=function(e,t){return[e[0],e[1],t]},mz=function(){function e(t){ua(this,e),this._length=0,t&&this.into(t)}return cb(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var e,t=this.head;t;)e=t.next,delete t.value,delete t.prev,delete t.next,t=e;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(e){var t=this._length;if(t<e._length)return-1;if(t>e._length)return 1;if(0===t)return 0;t=this.head,e=e.head;for(var n=0;t&&0==n;)n=Tk(t.value,e.value),t=t.next,e=e.next;return n}},{key:"equiv",value:function(t){if(!(t instanceof e||null!=t&&"function"!=typeof t&&void 0!==t.length)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var n=this.head,r=0;r<t.length;r++){if(!Bg(n.value,t[r]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:M.mark((function e(){var t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"seq",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(!(e>=t||0>e)){e=this.nthCell(e);var n=this.nthCell(t-1);return t=function e(t){return{first:function(){return t.value},next:function(){return t!==n&&t.next?e(t.next):void 0}}},e?t(e):void 0}}},{key:"cycle",value:M.mark((function e(){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this,"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"$reduce",value:function(e,t){for(var n=this.head;n&&!(t instanceof Vg);)t=e(t,n.value),n=n.next;return t}},{key:"drop",value:function(){var e=this.head;if(e)return(this.head=e.next)?delete this.head.prev:delete this.tail,this._length--,e.value}},{key:"cons",value:function(e){return e={value:e,next:this.head},this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}},{key:"insertBefore",value:function(e,t){return e||bi("cell is undefined"),t={value:t,next:e,prev:e.prev},e.prev?e.prev.next=t:this.head=t,e.prev=t,this._length++,this}},{key:"insertAfter",value:function(e,t){return e||bi("cell is undefined"),t={value:t,next:e.next,prev:e},e.next?e.next.prev=t:this.tail=t,e.next=t,this._length++,this}},{key:"insertBeforeNth",value:function(e,t){if(0>e&&(e+=this._length),0>=e)return this.cons(t);if(0>e||e>=this._length)throw new Vk(e);return this.insertBefore(this.nthCellUnsafe(e),t)}},{key:"insertAfterNth",value:function(e,t){if(0>e&&(e+=this._length),e>=this._length-1)return this.push(t);if(0>e||e>=this._length)throw new Vk(e);return this.insertAfter(this.nthCellUnsafe(e),t)}},{key:"insertSorted",value:function(e,t){t=t||Tk;for(var n=this.head;n;){if(0>=t(e,n.value))return this.insertBefore(n,e);n=n.next}return this.push(e)}},{key:"find",value:function(e){for(var t=this.head;t;){if(t.value===e)return t;t=t.next}}},{key:"findWith",value:function(e){for(var t=this.head;t;){if(e(t.value))return t;t=t.next}}},{key:"concat",value:function(){for(var e=this.copy(),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e.into(n[t]);return e}},{key:"into",value:function(e){for(var t=0;t<e.length;t++)this.push(e[t])}},{key:"slice",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;t=0>t?t+this._length:t,n=0>n?n+this._length:n,(0>t||0>n)&&bi("invalid indices: ${from} / ${to}");for(var r=new e,o=this.nthCell(t);o&&++t<=n;)r.push(o.value),o=o.next;return r}},{key:"splice",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;if("number"==typeof t){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new Vk(t);var o=this.nthCellUnsafe(t)}else o=t;var i=new e;if(0<n)for(;o&&0<n--;)this.remove(o),i.push(o.value),o=o.next;else o&&(o=o.next);if(r)if(o)for(n=0;n<r.length;n++)this.insertBefore(o,r[n]);else for(o=0;o<r.length;o++)this.push(r[o]);return i}},{key:"remove",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}},{key:"swap",value:function(e,t){if(e!==t){var n=e.value;e.value=t.value,t.value=n}return this}},{key:"push",value:function(e){return this.tail?(e={value:e,prev:this.tail},this.tail=this.tail.next=e,this._length++,this):this.cons(e)}},{key:"pop",value:function(){var e=this.tail;if(e)return(this.tail=e.prev)?delete this.tail.next:delete this.head,this._length--,e.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(e){return this.head?(this.head.value=e,this):this.cons(e)}},{key:"setTail",value:function(e){return this.tail?(this.tail.value=e,this):this.push(e)}},{key:"setNth",value:function(e,t){var n=this.nthCell(e);return!n&&bi("index out of bounds: ".concat(e)),n.value=t,this}},{key:"nth",value:function(e,t){return(e=this.nthCell(e))?e.value:t}},{key:"nthCell",value:function(e){if(0>e&&(e+=this._length),!(0>e||e>=this._length))return this.nthCellUnsafe(e)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var e=this.peek();return this.pop(),this.cons(e)}}},{key:"map",value:function(t){for(var n=new e,r=this.head;r;)n.push(t(r.value)),r=r.next;return n}},{key:"filter",value:function(t){for(var n=new e,r=this.head;r;)t(r.value)&&n.push(r.value),r=r.next;return n}},{key:"reduce",value:function(e,t){for(var n=this.head;n;)t=e(t,n.value),n=n.next;return t}},{key:"shuffle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:gz;if(2>this._length)return this;for(e=null!=e?e:Math.ceil(1.5*Math.log2(this._length));0<e;e--)for(var n=this.head;n;){var r=n.next;.5>t.float()?this.asHead(n):this.asTail(n),n=r}return this}},{key:"sort",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Tk;if(!this._length)return this;for(var t=1;;){var n=this.head;this.tail=this.head=void 0;for(var r=0;n;){r++;for(var o=n,i=0,a=0;a<t&&(i++,o=o.next);a++);for(a=t;0<i||0<a&&o;){if(0===i){var s=o;o=o.next,a--}else o&&0!==a?0>=e(n.value,o.value)?(s=n,n=n.next,i--):(s=o,o=o.next,a--):(s=n,n=n.next,i--);this.tail?this.tail.next=s:this.head=s,s.prev=this.tail,this.tail=s}n=o}if(this.tail.next=void 0,1>=r)return this;t*=2}}},{key:"reverse",value:function(){for(var e=this.head,t=this.tail,n=(this._length>>>1)+(1&this._length);e&&t&&0<n;){var r=e.value;e.value=t.value,t.value=r,e=e.next,t=t.prev,n--}return this}},{key:"asHead",value:function(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}},{key:"asTail",value:function(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}},{key:"toString",value:function(){for(var e=[],t=this.head;t;)e.push(String(t.value)),t=t.next;return e.join(", ")}},{key:"toJSON",value:function(){return W(this)}},{key:"nthCellUnsafe",value:function(e){if(e<=this._length>>1)var t=this.head,n="next";else t=this.tail,n="prev",e=this._length-e-1;for(;0<e--&&t;)t=t[n];return t}}]),e}(),Sc=function(){function e(t,n){ua(this,e),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new mz,this._size=0,this.opts=n,t&&this.into(t)}return cb(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Wg((function(e){return[e.k,e]}),this.items)}},{key:"keys",value:function(){return Wg((function(e){return e.k}),this.items)}},{key:"values",value:function(){return Wg((function(e){return e.v}),this.items)}},{key:"copy",value:function(){var e=this.empty();e.items=this.items.copy();for(var t=e.items.head;t;)e.map.set(t.value.k,t),t=t.next;return e}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var e=this.opts.release;if(e){for(var t;t=this.items.drop();)e(t.k,t.v);return!0}return this.items.release()}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e,t){return(e=this.map.get(e))?this.resetEntry(e):t}},{key:"set",value:function(e,t){var n=this.opts.ksize(e)+this.opts.vsize(t),r=this.map.get(e);return this._size+=Math.max(0,n-(r?r.value.s:0)),this.ensureSize()&&this.doSetEntry(r,e,t,n),t}},{key:"into",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.set(n[0],n[1])}return this}},{key:"getSet",value:function(e,t){var n=this,r=this.map.get(e);return r?Promise.resolve(this.resetEntry(r)):t().then((function(t){return n.set(e,t)}))}},{key:"delete",value:function(e){return!!(e=this.map.get(e))&&(this.removeEntry(e),!0)}},{key:"resetEntry",value:function(e){return this.items.asTail(e),e.value.v}},{key:"ensureSize",value:function(){for(var e=this.opts.release,t=this.opts.maxsize,n=this.opts.maxlen;this._size>t||this.length>=n;){var r=this.items.drop();if(!r)return!1;this.map.delete(r.k),e&&e(r.k,r.v),this._size-=r.s}return!0}},{key:"removeEntry",value:function(e){var t=e.value;this.map.delete(t.k),this.items.remove(e),this.opts.release&&this.opts.release(t.k,t.v),this._size-=t.s}},{key:"doSetEntry",value:function(e,t,n,r){e?(e.value.v=n,e.value.s=r,this.items.asTail(e)):(this.items.push({k:t,v:n,s:r}),this.map.set(t,this.items.tail))}}]),e}(),nz=function(e){function t(e,r){return ua(this,t),r=Object.assign({ttl:36e5},r),n.call(this,e,r)}Ga(t,e);var n=Ha(t);return cb(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e,t){if(e=this.map.get(e)){if(e.value.t>=Date.now())return this.resetEntry(e);this.removeEntry(e)}return t}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,r=this.opts.ksize(e)+this.opts.vsize(t),o=this.map.get(e);return this._size+=Math.max(0,r-(o?o.value.s:0)),this.ensureSize()&&(n=Date.now()+n,o?(o.value.v=t,o.value.s=r,o.value.t=n,this.items.asTail(o)):(this.items.push({k:e,v:t,s:r,t:n}),this.map.set(e,this.items.tail))),t}},{key:"getSet",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,o=this.get(e);return o?Promise.resolve(o):t().then((function(t){return n.set(e,t,r)}))}},{key:"prune",value:function(){for(var e=Date.now(),t=this.items.head;t;)t.value.t<e&&this.removeEntry(t),t=t.next}},{key:"ensureSize",value:function(){for(var e=this.opts.maxsize,n=this.opts.maxlen,r=Date.now(),o=this.items.head;o&&(this._size>e||this.length>=n);)o.value.t<r&&this.removeEntry(o),o=o.next;return Fi(Sd(t.prototype),"ensureSize",this).call(this)}}]),t}(Sc),Oq="object"==oa(Va)&&Va&&Va.Object===Object&&Va,oz="object"==("undefined"==typeof self?"undefined":oa(self))&&self&&self.Object===Object&&self,Wb=Oq||oz||Function("return this")(),gc=Wb.Symbol,Pq=Object.prototype,pz=Pq.hasOwnProperty,qz=Pq.toString,Cg=gc?gc.toStringTag:void 0,rz=Object.prototype.toString,Qq=gc?gc.toStringTag:void 0,le=function(e){if(null==e)e=void 0===e?"[object Undefined]":"[object Null]";else if(Qq&&Qq in Object(e)){var t=pz.call(e,Cg),n=e[Cg];try{e[Cg]=void 0;var r=!0}catch(e){}var o=qz.call(e);r&&(t?e[Cg]=n:delete e[Cg]),e=o}else e=rz.call(e);return e},Db=function(e){var t=oa(e);return null!=e&&("object"==t||"function"==t)},dj=function(e){return!!Db(e)&&("[object Function]"==(e=le(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},Yk=Wb["__core-js_shared__"],Rq=function(){var e=/[^.]+$/.exec(Yk&&Yk.keys&&Yk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),sz=Function.prototype.toString,me=function(e){if(null!=e){try{return sz.call(e)}catch(e){}return e+""}return""},tz=/^\[object .+?Constructor\]$/,uz=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=function(e,t){return e=null==e?void 0:e[t],!Db(e)||Rq&&Rq in e||!(dj(e)?uz:tz).test(me(e))?void 0:e},Dg=ne(Object,"create"),vz=Object.prototype.hasOwnProperty,wz=Object.prototype.hasOwnProperty;Ud.prototype.clear=function(){this.__data__=Dg?Dg(null):{},this.size=0},Ud.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Ud.prototype.get=function(e){var t=this.__data__;return Dg?"__lodash_hash_undefined__"===(e=t[e])?void 0:e:vz.call(t,e)?t[e]:void 0},Ud.prototype.has=function(e){var t=this.__data__;return Dg?void 0!==t[e]:wz.call(t,e)},Ud.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dg&&void 0===t?"__lodash_hash_undefined__":t,this};var Eg=function(e,t){return e===t||e!=e&&t!=t},ci=function(e,t){for(var n=e.length;n--;)if(Eg(e[n][0],t))return n;return-1},xz=Array.prototype.splice;Ce.prototype.clear=function(){this.__data__=[],this.size=0},Ce.prototype.delete=function(e){var t=this.__data__;return!(0>(e=ci(t,e)))&&(e==t.length-1?t.pop():xz.call(t,e,1),--this.size,!0)},Ce.prototype.get=function(e){var t=this.__data__;return 0>(e=ci(t,e))?void 0:t[e][1]},Ce.prototype.has=function(e){return-1<ci(this.__data__,e)},Ce.prototype.set=function(e,t){var n=this.__data__,r=ci(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var Yg=Ce,Fg=ne(Wb,"Map"),di=function(e,t){e=e.__data__;var n=oa(t);return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map};De.prototype.clear=function(){this.size=0,this.__data__={hash:new Ud,map:new(Fg||Yg),string:new Ud}},De.prototype.delete=function(e){return e=di(this,e).delete(e),this.size-=e?1:0,e},De.prototype.get=function(e){return di(this,e).get(e)},De.prototype.has=function(e){return di(this,e).has(e)},De.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Xg=De;Jf.prototype.add=Jf.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Jf.prototype.has=function(e){return this.__data__.has(e)};var Sq=function(e,t,n,r){var o=e.length;for(n+=r?1:-1;r?n--:++n<o;)if(t(e[n],n,e))return n;return-1},yz=function(e){return e!=e},zz=function(e,t){var n;if(n=!(null==e||!e.length)){if(t==t)e:{n=-1;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=Sq(e,yz,0);n=-1<e}return n},Az=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},Bz=function(e,t){return e.has(t)},rf=ne(Wb,"Set"),Cz=function(){},Zk=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Dz=1/0,Ez=rf&&1/Zk(new rf([,-0]))[1]==Dz?function(e){return new rf(e)}:Cz,$k=function(e,t,n){var r=-1,o=zz,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Az;else if(200<=i){if(o=t?null:Ez(e))return Zk(o);a=!1,o=Bz,c=new Jf}else c=t?[]:s;e:for(;++r<i;){var u=e[r],l=t?t(u):u;if(u=n||0!==u?u:0,a&&l==l){for(var d=c.length;d--;)if(c[d]===l)continue e;t&&c.push(l),s.push(u)}else o(c,l,n)||(c!==s&&c.push(l),s.push(u))}return s},Tq=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},He=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};Ee.prototype.clear=function(){this.__data__=new Yg,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yg){var r=n.__data__;if(!Fg||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xg(r)}return n.set(e,t),this.size=n.size,this};var Ge=Ee,ku=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},ei=function(){try{var e=ne(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gg=function(e,t,n){"__proto__"==t&&ei?ei(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Fz=Object.prototype.hasOwnProperty,Lm=function(e,t,n){var r=e[t];Fz.call(e,t)&&Eg(r,n)&&(void 0!==n||t in e)||Gg(e,t,n)},Re=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?Gg(n,s,c):Lm(n,s,c)}return n},Bc=function(e){return null!=e&&"object"==oa(e)},Uq=function(e){return Bc(e)&&"[object Arguments]"==le(e)},Vq=Object.prototype,Gz=Vq.hasOwnProperty,Hz=Vq.propertyIsEnumerable,Tf=Uq(function(){return arguments}())?Uq:function(e){return Bc(e)&&Gz.call(e,"callee")&&!Hz.call(e,"callee")},pb=Array.isArray,Iz=function(){return!1},Lf=tb((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?Wb.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||Iz})),Jz=/^(?:0|[1-9]\d*)$/,al=function(e,t){var n=oa(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Jz.test(e))&&-1<e&&0==e%1&&e<t},bl=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},Ua={};Ua["[object Float32Array]"]=Ua["[object Float64Array]"]=Ua["[object Int8Array]"]=Ua["[object Int16Array]"]=Ua["[object Int32Array]"]=Ua["[object Uint8Array]"]=Ua["[object Uint8ClampedArray]"]=Ua["[object Uint16Array]"]=Ua["[object Uint32Array]"]=!0,Ua["[object Arguments]"]=Ua["[object Array]"]=Ua["[object ArrayBuffer]"]=Ua["[object Boolean]"]=Ua["[object DataView]"]=Ua["[object Date]"]=Ua["[object Error]"]=Ua["[object Function]"]=Ua["[object Map]"]=Ua["[object Number]"]=Ua["[object Object]"]=Ua["[object RegExp]"]=Ua["[object Set]"]=Ua["[object String]"]=Ua["[object WeakMap]"]=!1;var Kz=function(e){return Bc(e)&&bl(e.length)&&!!Ua[le(e)]},fi=function(e){return function(t){return e(t)}},sf=tb((function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&Oq.process;e:{try{var r=t&&t.require&&t.require("util").types;if(r){var o=r;break e}o=n&&n.binding&&n.binding("util");break e}catch(e){}o=void 0}e.exports=o})),Wq=sf&&sf.isTypedArray,Oi=Wq?fi(Wq):Kz,Lz=Object.prototype.hasOwnProperty,Xq=function(e,t){var n=pb(e),r=!n&&Tf(e),o=!n&&!r&&Lf(e),i=!n&&!r&&!o&&Oi(e);if(n=n||r||o||i){r=e.length;for(var a=String,s=-1,c=Array(r);++s<r;)c[s]=a(s);r=c}else r=[];for(var u in a=r.length,e)!t&&!Lz.call(e,u)||n&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||al(u,a))||r.push(u);return r},Mz=Object.prototype,cl=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Mz)},Yq=function(e,t){return function(n){return e(t(n))}},Nz=Yq(Object.keys,Object),Oz=Object.prototype.hasOwnProperty,$d=function(e){return null!=e&&bl(e.length)&&!dj(e)},Vd=function(e){if($d(e))e=Xq(e);else if(cl(e)){var t,n=[];for(t in Object(e))Oz.call(e,t)&&"constructor"!=t&&n.push(t);e=n}else e=Nz(e);return e},gu=function(e,t){return e&&Re(t,Vd(t),e)},Pz=Object.prototype.hasOwnProperty,Mf=function(e){if($d(e))e=Xq(e,!0);else if(Db(e)){var t=cl(e),n=[];for(r in e)("constructor"!=r||!t&&Pz.call(e,r))&&n.push(r);e=n}else{var r=[];if(null!=e)for(t in Object(e))r.push(t);e=r}return e},eu=function(e,t){return e&&Re(t,Mf(t),e)},Im=tb((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,r=(t=n&&n.exports===t?Wb.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=r?r(t):new e.constructor(t),e.copy(t),t)}})),Ji=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Qz=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},Zq=function(){return[]},Rz=Object.prototype.propertyIsEnumerable,$q=Object.getOwnPropertySymbols,dl=$q?function(e){return null==e?[]:(e=Object(e),Qz($q(e),(function(t){return Rz.call(e,t)})))}:Zq,fu=function(e,t){return Re(e,dl(e),t)},Ni=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},el=Yq(Object.getPrototypeOf,Object),ar=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ni(t,dl(e)),e=el(e);return t}:Zq,du=function(e,t){return Re(e,ar(e),t)},br=function(e,t,n){return t=t(e),pb(e)?t:Ni(t,n(e))},Ki=function(e){return br(e,Vd,dl)},Km=function(e){return br(e,Mf,ar)},fl=ne(Wb,"DataView"),gl=ne(Wb,"Promise"),hl=ne(Wb,"WeakMap"),Sz=me(fl),Tz=me(Fg),Uz=me(gl),Vz=me(rf),Wz=me(hl),oe=le;(fl&&"[object DataView]"!=oe(new fl(new ArrayBuffer(1)))||Fg&&"[object Map]"!=oe(new Fg)||gl&&"[object Promise]"!=oe(gl.resolve())||rf&&"[object Set]"!=oe(new rf)||hl&&"[object WeakMap]"!=oe(new hl))&&(oe=function(e){var t=le(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?me(e):"")switch(e){case Sz:return"[object DataView]";case Tz:return"[object Map]";case Uz:return"[object Promise]";case Vz:return"[object Set]";case Wz:return"[object WeakMap]"}return t});var Kf=oe,Xz=Object.prototype.hasOwnProperty,cu=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Xz.call(e,"index")&&(n.index=e.index,n.input=e.input),n},gi=Wb.Uint8Array,il=function(e){var t=new e.constructor(e.byteLength);return new gi(t).set(new gi(e)),t},Yz=/\w*$/,cr=gc?gc.prototype:void 0,dr=cr?cr.valueOf:void 0,vn=function(e,t){return t=t?il(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},hu=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return il(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?il(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vn(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,Yz.exec(e))).lastIndex=e.lastIndex,t;case"[object Set]":return new r;case"[object Symbol]":return dr?Object(dr.call(e)):{}}},er=Object.create,Zz=function(){function e(){}return function(t){return Db(t)?er?er(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),Jm=function(e){return"function"!=typeof e.constructor||cl(e)?{}:Zz(el(e))},$z=function(e){return Bc(e)&&"[object Map]"==Kf(e)},fr=sf&&sf.isMap,ju=fr?fi(fr):$z,aA=function(e){return Bc(e)&&"[object Set]"==Kf(e)},gr=sf&&sf.isSet,iu=gr?fi(gr):aA,Na={};Na["[object Arguments]"]=Na["[object Array]"]=Na["[object ArrayBuffer]"]=Na["[object DataView]"]=Na["[object Boolean]"]=Na["[object Date]"]=Na["[object Float32Array]"]=Na["[object Float64Array]"]=Na["[object Int8Array]"]=Na["[object Int16Array]"]=Na["[object Int32Array]"]=Na["[object Map]"]=Na["[object Number]"]=Na["[object Object]"]=Na["[object RegExp]"]=Na["[object Set]"]=Na["[object String]"]=Na["[object Symbol]"]=Na["[object Uint8Array]"]=Na["[object Uint8ClampedArray]"]=Na["[object Uint16Array]"]=Na["[object Uint32Array]"]=!0,Na["[object Error]"]=Na["[object Function]"]=Na["[object WeakMap]"]=!1;var Ie=function(e){return"symbol"==oa(e)||Bc(e)&&"[object Symbol]"==le(e)},bA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cA=/^\w*$/,jl=function(e,t){if(pb(e))return!1;var n=oa(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ie(e))||cA.test(e)||!bA.test(e)||null!=t&&e in Object(t)};Li.Cache=Xg;var dA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eA=/\\(\\)?/g,fA=function(e){var t=(e=Li(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(dA,(function(e,n,r,o){t.push(r?o.replace(eA,"$1"):n||e)})),t})),lu=1/0,hr=gc?gc.prototype:void 0,Nm=hr?hr.toString:void 0,hi=function(e,t){return pb(e)?e:jl(e,t)?[e]:fA(null==e?"":Mm(e))},gA=1/0,Hg=function(e){if("string"==typeof e||Ie(e))return e;var t=e+"";return"0"==t&&1/e==-gA?"-0":t},ii=function(e,t){for(var n=0,r=(t=hi(t,e)).length;null!=e&&n<r;)e=e[Hg(t[n++])];return n&&n==r?e:void 0},hA=function(e,t){if(!(2>(t=hi(t,e)).length)){var n=t,r=0,o=-1,i=-1,a=n.length;for(0>r&&(r=-r>a?0:a+r),0>(o=o>a?a:o)&&(o+=a),a=r>o?0:o-r>>>0,r>>>=0,o=Array(a);++i<a;)o[i]=n[i+r];e=ii(e,o)}return(n=null==e)||(n=null==t?0:t.length,n=delete e[Hg(n?t[n-1]:void 0)]),n},ir=Function.prototype.toString,iA=Object.prototype.hasOwnProperty,jA=ir.call(Object),wn=function(e){return!(!Bc(e)||"[object Object]"!=le(e))&&(null===(e=el(e))||"function"==typeof(e=iA.call(e,"constructor")&&e.constructor)&&e instanceof e&&ir.call(e)==jA)},kA=function(e){return wn(e)?void 0:e},jr=gc?gc.isConcatSpreadable:void 0,mu=function(e){return pb(e)||Tf(e)||!!(jr&&e&&e[jr])},lA=function(e){return null!=e&&e.length?Mi(e,1):[]},mA=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},kr=Math.max,lr=function(e,t,n){return t=kr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=kr(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];for(o=-1,i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(a),mA(e,this,i)}},nA=function(e){return function(){return e}},ji=function(e){return e},oA=Date.now,mr=function(e){var t=0,n=0;return function(){var r=oA(),o=16-(r-n);if(n=r,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ei?function(e,t){return ei(e,"toString",{configurable:!0,enumerable:!1,value:nA(t),writable:!0})}:ji),kl=function(e){return mr(lr(e,void 0,lA),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=He(t,(function(t){return t=hi(t,e),r||(r=1<t.length),t})),Re(e,Km(e),n),r&&(n=Fe(n,7,kA));for(var o=t.length;o--;)hA(n,t[o]);return n})),pA=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r},un=function(e,t,n){for(var r=-1,o=Object(e),i=(n=n(e)).length;i--;){var a=n[++r];if(!1===t(o[a],a,o))break}return e},nr=function(e,t){return e&&un(e,t,Vd)},ll=function(e,t){return function(t,n){if(null==t)return t;if(!$d(t))return e(t,n);for(var r=t.length,o=-1,i=Object(t);++o<r&&!1!==n(i[o],o,i););return t}}(nr),qA=function(e,t,n,r){return ll(e,(function(e,o,i){t(r,e,n(e),i)})),r},or=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Om=function(e,t,n,r,o,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;c=i.get(e);var u=i.get(t);if(c&&u)return c==t&&u==e;c=-1,u=!0;var l=2&n?new Jf:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var d=e[c],f=t[c];if(r)var p=a?r(f,d,c,t,e,i):r(d,f,c,e,t,i);if(void 0!==p){if(p)continue;u=!1;break}if(l){if(!or(t,(function(e,t){if(!l.has(t)&&(d===e||o(d,e,n,r,i)))return l.push(t)}))){u=!1;break}}else if(d!==f&&!o(d,f,n,r,i)){u=!1;break}}return i.delete(e),i.delete(t),u},rA=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},pr=gc?gc.prototype:void 0,ml=pr?pr.valueOf:void 0,nu=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new gi(e),new gi(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Eg(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=rA;case"[object Set]":if(s||(s=Zk),e.size!=t.size&&!(1&r))break;return(n=a.get(e))?n==t:(r|=2,a.set(e,t),t=Om(s(e),s(t),r,o,i,a),a.delete(e),t);case"[object Symbol]":if(ml)return ml.call(e)==ml.call(t)}return!1},ou=Object.prototype.hasOwnProperty,Pm=Object.prototype.hasOwnProperty,sA=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{if(s=new Ge,r)var d=r(u,l,c,e,t,s);if(void 0===d?!Je(l,u,3,r,s):!d)return!1}}return!0},tA=function(e){for(var t=Vd(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o==o&&!Db(o)]}return t},qr=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},uA=function(e){var t=tA(e);return 1==t.length&&t[0][2]?qr(t[0][0],t[0][1]):function(n){return n===e||sA(n,e,t)}},vA=function(e,t){return jl(e)&&t==t&&!Db(t)?qr(Hg(e),t):function(n){var r=null==n?void 0:ii(n,e);if(void 0===(r=void 0===r?void 0:r)&&r===t){if(r=null!=n){for(var o=-1,i=(r=hi(r=e,n)).length,a=!1;++o<i;){var s=Hg(r[o]);if(!(a=null!=n&&null!=n&&s in Object(n)))break;n=n[s]}r=a||++o!=i?a:!!(i=null==n?0:n.length)&&bl(i)&&al(s,i)&&(pb(n)||Tf(n))}s=r}else s=Je(t,r,3);return s}},wA=function(e){return function(t){return null==t?void 0:t[e]}},xA=function(e){return function(t){return ii(t,e)}},tf=function(e){return"function"==typeof e?e:null==e?ji:"object"==oa(e)?pb(e)?vA(e[0],e[1]):uA(e):jl(e)?wA(Hg(e)):xA(e)},nl=function(e,t){return function(t,n){var r={};return(pb(t)?pA:qA)(t,e,tf(n),r)}}((function(e,t,n){Gg(e,n,t)})),hd=function(e,t){var n={};return t=tf(t),nr(e,(function(e,r,o){Gg(n,r,t(e,r,o))})),n};ba({target:"String",proto:!0,forced:ia((function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length}))},{sub:function(){return"<sub>"+String(Bb(this))+"</sub>"}});var ma=Oa,hc=null;try{hc=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(c){}Oa.prototype.__isLong__,Object.defineProperty(Oa.prototype,"__isLong__",{value:!0}),Oa.isLong=Eb;var Rm={},Qm={};Oa.fromInt=Wd,Oa.fromNumber=$b,Oa.fromBits=Pa;var Zg=Math.pow;Oa.fromString=Pi,Oa.fromValue=oc;var Ke=4294967296,Sm=Ke*Ke,Um=Sm/2,rr=Wd(16777216),ac=Wd(0);Oa.ZERO=ac;var Xd=Wd(0,!0);Oa.UZERO=Xd;var uf=Wd(1);Oa.ONE=uf;var sr=Wd(1,!0);Oa.UONE=sr;var ol=Wd(-1);Oa.NEG_ONE=ol;var Vm=Pa(-1,2147483647,!1);Oa.MAX_VALUE=Vm;var Tm=Pa(-1,-1,!0);Oa.MAX_UNSIGNED_VALUE=Tm;var Fb=Pa(0,-2147483648,!1);Oa.MIN_VALUE=Fb;var T=Oa.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*Ke+(this.low>>>0):this.high*Ke+(this.low>>>0)},T.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Fb)){var t=$b(e),n=this.div(t);return t=n.mul(t).sub(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}n=$b(Zg(e,6),this.unsigned),t=this;for(var r="";;){var o=t.div(n),i=(t.sub(o.mul(n)).toInt()>>>0).toString(e);if((t=o).isZero())return i+r;for(;6>i.length;)i="0"+i;r=""+i+r}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Fb)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&0>this.high},T.isPositive=function(){return this.unsigned||0<=this.high},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return Eb(e)||(e=oc(e)),(this.unsigned===e.unsigned||1!=this.high>>>31||1!=e.high>>>31)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return 0>this.comp(e)},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return 0>=this.comp(e)},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return 0<this.comp(e)},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return 0<=this.comp(e)},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(Eb(e)||(e=oc(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(Fb)?Fb:this.not().add(uf)},T.neg=T.negate,T.add=function(e){Eb(e)||(e=oc(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=e.high>>>16,i=65535&e.high,a=e.low>>>16;return r=(a=((e=(65535&this.low)+(65535&e.low))>>>16)+(r+a))>>>16,Pa((65535&a)<<16|65535&e,(t=((r+=n+i)>>>16)+(t+o)&65535)<<16|65535&r,this.unsigned)},T.subtract=function(e){return Eb(e)||(e=oc(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return ac;if(Eb(e)||(e=oc(e)),hc){var t=hc.mul(this.low,this.high,e.low,e.high);return Pa(t,hc.get_high(),this.unsigned)}if(e.isZero())return ac;if(this.eq(Fb))return e.isOdd()?Fb:ac;if(e.eq(Fb))return this.isOdd()?Fb:ac;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(rr)&&e.lt(rr))return $b(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=o*(e=65535&e.low),u=(c>>>16)+r*e,l=u>>>16;l+=(u=(65535&u)+o*s)>>>16;var d=(l+=n*e)>>>16;return Pa((65535&u)<<16|65535&c,(d=(d+=(l=(65535&l)+r*s)>>>16)+((l=(65535&l)+o*a)>>>16)+(t*e+n*s+r*a+o*i)&65535)<<16|65535&l,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(Eb(e)||(e=oc(e)),e.isZero())throw Error("division by zero");if(hc)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Pa(e=(this.unsigned?hc.div_u:hc.div_s)(this.low,this.high,e.low,e.high),hc.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Xd:ac;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Xd;if(e.gt(this.shru(1)))return sr;var t=Xd}else{if(this.eq(Fb)){if(e.eq(uf)||e.eq(ol))return Fb;if(e.eq(Fb))return uf;var n=this.shr(1).div(e).shl(1);if(n.eq(ac))return e.isNegative()?uf:ol;var r=this.sub(e.mul(n));return n.add(r.div(e))}if(e.eq(Fb))return this.unsigned?Xd:ac;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=ac}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var o=Math.ceil(Math.log(n)/Math.LN2);o=48>=o?1:Zg(2,o-48);for(var i=$b(n),a=i.mul(e);a.isNegative()||a.gt(r);)a=(i=$b(n-=o,this.unsigned)).mul(e);i.isZero()&&(i=uf),t=t.add(i),r=r.sub(a)}return t},T.div=T.divide,T.modulo=function(e){return Eb(e)||(e=oc(e)),hc?Pa(e=(this.unsigned?hc.rem_u:hc.rem_s)(this.low,this.high,e.low,e.high),hc.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return Pa(~this.low,~this.high,this.unsigned)},T.and=function(e){return Eb(e)||(e=oc(e)),Pa(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return Eb(e)||(e=oc(e)),Pa(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return Eb(e)||(e=oc(e)),Pa(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return Eb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Pa(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Pa(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return Eb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?Pa(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Pa(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(Eb(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return 32>e?Pa(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Pa(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?Pa(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:Pa(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Oa.fromBytes=function(e,t,n){return n?Oa.fromBytesLE(e,t):Oa.fromBytesBE(e,t)},Oa.fromBytesLE=function(e,t){return new Oa(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Oa.fromBytesBE=function(e,t){return new Oa(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Qi=function(e,t){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},pl=!1,bc={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):pl&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),pl=e},get useDeprecatedSynchronousErrorHandling(){return pl}},ki={closed:!0,next:function(e){},error:function(e){if(bc.useDeprecatedSynchronousErrorHandling)throw e;Me(e)},complete:function(){}},cc=Array.isArray||function(e){return e&&"number"==typeof e.length},Nf=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),kb=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var i=0;i<t.length;++i)t[i].remove(this);if(Le(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof Nf?Wm(e.errors):[e]}}if(cc(o))for(i=-1,t=o.length;++i<t;)if(Ri(n=o[i]))try{n.unsubscribe()}catch(e){a=a||[],e instanceof Nf?a=a.concat(Wm(e.errors)):a.push(e)}if(a)throw new Nf(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(oa(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),li="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),za=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=ki;break;case 1:if(!n){i.destination=ki;break}if("object"===oa(n)){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new tr(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new tr(i,n,r,o)}return i}return da(t,e),t.prototype[li]=function(){return this},t.create=function(e,n,r){return(e=new t(e,n,r)).syncErrorThrowable=!1,e},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=e,this},t}(kb),tr=function(e){function t(t,n,r,o){var i=e.call(this)||this;if(i._parentSubscriber=t,t=i,Le(n))var a=n;else n&&(a=n.next,r=n.error,o=n.complete,n!==ki&&(Le((t=Object.create(n)).unsubscribe)&&i.add(t.unsubscribe.bind(t)),t.unsubscribe=i.unsubscribe.bind(i)));return i._context=t,i._next=a,i._error=r,i._complete=o,i}return da(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;bc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=bc.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Me(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Me(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};bc.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,n):this.__tryOrUnsub(n)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),bc.useDeprecatedSynchronousErrorHandling)throw e;Me(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!bc.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{t.call(this._context,n)}catch(t){return bc.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):Me(t),!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._parentSubscriber=this._context=null,e.unsubscribe()},t}(za),Ne="function"==typeof Symbol&&Symbol.observable||"@@observable",ra=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator;e:{if(e){if(e instanceof za)break e;if(e[li]){e=e[li]();break e}}e=e||t||n?new za(e,t,n):new za(ki)}if(r?e.add(r.call(e,this.source)):e.add(this.source||bc.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),bc.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){bc.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Si(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Ym(t))((function(t,r){var o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Ne]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Xm(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Ym(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}(),Kd=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),ur=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return da(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1)}},t}(kb),vr=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return da(t,e),t}(za),nb=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return da(t,e),t.prototype[li]=function(){return new vr(this)},t.prototype.lift=function(e){var t=new wr(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Kd;if(!this.isStopped){var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].next(e)}},t.prototype.error=function(e){if(this.closed)throw new Kd;this.hasError=!0,this.thrownError=e,this.isStopped=!0;var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Kd;this.isStopped=!0;var e=this.observers,t=e.length;e=e.slice();for(var n=0;n<t;n++)e[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Kd;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Kd;return this.hasError?(e.error(this.thrownError),kb.EMPTY):this.isStopped?(e.complete(),kb.EMPTY):(this.observers.push(e),new ur(this,e))},t.prototype.asObservable=function(){var e=new ra;return e.source=this,e},t.create=function(e,t){return new wr(e,t)},t}(ra),wr=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return da(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):kb.EMPTY},t}(nb),pu=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;return n._refCount++,e=new yA(e,n),t=t.subscribe(e),e.closed||(e.connection=n.connect()),t},e}(),yA=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return da(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null},t}(za),xr=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return da(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new kb).add(this.source.subscribe(new zA(this.getSubject(),this))),e.closed&&(this._connection=null,e=kb.EMPTY)),e},t.prototype.refCount=function(){return Zm()(this)},t}(ra),bv=function(){var e=xr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),zA=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return da(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(vr);!function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}da(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null}}(za),function(e){function t(t,n,r,o,i){return(t=e.call(this,t)||this).keySelector=n,t.elementSelector=r,t.durationSelector=o,t.subjectSelector=i,t.groups=null,t.attemptedToUnsubscribe=!1,t.count=0,t}da(t,e),t.prototype._next=function(e){try{var t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r=n.get(t);if(this.elementSelector)try{var o=this.elementSelector(e)}catch(e){this.error(e)}else o=e;if(!r&&(r=this.subjectSelector?this.subjectSelector():new nb,n.set(t,r),e=new ql(t,r,this),this.destination.next(e),this.durationSelector)){e=void 0;try{e=this.durationSelector(new ql(t,r))}catch(e){return void this.error(e)}this.add(e.subscribe(new AA(t,r,this)))}r.closed||r.next(o)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))}}(za);var AA=function(e){function t(t,n,r){var o=e.call(this,n)||this;return o.key=t,o.group=n,o.parent=r,o}return da(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(za),ql=function(e){function t(t,n,r){var o=e.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=r,o}return da(t,e),t.prototype._subscribe=function(e){var t=new kb,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new BA(n)),t.add(r.subscribe(e)),t},t}(ra),BA=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return da(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(kb),CA=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return da(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Kd;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(nb),Ig=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return da(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return da(t,e),t.prototype.schedule=function(e,t){return this},t}(kb)),DA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return da(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),0<n?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return 0<n||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(Ig),rl=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Jg=function(e){function t(n,r){void 0===r&&(r=rl.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return da(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(rl),Kg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t}(Jg))(DA),Nb=new ra((function(e){return e.complete()})),$m=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},sl;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(sl||(sl={}));var vf=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return wb(this.value);case"E":return pa(this.error);case"C":return Of()}throw Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),tu=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new yr(e,this.scheduler,this.delay))},e}(),yr=function(e){function t(t,n,r){return void 0===r&&(r=0),(t=e.call(this,t)||this).scheduler=n,t.delay=r,t}return da(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new EA(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(vf.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(vf.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(vf.createComplete()),this.unsubscribe()},t}(za),EA=function(e,t){this.notification=e,this.destination=t},Qe=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=e.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=1>t?1:t,o._windowTime=1>n?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return da(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new FA(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=n.length;if(this.closed)throw new Kd;if(this.isStopped||this.hasError)var i=kb.EMPTY;else this.observers.push(e),i=new ur(this,e);if(r&&e.add(e=new yr(e,r)),t)for(t=0;t<o&&!e.closed;t++)e.next(n[t]);else for(t=0;t<o&&!e.closed;t++)e.next(n[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),i},t.prototype._getNow=function(){return(this.scheduler||Kg).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),0<i&&r.splice(0,i),r},t}(nb),FA=function(e,t){this.time=e,this.value=t},Qf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return da(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),kb.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),kb.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(nb),GA=1,HA=Promise.resolve(),Vi={},zr={setImmediate:function(e){var t=GA++;return Vi[t]=!0,HA.then((function(){return an(t)&&e()})),t},clearImmediate:function(e){an(e)}},IA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return da(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=zr.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(zr.clearImmediate(n),t.scheduled=void 0)},t}(Ig),ej=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(Jg))(IA),JA=ej,tl=new Jg(Ig),xd=tl,KA=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return da(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(Ig),Ar=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(Jg))(KA),LA=function(e){function t(t,n){void 0===t&&(t=Br),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return da(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(Jg),Br=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=r,o.active=!0,o.index=t.index=r,o}return da(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),this.delay=e.frame+r,(e=e.actions).push(this),e.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(Ig),ul=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),bh=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Pb=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),uu=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new MA(e,this.project,this.thisArg))},e}(),MA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).project=n,t.count=0,t.thisArg=r||t,t}return da(t,e),t.prototype._next=function(e){try{var t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(za),vl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(za),zu=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return da(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(za),NA=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Me),t}},vd="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",OA=function(e){return function(t){for(var n=e[vd]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},PA=function(e){return function(t){var n=e[Ne]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},gn=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},Rf=function(e){if(e&&"function"==typeof e[Ne])return PA(e);if(gn(e))return $m(e);if(en(e))return NA(e);if(e&&"function"==typeof e[vd])return OA(e);throw e=Ri(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Cr={},RA=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new QA(e,this.resultSelector))},e}(),QA=function(e){function t(t,n){return(t=e.call(this,t)||this).resultSelector=n,t.active=0,t.values=[],t.observables=[],t}return da(t,e),t.prototype._next=function(e){this.values.push(Cr),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.toRespond=this.active=t;for(var n=0;n<t;n++)this.add(Wi(this,e[n],void 0,n))}},t.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=(e=this.values)[n];r=this.toRespond?r===Cr?--this.toRespond:this.toRespond:0,e[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(e):this.destination.next(e.slice()))},t.prototype._tryResultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(vl),id=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return da(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(za);!function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o}da(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(za);var jd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(za);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}da(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(za);var Du=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new SA(e,this.project,this.concurrent))},e}(),SA=function(e){function t(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),(t=e.call(this,t)||this).project=n,t.concurrent=r,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return da(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var t=new id(this),n=this.destination;n.add(t),(e=Yc(e,t))!==t&&n.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(jd),wl=Q.parseFloat,Dr=-1/0!=1/wl("\t\n\v\f\r                　\u2028\u2029\ufeff-0")?function(e){e=Ij(String(e));var t=wl(e);return 0===t&&"-"==e.charAt(0)?-0:t}:wl;ba({global:!0,forced:parseFloat!=Dr},{parseFloat:Dr});var xl=new ra(Cc),Iu=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new TA(e,this.predicate,this.thisArg))},e}(),TA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).predicate=n,t.thisArg=r,t.count=0,t}return da(t,e),t.prototype._next=function(e){try{var t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(za),Ju=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new UA(e))},e}(),UA=function(e){function t(t){return(t=e.call(this,t)||this).hasFirst=!1,t.observables=[],t.subscriptions=[],t}return da(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=Wi(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){for(this.hasFirst=!0,e=0;e<this.subscriptions.length;e++)if(e!==n){var r=this.subscriptions[e];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)},t}(vl),Mu=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new VA(e,this.resultSelector))},e}(),VA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).resultSelector=n,t.iterators=[],t.active=0,t.resultSelector="function"==typeof n?n:void 0,t}return da(t,e),t.prototype._next=function(e){var t=this.iterators;cc(e)?t.push(new WA(e)):"function"==typeof e[vd]?t.push(new XA(e[vd]())):t.push(new YA(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var o=e[r];if("function"==typeof o.hasValue&&!o.hasValue())return}var i=!1,a=[];for(r=0;r<t;r++){var s=(o=e[r]).next();if(o.hasCompleted()&&(i=!0),s.done)return void n.complete();a.push(s.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),i&&n.complete()},t.prototype._tryresultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(za),XA=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},e}(),WA=function(){function e(e){this.array=e,this.length=this.index=0,this.length=e.length}return e.prototype[vd]=function(){return this},e.prototype.next=function(e){e=this.index++;var t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),YA=function(e){function t(t,n,r){return(t=e.call(this,t)||this).parent=n,t.observable=r,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return da(t,e),t.prototype[vd]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Yc(this.observable,new id(this))},t}(jd),ZA=Object.freeze({__proto__:null,Observable:ra,ConnectableObservable:xr,GroupedObservable:ql,observable:Ne,Subject:nb,BehaviorSubject:CA,ReplaySubject:Qe,AsyncSubject:Qf,asap:JA,asapScheduler:ej,async:xd,asyncScheduler:tl,queue:Kg,queueScheduler:Kg,animationFrame:Ar,animationFrameScheduler:Ar,VirtualTimeScheduler:LA,VirtualAction:Br,Scheduler:rl,Subscription:kb,Subscriber:za,Notification:vf,get NotificationKind(){return sl},pipe:Ti,noop:Cc,identity:td,isObservable:function(e){return!!e&&(e instanceof ra||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:ul,EmptyError:bh,ObjectUnsubscribedError:Kd,UnsubscriptionError:Nf,TimeoutError:Pb,bindCallback:bn,bindNodeCallback:cn,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=t=void 0;return ud(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&cc(e[0])&&(e=e[0]),Pf(e,n).lift(new RA(t))},concat:hn,defer:wd,empty:Of,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(cc(n))return ah(n,null);if(Ri(n)&&Object.getPrototypeOf(n)===Object.prototype)return ah((e=Object.keys(n)).map((function(e){return n[e]})),e)}if("function"==typeof e[e.length-1]){var r=e.pop();return ah(e=1===e.length&&cc(e[0])?e[0]:e,null).pipe(Da((function(e){return r.apply(void 0,e)})))}return ah(e,null)},from:Dc,fromEvent:Gb,fromEventPattern:kn,generate:function(e,t,n,r,o){if(1==arguments.length){var i=e.initialState;t=e.condition,n=e.iterate;var a=e.resultSelector||td;o=e.scheduler}else void 0===r||ud(r)?(i=e,a=td,o=r):(i=e,a=r);return new ra((function(e){var r=i;if(o)return o.schedule(Eu,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var s=void 0;try{s=t(r)}catch(t){e.error(t);break}if(!s){e.complete();break}}s=void 0;try{s=a(r)}catch(t){e.error(t);break}if(e.next(s),e.closed)break;try{r=n(r)}catch(t){e.error(t);break}}}))},iif:function(e,t,n){return void 0===t&&(t=Nb),void 0===n&&(n=Nb),wd((function(){return e()?t:n}))},interval:ln,merge:Ec,never:function(){return xl},of:wb,onErrorResumeNext:Yi,pairs:function(e,t){return new ra(t?function(n){var r=Object.keys(e),o=new kb;return o.add(t.schedule(Gu,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var o=n[r];e.hasOwnProperty(o)&&t.next([o,e[o]])}t.complete()})},partition:function(e,t,n){return[Ob(t,n)(new ra(Rf(e))),Ob(Hu(t,n))(new ra(Rf(e)))]},race:ab,range:function(e,t,n){return void 0===e&&(e=0),new ra((function(r){void 0===t&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(Ku,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}}))},throwError:pa,timer:Zc,using:function(e,t){return new ra((function(n){try{var r=e()}catch(e){return void n.error(e)}try{var o=t(r)}catch(e){return void n.error(e)}var i=(o?Dc(o):Nb).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}}))},zip:Zi,scheduled:fn,EMPTY:Nb,NEVER:xl,config:bc}),Nu=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new $A(e,this.selector,this.caught))},e}(),$A=function(e){function t(t,n,r){return(t=e.call(this,t)||this).selector=n,t.caught=r,t}return da(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),t=new id(this),this.add(t),(n=Yc(n,t))!==t&&this.add(n)}},t}(jd),Ou=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new aB(e,this.defaultValue))},e}(),aB=function(e){function t(t,n){return(t=e.call(this,t)||this).defaultValue=n,t.isEmpty=!0,t}return da(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(za),Pu=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new bB(e,this.delay,this.scheduler))},e}(),bB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).delay=n,t.scheduler=r,t.queue=[],t.active=!1,t.errored=!1,t}return da(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;0<n.length&&0>=n[0].time-r.now();)n.shift().notification.observe(o);0<n.length?(t=Math.max(0,n[0].time-r.now()),this.schedule(e,t)):(this.unsubscribe(),t.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler;e=new cB(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(vf.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(vf.createComplete()),this.unsubscribe()},t}(za),cB=function(e,t){this.time=e,this.notification=t},Qu=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new dB(e,this.keySelector,this.flushes))},e}(),dB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).keySelector=n,t.values=new Set,r&&t.add(Yc(r,new id(t))),t}return da(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t=this.destination;try{var n=this.keySelector(e)}catch(e){return void t.error(e)}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(jd),Su=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new eB(e,this.errorFactory))},e}(),eB=function(e){function t(t,n){return(t=e.call(this,t)||this).errorFactory=n,t.hasValue=!1,t}return da(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(za),Tu=function(){function e(e){if(this.total=e,0>this.total)throw new ul}return e.prototype.call=function(e,t){return t.subscribe(new fB(e,this.total))},e}(),fB=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.count=0,t}return da(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(za),Uu=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new gB(e,this.callback))},e}(),gB=function(e){function t(t,n){return(t=e.call(this,t)||this).add(new kb(n)),t}return da(t,e),t}(za),Wu=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new hB(e))},e}(),hB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.prototype._next=function(e){},t}(za),Xu=function(){function e(e){if(this.total=e,0>this.total)throw new ul}return e.prototype.call=function(e,t){return t.subscribe(new iB(e,this.total))},e}(),iB=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.ring=[],t.count=0,t}return da(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=t++%n;e.next(r[i])}e.complete()},t}(za),Yu=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new jB(e,this.value))},e}(),jB=function(e){function t(t,n){return(t=e.call(this,t)||this).value=n,t}return da(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(za),Zu=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new kB(e,this.accumulator,this.seed,this.hasSeed))},e}(),kB=function(e){function t(t,n,r,o){return(t=e.call(this,t)||this).accumulator=n,t._seed=r,t.hasSeed=o,t.index=0,t}return da(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=n,this.destination.next(n)},t}(za),av=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory();return(e=n(r).subscribe(e)).add(t.subscribe(r)),e},e}(),cv=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new lB(e,this.notifier,this.source))},e}(),lB=function(e){function t(t,n,r){return(t=e.call(this,t)||this).notifier=n,t.source=r,t}return da(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.retriesSubscription=this.errors=void 0;else{n=new nb;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}o=Yc(r,new id(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(jd),fv=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new mB(e,this.project))},e}(),mB=function(e){function t(t,n){return(t=e.call(this,t)||this).project=n,t.index=0,t}return da(t,e),t.prototype._next=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this._innerSub(n)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),t=new id(this);var n=this.destination;n.add(t),this.innerSubscription=Yc(e,t),this.innerSubscription!==t&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(jd),gv=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){e=new nB(e);var n=Yc(this.notifier,new id(e));return n&&!e.seenValue?(e.add(n),t.subscribe(e)):e},e}(),nB=function(e){function t(t){return(t=e.call(this,t)||this).seenValue=!1,t}return da(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(jd),hv=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new oB(e,this.nextOrObserver,this.error,this.complete))},e}(),oB=function(e){function t(t,n,r,o){return(t=e.call(this,t)||this)._tapNext=Cc,t._tapError=Cc,t._tapComplete=Cc,t._tapError=r||Cc,t._tapComplete=o||Cc,Le(n)?(t._context=t,t._tapNext=n):n&&(t._context=n,t._tapNext=n.next||Cc,t._tapError=n.error||Cc,t._tapComplete=n.complete||Cc),t}return da(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(za),jv={leading:!0,trailing:!1};!function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.destination=t,i.durationSelector=n,i._leading=r,i._trailing=o,i._hasValue=!1,i}da(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._sendValue;this._hasValue&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){(e=this.tryDurationSelector(e))&&this.add(this._throttled=Yc(e,new id(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()}}(jd);for(var kv=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new pB(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),pB=function(e){function t(t,n,r,o,i){return(t=e.call(this,t)||this).duration=n,t.scheduler=r,t.leading=o,t.trailing=i,t._hasTrailingValue=!1,t._trailingValue=null,t}return da(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(lv,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(za),nv=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new qB(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),qB=function(e){function t(t,n,r,o,i){return(t=e.call(this,t)||this).absoluteTimeout=n,t.waitFor=r,t.withObservable=o,t.scheduler=i,t.scheduleTimeout(),t}return da(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Yc(t,new id(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(jd),pv=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new rB(e,this.observables,this.project))},e}(),rB=function(e){function t(t,n,r){(t=e.call(this,t)||this).observables=n,t.project=r,t.toRespond=[],r=n.length,t.values=Array(r);for(var o=0;o<r;o++)t.toRespond.push(o);for(o=0;o<r;o++)t.add(Wi(t,n[o],void 0,o));return t}return da(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t,0<(e=this.toRespond).length&&-1!==(n=e.indexOf(n))&&e.splice(n,1)},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){0===this.toRespond.length&&(e=[e].concat(this.values),this.project?this._tryProject(e):this.destination.next(e))},t.prototype._tryProject=function(e){try{var t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(vl),Er=tb((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),ub=[],mi=0;256>mi;++mi)ub[mi]=(mi+256).toString(16).substr(1);var Fr=function(e,t){return t=t||0,[ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],"-",ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]],ub[e[t++]]].join("")},Lg=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||Er)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||Fr(e)},Mg=Lg(),aj=!1,sn=new AbortController,kd,Ld,yl,zl,Md,pe,yc,wf,ic,Al,ld,qe,md,nd,od,xf;!function(e){e[e.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"}(kd||(kd={})),function(e){e[e.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",e[e.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Ld||(Ld={})),function(e){e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(yl||(yl={})),function(e){e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(zl||(zl={})),function(e){e[e.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",e[e.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",e[e.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",e[e.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(Md||(Md={})),function(e){e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",e[e.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",e[e.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",e[e.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(pe||(pe={})),function(e){e[e.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",e[e.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",e[e.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",e[e.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(yc||(yc={})),function(e){e[e.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",e[e.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(wf||(wf={})),function(e){e[e.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",e[e.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",e[e.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",e[e.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",e[e.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",e[e.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",e[e.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",e[e.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",e[e.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",e[e.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",e[e.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(ic||(ic={})),function(e){e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(Al||(Al={})),function(e){e[e.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",e[e.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",e[e.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",e[e.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(ld||(ld={})),function(e){e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(qe||(qe={})),function(e){e[e.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",e[e.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",e[e.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",e[e.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(md||(md={})),function(e){e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(nd||(nd={})),function(e){e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(od||(od={})),function(e){e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(xf||(xf={}));var jc=kd.ATTRIBUTE_OPERATION_ERR_FAILURE,bb=kd.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,Se=kd.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;kd.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var Gr=kd.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,kc=kd.ATTRIBUTE_OPERATION_ERR_TIMEOUT,lc=kd.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,ni=Ld.CHANNEL_MESSAGE_ERR_FAILURE,Bl=Ld.CHANNEL_MESSAGE_ERR_TIMEOUT,Hr=Ld.CHANNEL_MESSAGE_ERR_TOO_OFTEN,Cl=Ld.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,sB=Ld.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,Dl=Ld.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,tB=yl.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,Ir=zl.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;nd.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var Jr=nd.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;nd.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var Kr=nd.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,uB=nd.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;nd.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var vB=nd.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,wB=Md.GET_MEMBERS_ERR_FAILURE,xB=Md.GET_MEMBERS_ERR_REJECTED;Md.GET_MEMBERS_ERR_TIMEOUT,Md.GET_MEMBERS_ERR_TOO_OFTEN;var yB=Md.GET_MEMBERS_ERR_NOT_IN_CHANNEL,zB=Md.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,Tc=pe.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,AB=pe.INVITATION_API_CALL_ERR_NOT_STARTED,oi=pe.INVITATION_API_CALL_ERR_ALREADY_END,Lr=pe.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,BB=pe.INVITATION_API_CALL_ERR_ALREADY_SENT,Mr=yc.JOIN_CHANNEL_ERR_FAILURE;yc.JOIN_CHANNEL_ERR_REJECTED;var CB=yc.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,Nr=yc.JOIN_CHANNEL_TIMEOUT,Or=yc.JOIN_CHANNEL_ERR_EXCEED_LIMIT,Pr=yc.JOIN_CHANNEL_ERR_ALREADY_JOINED;yc.JOIN_CHANNEL_ERR_TOO_OFTEN;var Qr=yc.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Rr=yc.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Sr=wf.LEAVE_CHANNEL_ERR_FAILURE,Tr=wf.LEAVE_CHANNEL_ERR_REJECTED,DB=wf.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,EB=wf.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,Ur=ic.LOGIN_ERR_UNKNOWN,Ng=ic.LOGIN_ERR_REJECTED,pi=ic.LOGIN_ERR_INVALID_ARGUMENT,Vr=ic.LOGIN_ERR_INVALID_APP_ID,Wr=ic.LOGIN_ERR_INVALID_TOKEN,qi=ic.LOGIN_ERR_TOKEN_EXPIRED;ic.LOGIN_ERR_NOT_AUTHORIZED;var FB=ic.LOGIN_ERR_ALREADY_LOGIN,GB=ic.LOGIN_ERR_TIMEOUT,HB=ic.LOGIN_ERR_TOO_OFTEN,Xr=Al.LOGOUT_ERR_USER_NOT_LOGGED_IN,Yr=ld.PEER_MESSAGE_ERR_FAILURE,El=ld.PEER_MESSAGE_ERR_TIMEOUT,Zr=ld.PEER_MESSAGE_ERR_TOO_OFTEN,$r=ld.PEER_MESSAGE_ERR_INVALID_USERID,Xf=ld.PEER_MESSAGE_ERR_INVALID_MESSAGE,Fl=ld.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;ld.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var as=qe.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;qe.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var IB=qe.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;qe.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var JB=qe.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,Gl=md.RENEW_TOKEN_ERR_FAILURE,KB=md.RENEW_TOKEN_ERR_INVALID_ARGUMENT;md.RENEW_TOKEN_ERR_REJECTED,md.RENEW_TOKEN_ERR_TOO_OFTEN;var LB=md.RENEW_TOKEN_ERR_TOKEN_EXPIRED,MB=md.RENEW_TOKEN_ERR_INVALID_TOKEN,bs=md.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,cs=od.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,Og=od.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;od.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var NB=od.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;od.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var ds=od.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,Hl=od.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,xf.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var OB=function(e,t){var n;return ll(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n},ri=function(e,t,n){if(!Db(n))return!1;var r=oa(t);return!!("number"==r?$d(n)&&al(t,n.length):"string"==r&&t in n)&&Eg(n[t],e)},Il=function(e,t,n){var r=pb(e)?or:OB;return n&&ri(e,t,n)&&(t=void 0),r(e,tf(t))},PB=function(e,t){var n=-1,r=$d(e)?Array(e.length):[];return ll(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},QB=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},RB=function(e,t,n){t=t.length?He(t,(function(e){return pb(e)?function(t){return ii(t,1===e.length?e[0]:e)}:e})):[ji];var r=-1;return t=He(t,fi(tf)),e=PB(e,(function(e,n,o){return{criteria:He(t,(function(t){return t(e)})),index:++r,value:e}})),QB(e,(function(e,t){e:{for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){t:{var c=o[r],u=i[r];if(c!==u){var l=void 0!==c,d=null===c,f=c==c,p=Ie(c),h=void 0!==u,g=null===u,v=u==u,m=Ie(u);if(!g&&!m&&!p&&c>u||p&&h&&v&&!g&&!m||d&&h&&v||!l&&v||!f){c=1;break t}if(!d&&!p&&!m&&c<u||m&&l&&f&&!d&&!p||g&&l&&f||!h&&f||!v){c=-1;break t}}c=0}if(c){e=r>=s?c:c*("desc"==n[r]?-1:1);break e}}e=e.index-t.index}return e}))},es=function(e,t){return mr(lr(e,t,ji),e+"")},fs=es((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&ri(e,t[0],t[1])?t=[]:2<n&&ri(t[0],t[1],t[2])&&(t=[t[0]]),RB(e,Mi(t,1),[])})),gs=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}(ZA),hs=tb((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=function(e,t){return new WebSocket(e,t)};t.normalClosureMessage="Normal closure",t.default=function(e,o){var i=(o=void 0===o?{protocols:n,makeWebSocket:r}:o).protocols,a=void 0===i?n:i,s=void 0===(o=o.makeWebSocket)?r:o;return new gs.Observable((function(n){var r,o=new gs.Subject,i=s(e,a),c=!1,u=!1,l=function(e){if(r)throw c=!0,e=Error("Web socket message factory function called more than once"),n.error(e),e;return r=e.subscribe((function(e){i.send(e)})),o};return i.onopen=function(){u?(c=!0,i.close()):n.next(l)},i.onmessage=function(e){o.next(e.data)},i.onerror=function(e){c=!0,n.error(Error(e.message))},i.onclose=function(e){c||(c=!0,u?(n.complete(),o.complete()):n.error(Error(1e3===e.code?t.normalClosureMessage:e.reason)))},function(){u=!0,r&&r.unsubscribe(),c||(c=!0,i.close())}}))}}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(hs);var cj=function(e,t,n){(void 0===n||Eg(e[t],n))&&(void 0!==n||t in e)||Gg(e,t,n)},bj=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},SB=function(e){return es((function(t,n){var r=-1,o=n.length,i=1<o?n[o-1]:void 0,a=2<o?n[2]:void 0;for(i=3<e.length&&"function"==typeof i?(o--,i):void 0,a&&ri(n[0],n[1],a)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;)(a=n[r])&&e(t,a,r,i);return t}))}((function(e,t,n,r){tn(e,t,n,r)})),TB=Math.floor,UB=Math.random,is=function(e,t){return e+TB(UB()*(t-e+1))},js=function(e){var t=e.length;return t?e[is(0,t-1)]:void 0},VB=function(e,t){return He(t,(function(t){return e[t]}))},tj=function(e){return null==e?[]:VB(e,Vd(e))},WB=function(e){return js(tj(e))},Xn=function(e){return(pb(e)?js:WB)(e)},xn=[],yn=function(e,t){return new WebSocket(e,t)},XB=Math.floor;ba({target:"Number",stat:!0},{isInteger:function(e){return!va(e)&&isFinite(e)&&XB(e)===e}}),Mp("from",mk,lk);var YB=function(e,t){for(var n=Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,a(e))}}))},ZB=tb((function(e,t){t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};var n=Array(64),r=Array(123);for(e=0;64>e;)r[n[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(e,t,r){for(var o,i=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=n[u>>2],o=(3&u)<<4,c=1;break;case 1:a[s++]=n[o|u>>4],o=(15&u)<<2,c=2;break;case 2:a[s++]=n[o|u>>6],a[s++]=n[63&u],c=0}8191<s&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=n[o],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))},t.decode=function(e,t,n){for(var o,i=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&1<a)break;if(void 0===(c=r[c]))throw Error("invalid encoding");switch(a){case 0:o=c,a=1;break;case 1:t[n++]=o<<2|(48&c)>>4,o=c,a=2;break;case 2:t[n++]=(15&o)<<4|(60&c)>>2,o=c,a=3;break;case 3:t[n++]=(3&o)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}));eh.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},eh.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else{e=this._listeners[e];for(var n=0;n<e.length;)e[n].fn===t?e.splice(n,1):++n}return this},eh.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var $B=zn(zn),aC=function(c){try{var b=eval("quire".replace(/^/,"re"))(c);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},bC=tb((function(e,t){t.length=function(e){for(var t,n=0,r=0;r<e.length;++r)128>(t=e.charCodeAt(r))?n+=1:2048>t?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},t.read=function(e,t,n){if(1>n-t)return"";for(var r,o=null,i=[],a=0;t<n;)128>(r=e[t++])?i[a++]=r:191<r&&224>r?i[a++]=(31&r)<<6|63&e[t++]:239<r&&365>r?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},t.write=function(e,t,n){for(var r,o,i=n,a=0;a<e.length;++a)128>(r=e.charCodeAt(a))?t[n++]=r:(2048>r?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-i}})),cC=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){return 1>n||n>o?e(n):(a+n>r&&(i=e(r),a=0),n=t.call(i,a,a+=n),7&a&&(a=1+(7|a)),n)}},re=qb.zero=new qb(0,0);re.toNumber=function(){return 0},re.zzEncode=re.zzDecode=function(){return this},re.length=function(){return 1};var dC=qb.zeroHash="\0\0\0\0\0\0\0\0";qb.fromNumber=function(e){if(0===e)return re;var t=0>e;t&&(e=-e);var n=e>>>0;return e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new qb(n,e)},qb.from=function(e){if("number"==typeof e)return qb.fromNumber(e);if(na.isString(e)){if(!na.Long)return qb.fromNumber(parseInt(e,10));e=na.Long.fromString(e)}return e.low||e.high?new qb(e.low>>>0,e.high>>>0):re},qb.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},qb.prototype.toLong=function(e){return na.Long?new na.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var Nd=String.prototype.charCodeAt;qb.fromHash=function(e){return e===dC?re:new qb((Nd.call(e,0)|Nd.call(e,1)<<8|Nd.call(e,2)<<16|Nd.call(e,3)<<24)>>>0,(Nd.call(e,4)|Nd.call(e,5)<<8|Nd.call(e,6)<<16|Nd.call(e,7)<<24)>>>0)},qb.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},qb.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},qb.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},qb.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>n?9:10};var na=tb((function(e,t){function n(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=YB,t.base64=ZB,t.EventEmitter=eh,t.float=$B,t.inquire=aC,t.utf8=bC,t.pool=cC,t.LongBits=qb,t.isNode=!!(void 0!==Va&&Va&&Va.process&&Va.process.versions&&Va.process.versions.node),t.global=t.isNode&&Va||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||Va,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===oa(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==oa(n)||0<(Array.isArray(n)?n.length:Object.keys(n).length))},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){return e=t.LongBits.fromHash(e),t.Long?t.Long.fromBits(e.lo,e.hi,n):e.toNumber(!!n)},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),kj=xa,Jl,si=na.LongBits,ks=na.base64,ls=na.utf8,ms=function(){return na.Buffer?function(){return(xa.create=function(){return new Jl})()}:function(){return new xa}};xa.create=ms(),xa.alloc=function(e){return new na.Array(e)},na.Array!==Array&&(xa.alloc=na.pool(xa.alloc,na.Array.prototype.subarray)),xa.prototype._push=function(e,t,n){return this.tail=this.tail.next=new Uf(e,t,n),this.len+=t,this},hj.prototype=Object.create(Uf.prototype),hj.prototype.fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},xa.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new hj(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},xa.prototype.int32=function(e){return 0>e?this._push(ij,10,si.fromNumber(e)):this.uint32(e)},xa.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},xa.prototype.uint64=function(e){return e=si.from(e),this._push(ij,e.length(),e)},xa.prototype.int64=xa.prototype.uint64,xa.prototype.sint64=function(e){return e=si.from(e).zzEncode(),this._push(ij,e.length(),e)},xa.prototype.bool=function(e){return this._push(gj,1,e?1:0)},xa.prototype.fixed32=function(e){return this._push(jj,4,e>>>0)},xa.prototype.sfixed32=xa.prototype.fixed32,xa.prototype.fixed64=function(e){return e=si.from(e),this._push(jj,4,e.lo)._push(jj,4,e.hi)},xa.prototype.sfixed64=xa.prototype.fixed64,xa.prototype.float=function(e){return this._push(na.float.writeFloatLE,4,e)},xa.prototype.double=function(e){return this._push(na.float.writeDoubleLE,8,e)};var eC=na.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};xa.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(gj,1,0);if(na.isString(e)){var n=xa.alloc(t=ks.length(e));ks.decode(e,n,0),e=n}return this.uint32(t)._push(eC,t,e)},xa.prototype.string=function(e){var t=ls.length(e);return t?this.uint32(t)._push(ls.write,t,e):this._push(gj,1,0)},xa.prototype.fork=function(){return this.states=new sv(this),this.head=this.tail=new Uf(fj,0,0),this.len=0,this},xa.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Uf(fj,0,0),this.len=0),this},xa.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},xa.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},xa._configure=function(e){Jl=e,xa.create=ms(),Jl._configure()},(Hc.prototype=Object.create(kj.prototype)).constructor=Hc,Hc._configure=function(){Hc.alloc=na._Buffer_allocUnsafe,Hc.writeBytesBuffer=na.Buffer&&na.Buffer.prototype instanceof Uint8Array&&"set"===na.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},Hc.prototype.bytes=function(e){na.isString(e)&&(e=na._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Hc.writeBytesBuffer,t,e),this},Hc.prototype.string=function(e){var t=na.Buffer.byteLength(e);return this.uint32(t),t&&this._push(tv,t,e),this},Hc._configure();var mj=eb,Kl,En=na.LongBits,fC=na.utf8,ns="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new eb(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new eb(e);throw Error("illegal buffer")},os=function(){return na.Buffer?function(e){return(eb.create=function(e){return na.Buffer.isBuffer(e)?new Kl(e):ns(e)})(e)}:ns};eb.create=os(),eb.prototype._slice=na.Array.prototype.subarray||na.Array.prototype.slice,eb.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++])return e;if((this.pos+=5)>this.len)throw this.pos=this.len,pc(this,10);return e}}(),eb.prototype.int32=function(){return 0|this.uint32()},eb.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},eb.prototype.bool=function(){return 0!==this.uint32()},eb.prototype.fixed32=function(){if(this.pos+4>this.len)throw pc(this,4);return fh(this.buf,this.pos+=4)},eb.prototype.sfixed32=function(){if(this.pos+4>this.len)throw pc(this,4);return 0|fh(this.buf,this.pos+=4)},eb.prototype.float=function(){if(this.pos+4>this.len)throw pc(this,4);var e=na.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},eb.prototype.double=function(){if(this.pos+8>this.len)throw pc(this,4);var e=na.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},eb.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw pc(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},eb.prototype.string=function(){var e=this.bytes();return fC.read(e,0,e.length)},eb.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw pc(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw pc(this)}while(128&this.buf[this.pos++]);return this},eb.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},eb._configure=function(e){Kl=e,eb.create=os(),Kl._configure();var t=na.Long?"toLong":"toNumber";na.merge(eb.prototype,{int64:function(){return lj.call(this)[t](!1)},uint64:function(){return lj.call(this)[t](!0)},sint64:function(){return lj.call(this).zzDecode()[t](!1)},fixed64:function(){return Fn.call(this)[t](!0)},sfixed64:function(){return Fn.call(this)[t](!1)}})},(ae.prototype=Object.create(mj.prototype)).constructor=ae,ae._configure=function(){na.Buffer&&(ae.prototype._slice=na.Buffer.prototype.slice)},ae.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},ae._configure(),(Vf.prototype=Object.create(na.EventEmitter.prototype)).constructor=Vf,Vf.prototype.rpcCall=function e(t,n,r,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return na.asPromise(e,a,t,n,r,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return a.emit("error",e,t),i(e);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),i(e)}return a.emit("data",n,t),i(null,n)}a.end(!0)}))}catch(e){a.emit("error",e,t),setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},Vf.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var gC=tb((function(e,t){t.Service=Vf})),hC={},zc=tb((function(e,t){function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=t;r.build="minimal",r.Writer=kj,r.BufferWriter=Hc,r.Reader=mj,r.BufferReader=ae,r.util=na,r.rpc=gC,r.roots=hC,r.configure=n,n()}));zc.util.Long=ma,zc.configure();var K=zc.Reader,fa=zc.Writer,D=zc.util,H=zc.roots.default||(zc.roots.default={}),iC=H.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[15]="UserTicketNearlyExpireUri"]=15,t[e[16]="UserRenewTokenReqUri"]=16,t[e[17]="UserRenewTokenRespUri"]=17,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t}(),ti=H.Wrapper=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri=0,e.prototype.data=D.newBuffer([]),e.encode=function(e,t){return t||(t=fa.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(8).int32(e.uri),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Wrapper;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.uri=e.int32();break;case 2:n.data=e.bytes();break;default:e.skipType(7&r)}}return n},e}(),jC=H.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Ping;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),kC=H.Pong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Pong;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),lC=H.UserJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.opt=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.opt&&Object.hasOwnProperty.call(e,"opt")&&t.uint32(16).uint64(e.opt),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(34).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(42).string(e.ticket),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserJoin;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.opt=e.uint64();break;case 3:n.instance=e.uint64();break;case 4:n.account=e.string();break;case 5:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),mC=H.UserResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserResp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),nC=H.UserQuit=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.encode=function(e,t){return t||(t=fa.create()),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserQuit;e.pos<t;){var r=e.uint32();e.skipType(7&r)}return n},e}(),oC=H.UserDrop=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserDrop;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),pC=H.UserTicketNearlyExpire=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expireTs=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.ticket="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.expireTs&&Object.hasOwnProperty.call(e,"expireTs")&&t.uint32(8).uint64(e.expireTs),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(18).string(e.ticket),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserTicketNearlyExpire;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.expireTs=e.uint64();break;case 2:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),qC=H.UserRenewTokenReq=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(26).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(34).string(e.ticket),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserRenewTokenReq;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.account=e.string();break;case 4:n.ticket=e.string();break;default:e.skipType(7&r)}}return n},e}(),rC=H.UserRenewTokenResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserRenewTokenResp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),sC=H.GroupEnter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupEnter;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),tC=H.GroupLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupLeave;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),uC=H.GroupReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupReply;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),ps=H.GroupLeaveNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupLeaveNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.user=e.string();break;case 3:n.group=e.string();break;case 4:n.instance=e.uint64();break;case 5:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),qs=H.GroupEnterNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupEnterNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.user=e.string();break;case 3:n.group=e.string();break;case 4:n.instance=e.uint64();break;case 5:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),rs=H.Message=function(){function e(e){if(this.MiscMap={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.dialogue=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.sequence=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.options=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=D.newBuffer([]),e.prototype.MiscMap=D.emptyObject,e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(32).uint64(e.options),null!=e.src&&Object.hasOwnProperty.call(e,"src")&&t.uint32(42).string(e.src),null!=e.dst&&Object.hasOwnProperty.call(e,"dst")&&t.uint32(50).string(e.dst),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(58).bytes(e.payload),null!=e.MiscMap&&Object.hasOwnProperty.call(e,"MiscMap"))for(var n=Object.keys(e.MiscMap),r=0;r<n.length;++r)t.uint32(66).fork().uint32(10).string(n[r]).uint32(18).bytes(e.MiscMap[n[r]]).ldelim();return null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(72).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n,r,o=new H.Message;e.pos<t;)switch(n=e.uint32(),n>>>3){case 1:o.instance=e.uint64();break;case 2:o.dialogue=e.uint64();break;case 3:o.sequence=e.uint64();break;case 4:o.options=e.uint64();break;case 5:o.src=e.string();break;case 6:o.dst=e.string();break;case 7:o.payload=e.bytes();break;case 8:o.MiscMap===D.emptyObject&&(o.MiscMap={});var i=e.uint32()+e.pos;for(n="",r=[];e.pos<i;){var a=e.uint32();switch(a>>>3){case 1:n=e.string();break;case 2:r=e.bytes();break;default:e.skipType(7&a)}}o.MiscMap[n]=r;break;case 9:o.ms=e.uint64();break;default:e.skipType(7&n)}return o},e}(),ss=H.Ack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.dialogue=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.sequence=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.Ack;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.dialogue=e.uint64();break;case 3:n.sequence=e.uint64();break;case 4:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),vC=H.GroupAllUsersList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(32).uint32(e.pageNumber),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAllUsersList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.pageSize=e.uint32();break;case 4:n.pageNumber=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),wC=H.GroupAllUsersResult=function(){function e(e){if(this.memberInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.totalSize&&Object.hasOwnProperty.call(e,"totalSize")&&t.uint32(24).uint32(e.totalSize),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(32).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(40).uint32(e.pageNumber),null!=e.memberInfos&&e.memberInfos.length)for(var n=0;n<e.memberInfos.length;++n)H.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[n],t.uint32(50).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAllUsersResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.totalSize=e.uint32();break;case 4:n.pageSize=e.uint32();break;case 5:n.pageNumber=e.uint32();break;case 6:n.memberInfos&&n.memberInfos.length||(n.memberInfos=[]),n.memberInfos.push(H.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.MemberInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAllUsersResult.MemberInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.ts=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),xC=H.UserStatusList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserStatusList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),yC=H.UserStatusResult=function(){function e(e){if(this.userInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.userInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.userInfos&&e.userInfos.length)for(var n=0;n<e.userInfos.length;++n)H.UserStatusResult.UserStatusInfo.encode(e.userInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserStatusResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.userInfos&&n.userInfos.length||(n.userInfos=[]),n.userInfos.push(H.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.UserStatusInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserStatusResult.UserStatusInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.ts=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),zC=H.UserAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),AC=H.UserAttributeRet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeRet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),BC=H.UserAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeSet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeSet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),CC=H.UserAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeMod;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeMod.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),DC=H.UserAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeDel;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),EC=H.UserAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeErr;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),FC=H.UserAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeKeysGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.account=e.string();break;default:e.skipType(7&r)}}return n},e}(),GC=H.UserAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.keys=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeKeysRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.keys&&n.keys.length||(n.keys=[]),n.keys.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),HC=H.UserAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserAttributeRsp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),IC=H.GroupStatusList=function(){function e(e){if(this.groups=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.groups=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groups&&e.groups.length)for(var n=0;n<e.groups.length;++n)t.uint32(18).string(e.groups[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupStatusList;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.groups&&n.groups.length||(n.groups=[]),n.groups.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),JC=H.GroupStatusResult=function(){function e(e){if(this.groupInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groupInfos&&e.groupInfos.length)for(var n=0;n<e.groupInfos.length;++n)H.GroupStatusResult.GroupInfo.encode(e.groupInfos[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupStatusResult;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.groupInfos&&n.groupInfos.length||(n.groupInfos=[]),n.groupInfos.push(H.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.GroupInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.memberCount&&Object.hasOwnProperty.call(e,"memberCount")&&t.uint32(16).uint32(e.memberCount),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupStatusResult.GroupInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.group=e.string();break;case 2:n.memberCount=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),KC=H.GroupCountNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint32(e.size),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupCountNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.group=e.string();break;case 4:n.size=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),LC=H.GroupAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),MC=H.GroupAttributeRet=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.attributeMaps&&e.attributeMaps.length)for(var n=0;n<e.attributeMaps.length;++n)H.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.attributeMaps&&n.attributeMaps.length||(n.attributeMaps=[]),n.attributeMaps.push(H.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeRet.AttributeMap;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;case 3:n.origin=e.string();break;case 4:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),e}(),NC=H.GroupAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeSet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeSet.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),OC=H.GroupAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var n=0;n<e.attributeInfos.length;++n)H.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeMod;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributeInfos&&n.attributeInfos.length||(n.attributeInfos=[]),n.attributeInfos.push(H.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeMod.AttributeInfo;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&r)}}return n},e}(),e}(),PC=H.GroupAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(34).string(e.attributes[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeDel;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.broadcast=e.bool();break;case 4:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),QC=H.GroupAttributeAlt=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.attributeMaps&&e.attributeMaps.length)for(var n=0;n<e.attributeMaps.length;++n)H.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[n],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeAlt;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;case 3:n.instance=e.uint64();break;case 4:n.attributeMaps&&n.attributeMaps.length||(n.attributeMaps=[]),n.attributeMaps.push(H.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeAlt.AttributeMap;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;case 3:n.origin=e.string();break;case 4:n.ms=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),e}(),RC=H.GroupAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeRsp;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;default:e.skipType(7&r)}}return n},e}(),SC=H.GroupAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeErr;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),TC=H.GroupAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeKeysGet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.group=e.string();break;default:e.skipType(7&r)}}return n},e}(),UC=H.GroupAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.keys=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.GroupAttributeKeysRet;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.keys&&n.keys.length||(n.keys=[]),n.keys.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),VC=H.SubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.SubscribeUserStatus;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),WC=H.UnsubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.users=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UnsubscribeUserStatus;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.users&&n.users.length||(n.users=[]),n.users.push(e.string());break;default:e.skipType(7&r)}}return n},e}(),XC=H.UserJoinNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserJoinNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),YC=H.UserQuitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserQuitNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),ZC=H.UserWaitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=fa.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.UserWaitNotice;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.instance=e.uint64();break;case 2:n.seq=e.uint64();break;case 3:n.user=e.string();break;default:e.skipType(7&r)}}return n},e}(),$C=H.SubscribeResponse=function(){function e(e){if(this.errors=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=D.Long?D.Long.fromBits(0,0,!0):0,e.prototype.errors=D.emptyArray,e.encode=function(e,t){if(t||(t=fa.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.errors&&e.errors.length)for(var n=0;n<e.errors.length;++n)H.SubscribeResponse.SubscribeErrorsType.encode(e.errors[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.SubscribeResponse;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.seq=e.uint64();break;case 2:n.errors&&n.errors.length||(n.errors=[]),n.errors.push(H.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return n},e.SubscribeErrorsType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=fa.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,t){e instanceof K||(e=K.create(e)),t=void 0===t?e.len:e.pos+t;for(var n=new H.SubscribeResponse.SubscribeErrorsType;e.pos<t;){var r=e.uint32();switch(r>>>3){case 1:n.account=e.string();break;case 2:n.code=e.uint32();break;default:e.skipType(7&r)}}return n},e}(),e}(),aD=Object.freeze({__proto__:null,URI:iC,Wrapper:ti,Ping:jC,Pong:kC,UserJoin:lC,UserResp:mC,UserQuit:nC,UserDrop:oC,UserTicketNearlyExpire:pC,UserRenewTokenReq:qC,UserRenewTokenResp:rC,GroupEnter:sC,GroupLeave:tC,GroupReply:uC,GroupLeaveNotice:ps,GroupEnterNotice:qs,Message:rs,Ack:ss,GroupAllUsersList:vC,GroupAllUsersResult:wC,UserStatusList:xC,UserStatusResult:yC,UserAttributeGet:zC,UserAttributeRet:AC,UserAttributeSet:BC,UserAttributeMod:CC,UserAttributeDel:DC,UserAttributeErr:EC,UserAttributeKeysGet:FC,UserAttributeKeysRet:GC,UserAttributeRsp:HC,GroupStatusList:IC,GroupStatusResult:JC,GroupCountNotice:KC,GroupAttributeGet:LC,GroupAttributeRet:MC,GroupAttributeSet:NC,GroupAttributeMod:OC,GroupAttributeDel:PC,GroupAttributeAlt:QC,GroupAttributeRsp:RC,GroupAttributeErr:SC,GroupAttributeKeysGet:TC,GroupAttributeKeysRet:UC,SubscribeUserStatus:VC,UnsubscribeUserStatus:WC,UserJoinNotice:XC,UserQuitNotice:YC,UserWaitNotice:ZC,SubscribeResponse:$C,default:H}),bD=Math.ceil,ts=function(e){return function(t,n,r){var o=(t=String(Bb(t))).length;return r=void 0===r?" ":String(r),(n=La(n))<=o||""==r?t:(n-=o,(o=So.call(r,bD(n/r.length))).length>n&&(o=o.slice(0,n)),e?t+o:o+t)}},cD=ts(!1),dD=ts(!0),us=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(af);ba({target:"String",proto:!0,forced:us},{padEnd:function(e){return dD(this,e,1<arguments.length?arguments[1]:void 0)}});var eD=cg,vs=function(e){return function(t){t=Ib(t);for(var n,r=$c(t),o=r.length,i=0,a=[];o>i;)n=r[i++],ta&&!eD.call(t,n)||a.push(e?[n,t[n]]:t[n]);return a}},fD=vs(!0),gD=vs(!1);ba({target:"Object",stat:!0},{entries:function(e){return fD(e)}});var hD=Zb.f,ws="".endsWith,iD=Math.min,xs=Kk("endsWith"),jD=!xs&&!!function(){var e=hD(String.prototype,"endsWith");return e&&!e.writable}();ba({target:"String",proto:!0,forced:!jD&&!xs},{endsWith:function(e){var t=String(Bb(this));Jk(e);var n=1<arguments.length?arguments[1]:void 0,r=La(t.length);return n=void 0===n?r:iD(La(n),r),r=String(e),ws?ws.call(t,r,n):t.slice(n-r.length,n)===r}}),yh("match",1,(function(e,t,n){return[function(t){var n=Bb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;if(e=Ia(e),r=String(this),!e.global)return bf(e,r);var o=e.unicode;e.lastIndex=0;for(var i,a=[],s=0;null!==(i=bf(e,r));)i=String(i[0]),a[s]=i,""===i&&(e.lastIndex=Gj(r,La(e.lastIndex),o)),s++;return 0===s?null:a}]}));var kD=Zb.f,ys="".startsWith,lD=Math.min,zs=Kk("startsWith"),mD=!zs&&!!function(){var e=kD(String.prototype,"startsWith");return e&&!e.writable}();ba({target:"String",proto:!0,forced:!mD&&!zs},{startsWith:function(e){var t=String(Bb(this));Jk(e);var n=La(lD(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return ys?ys.call(t,r,n):t.slice(n,n+r.length)===r}});var Nn=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,(function(e,t,r,o){switch(r=n.shift(),o){case"s":r=""+r;break;case"d":r=Number(r);break;case"j":r=JSON.stringify(r)}return t?(n.unshift(r),e):r}))),n.length&&(e+=" "+n.join(" ")),""+e.replace(/%{2,2}/g,"%")},nD=/\s/,oD=/^\s+/,As=NaN,pD=/^[-+]0x[0-9a-f]+$/i,qD=/^0b[01]+$/i,rD=/^0o[0-7]+$/i,sD=parseInt,Ll=function(e){if("number"==typeof e)return e;if(Ie(e))return As;if(Db(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=Db(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;if(e){for(var t=e.slice,n=e.length;n--&&nD.test(e.charAt(n)););e=t.call(e,0,n+1).replace(oD,"")}return(t=qD.test(e))||rD.test(e)?sD(e.slice(2),t?2:8):pD.test(e)?As:+e},tD=Math.max,uD=Math.min,vD=function(e,t,n){function r(t){var n=c,r=u;return c=u=void 0,p=t,l=e.apply(r,n)}function o(e){var n=e-f;return e-=p,void 0===f||n>=t||0>n||g&&e>=m}function i(){var e=Wb.Date.now();if(o(e))return a(e);var n=setTimeout,r=e-p;e=t-(e-f),r=g?uD(e,m-r):e,d=n(i,r)}function a(e){return d=void 0,v&&c?r(e):(c=u=void 0,l)}function s(){var e=Wb.Date.now(),n=o(e);if(c=arguments,u=this,f=e,n){if(void 0===d)return p=e=f,d=setTimeout(i,t),h?r(e):l;if(g)return clearTimeout(d),d=setTimeout(i,t),r(f)}return void 0===d&&(d=setTimeout(i,t)),l}var c,u,l,d,f,p=0,h=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=Ll(t)||0,Db(n)){h=!!n.leading;var m=(g="maxWait"in n)?tD(Ll(n.maxWait)||0,t):m;v="trailing"in n?!!n.trailing:v}return s.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=f=u=d=void 0},s.flush=function(){return void 0===d?l:a(Wb.Date.now())},s},pd=function(e){function t(e,r){return ua(this,t),x(z(e=n.call(this,Mn(e,r))),"originalError",void 0),x(z(e),"code",void 0),x(z(e),"serverCode",void 0),"number"==typeof r?e.code=r:"string"==typeof r?e.name=r:void 0!==r&&(r.originalError&&(e.originalError=r.originalError),void 0!==r.code&&(e.code=r.code),void 0!==r.serverCode&&(e.serverCode=r.serverCode)),e}Ga(t,e);var n=Ha(t);return t}(If(Error)),qd=function(e){function t(e,r){return ua(this,t),x(z(e=n.call(this,Mn(e,r))),"name","RtmInternalError"),x(z(e),"code",void 0),e.code=r,e}Ga(t,e);var n=Ha(t);return t}(If(Error)),ui=function(){return function(e){function t(e){ua(this,t);var r=Object.keys(e);return n.call(this,e[r[0]],r[0])}Ga(t,e);var n=Ha(t);return t}(qd)},ib=ui(),Qb=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmTimeoutError"),e}Ga(t,e);var n=Ha(t);return t}(pd),Z=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvalidArgumentError"),e}Ga(t,e);var n=Ha(t);return t}(pd),aa=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvalidStatusError"),e}Ga(t,e);var n=Ha(t);return t}(pd),dc=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmLimitExceededError"),e}Ga(t,e);var n=Ha(t);return t}(pd),wD=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmInvokeTooOftenError"),e}Ga(t,e);var n=Ha(t);return t}(pd),Ja=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnavailableError"),x(z(e),"serverCode",void 0),x(z(e),"statusCode",void 0),e}Ga(t,e);var n=Ha(t);return t}(pd),yf=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnauthenticatedError"),x(z(e),"serverCode",void 0),e}Ga(t,e);var n=Ha(t);return t}(pd),se=function(e){function t(){ua(this,t);for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return x(z(e=n.call.apply(n,[this].concat(r))),"name","RtmUnknownError"),e}Ga(t,e);var n=Ha(t);return t}(pd),vb=function(e){return e instanceof Qb||e instanceof Pb},Ma=function(e){return e instanceof pd},te=function(e,t,n){return['Executing "%s.%s" timed out after %ds',e,t,n/1e3]},Ln=new Map,xD=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},$f=Object.keys,lh=Object.entries.bind(Object),ih=function(e){return"string"==typeof e?e.endsWith(".")?e:"".concat(e,"."):e},yD=ia((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));ba({target:"Date",proto:!0,forced:yD},{toJSON:function(e){e=lb(this);var t=Kc(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}}),ba({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var wv=Object.prototype.hasOwnProperty,Bs=function(e,t,n){return JSON.stringify(Tn(e),t,n)};Bs.ensureProperties=Tn;var zD=function(e,t){t=t||{};var n=oa(e);if("string"===n&&0<e.length)return xv(e);if("number"===n&&isFinite(e))return e=t.long?864e5<=(t=Math.abs(e))?nh(e,t,864e5,"day"):36e5<=t?nh(e,t,36e5,"hour"):6e4<=t?nh(e,t,6e4,"minute"):1e3<=t?nh(e,t,1e3,"second"):e+" ms":864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms",e;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},AD=function(e){function t(e){function r(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if(r.enabled){e=Number(new Date),r.diff=e-(o||e),r.prev=o,o=r.curr=e,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,o){return"%%"===e?"%":(a++,"function"==typeof(o=t.formatters[o])&&(e=o.call(r,n[a]),n.splice(a,1),a--),e)})),t.formatArgs.call(r,n),(r.log||t.log).apply(r,n)}}var o,i=null;return r.namespace=e,r.useColors=t.useColors(),r.color=t.selectColor(e),r.extend=n,r.destroy=t.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===i?t.enabled(e):i},set:function(e){i=e}}),"function"==typeof t.init&&t.init(r),r}function n(e,n){return(e=t(this.namespace+(void 0===n?":":n)+e)).log=this.log,e}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(W(t.names.map(r)),W(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r=0;for(n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=zD,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},Cs=tb((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){try{var e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e={VUE_APP_SERVER_HOST:"api.seedreality.com",VUE_APP_HTTP_PROTOCOL:"https",VUE_APP_X_SOURCE_TYPE:"11",VUE_APP_X_PROJECT_ID:"12",VUE_APP_X_ACCESS:"imtwinagora",VUE_APP_APP_ID:"bf7dd6c465424e36835d9aa0ff664a7a",VUE_APP_APP_CHANNEL:"ckck",VUE_APP_RTC_USER_ID:"33311",VUE_APP_RTM_USER_ID:"33311",VUE_APP_RTC_REMOTE_VIDEO_WIDTH:"1600",VUE_APP_RTC_REMOTE_VIDEO_HEIGHT:"1200",VUE_APP_WEBSOCKET_HOST:"127.0.0.1:8181",VUE_APP_WEBSOCKET_URI:"/ws",NODE_ENV:"production",BASE_URL:"/"}.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var n=localStorage;break e}catch(r){}n=void 0}var r;t.storage=n,t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=AD(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Ds=Cs("RTM:DEBUG"),zf;Ds.enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(zf||(zf={}));var BD=function(){function e(t){ua(this,e),x(this,"uploadRequest",void 0),x(this,"uploadState",void 0),x(this,"uploadResendCount",void 0),x(this,"LogCache",void 0),x(this,"LogsToPost",void 0),x(this,"processId",void 0),x(this,"sdkVersion",void 0),x(this,"logId",void 0),x(this,"rtmConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.rtmConfig=t.rtmConfig,this.uploadRequest=t.uploadRequest,this.uploadState=zf.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return cb(e,[{key:"upload",value:function(e){this.LogCache.push(e),this.uploadState===zf.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(e){var t=this;this.uploadState=zf.Uploading,setTimeout(ja(M.mark((function n(){var r,o,i;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={sdk_version:t.sdkVersion,process_id:t.processId,payload:JSON.stringify(e)},n.prev=1,n.next=4,t.uploadRequest(r,null!==(o=t.rtmConfig.enableCloudProxy)&&void 0!==o&&o);case 4:if(!aj){n.next=6;break}throw Error("RTM is busy");case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),i=2>t.uploadResendCount++?2e3:1e4,setTimeout((function(){return t.postLog(t.LogsToPost)}),i),n.abrupt("return");case 13:if(Ds('The logs uploaded for "process-'.concat(Mg,'"')),0!==t.LogCache.length){n.next=17;break}return t.uploadState=zf.Free,n.abrupt("return");case 17:t.uploadResendCount=0,t.LogsToPost=40>t.LogCache.length?t.LogCache.splice(0,t.LogCache.length):t.LogCache.splice(0,40),t.postLog(t.LogsToPost);case 20:case"end":return n.stop()}}),n,null,[[1,8]])}))),ue.getParameter("LOG_UPLOAD_INTERVAL"))}}]),e}(),Es=function(e,t,n,r,o,i,a,s){var c=0;for(a=!!a&&Cd(a,s,3);c<r;){if(c in n){if(s=a?a(n[c],c,t):n[c],0<i&&Dd(s))o=Es(e,t,s,La(s.length),o,i-1)-1;else{if(9007199254740991<=o)throw TypeError("Exceed the acceptable array length");e[o]=s}o++}c++}return o},CD=Es;ba({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=lb(this),n=La(t.length),r=Ah(t,0);return r.length=CD(r,t,t,n,0,void 0===e?1:rc(e)),r}}),ba({target:"Object",stat:!0},{values:function(e){return gD(e)}});var DD=["CODE"],Xb,Od,R;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(R||(R={}));var ED={CN:R.CHINA,NA:R.NORTH_AMERICA,EU:R.EUROPE,AS:R.ASIA,JP:R.JAPAN,IN:R.INDIA,GLOB:R.GLOBAL,AF:R.AFRICA,OC:R.OVERSEA,OVS:R.OVERSEA,SA:R.SOUTH_AMERICA},oh=Rn((Xb={},x(Xb,R.ASIA,{CODE:R.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.NORTH_AMERICA,{CODE:R.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.EUROPE,{CODE:R.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.JAPAN,{CODE:R.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.INDIA,{CODE:R.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.OVERSEA,{CODE:R.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),x(Xb,R.GLOBAL,{CODE:R.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.OCEANIA,{CODE:R.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.SOUTH_AMERICA,{CODE:R.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.AFRICA,{CODE:R.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),x(Xb,R.CHINA,{CODE:R.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),Xb)),ag=(Od={},x(Od,R.ASIA,[R.CHINA,R.JAPAN,R.INDIA]),x(Od,R.EUROPE,[]),x(Od,R.NORTH_AMERICA,[]),x(Od,R.SOUTH_AMERICA,[]),x(Od,R.OCEANIA,[]),x(Od,R.AFRICA,[]),Od),Fs=[R.OVERSEA,R.GLOBAL,R.CHINA,R.NORTH_AMERICA,R.EUROPE,R.ASIA,R.JAPAN,R.INDIA,R.OCEANIA,R.SOUTH_AMERICA,R.AFRICA],Un=function(e){return Object.values(ag).flat().includes(e)},zv=function(e){var t;return null===(t=lh(ag).find((function(t){return(t=Xa(t,2))[0],t[1].includes(e)})))||void 0===t?void 0:t[0]},FD=function(e){return e.sort((function(e,t){return Fs.indexOf(e)-Fs.indexOf(t)}))},Ue=function(e){var t=new Set;if(0===(e=FD(e).slice(0,3).map((function(e){var n=oh[e];if(void 0===n)throw new qd("invalid area key");return e=n.CODE,n=Ei(n,DD),t.add(e),n}))).length)throw new qd("areas cannot be empty");return jb({CODES:t},e.reduce((function(e,t){for(var n=0,r=lh(e);n<r.length;n++){var o=Xa(r[n],2),i=o[0];o=o[1],e[i]=Array.from(new Set([].concat(W(t[i]),W(o))))}return e})))},ca,Gs=function(){var e=ja(M.mark((function e(t,n){var r,o,i,a,s,c=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(2<(o=2<c.length&&void 0!==c[2]?c[2]:0))){e.next=3;break}return e.abrupt("return");case 3:return i={withCredentials:!0,body:t,timeout:2e4},a=0<o?(null==ca?void 0:ca.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(null==ca?void 0:ca.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",s=n?"https://".concat(null!==(r=null==ca?void 0:ca.PROXY_NGINX[0])&&void 0!==r?r:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(a,"&p=443&d=upload/v1"):"https://".concat(a,"/upload/v1"),e.next=8,jh(s,i).catch((function(e){return Gs(t,n,o+1)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Hs=new BD({processId:"process-".concat(Mg),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.0-0-g83bd874d"),uploadRequest:Gs,rtmConfig:{}}),Ml="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),Is="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),Js=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],GD="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),Ve=function(e){if("string"==typeof e)return Ka(e);if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e.map((function(e){return Ka(e)}));if(!Hm(e)){for(var t={},n=0;n<Js.length;n++){var r=Js[n];r in e&&(t[r]=e[r])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(n=0,e=Object.entries(e);n<e.length;n++){var o=Xa(e[n],2);r=o[0],o=o[1],Ml.includes(r)?t[r]="[Hidden Info]":t[Ka(r)]="string"==typeof o?Ka(o):"[Sensitive Info]"}return t}return"[Sensitive Info]"}return e},Ks=function(e){return"object"===oa(e)?Be(e)?Qn(Fe(e,5),Ml,Is):e.constructor&&e.constructor.name:e},Ls=function(e,t){return e instanceof Error?e.message:"string"!=typeof e?JSON.stringify(Qn(Fe(e,5),Ml,Is)):(t=t.map((function(e){return e instanceof Error?e.message:"object"===oa(e)?Bs(Array.isArray(e)?e.map(Ks):Ks(e)):e})),Nn.apply(void 0,[e.replace(/%[%Oo]/g,(function(e){return"%%"===e?"%":"%o"===e||"%O"===e?"%s":e}))].concat(W(t))))},HD=1,Ms=function(e,t,n){var r=Cs(e);return r.enabled=!0,r.log=n,r.useColors=!1,function(n){for(var o=arguments.length,i=Array(1<o?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(t.enableLogUpload){o=ih(n);var s=Ls(o,i);Hs.upload({log_item_id:"".concat(HD++),log_level:e,payload_str:"[".concat(xD(),"] ").concat(e," - ").concat(256<s.length?s.slice(0,256):s)})}switch(o=function(e){var t=s||Ls(ih(n),i),o=xc.LOG_HANDLER;"function"==typeof o&&o({level:e,message:t}),r(t)},e){case"RTM:INFO":t.logFilter.info&&o("log");break;case"RTM:WARN":t.logFilter.warn&&o("warning");break;case"RTM:ERROR":t.logFilter.error&&o("error");break;case"RTM:TRACK":t.logFilter.track&&o("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":t.logFilter.debug&&o("debug");break;case"RTM:DEBUG":t.logFilter.debug&&o("debug")}}},Nl,Ns=function(e){return function(t){var n=1===Nl||void 0===e?"":"Ins#".concat(e," ");return"".concat(n).concat(t)}},Ol=function(e,t,n){var r=Ns(Nl);return Ms("RTM:".concat(t),n,(function(t){return e(r(t))}))},Ac=function(){return function(e){function t(e,r){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];ua(this,t);var i=n.call(this);if(x(z(i),"logError",void 0),x(z(i),"invokeTracker",void 0),x(z(i),"resultTracker",void 0),x(z(i),"errorTracker",void 0),x(z(i),"eventTracker",void 0),x(z(i),"info",void 0),x(z(i),"warn",void 0),x(z(i),"log",void 0),x(z(i),"genLogger",void 0),x(z(i),"loggerId",void 0),x(z(i),"logger",void 0),x(z(i),"name",void 0),i.logger=e,i.name=r,i.loggerId=e.loggerId,i.info=e.info,i.warn=e.warn,i.logError=e.logError,i.genLogger=e.genLogger,i.log=e.genLogger("RTM:DEBUG","<".concat(r,"> ")),i.invokeTracker=e.genTracker("Invoke"),i.eventTracker=e.genTracker("Event"),i.resultTracker=e.genTracker("Result"),i.errorTracker=e.genTracker("Error"),o){var a=i.emit.bind(z(i));i.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e=t[0],n=t.slice(1);var o=GD.includes(e);i.eventTracker.apply(i,["%s: ".concat(0<n.length?"%s emitted with args: ".concat(n.map((function(){return"%o"}))):"%s emitted"),r,e].concat(W(o?n.map(Ve):n)));try{a.apply(void 0,t)}catch(t){i.logError("Caught in the callback function of the event %s",e,t)}}}return i}Ga(t,e);var n=Ha(t);return t}(ya)},ID=function(e){return Ol(console.log.bind(console),"INFO",e)},JD=function(e){return Ol(console.warn.bind(console),"WARN",e)},KD=function(e){return Ol(console.error.bind(console),"ERROR",e)},Os=function(e,t){return function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=Ns(e),i=console.debug.bind(console),a=Ms(n,t,(function(e){return i(o(e))}));return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return a.apply(void 0,[r+e].concat(n))}}},LD=function(e,t){return function(n){return Os(e,t)("RTM:TRACK","[".concat(n,"] "))}},rj=H.URI,Bv=ti,MD=Ei(aD,["Wrapper"]),Vn=kl(MD,"URI"),Ps=function(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=e[r=is(n,o)];e[r]=e[n],e[n]=i}return e.length=t,e},ND=function(e){return Ps(Ji(e))},OD=function(e){return Ps(tj(e))},Af=function(e){return(pb(e)?ND:OD)(e)},Bf={0:9591,1:9593},ve=function(e){var t=Zf(null);return"https://".concat(t?null:e,"/api/v1")},PD=wb.apply(void 0,W(Af(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(ve)))),QD=wb.apply(void 0,W(Af(["ap-web-1.agora.io","ap-web-2.agora.io"].map(ve)))),RD=wb.apply(void 0,W(Af(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(ve)))),SD=wb.apply(void 0,W(Af(["ap-web-3.agora.io","ap-web-4.agora.io"].map(ve)))),Qs=ui(),Pl=function(e){function t(e,r,o,i,a,s){ua(this,t);var c=n.call(this,a,nj("Socket-",a.loggerId));if(x(z(c),"isActiveClose",!1),x(z(c),"loggedIn",!1),x(z(c),"useNewDomain",void 0),x(z(c),"receivedPacket",new nb),x(z(c),"open$",void 0),x(z(c),"input$",new nb),x(z(c),"userJoin$",new nb),x(z(c),"attemptsSinceLastError",0),x(z(c),"message$",new nb),x(z(c),"socket$",void 0),x(z(c),"toClose",new nb),x(z(c),"toReconnect",new nb),x(z(c),"sendLogger",void 0),x(z(c),"receiveLogger",void 0),x(z(c),"ip",void 0),x(z(c),"env",void 0),x(z(c),"ticket",void 0),x(z(c),"context",void 0),x(z(c),"getDomain",(function(){return Wn(c.ip,c.useNewDomain)})),x(z(c),"socketReconnector",(function(e){var t=function(e){return c.attemptsSinceLastError+=1,c.warn("The %s of Env %d reconnecting %s",c.name,c.env,e.message),Zc(3e3)};return e.pipe(Ya((function(e){return c.log("socket connection closed"),c.loggedIn=!1,2<=c.attemptsSinceLastError?(c.warn("socket connection failure"),c.emit("connectionFailure"),c.close(),pa(e)):c.isActiveClose?Nb:(c.emit("reconnect"),c.useNewDomain=!c.useNewDomain,pa(e))})),Oe((function(e){return e.pipe(Fc(t))})))})),c.ip=e,c.env=r,c.ticket=o,c.context=i,c.useNewDomain=null!=s?s:.5<=Math.random(),c.sendLogger=c.genLogger("RTM:MSG:SEND"),c.receiveLogger=c.genLogger("RTM:MSG:RECV"),0!==r&&1!==r)throw new Qs({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var u=Bf[r];c.log("Opening websocket address %s for the Env %d",c.ip,c.env);var l=Ec(c.input$,c.userJoin$.pipe(qv(2)),c.message$).pipe(Da((function(e){return ti.encode(e).finish()})));return e=Ec(rv("",{protocols:[],makeWebSocket:function(){if(c.context.config.enableCloudProxy||c.context.socketUseProxy){if(0===c.context.cloudProxyServers.length)throw c.logError("No cloud proxy server to connect"),new Ja;var e=Zf(null)?JSON.parse(null.replace(/-/g,".")):c.context.cloudProxyServers;e=Te(e="wss://".concat(Wn(Xn(e),!1),"/"),"sid",c.context.sid),e=Te(e,"remote_port",u.toString()),e=Te(e,"remote_ip",c.ip),e=Te(e,"token",c.context.key),e=new WebSocket(e)}else e=new WebSocket("wss://".concat(c.getDomain(),":").concat(u));return e.binaryType="arraybuffer",e}}),c.toReconnect),c.socket$=ab(e,xl.pipe(Hb(7e3),Ya((function(e){return vb(e)&&c.warn("socket open timed out"),pa(e)})))).pipe(Da((function(e){if(e instanceof Error)throw c.warn("Env_%d: Force reconnect the socket",c.env),e;return e(l).pipe(Da((function(e){return ti.decode(new Uint8Array(e))})))})),c.socketReconnector),c.open$=c.socket$.pipe(sa((function(e){c.log("Websocket opened",c.name),e.subscribe((function(e){var t=e.data;e=rj[e.uri].slice(0,-3),t=Vn[e].decode(t);var n=SB({},kl(t,"toJSON"),(function(e,t){return t instanceof ma?Kn(t):t})),r=!1;if((t instanceof qs||t instanceof ps)&&t.instance.lessThanOrEqual(4294967295)&&(r=!0),t instanceof rs||t instanceof ss){var o=t.instance,i=t.sequence;(t.dialogue.lessThanOrEqual(4294967295)||o.lessThanOrEqual(4294967295)||i.lessThan(1))&&(r=!0)}r?c.warn("Env_%d: Illegal %s, abandoned %o",c.env,e,n):("Pong"!==e&&c.receiveLogger("Env_%d: %s %o",c.env,e,n),c.receivedPacket.next([e,t]))}),(function(){}))})),Sf(void 0),Gc(c.toClose),Pe()),c}Ga(t,e);var n=Ha(t);return cb(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Bf[this.env])}},{key:"sendPacket",value:function(e,t){if("Ping"!==e){var n=hd(t,(function(e){return e instanceof ma?Kn(e):e}));this.sendLogger("Env_%d: %s %o",this.env,e,n)}t=Av(e,t),"UserJoin"===e?this.userJoin$.next(t):"Message"===e?this.message$.next(t):this.input$.next(t)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(e){return this.receivedPacket.pipe(Ob((function(t){return Xa(t,1)[0]===e})),Da((function(e){return Xa(e,2)[1]})))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new Qs({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(Ac());ba({target:"String",proto:!0,forced:us},{padStart:function(e){return cD(this,e,1<arguments.length?arguments[1]:void 0)}});var TD=function(e){var t=$f(oh);e=vv(e);for(var n=0;n<t.length;n++){var r=oh[t[n]];if(null!=r&&r.AP_DOMAINS.includes(e)||null!=r&&r.AP_BACKUP_DOMAINS.includes(e)||null!=r&&r.PROXY_AP.includes(e))return[r.CODE]}return[R.CHINA,R.GLOBAL]},UD={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},Rs={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},VD=[100,101,102],vi=/web-(\d)/,Ss=function(e){function t(e,r){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];ua(this,t);var i=n.call(this,r,"AccessPoint");return x(z(i),"handleUniLbsError",(function(e,t){var n=e;if(4<e.toString().length){var r=e.toString().padStart(8,"0"),o=parseInt(r.slice(0,4),10);if(r=parseInt(r.slice(4,8),10),201===o)n=r;else if(101===o&&!VD.includes(r))return pa(Error("service is currently unavailable"))}if(o=n.toString(),!Object.keys(Rs).includes(o))return(e=new Ja(["Login is rejected by the server. The response code is %d",e],Ng)).serverCode=n,pa(e);switch(o=Rs[o],n=UD[o],o){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(t=new yf(n,Vr)).serverCode=e,pa(t);case"INVALID_USER_ID":return(t=new yf(n,pi)).serverCode=e,pa(t);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(t=new yf(n,qi)).serverCode=e,pa(t);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(t=new yf(n,Wr)).serverCode=e,pa(t);case"CANNOT_MEET_AREA_DEMAND":return(t=TD(t)).forEach((function(e){return i.failedAreas.add(e)})),i.failedAreas.size===(void 0===ca?2:ca.CODES.size)?((t=new Z(n,Ng)).serverCode=e,pa(t)):pa(Error("ap ".concat(t.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(t=new Ja(n,Ng)).serverCode=e,pa(t);default:return pa(In("ApResErrType",o))}})),x(z(i),"getApEdgeInfo$",void 0),x(z(i),"getApEdgeInfoEndFirst$",void 0),x(z(i),"apFinish$",new nb),x(z(i),"retryCount",0),x(z(i),"failedAreas",new Set),x(z(i),"usedUrl",[]),x(z(i),"newDomainUsed",!1),x(z(i),"backupNewDomainUsed",!1),x(z(i),"genUrl",(function(){return void 0===ca?Zi.apply(void 0,W(Af([PD,QD]))).pipe($i((function(e){return wb.apply(void 0,W(e))}))):wb.apply(void 0,W(ca.AP_DOMAINS.slice(0,3).map(ve)))})),x(z(i),"genBackupUrl",(function(){return void 0===ca?Zi.apply(void 0,W(Af([RD,SD]))).pipe($i((function(e){return wb.apply(void 0,W(e))}))):wb.apply(void 0,W(ca.AP_BACKUP_DOMAINS.slice(0,3).map(ve)))})),x(z(i),"getApUrl$",(function(e){var n,r;return i.genUrl().pipe(Ob((function(e){return(!i.newDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(i.newDomainUsed=!0),!Il(i.usedUrl,(function(t){var n;return t===(null===(n=e.match(vi))||void 0===n?void 0:n[1])})))})),sa((function(e){var t;void 0===ca&&"string"==typeof(e=null===(t=e.match(vi))||void 0===t?void 0:t[1])&&i.usedUrl.push(e)})),db(e?Math.max(xc.RECONNECTING_AP_NUM,null!==(n=null==ca?void 0:ca.CODES.size)&&void 0!==n?n:0):null!==(r=null==ca?void 0:ca.CODES.size)&&void 0!==r?r:2),Zd((function(){return t.runOutOfUrlSymbol})),Ya((function(e,n){return i.newDomainUsed=!1,e===t.runOutOfUrlSymbol?(i.usedUrl=[],n):pa(e)})))})),x(z(i),"getBackupApUrl$",(function(e){var n,r;return i.genBackupUrl().pipe(Ob((function(e){return(!i.backupNewDomainUsed||!e.includes("sd-rtn.com"))&&(e.includes("sd-rtn.com")&&(i.backupNewDomainUsed=!0),!Il(i.usedUrl,(function(t){var n;return t===(null===(n=e.match(vi))||void 0===n?void 0:n[1])})))})),sa((function(e){var t;void 0===ca&&"string"==typeof(e=null===(t=e.match(vi))||void 0===t?void 0:t[1])&&i.usedUrl.push(e)})),db(e?Math.max(xc.RECONNECTING_AP_NUM,null!==(n=null==ca?void 0:ca.CODES.size)&&void 0!==n?n:0):null!==(r=null==ca?void 0:ca.CODES.size)&&void 0!==r?r:2),Zd((function(){return t.runOutOfUrlSymbol})),Ya((function(e,n){return i.backupNewDomainUsed=!1,e===t.runOutOfUrlSymbol?(i.usedUrl=[],n):pa(e)})))})),x(z(i),"getProxyApUrl$",(function(e){var t,n;return wb.apply(void 0,W(((null==ca?void 0:ca.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(ve))).pipe(db(e?Math.max(xc.RECONNECTING_AP_NUM,null!==(t=null==ca?void 0:ca.CODES.size)&&void 0!==t?t:0):null!==(n=null==ca?void 0:ca.CODES.size)&&void 0!==n?n:2))})),x(z(i),"context",void 0),x(z(i),"fetchCloudProxy",(function(e,t){var n=nj("AP-",i.loggerId);i.log("The AccessPoint requests %s(%s)",e,n);var r,o=new AbortController;return i.apFinish$.pipe(db(1)).subscribe((function(){return o.abort()})),wd(ja(M.mark((function r(){var a;return M.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=gh(0,Number.MAX_SAFE_INTEGER),i.log("%s request opid: %d",n,a),r.abrupt("return",jh(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:i.context.sid,opid:a,appid:i.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:null!=t?t:i.context.key,cname:i.context.uid,uid:0,detail:jb({},void 0===ca?{11:[R.CHINA,R.GLOBAL].join(),12:"1"}:{11:Array.from(ca.CODES).map((function(e){return e===R.OVERSEA?"".concat(R.ASIA,",").concat(R.EUROPE,",").concat(R.AFRICA,",").concat(R.NORTH_AMERICA,",").concat(R.SOUTH_AMERICA,",").concat(R.OCEANIA):e})).join(","),12:"1"})}}]},signal:o.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Ya((function(t){return"AbortError"!==t.name&&(i.logError(t),i.warn("The AP server %s request failure",e,t)),Nb})),Ab((r=ja(M.mark((function t(r){var o,a,s,c,u,l,d,f,p,h,g,v,m,y,A,b,E,_,w;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.responseText,a=JSON.parse(o),i.log("The %s response is %o",n,a),(void 0===(s=a.response_body)||0===s.length||s.some((function(e){var t;return void 0===(null===(t=e.buffer)||void 0===t?void 0:t.code)||23!==e.uri})))&&pa(new Ja("cloud proxy response_body not valid",Ng)),0===(c=s.filter((function(e){return 0!==e.buffer.code}))).length){t.next=14;break}if(void 0===(u=c.find((function(e){return 128===e.buffer.flag})))){t.next=12;break}return t.abrupt("return",i.handleUniLbsError(u.buffer.code,e));case 12:return i.logError("cloud proxy error response"),t.abrupt("return",i.handleUniLbsError(c[0].buffer.code,e));case 14:for(l=[],d=0;d<s.length;d++)if(262144===(null==(h=s[d])||null===(f=h.buffer)||void 0===f?void 0:f.flag))null===(g=h.buffer)||void 0===g||null===(v=g.edges_services)||void 0===v||null===(m=v.forEach)||void 0===m||m.call(v,(function(e){Gn(e=e.ip)&&-1===i.context.cloudProxyServers.indexOf(e)&&(i.log("got cloud proxy server: %s",e),i.context.cloudProxyServers.push(e))}));else if(128===(null==h||null===(p=h.buffer)||void 0===p?void 0:p.flag)){for(E=function(e,t){var n=t[e];l.some((function(e){return e.ip===n.ip}))||l.push({ip:n.ip,ticket:h.buffer.cert})},_=0,w=h.buffer.edges_services;_<w.length;_++)E(_,w);i.context.rtmArea=null!==(y=null===(A=h.buffer)||void 0===A||null===(b=A.detail)||void 0===b?void 0:b[9])&&void 0!==y?y:""}return t.abrupt("return",wb.apply(void 0,W(l).concat([Kg])));case 19:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),Ya((function(e){return Ma(e)?pa(e):Nb})),$g(),Ob((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket&&Gn(e.ip)})))})),x(z(i),"fetchAp",(function(e,t){var n=nj("AP-",i.loggerId);i.log("The AccessPoint requests %s(%s)",e,n);var r,o=new AbortController;return i.apFinish$.pipe(db(1)).subscribe((function(){return o.abort()})),wd(ja(M.mark((function r(){var a;return M.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=gh(0,Number.MAX_SAFE_INTEGER),i.log("%s request opid: %d",n,a),r.abrupt("return",jh(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:a,key:t||i.context.key,cname:i.context.uid,detail:jb({},void 0===ca?{11:[R.CHINA,R.GLOBAL].join(),12:"1"}:{11:Array.from(ca.CODES).map((function(e){return e===R.OVERSEA?"".concat(R.ASIA,",").concat(R.EUROPE,",").concat(R.AFRICA,",").concat(R.NORTH_AMERICA,",").concat(R.SOUTH_AMERICA,",").concat(R.OCEANIA):e})).join(","),12:"1"}),uid:0,sid:i.context.sid},signal:o.signal}));case 3:case"end":return r.stop()}}),r)})))).pipe(Ya((function(t){return"AbortError"!==t.name&&(i.logError(t),i.warn("The AP server %s request failure",e,t)),Nb})),Ab((r=ja(M.mark((function t(r){var o,a,s,c,u,l,d,f;return M.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.responseText,a=JSON.parse(o),i.log("The %s response is %o",n,a),c=(s=a).code,u=s.addresses,l=s.detail,i.info(a),0===c){t.next=7;break}return t.abrupt("return",i.handleUniLbsError(c,e));case 7:if(d=u,Zf(null)&&(f=JSON.parse(null.replace(/-/g,".")),d=f.map((function(e){return{ip:e,ticket:d[0].ticket}}))),0!==d.length){t.next=12;break}return t.abrupt("return",pa(Error("No available edge address to connect")));case 12:return i.context.rtmArea=null==l?void 0:l[9],t.abrupt("return",wb.apply(void 0,W(d).concat([Kg])));case 14:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)})),$g(),Ya((function(e){return Ma(e)?pa(e):Nb})),Ob((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),i.context=e,i.getApEdgeInfoEndFirst$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Zc(0,e||o?xc.RECONNECTING_AP_INTERVAL:2e3).pipe(db(1),sa((function(){i.retryCount+=1})),Ab((function(){return i.context.config.enableCloudProxy||i.context.socketUseProxy?i.getProxyApUrl$(e||o):(4<=i.retryCount&&(i.retryCount=0),3>=i.retryCount?i.getApUrl$(e||o):i.getBackupApUrl$(e||o))})),Ab((function(e){return i.context.config.enableCloudProxy||i.context.socketUseProxy?i.fetchCloudProxy(e):i.fetchAp(e)})),Ya((function(e){return e instanceof Pb&&i.warn("AP request timeout"),pa(e)})),nn((function(e){return e.ip})),Gc(i.apFinish$))},i.getApEdgeInfo$=function(e){return Zc(0,e||o?xc.RECONNECTING_AP_INTERVAL:2e3).pipe(db(8),sa((function(){i.retryCount+=1})),Ab((function(){return i.context.config.enableCloudProxy||i.context.socketUseProxy?i.getProxyApUrl$(e||o):3>=i.retryCount?i.getApUrl$(e||o):i.getBackupApUrl$(e||o)})),Ab((function(e){return(i.context.config.enableCloudProxy||i.context.socketUseProxy?i.fetchCloudProxy(e):i.fetchAp(e)).pipe()})),Ya((function(e){return e instanceof Pb&&i.warn("AP request timeout"),pa(e)})),nn((function(e){return e.ip})),Gc(i.apFinish$))},i}Ga(t,e);var n=Ha(t);return cb(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(Ac());x(Ss,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var Ts=ui(),Us=function(e){function t(e,r,o){ua(this,t);var i=n.call(this,r,"Connection");x(z(i),"apClient",void 0),x(z(i),"lastOpenSockets",[new Qe(1),new Qe(1)]),x(z(i),"curOpenSockets",[void 0,void 0]),x(z(i),"ipIterator",0),x(z(i),"loginSocketOpenFailureCount",0),x(z(i),"firstEnv",.5<=Math.random()?1:0),x(z(i),"firstSocketOpener",void 0),x(z(i),"secondSocketOpener",void 0),x(z(i),"firstOpenKeeperSubject",new nb),x(z(i),"secondOpenKeeperSubject",new nb),x(z(i),"blacklistedIP",{}),x(z(i),"edgeInfoReplayed",void 0),x(z(i),"firstEnvOpenSocket",void 0),x(z(i),"firstOpenKeeperSub",void 0),x(z(i),"secondOpenKeeperSub",void 0),x(z(i),"context",void 0),x(z(i),"logger",void 0),i.context=e,i.logger=r,i.apClient=new Ss(i.context,r),i.apClient.apFinish$.subscribe((function(){i.log("Ap client fetch finished")}));var a,s=[];return i.edgeInfoReplayed=i.apClient.getApEdgeInfo$(o).pipe(Oe((function(e){return e.pipe(sa((function(e){if(Ma(e))throw e})),Yd(o?ue.getParameter("RECONNECTING_AP_INTERVAL"):900),Gc(Zc(2e4)))})),Ob((function(e){var t;return!Il(s,e)&&1>=(null!==(t=i.blacklistedIP[e.ip])&&void 0!==t?t:0)})),Zd((function(){return new Ts({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),sa((function(e){s.push(e),i.log("An edge info got %o",e)})),sa({error:function(e){i.emit("connectionInitFailure",e)}}),ch((function(){i.apClient.clearUp()})),qn()),i.firstEnvOpenSocket=i.edgeInfoReplayed.pipe(Ab((function(e){if(void 0===e)return pa(Error("Invalid edge info"));var t=new Pl(e.ip,i.firstEnv,e.ticket,i.context,r,a);if(i.firstEnv=1===i.firstEnv?0:1,t.once("connectionFailure",(function(){return i.onSocketConnectionFailure(t)})),!o&&xc.ENABLE_EDGE_AUTO_FALLBACK&&!i.context.config.enableCloudProxy){var n,s=Date.now();t.on("reconnect",(function(){var e;i.loginSocketOpenFailureCount+=1,null!==(e=n)&&void 0!==e||(n=Date.now()-s),500>n&&1<i.loginSocketOpenFailureCount&&(i.context.socketUseProxy=!0)}))}return a=!t.useNewDomain,t.open$.pipe(Sf(t))})),sa((function(e){i.log("The websocket of ENV_%d opened to %s:%d",e.env,e.ip,Bf[e.env]),i.curOpenSockets[e.env]=e,i.lastOpenSockets[e.env].next(e),i.firstEnv=e.env,i.openSecondSocket(e.env,e.ip,e.useNewDomain)})),db(1),Pe()),i.firstSocketOpener=i.firstEnvOpenSocket.pipe(Ab((function(e){return e.open$.pipe(sa((function(){i.log("The websocket of first ENV_%d re-opened to %s:%d",e.env,e.ip,Bf[e.env]),i.curOpenSockets[e.env]=e,i.lastOpenSockets[e.env].next(e)})))}))),e=i.firstOpenKeeperSubject.pipe(Fc(td)),i.firstOpenKeeperSub=e.subscribe({error:i.logError}),i}Ga(t,e);var n=Ha(t);return cb(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(e,t){if(![0,1].includes(e))throw new ib({INVALID_ENV:"The env argument is not 0 or 1"});var n=e===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var r=this.curOpenSockets[e];this.curOpenSockets[e]=void 0,r&&(r.isActiveClose=!0,setTimeout((function(){r.close()}),t)),void 0!==n&&setTimeout((function(){null==n||n.unsubscribe()}),t)}},{key:"waitClosing",value:function(e){var t=this;return e.isActiveClose=!0,e.open$.pipe(Vu(),Ya((function(e){return e.message===hs.normalClosureMessage?Nb:pa(e)})),Hb(5e3),Ya((function(n){return n instanceof Pb?(t.warn("Force closing the ENV_%d connection",e.env),Nb):pa(n)})))}},{key:"onSocketConnectionFailure",value:function(e){var t=[0,1].filter((function(t){return t!==e.env}))[0];(t=this.curOpenSockets[t])&&t.loggedIn?this.reopenSocketWithApRequest(e.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(e,t,n){var r=this,o=1===e?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(pn((function(e,t){return[].concat(W(e),[t])}),[]),Da((function(e){return fs(e,(function(e){return Jn(t,e.ip)})).slice(-1)[0]})),db(1),Ab((function(e){if(void 0===e)return pa(Error("Invalid edge info"));var t=new Pl(e.ip,o,e.ticket,r.context,r.logger,n);return t.on("connectionFailure",(function(){return r.onSocketConnectionFailure(t)})),t.open$.pipe(sa((function(){r.lastOpenSockets[o].next(t),r.curOpenSockets[o]=t})))})),Pe()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Fc(td)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(e){var t=this,n=[0,1].filter((function(t){return t!==e}))[0];if(void 0!==(n=this.curOpenSockets[n])){var r,o=n.ip;n=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Zd((function(){return new Ts({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),Oe((function(e){return e.pipe(sa((function(e){if(e.code===qi)t.emit("tokenExpired"),t.apClient.apFinish$.next(void 0);else if(Ma(e))throw e})),Yd(ue.getParameter("RECONNECTING_AP_INTERVAL")),Gc(Zc(15e3)))})),sa((function(e){t.log("An edge info got %o",e)})),ch((function(){t.apClient.clearUp()}))).pipe(pn((function(e,t){return[].concat(W(e),[t])}),[]),Da((function(e){return(e=fs(e,(function(e){return Jn(o,e.ip)}))).length-1>=t.ipIterator?e.slice(-t.ipIterator++-1)[0]:(t.ipIterator=0,e.slice(-1)[0])})),Zd(),Ab((function(n){if(void 0===n)return pa(Error("Invalid edge info"));var o=new Pl(n.ip,e,n.ticket,t.context,t.logger,r);return o.on("connectionFailure",(function(){return t.onSocketConnectionFailure(o)})),r=!o.useNewDomain,o.open$.pipe(Sf(o))})),sa((function(n){t.log("The websocket of ENV_%d re-opened to %s:%d using ap",n.env,n.ip,Bf[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})),Ab((function(n){return n.open$.pipe(sa((function(){t.log("The websocket of ENV_%d re-opened to %s:%d",n.env,n.ip,Bf[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})))})),Pe()),e===this.firstEnv?this.firstOpenKeeperSubject.next(n):this.secondOpenKeeperSubject.next(n)}}}]),t}(Ac()),rd=zc.Writer,Ba=zc.util,Uc=zc.roots.default||(zc.roots.default={}),XD=Uc.Session=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(42).string(e.appId),null!=e.ver&&Object.hasOwnProperty.call(e,"ver")&&t.uint32(50).string(e.ver),null!=e.buildno&&Object.hasOwnProperty.call(e,"buildno")&&t.uint32(56).int32(e.buildno),null!=e.installId&&Object.hasOwnProperty.call(e,"installId")&&t.uint32(66).string(e.installId),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(128).int32(e.os),null!=e.did&&Object.hasOwnProperty.call(e,"did")&&t.uint32(138).string(e.did),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&Uc.Session.CommonIndex.encode(e.index,t.uint32(162).fork()).ldelim(),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(170).string(e.token),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(176).int32(e.version),null!=e.subVersion&&Object.hasOwnProperty.call(e,"subVersion")&&t.uint32(184).int32(e.subVersion),t},e.CommonIndex=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(e,t){return t||(t=rd.create()),null!=e.index1&&Object.hasOwnProperty.call(e,"index1")&&t.uint32(10).string(e.index1),null!=e.index2&&Object.hasOwnProperty.call(e,"index2")&&t.uint32(18).string(e.index2),null!=e.index3&&Object.hasOwnProperty.call(e,"index3")&&t.uint32(26).string(e.index3),t},e}(),e}(),YD=Uc.Link=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.ec&&Object.hasOwnProperty.call(e,"ec")&&t.uint32(40).int32(e.ec),null!=e.sc&&Object.hasOwnProperty.call(e,"sc")&&t.uint32(48).int32(e.sc),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(58).string(e.destServerIp),null!=e.ackedServerIp&&Object.hasOwnProperty.call(e,"ackedServerIp")&&t.uint32(66).string(e.ackedServerIp),null!=e.responseTime&&Object.hasOwnProperty.call(e,"responseTime")&&t.uint32(72).int32(e.responseTime),t},e}(),ZD=Uc.Logout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),t},e}(),$D=Uc.KickedOff=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(56).int32(e.code),null!=e.server&&Object.hasOwnProperty.call(e,"server")&&t.uint32(66).string(e.server),null!=e.serverCode&&Object.hasOwnProperty.call(e,"serverCode")&&t.uint32(72).int32(e.serverCode),t},e}(),aE=Uc.ChnJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),bE=Uc.ChnJoinRes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(64).int32(e.serverErrCode),t},e}(),cE=Uc.ChnLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),dE=Uc.ConnectionStateChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.elapse=Ba.Long?Ba.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(e,t){return t||(t=rd.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.oldState&&Object.hasOwnProperty.call(e,"oldState")&&t.uint32(40).int32(e.oldState),null!=e.newState&&Object.hasOwnProperty.call(e,"newState")&&t.uint32(48).int32(e.newState),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(56).int32(e.reason),null!=e.reconnId&&Object.hasOwnProperty.call(e,"reconnId")&&t.uint32(64).int32(e.reconnId),t},e}(),Cv=Object.freeze({__proto__:null,Session:XD,Link:YD,Logout:ZD,KickedOff:$D,ChnJoin:aE,ChnJoinRes:bE,ChnLeave:cE,ConnectionStateChange:dE,default:Uc}),Dv=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191}}),eE=function(e){function t(e,r,o){return ua(this,t),x(z(o=n.call(this,o,"Context")),"_token",void 0),x(z(o),"config",void 0),x(z(o),"_uid",void 0),x(z(o),"_sid",void 0),x(z(o),"_area","CN"),x(z(o),"_socketUseProxy",!1),x(z(o),"appId",void 0),x(z(o),"enableCloudProxy",!1),x(z(o),"cloudProxyServers",[]),o.appId=e,o.config=r,o}Ga(t,e);var n=Ha(t);return cb(t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&xc.ENABLE_EDGE_AUTO_FALLBACK},set:function(e){this.log("socketUseProxy is set to %s",e),this._socketUseProxy=e}},{key:"token",set:function(e){this._token="string"==typeof e&&e?e:void 0}},{key:"uid",get:function(){if("string"==typeof this._uid&&this._uid)return this._uid;throw new qd("Cannot get illegal uid")},set:function(e){if(this.log("The user ID is set to %s",Ka(e)),!Sa(e))throw new qd;this._uid=e}},{key:"key",get:function(){if("string"==typeof this._token&&this._token)return this._token;if("string"==typeof this.appId&&this.appId)return this.appId;throw new qd("Cannot get illegal key")}},{key:"sid",get:function(){if("string"==typeof this._sid&&this._sid)return this._sid;throw new qd("Cannot get illegal sid")},set:function(e){if(this.log("sid is set to %s",e),"string"!=typeof e||!e)throw new qd;this._sid=e}},{key:"rtmArea",get:function(){if("string"==typeof this._area&&this._area)return this._area;throw new qd("Cannot get illegal area")},set:function(e){this.log("area is set to %s",e),"string"==typeof e&&e?this._area=e:this.warn("set area failed")}}]),t}(Ac());Mp("of",(function(){for(var e=0,t=arguments.length,n=new(nf(this))(t);t>e;)n[e]=arguments[e++];return n}),lk);var Vs=1/0,fE=Math.max,Fv=function(e,t,n){var r=Object(e);if(!$d(e)){var o=tf(t);e=Vd(e),t=function(e){return o(r[e],e,r)}}return-1<(t=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;if(null==n)n=0;else{var o=(n=n?(n=Ll(n))===Vs||n===-Vs?17976931348623157e292*(0>n?-1:1):n==n?n:0:0===n?n:0)%1;n=n==n?o?n-o:n:0}return 0>n&&(n=fE(r+n,0)),Sq(e,tf(t),n)}(e,t,n))?r[o?e[t]:t]:void 0},Ev=function(e,t){return e&&e.length?$k(e,void 0,"function"==typeof t?t:void 0):[]},Ws=function(){function e(){ua(this,e),x(this,"size",0),x(this,"fields",new Map)}return cb(e,[{key:"define",value:function(e,t,n){if(this.size+=n,64<this.size)throw new RangeError("the struct over 64 bits is not supported");qh(t={val:0,isNumber:"number"===t,isBoolean:"boolean"===t,oneof:"number"===t||"boolean"===t?void 0:t,len:n}),this.fields.set(e,t)}},{key:"set",value:function(e,t){if(!(e=this.fields.get(e)))throw Error("field not found");var n=e.oneof;if(!ma.isLong(t)&&"number"!=typeof t)if("boolean"==typeof t)t=t?1:0;else{if(void 0===n)throw Error("invalid field type");if(void 0===(t=n[t]))throw Error("field type not found")}qh(e,t),e.val=t}},{key:"toNumber",value:function(){for(var e=0,t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var o=Xa(r[n],2)[1],i=o.len;void 0!==(o=o.val)&&(e+=ma.fromValue(o).shiftLeft(t).toNumber(),t+=i)}return e}},{key:"toLong",value:function(){for(var e=ma.fromNumber(0,!0),t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var o=Xa(r[n],2)[1],i=o.len;void 0!==(o=o.val)&&(e=ma.fromValue(o).shiftLeft(t).add(e),t+=i)}return e}},{key:"assert",value:function(e,t){function n(e){if(!ma.isLong(e)&&"number"!=typeof e)if("boolean"==typeof e)e=e?1:0;else{if(void 0===o)throw Error("invalid field type");if(void 0===(e=o[e]))throw Error("field type not found")}return qh(r,e),ph(e,r.val)}var r=this.fields.get(e);if(!r)throw Error("field not found");var o=r.oneof;if(!Array.isArray(t))return n(t);if(1===t.length)return n(t[0]);if(t.every((function(e){return"string"==typeof e}))&&void 0!==o)return t.some((function(e){return n(e)}));throw Error("invalid valueTypes")}},{key:"from",value:function(e){e=ma.fromValue(e);for(var t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var o=Xa(r[n],2)[1],i=o.len,a=ma.fromNumber(Math.pow(2,i)-1,!0).shiftLeft(t);qh(o,a=e.and(a).shiftRightUnsigned(t)),o.val=a,t+=i}}},{key:"typeOf",value:function(e){if(void 0!==(e=this.fields.get(e))){var t=e.oneof;if(e=e.val,void 0!==t){var n=0;for(t=Object.entries(t);n<t.length;n++){var r=Xa(t[n],2),o=r[0];if(ph(e,r[1]))return o}}}throw new TypeError("can only get type of oneof type")}}]),e}(),Xs=function(e){function t(e){ua(this,t);var r=n.call(this);return r.define("Rejoin","boolean",1),r.define("Unused","number",31),r.define("Platform","number",8),r.define("Version","number",12),r.define("Subversion","number",12),r.set("Platform",7),r.set("Version",4),r.set("Subversion",17),r.set("Rejoin",e),r}Ga(t,e);var n=Ha(t);return t}(Ws),gE=jb(jb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),Ys={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},hE=jb(jb({},gE),Ys),iE={Uncompressed:0,Zlib:1},Cf=function(e){function t(e){ua(this,t);var r=n.call(this);if(r.define("MessageType",hE,8),r.define("BroadcastJumps","number",2),r.define("ToCache","boolean",1),r.define("FromCache","boolean",1),r.define("CompressionMethod",iE,2),r.define("IterationNumber","number",4),r.define("BufferedMessage","boolean",1),r.define("ToArchive","boolean",1),r.define("FromArchive","boolean",1),"number"==typeof e||ma.isLong(e))r.from(e);else if(void 0!==e){var o=0;for(e=lh(e);o<e.length;o++){var i=Xa(e[o],2);r.set(i[0],i[1])}}return r}Ga(t,e);var n=Ha(t);return cb(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(e){var t=this;return void 0!==e?this.assert("MessageType",e):$f(Ys).some((function(e){return t.assert("MessageType",e)}))}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),t}(Ws),jE=function(e){function t(e){return ua(this,t),x(z(e=n.call(this,e,"ChatManager")),"dialogueLru",new nz(void 0,{maxlen:1e4,ttl:1e4})),e}Ga(t,e);var n=Ha(t);return cb(t,[{key:"getChatInfo",value:function(e){var t=this.dialogueLru.get(e);if(this.dialogueLru.prune(),t){var n=t.dialogue,r={dialogue:n,sequence:t=t.sequence.add(1)};return this.dialogueLru.set(e,{dialogue:n,sequence:t}),r}return n={dialogue:hh(),sequence:ma.fromNumber(1,!0)},this.dialogueLru.set(e,n),n}}]),t}(Ac()),F={};"object"==oa(module)&&(module.exports=F),F.parse=function(e,t){var n,r=F.bin.readUshort,o=F.bin.readUint,i={};for(n=(e=new Uint8Array(e)).length-4;101010256!=o(e,n);)n--;var a=r(e,n=n+4+4);r(e,n+=2),o(e,n+=2),n=o(e,n+=4);for(var s=0;s<a;s++){o(e,n),n+=4,n+=4,n+=4,o(e,n+=4);var c=o(e,n+=4),u=o(e,n+=4),l=r(e,n+=4),d=r(e,n+2),f=r(e,n+4);n+=6;var p=o(e,n+=8);n+=4,n+=l+d+f,F._readLocal(e,p,i,c,u,t)}return i},F._readLocal=function(e,t,n,r,o,i){var a=F.bin.readUshort,s=F.bin.readUint;s(e,t),a(e,t+=4),a(e,t+=2);var c=a(e,t+=2);s(e,t+=2),s(e,t+=4),s=a(e,t=t+4+8);var u=a(e,t+=2);if(t+=2,a=F.bin.readUTF8(e,t,s),t=t+s+u,i)n[a]={size:o,csize:r};else if(e=new Uint8Array(e.buffer,t),0==c)n[a]=new Uint8Array(e.buffer.slice(t,t+r));else{if(8!=c)throw"unknown compression method: "+c;t=new Uint8Array(o),F.inflateRaw(e,t),n[a]=t}},F.inflateRaw=function(e,t){return F.F.inflate(e,t)},F.inflate=function(e,t){return e[0],e[1],F.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},F.deflate=function(e,t){null==t&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));return r[n]=120,r[n+1]=156,n=F.F.deflateRaw(e,r,n+2,t.level),e=F.adler(e,0,e.length),r[n+0]=e>>>24&255,r[n+1]=e>>>16&255,r[n+2]=e>>>8&255,r[n+3]=e>>>0&255,new Uint8Array(r.buffer,0,n+4)},F.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=F.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},F.encode=function(e,t){null==t&&(t=!1);var n,r=0,o=F.bin.writeUint,i=F.bin.writeUshort,a={};for(n in e){var s=!F._noNeed(n)&&!t,c=e[n],u=F.crc.crc(c,0,c.length);a[n]={cpr:s,usize:c.length,crc:u,file:s?F.deflateRaw(c):c}}for(n in a)r+=a[n].file.length+30+46+2*F.bin.sizeUTF8(n);for(n in e=new Uint8Array(r+22),t=0,c=[],a)u=a[n],c.push(t),t=F._writeHeader(e,t,n,u,0);for(n in r=0,s=t,a)u=a[n],c.push(t),t=F._writeHeader(e,t,n,u,1,c[r++]);return a=t-s,o(e,t,101010256),i(e,t=t+4+4,r),i(e,t+=2,r),o(e,t+=2,a),o(e,t+4,s),e.buffer},F._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),-1!="png,jpg,jpeg,zip".indexOf(e)},F._writeHeader=function(e,t,n,r,o,i){var a=F.bin.writeUint,s=F.bin.writeUshort,c=r.file;return a(e,t,0==o?67324752:33639248),t+=4,1==o&&(t+=2),s(e,t,20),s(e,t+=2,0),s(e,t+=2,r.cpr?8:0),a(e,t+=2,0),a(e,t+=4,r.crc),a(e,t+=4,c.length),a(e,t+=4,r.usize),s(e,t+=4,F.bin.sizeUTF8(n)),s(e,t+=2,0),t+=2,1==o&&(a(e,t=t+2+2+6,i),t+=4),t+=n=F.bin.writeUTF8(e,t,n),0==o&&(e.set(c,t),t+=c.length),t},F.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var n=t,r=0;8>r;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=F.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^F.crc.update(4294967295,e,t,n)}},F.adler=function(e,t,n){var r=1,o=0,i=t;for(t+=n;i<t;){for(n=Math.min(i+5552,t);i<n;)o+=r+=e[i++];r%=65521,o%=65521}return o<<16|r},F.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",o=0;o<n;o++)r+=String.fromCharCode(e[t+o]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,n){for(var r,o="",i=0;i<n;i++)o+="%"+F.bin.pad(e[t+i].toString(16));try{r=decodeURIComponent(o)}catch(r){return F.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,o=0,i=0;i<r;i++){var a=n.charCodeAt(i);if(0==(4294967168&a))e[t+o]=a,o++;else if(0==(4294965248&a))e[t+o]=192|a>>6,e[t+o+1]=128|a>>0&63,o+=2;else if(0==(4294901760&a))e[t+o]=224|a>>12,e[t+o+1]=128|a>>6&63,e[t+o+2]=128|a>>0&63,o+=3;else{if(0!=(4292870144&a))throw"e";e[t+o]=240|a>>18,e[t+o+1]=128|a>>12&63,e[t+o+2]=128|a>>6&63,e[t+o+3]=128|a>>0&63,o+=4}}return o},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var o=e.charCodeAt(r);if(0==(4294967168&o))n++;else if(0==(4294965248&o))n+=2;else if(0==(4294901760&o))n+=3;else{if(0!=(4292870144&o))throw"e";n+=4}}return n}},F.F={},F.F.deflateRaw=function(e,t,n,r){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],i=F.F.U,a=F.F._goodIndex;F.F._hash;var s=F.F._putsE,c=0;n<<=3;var u=0,l=e.length;if(0==r){for(;c<l;){var d=Math.min(65535,l-c);s(t,n,c+d==l?1:0),n=F.F._copyExact(e,c,d,t,n+8),c+=d}return n>>>3}s=i.lits,r=i.strt;var f=i.prev,p=0,h=0,g=0,v=0,m=0;for(2<l&&(r[m=F.F._hash(e,0)]=0),c=0;c<l;c++){if(d=m,c+1<l-2){m=F.F._hash(e,c+1);var y=c+1&32767;f[y]=r[m],r[m]=y}if(u<=c){if((14e3<p||26697<h)&&100<l-c&&(u<c&&(s[p]=c-u,p+=2,u=c),n=F.F._writeBlock(c==l-1||u==l?1:0,s,p,v,e,g,c-g,t,n),p=h=v=0,g=c),y=0,c<l-2&&(y=F.F._bestMatch(e,c,f,d,Math.min(o[2],l-c),o[3])),0!=y){d=y>>>16,y&=65535;var A=a(d,i.of0);i.lhst[257+A]++;var b=a(y,i.df0);i.dhst[b]++,v+=i.exb[A]+i.dxb[b],s[p]=d<<23|c-u,s[p+1]=y<<16|A<<8|b,p+=2,u=c+d}else i.lhst[e[c]]++;h++}}for(g==c&&0!=e.length||(u<c&&(s[p]=c-u,p+=2),n=F.F._writeBlock(1,s,p,v,e,g,c-g,t,n));0!=(7&n);)n++;return n>>>3},F.F._bestMatch=function(e,t,n,r,o,i){var a=32767&t,s=n[a],c=a-s+32768&32767;if(s==a||r!=F.F._hash(e,t-c))return 0;for(var u=r=0,l=Math.min(32767,t);c<=l&&0!=--i&&s!=a;){if((0==r||e[t+r]==e[t+r-c])&&(a=F.F._howLong(e,t,c))>r){if(u=c,(r=a)>=o)break;c+2<a&&(a=c+2);for(var d=0,f=0;f<a-2;f++){var p=t-c+f+32768&32767,h=p-n[p]+32768&32767;h>d&&(d=h,s=p)}}c+=(a=s)-(s=n[a])+32768&32767}return r<<16|u},F.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,o=Math.min(e.length,t+258);for(t+=3;t<o&&e[t]==e[t-n];)t++;return t-r},F.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},F.saved=0,F.F._writeBlock=function(e,t,n,r,o,i,a,s,c){var u=F.F.U,l=F.F._putsF,d=F.F._putsE;u.lhst[256]++;var f=F.F.getTrees(),p=f[0],h=f[1],g=f[2],v=f[3],m=f[4],y=f[5],A=f[6];f=f[7];var b=32+(0==(c+3&7)?0:8-(c+3&7))+(a<<3),E=r+F.F.contSize(u.fltree,u.lhst)+F.F.contSize(u.fdtree,u.dhst);r=r+F.F.contSize(u.ltree,u.lhst)+F.F.contSize(u.dtree,u.dhst),r+=14+3*y+F.F.contSize(u.itree,u.ihst)+(2*u.ihst[16]+3*u.ihst[17]+7*u.ihst[18]);for(var _=0;286>_;_++)u.lhst[_]=0;for(_=0;30>_;_++)u.dhst[_]=0;for(_=0;19>_;_++)u.ihst[_]=0;if(b=b<E&&b<r?0:E<r?1:2,l(s,c,e),l(s,c+1,b),c+=3,0==b){for(;0!=(7&c);)c++;c=F.F._copyExact(o,i,a,s,c)}else{if(1==b)var w=u.fltree,S=u.fdtree;if(2==b){for(F.F.makeCodes(u.ltree,p),F.F.revCodes(u.ltree,p),F.F.makeCodes(u.dtree,h),F.F.revCodes(u.dtree,h),F.F.makeCodes(u.itree,g),F.F.revCodes(u.itree,g),w=u.ltree,S=u.dtree,d(s,c,v-257),d(s,c+=5,m-1),d(s,c+=5,y-4),c+=4,e=0;e<y;e++)d(s,c+3*e,u.itree[1+(u.ordr[e]<<1)]);c=F.F._codeTiny(A,u.itree,s,c+3*y),c=F.F._codeTiny(f,u.itree,s,c)}for(y=0;y<n;y+=2){for(A=(e=t[y])>>>23,e=i+(8388607&e);i<e;)c=F.F._writeLit(o[i++],w,s,c);0!=A&&(e=(p=t[y+1])>>16,a=p>>8&255,p&=255,d(s,c=F.F._writeLit(257+a,w,s,c),A-u.of0[a]),c+=u.exb[a],l(s,c=F.F._writeLit(p,S,s,c),e-u.df0[p]),c+=u.dxb[p],i+=A)}c=F.F._writeLit(256,w,s,c)}return c},F.F._copyExact=function(e,t,n,r,o){var i=o>>>3;return r[i]=n,r[i+1]=n>>>8,r[i+2]=255-r[i],r[i+3]=255-r[i+1],i+=4,r.set(new Uint8Array(e.buffer,t,n),i),o+(n+4<<3)},F.F.getTrees=function(){for(var e=F.F.U,t=F.F._hufTree(e.lhst,e.ltree,15),n=F.F._hufTree(e.dhst,e.dtree,15),r=[],o=F.F._lenCodes(e.ltree,r),i=[],a=F.F._lenCodes(e.dtree,i),s=0;s<r.length;s+=2)e.ihst[r[s]]++;for(s=0;s<i.length;s+=2)e.ihst[i[s]]++;s=F.F._hufTree(e.ihst,e.itree,7);for(var c=19;4<c&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,s,o,a,c,r,i]},F.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},F.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},F.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},F.F._codeTiny=function(e,t,n,r){for(var o=0;o<e.length;o+=2){var i=e[o],a=e[o+1];r=F.F._writeLit(i,t,n,r);var s=16==i?2:17==i?3:7;15<i&&(F.F._putsE(n,r,a,s),r+=s)}return r},F.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var o=e[r+1],i=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==o&&i==o&&a==o){for(i=r+5;i+2<n&&e[i+2]==o;)i+=2;11>(o=Math.min(i+1-r>>>1,138))?t.push(17,o-3):t.push(18,o-11),r+=2*o-2}else if(o==s&&i==o&&a==o){for(i=r+5;i+2<n&&e[i+2]==o;)i+=2;o=Math.min(i+1-r>>>1,6),t.push(16,o-3),r+=2*o-2}else t.push(o,0)}return n>>>1},F.F._hufTree=function(e,t,n){var r=[],o=e.length,i=t.length,a=0;for(a=0;a<i;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<o;a++)0!=e[a]&&r.push({lit:a,f:e[a]});if(e=r.length,o=r.slice(0),0==e)return 0;if(1==e)return t[1+((n=r[0].lit)<<1)]=1,t[1+((0==n?1:0)<<1)]=1;r.sort((function(e,t){return e.f-t.f})),a=r[0],i=r[1];var s=0,c=1,u=2;for(r[0]={lit:-1,f:a.f+i.f,l:a,r:i,d:0};c!=e-1;)a=s!=c&&(u==e||r[s].f<r[u].f)?r[s++]:r[u++],i=s!=c&&(u==e||r[s].f<r[u].f)?r[s++]:r[u++],r[c++]={lit:-1,f:a.f+i.f,l:a,r:i};for((r=F.F.setDepth(r[c-1],0))>n&&(F.F.restrictDepth(o,n,r),r=n),a=0;a<e;a++)t[1+(o[a].lit<<1)]=o[a].d;return r},F.F.setDepth=function(e,t){return-1!=e.lit?e.d=t:Math.max(F.F.setDepth(e.l,t+1),F.F.setDepth(e.r,t+1))},F.F.restrictDepth=function(e,t,n){var r=0,o=1<<n-t,i=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,i+=o-(1<<n-a)}for(i>>>=n-t;0<i;)(a=e[r].d)<t?(e[r].d++,i-=1<<t-a-1):r++;for(;0<=r;r--)e[r].d==t&&0>i&&(e[r].d--,i++);0!=i&&console.log("debt left")},F.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},F.F._writeLit=function(e,t,n,r){return F.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},F.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=F.F,o=r._bitsF,i=r._bitsE,a=r._decodeTiny,s=r.makeCodes,c=r.codes2map,u=r._get17,l=r.U,d=null==t;d&&(t=new n(e.length>>>2<<3));for(var f,p,h,g,v=0,m=0,y=p=0,A=0;0==v;)if(v=o(e,A,1),f=o(e,A+1,2),A+=3,0==f)0!=(7&A)&&(A+=8-(7&A)),f=e[(A=4+(A>>>3))-4]|e[A-3]<<8,d&&(t=F.F._check(t,y+f)),t.set(new n(e.buffer,e.byteOffset+A,f),y),A=A+f<<3,y+=f;else{if(d&&(t=F.F._check(t,y+131072)),1==f&&(h=l.flmap,g=l.fdmap,m=511,p=31),2==f){for(p=i(e,A,5)+257,f=i(e,A+5,5)+1,h=i(e,A+10,4)+4,A+=14,g=0;38>g;g+=2)l.itree[g]=0,l.itree[g+1]=0;for(m=1,g=0;g<h;g++){var b=i(e,A+3*g,3);l.itree[1+(l.ordr[g]<<1)]=b,b>m&&(m=b)}A+=3*h,s(l.itree,m),c(l.itree,m,l.imap),h=l.lmap,g=l.dmap,A=a(l.imap,(1<<m)-1,p+f,e,A,l.ttree),m=(1<<(b=r._copyOut(l.ttree,0,p,l.ltree)))-1,p=(1<<(f=r._copyOut(l.ttree,p,f,l.dtree)))-1,s(l.ltree,b),c(l.ltree,b,h),s(l.dtree,f),c(l.dtree,f,g)}for(;;)if(A+=15&(f=h[u(e,A)&m]),0==(b=f>>>4)>>>8)t[y++]=b;else{if(256==b)break;f=y+b-254,264<b&&(f=y+((b=l.ldef[b-257])>>>3)+i(e,A,7&b),A+=7&b),A+=15&(b=g[u(e,A)&p]);var E=((b=l.ddef[b>>>4])>>>4)+o(e,A,15&b);for(A+=15&b,d&&(t=F.F._check(t,y+131072));y<f;)t[y]=t[y++-E],t[y]=t[y++-E],t[y]=t[y++-E],t[y]=t[y++-E];y=f}}return t.length==y?t:t.slice(0,y)},F.F._check=function(e,t){var n=e.length;return t<=n?e:((t=new Uint8Array(Math.max(n<<1,t))).set(e,0),t)},F.F._decodeTiny=function(e,t,n,r,o,i){for(var a=F.F._bitsE,s=F.F._get17,c=0;c<n;){var u=e[s(r,o)&t];o+=15&u;var l=u>>>4;if(15>=l)i[c]=l,c++;else{var d=u=0;for(16==l?(d=3+a(r,o,2),o+=2,u=i[c-1]):17==l?(d=3+a(r,o,3),o+=3):18==l&&(d=11+a(r,o,7),o+=7),l=c+d;c<l;)i[c]=u,c++}}return o},F.F._copyOut=function(e,t,n,r){for(var o=0,i=0,a=r.length>>>1;i<n;){var s=e[i+t];r[i<<1]=0,r[1+(i<<1)]=s,s>o&&(o=s),i++}for(;i<a;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o},F.F.makeCodes=function(e,t){var n,r,o=F.F.U,i=e.length,a=o.bl_count;for(n=0;n<=t;n++)a[n]=0;for(n=1;n<i;n+=2)a[e[n]]++;for(o=o.next_code,n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,o[r]=n;for(t=0;t<i;t+=2)0!=(a=e[t+1])&&(e[t]=o[a],o[a]++)},F.F.codes2map=function(e,t,n){for(var r=e.length,o=F.F.U.rev15,i=0;i<r;i+=2)if(0!=e[i+1]){var a=e[i+1],s=i>>1<<4|a,c=t-a;for(c=(a=e[i]<<c)+(1<<c);a!=c;)n[o[a]>>>15-t]=s,a++}},F.F.revCodes=function(e,t){for(var n=F.F.U.rev15,r=15-t,o=0;o<e.length;o+=2)e[o]=n[e[o]<<t-e[o+1]]>>>r},F.F._putsE=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8},F.F._putsF=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8,e[t+2]|=n>>>16},F.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},F.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},F.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},F.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},F.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(e,t,n){for(;0!=t--;)e.push(0,n)}for(var t=F.F.U,n=0;32768>n;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[n]=(r>>>16|r<<16)>>>17}for(n=0;32>n;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),F.F.makeCodes(t.fltree,9),F.F.codes2map(t.fltree,9,t.flmap),F.F.revCodes(t.fltree,9),e(t.fdtree,32,5),F.F.makeCodes(t.fdtree,5),F.F.codes2map(t.fdtree,5,t.fdmap),F.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var kE=Array.isArray||function(e){return e&&"number"==typeof e.length},lE=Object.defineProperty({isArray:kE},"__esModule",{value:!0}),mE=Object.defineProperty({isObject:function(e){return null!==e&&"object"===oa(e)}},"__esModule",{value:!0}),nE=Object.defineProperty({isFunction:function(e){return"function"==typeof e}},"__esModule",{value:!0}),oE=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),rh=Object.defineProperty({UnsubscriptionError:oE},"__esModule",{value:!0}),pE=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var i=0;i<t.length;++i)t[i].remove(this);if(nE.isFunction(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof rh.UnsubscriptionError?Yn(e.errors):[e]}}if(lE.isArray(o))for(i=-1,t=o.length;++i<t;)if(n=o[i],mE.isObject(n))try{n.unsubscribe()}catch(e){a=a||[],e instanceof rh.UnsubscriptionError?a=a.concat(Yn(e.errors)):a.push(e)}if(a)throw new rh.UnsubscriptionError(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(oa(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=((t=new e).closed=!0,t),e}(),qE=Object.defineProperty({Subscription:pE},"__esModule",{value:!0}),rE=Va&&Va.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sE=function(e){function t(t,n){return e.call(this)||this}return rE(t,e),t.prototype.schedule=function(e,t){return this},t}(qE.Subscription),tE=Object.defineProperty({Action:sE},"__esModule",{value:!0}),uE=Va&&Va.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zs=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return uE(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(tE.Action);Object.defineProperty({AsyncAction:Zs},"__esModule",{value:!0});var vE=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),$s=Object.defineProperty({Scheduler:vE},"__esModule",{value:!0}),wE=Va&&Va.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(e){function t(n,r){void 0===r&&(r=$s.Scheduler.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return wE(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}($s.Scheduler);Object.defineProperty({AsyncScheduler:at},"__esModule",{value:!0});var xE=Ea("iterator"),Ql=!ia((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[xE]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),yE=/[^\0-\u007E]/,zE=/[.\u3002\uFF0E\uFF61]/g,Df=Math.floor,Rl=String.fromCharCode,bt=function(e){var t=jg(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Ia(t.call(e))},ct=Lc("fetch"),Sl=Lc("Headers"),AE=Ea("iterator"),dt=Za.set,Yb=Za.getterFor("URLSearchParams"),BE=Za.getterFor("URLSearchParamsIterator"),CE=/\+/g,et=Array(4),DE=function(e){try{return decodeURIComponent(e)}catch(t){return e}},ft=function(e){var t=e.replace(CE," ");e=4;try{return decodeURIComponent(t)}catch(o){for(;e;){var n=t.replace,r=e--;r=et[r-1]||(et[r-1]=RegExp("((?:%[\\da-f]{2}){"+r+"})","gi")),t=n.call(t,r,DE)}return t}},gt=/[!'()~]|%20/g,EE={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ht=function(e){return EE[e]},it=function(e,t){if(t){t=t.split("&");for(var n,r=0;r<t.length;)(n=t[r++]).length&&(n=n.split("="),e.push({key:ft(n.shift()),value:ft(n.join("="))}))}},FE=function(e){this.entries.length=0,it(this.entries,e)},Ef=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Tl=Qo((function(e,t){dt(this,{type:"URLSearchParamsIterator",iterator:bt(Yb(e).entries),kind:t})}),"Iterator",(function(){var e=BE(this),t=e.kind,n=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),e})),Pg=function(){tc(this,Pg,"URLSearchParams");var e,t,n,r=0<arguments.length?arguments[0]:void 0,o=[];if(dt(this,{type:"URLSearchParams",entries:o,updateURL:function(){},updateSearchParams:FE}),void 0!==r)if(va(r)){var i=jg(r);if("function"==typeof i)for(r=i.call(r),i=r.next;!(e=i.call(r)).done;){var a=(e=bt(Ia(e.value))).next;if((t=a.call(e)).done||(n=a.call(e)).done||!a.call(e).done)throw TypeError("Expected sequence with length 2");o.push({key:t.value+"",value:n.value+""})}else for(e in r)ha(r,e)&&o.push({key:e,value:r[e]+""})}else it(o,"string"==typeof r?"?"===r.charAt(0)?r.slice(1):r:r+"")},wi=Pg.prototype;gf(wi,{append:function(e,t){Ef(arguments.length,2);var n=Yb(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){Ef(arguments.length,1);for(var t=Yb(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){Ef(arguments.length,1);for(var t=Yb(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){Ef(arguments.length,1);for(var t=Yb(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){Ef(arguments.length,1);for(var t=Yb(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){Ef(arguments.length,1);for(var n,r=Yb(this),o=r.entries,i=!1,a=e+"",s=t+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n=Yb(this),r=n.entries,o=r.slice();for(t=r.length=0;t<o.length;t++){var i=o[t];for(e=0;e<t;e++)if(r[e].key>i.key){r.splice(e,0,i);break}e===t&&r.push(i)}n.updateURL()},forEach:function(e){for(var t,n=Yb(this).entries,r=Cd(e,1<arguments.length?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Tl(this,"keys")},values:function(){return new Tl(this,"values")},entries:function(){return new Tl(this,"entries")}},{enumerable:!0}),Wa(wi,AE,wi.entries),Wa(wi,"toString",(function(){for(var e,t=Yb(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(encodeURIComponent(e.key).replace(gt,ht)+"="+encodeURIComponent(e.value).replace(gt,ht));return n.join("&")}),{enumerable:!0}),sc(Pg,"URLSearchParams"),ba({global:!0,forced:!Ql},{URLSearchParams:Pg}),Ql||"function"!=typeof ct||"function"!=typeof Sl||ba({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t=[e];if(1<arguments.length){var n=arguments[1];if(va(n)){var r=n.body;if("URLSearchParams"===ff(r)){var o=n.headers?new Sl(n.headers):new Sl;o.has("content-type")||o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=ec(n,{body:Jc(0,String(r)),headers:Jc(0,o)})}}t.push(n)}return ct.apply(this,t)}});var Qg=Q.URL,GE=Pg,HE=Za.set,$a=Za.getterFor("URL"),IE=Math.floor,jt=Math.pow,kt=/[A-Za-z]/,JE=/[\d+-.A-Za-z]/,Ul=/\d/,KE=/^(0x|0X)/,LE=/^[0-7]+$/,ME=/^\d+$/,lt=/^[\dA-Fa-f]+$/,NE=/[\0\t\n\r #%/:?@[\\]]/,OE=/[\0\t\n\r #/:?@[\\]]/,PE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,QE=/[\t\n\r]/g,Vl=function(e,t){var n;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";var r=RE(t.slice(1,-1));if(!r)return"Invalid host"}else if(sb(e)){for(r=[],t=t.toLowerCase().replace(zE,".").split("."),n=0;n<t.length;n++){var o=t[n],i=r,a=i.push;if(yE.test(o)){var s=o;o=[];var c=s;s=[];for(var u=0,l=c.length;u<l;){var d=c.charCodeAt(u++);if(55296<=d&&56319>=d&&u<l){var f=c.charCodeAt(u++);56320==(64512&f)?s.push(((1023&d)<<10)+(1023&f)+65536):(s.push(d),u--)}else s.push(d)}u=s.length,l=128;var p=0,h=72;for(c=0;c<s.length;c++){var g=s[c];128>g&&o.push(Rl(g))}for((f=d=o.length)&&o.push("-");f<u;){var v=2147483647;for(c=0;c<s.length;c++)(g=s[c])>=l&&g<v&&(v=g);var m=f+1;if(v-l>Df((2147483647-p)/m))throw RangeError("Overflow: input needs wider integers to process");for(p+=(v-l)*m,l=v,c=0;c<s.length;c++){if((g=s[c])<l&&2147483647<++p)throw RangeError("Overflow: input needs wider integers to process");if(g==l){var y=p;for(g=36;!(y<(v=g<=h?1:g>=h+26?26:g-h));g+=36){var A=36-v,b=o;v+=(y-=v)%A,b.push.call(b,Rl(v+22+75*(26>v))),y=Df(y/A)}for(o.push(Rl(y+22+75*(26>y))),h=m,g=0,p=f==d?Df(p/700):p>>1,p+=Df(p/h);455<p;g+=36)p=Df(p/35);h=Df(g+36*p/(p+38)),p=0,++f}}++p,++l}o="xn--"+o.join("")}a.call(i,o)}if(t=r.join("."),NE.test(t))return"Invalid host";if(null===(r=SE(t)))return"Invalid host"}else{if(OE.test(t))return"Invalid host";for(r="",t=fe(t),n=0;n<t.length;n++)r+=Pd(t[n],xi)}e.host=r},SE=function(e){var t,n=e.split(".");n.length&&""==n[n.length-1]&&n.pop();var r=n.length;if(4<r)return e;var o=[];for(t=0;t<r;t++){var i=n[t];if(""==i)return e;var a=10;if(1<i.length&&"0"==i.charAt(0)&&(a=KE.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)i=0;else{if(!(10==a?ME:8==a?LE:lt).test(i))return e;i=parseInt(i,a)}o.push(i)}for(t=0;t<r;t++)if(i=o[t],t==r-1){if(i>=jt(256,5-r))return null}else if(255<i)return null;for(e=o.pop(),t=0;t<o.length;t++)e+=o[t]*jt(256,3-t);return e},RE=function(e){var t,n,r=[0,0,0,0,0,0,0,0],o=0,i=null,a=0,s=function(){return e.charAt(a)};if(":"==s()){if(":"!=e.charAt(1))return;a+=2,i=++o}for(;s();){if(8==o)return;if(":"==s()){if(null!==i)return;a++,i=++o}else{for(t=n=0;4>n&&lt.test(s());)t=16*t+parseInt(s(),16),a++,n++;if("."==s()){if(0==n)return;if(a-=n,6<o)return;for(t=0;s();){if(n=null,0<t){if(!("."==s()&&4>t))return;a++}if(!Ul.test(s()))return;for(;Ul.test(s());){var c=parseInt(s(),10);if(null===n)n=c;else{if(0==n)return;n=10*n+c}if(255<n)return;a++}r[o]=256*r[o]+n,2!=++t&&4!=t||o++}if(4!=t)return;break}if(":"==s()){if(a++,!s())return}else if(s())return;r[o++]=t}}if(null!==i)for(s=o-i,o=7;0!=o&&0<s;)t=r[o],r[o--]=r[i+s-1],r[i+--s]=t;else if(8!=o)return;return r},Rg=function(e){var t,n;if("number"==typeof e){var r=[];for(t=0;4>t;t++)r.unshift(e%256),e=IE(e/256);return r.join(".")}if("object"==typeof e){r="",t=null;for(var o=1,i=null,a=0,s=0;8>s;s++)0!==e[s]?(a>o&&(t=i,o=a),i=null,a=0):(null===i&&(i=s),++a);for(a>o&&(t=i),o=t,t=0;8>t;t++)n&&0===e[t]||(n&&(n=!1),o===t?(r+=t?":":"::",n=!0):(r+=e[t].toString(16),7>t&&(r+=":")));return"["+r+"]"}return e},xi={},mt=zg({},xi,{" ":1,'"':1,"<":1,">":1,"`":1}),nt=zg({},mt,{"#":1,"?":1,"{":1,"}":1}),Wl=zg({},nt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pd=function(e,t){var n=kw(e,0);return 32<n&&127>n&&!ha(t,e)?e:encodeURIComponent(e)},yi={ftp:21,file:null,http:80,https:443,ws:80,wss:443},sb=function(e){return ha(yi,e.scheme)},Xl=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Sg=function(e,t){var n;return 2==e.length&&kt.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ot=function(e){var t;return 1<e.length&&Sg(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},pt=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Sg(t[0],!0)||t.pop()},Yl={},qt={},Zl={},rt={},st={},$l={},tt={},ut={},zi={},Ai={},am={},bm={},cm={},dm={},vt={},em={},Tg={},Vc={},wt={},we={},sd={},Wc=function(e,t,n,r){var o=n||Yl,i=0,a="",s=!1,c=!1,u=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(PE,"")),t=t.replace(QE,""),t=fe(t);i<=t.length;){var l=t[i];switch(o){case Yl:if(!l||!kt.test(l)){if(n)return"Invalid scheme";o=Zl;continue}a+=l.toLowerCase(),o=qt;break;case qt:if(l&&(JE.test(l)||"+"==l||"-"==l||"."==l))a+=l.toLowerCase();else{if(":"!=l){if(n)return"Invalid scheme";a="",o=Zl,i=0;continue}if(n&&(sb(e)!=ha(yi,a)||"file"==a&&(""!=e.username||""!=e.password||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=a,n)return void(sb(e)&&yi[e.scheme]==e.port&&(e.port=null));a="","file"==e.scheme?o=dm:sb(e)&&r&&r.scheme==e.scheme?o=rt:sb(e)?o=ut:"/"==t[i+1]?(o=st,i++):(e.cannotBeABaseURL=!0,e.path.push(""),o=wt)}break;case Zl:if(!r||r.cannotBeABaseURL&&"#"!=l)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==l){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,o=sd;break}o="file"==r.scheme?dm:$l;continue;case rt:if("/"!=l||"/"!=t[i+1]){o=$l;continue}o=zi,i++;break;case st:if("/"==l){o=Ai;break}o=Vc;continue;case $l:if(e.scheme=r.scheme,null==l)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==l||"\\"==l&&sb(e))o=tt;else if("?"==l)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",o=we;else{if("#"!=l){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),o=Vc;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",o=sd}break;case tt:if(!sb(e)||"/"!=l&&"\\"!=l){if("/"!=l){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,o=Vc;continue}o=Ai}else o=zi;break;case ut:if(o=zi,"/"!=l||"/"!=a.charAt(i+1))continue;i++;break;case zi:if("/"!=l&&"\\"!=l){o=Ai;continue}break;case Ai:if("@"==l){for(s&&(a="%40"+a),s=!0,a=fe(a),l=0;l<a.length;l++){var d=a[l];":"!=d||u?(d=Pd(d,Wl),u?e.password+=d:e.username+=d):u=!0}a=""}else if(null==l||"/"==l||"?"==l||"#"==l||"\\"==l&&sb(e)){if(s&&""==a)return"Invalid authority";i-=fe(a).length+1,a="",o=am}else a+=l;break;case am:case bm:if(n&&"file"==e.scheme){o=em;continue}if(":"!=l||c){if(null==l||"/"==l||"?"==l||"#"==l||"\\"==l&&sb(e)){if(sb(e)&&""==a)return"Invalid host";if(n&&""==a&&(""!=e.username||""!=e.password||null!==e.port))return;if(o=Vl(e,a))return o;if(a="",o=Tg,n)return;continue}"["==l?c=!0:"]"==l&&(c=!1),a+=l}else{if(""==a)return"Invalid host";if(o=Vl(e,a))return o;if(a="",o=cm,n==bm)return}break;case cm:if(!Ul.test(l)){if(null==l||"/"==l||"?"==l||"#"==l||"\\"==l&&sb(e)||n){if(""!=a){if(65535<(o=parseInt(a,10)))return"Invalid port";e.port=sb(e)&&o===yi[e.scheme]?null:o,a=""}if(n)return;o=Tg;continue}return"Invalid port"}a+=l;break;case dm:if(e.scheme="file","/"==l||"\\"==l)o=vt;else{if(!r||"file"!=r.scheme){o=Vc;continue}if(null==l)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==l)e.host=r.host,e.path=r.path.slice(),e.query="",o=we;else{if("#"!=l){ot(t.slice(i).join(""))||(e.host=r.host,e.path=r.path.slice(),pt(e)),o=Vc;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",o=sd}}break;case vt:if("/"==l||"\\"==l){o=em;break}r&&"file"==r.scheme&&!ot(t.slice(i).join(""))&&(Sg(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),o=Vc;continue;case em:if(null==l||"/"==l||"\\"==l||"?"==l||"#"==l){if(!n&&Sg(a))o=Vc;else{if(""==a){if(e.host="",n)return}else{if(o=Vl(e,a))return o;if("localhost"==e.host&&(e.host=""),n)return;a=""}o=Tg}continue}a+=l;break;case Tg:if(sb(e)){if(o=Vc,"/"!=l&&"\\"!=l)continue}else if(n||"?"!=l)if(n||"#"!=l){if(null!=l&&(o=Vc,"/"!=l))continue}else e.fragment="",o=sd;else e.query="",o=we;break;case Vc:if(null==l||"/"==l||"\\"==l&&sb(e)||!n&&("?"==l||"#"==l)){if(".."===(d=(d=a).toLowerCase())||"%2e."===d||".%2e"===d||"%2e%2e"===d?(pt(e),"/"==l||"\\"==l&&sb(e)||e.path.push("")):"."===a||"%2e"===a.toLowerCase()?"/"==l||"\\"==l&&sb(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Sg(a)&&(e.host&&(e.host=""),a=a.charAt(0)+":"),e.path.push(a)),a="","file"==e.scheme&&(null==l||"?"==l||"#"==l))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==l?(e.query="",o=we):"#"==l&&(e.fragment="",o=sd)}else a+=Pd(l,nt);break;case wt:"?"==l?(e.query="",o=we):"#"==l?(e.fragment="",o=sd):null!=l&&(e.path[0]+=Pd(l,xi));break;case we:n||"#"!=l?null!=l&&("'"==l&&sb(e)?e.query+="%27":e.query="#"==l?e.query+"%23":e.query+Pd(l,xi)):(e.fragment="",o=sd);break;case sd:null!=l&&(e.fragment+=Pd(l,mt))}i++}},Qd=function(e){var t=tc(this,Qd,"URL"),n=1<arguments.length?arguments[1]:void 0,r=String(e),o=HE(t,{type:"URL"});if(void 0!==n)if(n instanceof Qd)var i=$a(n);else if(n=Wc(i={},String(n)))throw TypeError(n);if(n=Wc(o,r,null,i))throw TypeError(n);var a=o.searchParams=new GE;(r=Yb(a)).updateSearchParams(o.query),r.updateURL=function(){o.query=String(a)||null},ta||(t.href=Bi.call(t),t.origin=xt.call(t),t.protocol=yt.call(t),t.username=zt.call(t),t.password=At.call(t),t.host=Bt.call(t),t.hostname=Ct.call(t),t.port=Dt.call(t),t.pathname=Et.call(t),t.search=Ft.call(t),t.searchParams=Gt.call(t),t.hash=Ht.call(t))},fm=Qd.prototype,Bi=function(){var e=$a(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",""==e.username&&""==e.password||(u+=n+(r?":"+r:"")+"@"),u+=Rg(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},xt=function(){var e=$a(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Qd(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&sb(e)?t+"://"+Rg(e.host)+(null!==n?":"+n:""):"null"},yt=function(){return $a(this).scheme+":"},zt=function(){return $a(this).username},At=function(){return $a(this).password},Bt=function(){var e=$a(this),t=e.host;return e=e.port,null===t?"":null===e?Rg(t):Rg(t)+":"+e},Ct=function(){var e=$a(this).host;return null===e?"":Rg(e)},Dt=function(){var e=$a(this).port;return null===e?"":String(e)},Et=function(){var e=$a(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ft=function(){var e=$a(this).query;return e?"?"+e:""},Gt=function(){return $a(this).searchParams},Ht=function(){var e=$a(this).fragment;return e?"#"+e:""},mc=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(ta&&No(fm,{href:mc(Bi,(function(e){var t=$a(this);if(e=Wc(t,String(e)))throw TypeError(e);Yb(t.searchParams).updateSearchParams(t.query)})),origin:mc(xt),protocol:mc(yt,(function(e){var t=$a(this);Wc(t,String(e)+":",Yl)})),username:mc(zt,(function(e){var t=$a(this);if(e=fe(String(e)),!Xl(t)){t.username="";for(var n=0;n<e.length;n++)t.username+=Pd(e[n],Wl)}})),password:mc(At,(function(e){var t=$a(this);if(e=fe(String(e)),!Xl(t)){t.password="";for(var n=0;n<e.length;n++)t.password+=Pd(e[n],Wl)}})),host:mc(Bt,(function(e){var t=$a(this);t.cannotBeABaseURL||Wc(t,String(e),am)})),hostname:mc(Ct,(function(e){var t=$a(this);t.cannotBeABaseURL||Wc(t,String(e),bm)})),port:mc(Dt,(function(e){var t=$a(this);Xl(t)||(""==(e=String(e))?t.port=null:Wc(t,e,cm))})),pathname:mc(Et,(function(e){var t=$a(this);t.cannotBeABaseURL||(t.path=[],Wc(t,e+"",Tg))})),search:mc(Ft,(function(e){var t=$a(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Wc(t,e,we)),Yb(t.searchParams).updateSearchParams(t.query)})),searchParams:mc(Gt),hash:mc(Ht,(function(e){var t=$a(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Wc(t,e,sd))}))}),Wa(fm,"toJSON",(function(){return Bi.call(this)}),{enumerable:!0}),Wa(fm,"toString",(function(){return Bi.call(this)}),{enumerable:!0}),Qg){var It=Qg.createObjectURL,Jt=Qg.revokeObjectURL;It&&Wa(Qd,"createObjectURL",(function(e){return It.apply(Qg,arguments)})),Jt&&Wa(Qd,"revokeObjectURL",(function(e){return Jt.apply(Qg,arguments)}))}sc(Qd,"URL"),ba({global:!0,forced:!Ql,sham:!ta},{URL:Qd});var TE=new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]),UE=window.URL.createObjectURL(TE),We={},bg=0,uj=new Worker(UE);uj.onmessage=function(e){if(e=e.data.fakeId,We.hasOwnProperty(e)){var t=We[e];e=t.callback,t=t.parameters,e.apply(window,t)}};var VE=function(e){function t(){return ua(this,t),n.apply(this,arguments)}Ga(t,e);var n=Ha(t);return cb(t,[{key:"requestAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return Gv(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;We.hasOwnProperty(t)&&(delete We[t],uj.postMessage({name:"clearInterval",fakeId:t}))}}]),t}(Zs),WE=new at(VE),XE=["group"],gm=F.inflate,Kt=F.deflate,Lt=function(e){function t(e,n,o,i){ua(this,t);var a=r.call(this,i,"Session");return x(z(a),"lastNoticeTicket",""),x(z(a),"chatManager",void 0),x(z(a),"usedChannelIds",[]),x(z(a),"msgDedupLru",new Sc(void 0,{maxlen:200})),x(z(a),"startTime",Date.now()),x(z(a),"seq",ma.fromNumber(1,!0)),x(z(a),"userJoinOptions",new Xs(!1)),x(z(a),"seqSentStatuses",[!1,!1]),x(z(a),"dialogueSequenceLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"loggedOut",!1),x(z(a),"messageSentTimes",[]),x(z(a),"curLoginSockets",[void 0,void 0]),x(z(a),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),x(z(a),"lastLoginSockets",[new Qe(1),new Qe(1)]),x(z(a),"dialPendingMsgSubjectMap",new Map),x(z(a),"context",void 0),x(z(a),"connection",void 0),x(z(a),"instanceId",void 0),x(z(a),"lastPingTime",void 0),x(z(a),"registerSocketsFailureListener",(function(){a.connection.once("socketsFailure",(function(){a.log("socketsFailure, creating a new connection"),wd((function(){return a.connection.removeAllListeners(),a.connection=new Us(a.context,a.logger,!0),a.loginHandler(15e3,!0)})).pipe(Oe((function(e){return e.pipe(Yd(ue.getParameter("RECONNECTING_AP_INTERVAL")))})),Gc(a.connection.apClient.apFinish$)).subscribe((function(){a.log("new connection connected")}))})),0===a.connection.listenerCount("tokenExpired")&&a.connection.on("tokenExpired",(function(){a.emit("tokenExpired")}))})),a.context=e,a.connection=n,a.instanceId=o,a.chatManager=new jE(i),a.lastPingTime=[0,0],a.setMaxListeners(512),a.log("The instanceId is %s",a.instanceId.toString()),a}Ga(t,e);var n,r=Ha(t);return cb(t,[{key:"loginHandler",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12e3,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&n)throw new aa("Already logged out, request ignored");n&&this.registerSocketsFailureListener(),this.connection.initConnection();var r=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),o=Date.now();return r.forEach((function(t,r){var i=e.loginSocketSubs[r].login;void 0!==i&&i.unsubscribe(),e.loginSocketSubs[r].login=t.pipe(sa((function(t){var i;e.curLoginSockets[r]=t;var a=Date.now();xb("Link",{ackedServerIp:t.address,destServerIp:t.ip,ec:0,sc:0,elapse:yb(e.startTime),lts:ma.fromNumber(a),responseTime:a-o,sid:rb(e.instanceId),userId:e.context.uid},null!==(i=e.context.config.enableCloudProxy)&&void 0!==i&&i),e.emit("userJoined",t.env),n&&e.connection.apClient.apFinish$.next(void 0)}))).subscribe(e.lastLoginSockets[r])})),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Ec.apply(void 0,W(r).concat([Gb(this.connection,"connectionInitFailure").pipe(sa((function(e){if(Ma(e)||vb(e))throw e;throw new Ja("Login failure",{code:Ur,originalError:e})})))])).pipe(db(1),Hb(t),Ya((function(t){return t instanceof Pb&&e.warn("Client login timeout"),t&&t.code===qi&&(e.connection.emit("tokenExpired"),e.connection.apClient.apFinish$.next(void 0)),e.clearSockets(0,n),pa(t)})),sa((function(){n||e.registerSocketsFailureListener()})),ch((function(){n||e.connection.apClient.apFinish$.next(void 0)})))}},{key:"logoutHandler",value:(n=ja(M.mark((function e(){var t,n,r,o=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),t=this.getLoginSockets(),n=t.map((function(e){return e.sendPacket("UserQuit",{}),o.connection.waitClosing(e)})),this.clearSockets(5e3),r=t.map((function(e){return e.env})),[0,1].filter((function(e){return!r.includes(e)})).forEach((function(e){o.connection.closeSocket(e,0)})),e.abrupt("return",Ec.apply(void 0,W(n)).toPromise());case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.getLoginSockets().length){e.next=2;break}throw new aa("Client is not logged in. Cannot join the channel",Qr);case 2:return n=Gb(this,"channelLeft").pipe(Ob((function(e){return t===e})),db(1)),r=this.incGetSeq(),(o=this.lastLoginSockets.map((function(e){return e.pipe(Fc((function(e,n){0!==n&&i.incSeqIfNeeded(e.env);var o=0===n?r:i.seq;return e.sendPacket("GroupEnter",{account:t,seq:o}),e.fromReceived("GroupReply").pipe(Aa((function(e){return o.eq(e.seq)})),sa((function(e){if(0!==(e=e.code))throw new Ja(["Channel join failure. The response code is %d",e],Mr)})))})),Gc(n),Pe())}))).forEach((function(e,n){var r=function(){return i.loginSocketSubs[n].channels.delete(t)};i.loginSocketSubs[n].channels.set(t,e.subscribe({error:r,complete:r}))})),e.next=8,Ec.apply(void 0,W(o)).pipe(db(1),Hb(1e4),Ya((function(e){return e instanceof Pb&&i.warn("Channel join timeout"),pa(e)}))).toPromise();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(e){this.getLoginSockets().forEach((function(t){t.sendPacket("GroupLeave",{account:e})}))}},{key:"requestUpdateEdgeTicket",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in. Cannot renew token",bs);var o=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserRenewTokenReq",{instance:n.instanceId,seq:o,account:n.context.uid,ticket:e})})),ab.apply(void 0,[t.genTimeoutError(Gl)].concat(W(r.map((function(e){return e.fromReceived("UserRenewTokenResp").pipe(Aa((function(e){var t=e.code;return o.eq(e.seq)&&0===t})))})))))}},{key:"requestChannelMemberList",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in. Cannot get the channel members",xB);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAllUsersList",{group:e,pageNumber:0,pageSize:200,seq:r})})),ab.apply(void 0,[t.genTimeoutError(Kr)].concat(W(n.map((function(t){return t.fromReceived("GroupAllUsersResult").pipe(Aa((function(t){var n=t.seq;return t.group===e&&r.eq(n)})))})))))}},{key:"requestPeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserStatusList",{users:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(IB)].concat(W(n.map((function(e){return e.fromReceived("UserStatusResult").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSetLocalUserAttributes",value:function(e,n){var r=this,o=this.getLoginSockets();if(0===o.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return o.forEach((function(t,o){void 0!==n&&o!==n||t.sendPacket("UserAttributeSet",{account:r.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:i})})),ab.apply(void 0,W(o.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes set failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(o.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestSetChannelAttributes",value:function(e,n,r){var o=this.getLoginSockets();if(0===o.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return o.forEach((function(t){t.sendPacket("GroupAttributeSet",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:i})})),ab.apply(void 0,W(o.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The group attributes set failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(o.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeMod",{account:n.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:o})})),ab.apply(void 0,W(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes add or update failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(e,n,r){var o=this.getLoginSockets();if(0===o.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return o.forEach((function(t){t.sendPacket("GroupAttributeMod",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=Xa(e,2))[0],value:e[1]}})),seq:i})})),ab.apply(void 0,W(o.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The group attributes add or update failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(o.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeDel",{account:n.context.uid,attributes:e,seq:o})})),ab.apply(void 0,W(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes delete failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(e,n,r){var o=this.getLoginSockets();if(0===o.length)throw new aa("Client is not logged in");var i=this.incGetSeq();return o.forEach((function(t){t.sendPacket("GroupAttributeDel",{group:e,broadcast:r,attributes:n,seq:i})})),ab.apply(void 0,W(o.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return i.eq(e.seq)})),Da((function(e){throw new Ja(["The channel attributes delete failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(o.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestClearLocalUserAttributes",value:function(){var e=this,n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeSet",{account:e.context.uid,seq:r,attributeInfos:[]})})),ab.apply(void 0,W(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return r.eq(e.seq)})),Da((function(e){throw new Ja(["The user attributes clear failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(n.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestClearChannelAttributes",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeSet",{group:e,seq:o,attributeInfos:[],broadcast:n})})),ab.apply(void 0,W(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The channel attributes clear failure, code %d",e.code],jc)})))}))).concat([t.genTimeoutError(kc)],W(r.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestGetUserAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeGet",{account:e,seq:o,attributes:n})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){if(10008===(e=e.code))throw new Ja("The user requested is not online",Gr);throw new se(["User attribute operation unknown error code: %d",e],jc)})))}))),W(r.map((function(e){return e.fromReceived("UserAttributeRet").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new aa("Client is not logged in");var o=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeGet",{group:e,seq:o,attributes:n})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return o.eq(e.seq)})),Da((function(e){throw new Ja(["The channel attributes get failure, code %d",e.code],jc)})))}))),W(r.map((function(e){return e.fromReceived("GroupAttributeRet").pipe(Aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestGetUserAttributeKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeKeysGet",{account:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(Aa((function(e){return r.eq(e.seq)})),Da((function(e){if(10008===(e=e.code))throw new Ja("The user requested is not online",Gr);throw new se(["User attribute operation unknown error code: %d",e],jc)})))}))),W(n.map((function(e){return e.fromReceived("UserAttributeKeysRet").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAttributeKeysGet",{group:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(kc)].concat(W(n.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(Aa((function(e){return r.eq(e.seq)})),Da((function(e){throw new se(["Channel attribute operation unknown error code: %d",e.code],jc)})))}))),W(n.map((function(e){return e.fromReceived("GroupAttributeKeysRet").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelMemberCount",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupStatusList",{groups:e,seq:r})})),ab.apply(void 0,[t.genTimeoutError(Kr)].concat(W(n.map((function(e){return e.fromReceived("GroupStatusResult").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSubscribePeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new aa("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("SubscribeUserStatus",{seq:r,users:e})})),ab.apply(void 0,[t.genTimeoutError(NB)].concat(W(n.map((function(e){return e.fromReceived("SubscribeResponse").pipe(Aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(e){var t=this.getLoginSockets();if(0===t.length)throw new aa("Client is not logged in");var n=this.incGetSeq();t.forEach((function(t){t.sendPacket("UnsubscribeUserStatus",{seq:n,users:e})}))}},{key:"sendInvitationMessage",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,f,p,h=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerId,r=t.callId,o=t.extra,i=t.isAcceptAck,a=t.channelId,s=t.type,c={callId:r},void 0===i){e.next=6;break}if("CallAccept"===s){e.next=5;break}throw Error("invalid invitation type");case 5:c.type=i?"ack":"request";case 6:return c.channel=a,("CallInvite"===s||"CallCancel"===s||"CallReject"===s||"CallAccept"===s&&!1===i)&&void 0!==o&&(c.extra=o),u=hh(),this.log("The sent invitation body is %o",c),l=function(e){return{MiscMap:{},sequence:ma.fromNumber(1),dialogue:u,instance:h.instanceId,dst:n,ms:ma.fromNumber(Date.now(),!0),options:new Cf({IterationNumber:e,MessageType:s}).toLong(),payload:(new TextEncoder).encode(JSON.stringify(c)),src:h.context.uid}},e.next=14,Dc(this.sendMessageToRetry(l,!0)).pipe(Hb(1e4),Ya((function(e){return e instanceof Pb&&h.warn("Send invitation timeout"),pa(e)}))).toPromise();case 14:return d=e.sent,f=d.code,p=d.retryTimes,e.abrupt("return",{hasPeerReceived:0===f,hasReSent:0!==p});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var e=ja(M.mark((function e(t,n,r,o,i){var a,s,c,u,l,d,f,p,h=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(r)&&t instanceof Uint8Array&&"string"==typeof n){e.next=2;break}throw new Z("The send message arguments are not valid",o?$r:ni);case 2:if(!(32768<t.byteLength+new Blob([n]).size)){e.next=4;break}throw new dc("The message size is over the 32KB limit",o?Xf:Cl);case 4:return a=!ue.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=t.byteLength,s=this.chatManager.getChatInfo(r),c=s.dialogue,u=s.sequence,l=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(l,"-").concat(c,"#").concat(u,'"'),a?" compressed":"",o?"peer":"channel",Ka(r)),d=function(e){return{MiscMap:{description:(new TextEncoder).encode(n)},sequence:u,dialogue:c,instance:l,dst:r,ms:ma.fromNumber(Date.now(),!0),options:new Cf({IterationNumber:e,CompressionMethod:a?"Zlib":"Uncompressed",MessageType:o?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:a?Kt(t):t,src:h.context.uid}},e.next=11,Dc(this.sendMessageToRetry(d,!0)).pipe(Hb(void 0===i?1e4:i),Ya((function(e){return e instanceof Pb&&h.warn("Send message timeout"),pa(e)}))).toPromise();case 11:return f=e.sent,p=f.code,e.abrupt("return",{hasPeerReceived:0===p});case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var e=ja(M.mark((function e(t,n,r,o){var i,a,s,c,u,l,d,f,p,h=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(n)){e.next=2;break}throw new Z("The send message arguments are not valid",r?$r:ni);case 2:if(!(32768<new Blob([t]).size)){e.next=4;break}throw new dc("The message size is over the 32KB limit",r?Xf:Cl);case 4:return i=!ue.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([t]).size,a=this.chatManager.getChatInfo(n),s=a.dialogue,c=a.sequence,u=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(u,"-").concat(s,"#").concat(c,'"'),i?" compressed":"",r?"peer":"channel",Ka(n)),l=(new TextEncoder).encode(t),d=function(e){return{MiscMap:{},sequence:c,dialogue:s,instance:u,dst:n,ms:ma.fromNumber(Date.now(),!0),options:new Cf({IterationNumber:e,CompressionMethod:i?"Zlib":"Uncompressed",MessageType:r?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:i?Kt(l):l,src:h.context.uid}},e.next=12,Dc(this.sendMessageToRetry(d,!0)).pipe(Hb(void 0===o?1e4:o),Ya((function(e){return e instanceof Pb&&h.warn("Send message timeout"),pa(e)}))).toPromise();case 12:return f=e.sent,p=f.code,e.abrupt("return",{hasPeerReceived:0===p});case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(e,t){Object.entries(this.loginSocketSubs[e]).forEach((function(e){var n=(e=Xa(e,2))[1];"channels"===e[0]&&t||(Array.isArray(n)||n instanceof Map?n.forEach((function(e){return e.unsubscribe()})):n&&n.unsubscribe())})),this.loginSocketSubs[e]={channels:t?this.loginSocketSubs[e].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var e=ja(M.mark((function e(t,n){var r,o,i,a,s,c,u,l,d,f=this,p=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<p.length&&void 0!==p[2]?p[2]:0,this.log("Attempt to send the message ".concat(n?" with retrying, %o":"without retrying"),{retryTimes:r}),0!==(o=this.getLoginSockets()).length){e.next=5;break}throw Error("no logged-in sockets");case 5:return i=t(r),o.forEach((function(e){e.sendPacket("Message",i)})),a=i.dialogue,s=i.sequence,c=i.instance,u=o.map((function(e){return e.fromReceived("Ack").pipe(Ob((function(e){return a.eq(e.dialogue)&&s.eq(e.sequence)&&c.eq(e.instance)})))})),e.prev=9,e.next=12,Ec.apply(void 0,W(u)).pipe(Hb(6e3),Ya((function(e){return vb(e)&&f.warn("Message send timeout, retry times %d",r),pa(e)})),db(1)).toPromise();case 12:return l=e.sent,d=l.code,this.log("The message has been acked, %o",{code:d}),e.abrupt("return",{code:d,retryTimes:r});case 18:if(e.prev=18,e.t0=e.catch(9),!(e.t0 instanceof Pb&&n)){e.next=22;break}return e.abrupt("return",this.sendMessageToRetry(t,!1,r+1));case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Fc((function(t){return Zc(0,2500,Ae()?void 0:WE).pipe(sa((function(){e.sendPing(t)})))})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAlive;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAlive=t.subscribe({error:function(){}})}))}},{key:"initKeepAliveReconnector",value:function(){var e=this;this.lastLoginSockets.map((function(e){return e.pipe(Fc((function(e){var t,n=!1,r=e.userJoin$.pipe(sa((function(){n=!0}))),o=e.input$.pipe(sa((function(e){"Ping"!==rj[e.uri].slice(0,-3)&&(n=!1)})));return Ec(Zc(6e3,1e4).pipe(ov(e.receivedPacket),sa((function(r){r=Xa(r,2),r=Xa(r[1],2)[1],t!==r||n||e.forceReconnect(),t=r}))),r,o)})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAliveReconnector;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAliveReconnector=t.subscribe({error:function(){}})}))}},{key:"initLoginReceiver",value:function(){var e=this;ab.apply(void 0,W(this.lastLoginSockets.map((function(t){return t.pipe(Fc((function(t){return t.fromReceived("UserTicketNearlyExpire").pipe(iv(5e3),sa(e.onUserTicketNearlyExpire(t)))})))})))).subscribe(),this.lastLoginSockets.map((function(t){return t.pipe(Fc((function(t){return Ec(Gb(t,"reconnect").pipe(sa(e.onSocketReconnect(t))),t.fromReceived("Message").pipe(sa(e.onMessage(t))),t.fromReceived("GroupEnterNotice").pipe(sa(e.onGroupEnterNotice())),t.fromReceived("GroupLeaveNotice").pipe(sa(e.onGroupLeaveNotice())),t.fromReceived("GroupCountNotice").pipe(sa(e.onGroupCountNotice())),t.fromReceived("GroupAttributeAlt").pipe(sa(e.onGroupAttributeAlt())),t.fromReceived("UserJoinNotice").pipe(sa(e.onUserNotice(qa.PeerOnlineState.ONLINE))),t.fromReceived("UserQuitNotice").pipe(sa(e.onUserNotice(qa.PeerOnlineState.OFFLINE))),t.fromReceived("UserWaitNotice").pipe(sa(e.onUserNotice(qa.PeerOnlineState.UNREACHABLE))),t.fromReceived("Pong").pipe(sa(e.onPong())),t.fromReceived("UserDrop").pipe(sa(e.onUserDrop(t)))).pipe(Sf(void 0))})))})).forEach((function(t,n){e.loginSocketSubs[n].receivers.push(t.subscribe({error:function(){}}))}))}},{key:"requestSocketLogin",value:function(e,t,n){var r=this;return hn(wd((function(){r.userJoinOptions=new Xs(t),e.sendPacket("UserJoin",{account:r.context.uid,instance:r.instanceId,opt:r.userJoinOptions.toLong(),seq:n,ticket:e.ticket})})),e.fromReceived("UserResp").pipe(Aa((function(e){return n.eq(e.seq)})),sa((function(t){if(0!==(t=t.code))throw r.clearSockets(),r.logError("Connected to gateway success but the Rtm server rejected login"),new Ja(["Login failure. The response code from the RTM service is %d",t],Ng);e.attemptsSinceLastError=0,e.loggedIn=!0,r.log("ENV_%d logged in",e.env)})),Sf(e),Hb(6e3))).pipe(Ob((function(e){return void 0!==e})),Ya((function(n){return n instanceof Pb&&r.warn("Login response timeout, rejoin: %s",t),r.clearSockets(),n.name="loginRespTimeout",r.emit("banEdgeIP",e.ip),pa(n)})))}},{key:"getSocketLoginObservables",value:function(e,t){var n=this;return e.map((function(e){return e.pipe(Fc((function(e,r){return n.incSeqIfNeeded(e.env),n.requestSocketLogin(e,0!==r,0===r?t:n.seq)})),Pe())}))}},{key:"incSeqIfNeeded",value:function(e){if(![0,1].includes(e))throw new ib({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[e]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var e=this.curLoginSockets,t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}},{key:"emitMessage",value:function(e,n){var r,o=e.options,i=e.payload,a=e.src,s=e.dst,c=e.instance,u=e.dialogue,l=e.sequence,d=e.ms,f=e.MiscMap;this.dialogueSequenceLru.set(u.toString(),l),c="".concat(c,"-").concat(u,"#").concat(l),this.msgDedupLru.has(c)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",n,c):(this.msgDedupLru.set(c,void 0),o=new Cf(o),this.lastLoginSockets.forEach((r=ja(M.mark((function n(r){var o;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.pipe(db(1)).toPromise();case 2:o=n.sent,t.sendMessageAck(e,o);case 4:case"end":return n.stop()}}),n)}))),function(e){return r.apply(this,arguments)})),n=o.isZlibCompressed(),o.isInvitation()?(s=Yf(n?gm(Sn(i,Uint8Array.of(0,0,0,0))):i),s=JSON.parse(s),this.log("The received invitation body is %o",s),this.emit("invitationMessage",{body:s,type:o.getInvitationType(),peerId:a,serverReceivedTs:d.toNumber()})):o.isTextMessage()?(f=o.isPeerTextMessage(),i=Yf(n?gm(Sn(i,Uint8Array.of(0,0,0,0))):i),this.info("Received a %s %s text message from %s to %s, %s",n?" compressed":"",f?"peer":"channel",Ka(a),Ka(s),c),f?(a={text:i,peerId:a,properties:{serverReceivedTs:d.toNumber()}},this.emit("peerTextMessage",a)):this.emit("channelTextMessage",{channelId:s,memberId:a,text:i,properties:{serverReceivedTs:d.toNumber()}})):o.isRawMessage()&&(o=o.isRawPeerMessage(),f=void 0===(f=f.description)?"":Yf(f),i=n?gm(i):i,this.info("Received a %s %s raw message from %s to %s, %s",n?" compressed":"",o?"peer":"channel",Ka(a),Ka(s),c),o?(a={desc:f,raw:i,peerId:a,properties:{serverReceivedTs:d.toNumber()}},this.emit("peerRawMessage",a)):this.emit("channelRawMessage",{desc:f,raw:i,channelId:s,memberId:a,properties:{serverReceivedTs:d.toNumber()}})))}},{key:"onSocketReconnect",value:function(e){var t=this;return function(){var n=[0,1].filter((function(t){return t!==e.env}))[0];(n=t.connection.curOpenSockets[n])&&!n.loggedIn&&t.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(e){var t=this;return function(n){(n=n.ticket)!==t.lastNoticeTicket&&n===e.ticket?(t.lastNoticeTicket=n,t.emit("TokenPrivilegeWillExpire")):t.requestUpdateEdgeTicket(e.ticket).toPromise()}}},{key:"onUserDrop",value:function(e){var t=this;return function(n){var r;n=n.code,xb("KickedOff",{code:0,elapse:yb(t.startTime),linkId:parseInt(e.name.split("-")[1],10),lts:ma.fromNumber(Date.now()),server:e.address,serverCode:n,sid:rb(t.instanceId),userId:t.context.uid},null!==(r=t.context.config.enableCloudProxy)&&void 0!==r&&r),10006===n||10001===n?t.warn("Login too often and kicked off, reconnect and login"):10009===n?(t.warn("The instance ID conflicts, reconnecting"),t.instanceId=hh(),t.context.sid=rb(t.instanceId),t.emit("instanceChanged",t.instanceId)):[2,11,14,15,16].includes(n)&&(t.emit("userDrop",n),t.clearSockets())}}},{key:"clearSockets",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0,1].forEach((function(r){e.cleanLoginSubs(r,n),e.connection.closeSocket(r,t)}))}},{key:"onMessage",value:function(e){var t=this;return function(n){var r=n.dialogue,o=n.instance,i=n.sequence,a=n.options;if(n.src===t.context.uid)t.log("The message is from the local account, ignored");else{var s=r.toString(),c=t.dialPendingMsgSubjectMap.get(s);if(r="".concat(o,"-").concat(r,"#").concat(i),c)c.next(n),t.log("Env_%d: The dialogue has pending messages, next: %s",e.env,r);else{var u=t.dialogueSequenceLru.get(s);if(c=!u&&i.eq(1),o=void 0!==u&&i.sub(u).eq(1),c||o)t.emitMessage(n,e.env);else{if(u){if(i.lte(u))return;t.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",e.env,r)}else t.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",e.env,r);i=new nb,t.dialPendingMsgSubjectMap.set(s,i);var l=i.pipe(su(tl),dh((function(e,t){return[].concat(W(e),[t])}),[]),Da((function(e){return W(e).sort((function(e,t){return e=e.sequence,t=t.sequence,e.eq(t)?0:e.gt(t)?1:-1}))})),qn(1));a=!(a=new Cf(a)).isFromCache()&&!a.isBufferedMessage(),l.pipe(Gc(Zc(a?750:1500)),Aa((function(e){if(2>e.length)return!1;for(var t=void 0===u?ma.fromNumber(1,!0):u.add(1),n=0;n<e.length;t=t.add(1),n++)if(!e[n].sequence.eq(t))return!1;return!0})),ch((function(){t.dialPendingMsgSubjectMap.delete(s)}))).subscribe((function(n){n.forEach((function(n){t.emitMessage(n,e.env),t.log("Env_%d: The message queue has fully ordered, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence))}))}),(function(n){n instanceof bh&&l.pipe(db(1)).subscribe((function(n){return n.forEach((function(n){t.log("Env_%d: The message pending queue expired, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence)),t.emitMessage(n,e.env)}))}))})),i.next(n)}}}}}},{key:"onPong",value:function(){var e=this;return function(){document.hidden&&e.getLoginSockets().forEach((function(t){e.sendPing(t)}))}}},{key:"onGroupEnterNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberJoined",size:t.size})}}},{key:"onGroupLeaveNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberLeft",size:t.size})}}},{key:"onGroupCountNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,type:"MemberCountUpdated",size:t.size})}}},{key:"onGroupAttributeAlt",value:function(){var e=this;return function(t){var n=t.group;t=Ei(t,XE),e.emit("channelAttributesUpdated",jb({channelId:n},t))}}},{key:"onUserNotice",value:function(e){var t=this;return function(n){t.emit("peerOnlineStatusChanged",{peerId:n.user,instance:n.instance,seq:n.seq,state:e})}}},{key:"sendPing",value:function(e){2500>=Date.now()-this.lastPingTime[e.env]||(this.incSeqIfNeeded(e.env),e.sendPacket("Ping",{ms:ma.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[e.env]=Date.now())}}],[{key:"sendMessageAck",value:function(e,t){var n=new Cf(e.options);(n.isInvitation()||n.isPeerMessage())&&t.sendPacket("Ack",{code:0,dialogue:e.dialogue,instance:e.instance,sequence:e.sequence})}}]),t}(Ac());x(Lt,"genTimeoutError",(function(e,t){return wb(void 0).pipe(Yd(void 0===t?1e4:t),Da((function(){throw new Qb(["Request timed out after %ds",(void 0===t?1e4:t)/1e3],e)})))}));var Mt,hm,im=0,jm=0;Lg.v1=function(e,t,n){n=t&&n||0;var r=t||[],o=(e=e||{}).node||Mt,i=void 0!==e.clockseq?e.clockseq:hm;if(null==o||null==i){var a=Er();null==o&&(o=Mt=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==i&&(i=hm=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:jm+1,c=a-im+(s-jm)/1e4;if(0>c&&void 0===e.clockseq&&(i=i+1&16383),(0>c||a>im)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(im=a,jm=s,hm=i,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=i>>>8|128,r[n++]=255&i,i=0;6>i;++i)r[n+i]=o[i];return t||Fr(r)},Lg.v4=Lg;var km=ui(),Rd,Ff=qa.LocalInvitationFailureReason,Ra=qa.LocalInvitationState,YE=(Rd=function(e){function t(e,r,o){ua(this,t);var i=n.call(this,o,"RtmLocalInvitation",!0);return x(z(i),"state",Ra.IDLE),x(z(i),"localInvitationEnd$",ab(Gb(z(i),"LocalInvitationAccepted"),Gb(z(i),"LocalInvitationRefused"),Gb(z(i),"LocalInvitationFailure"),Gb(z(i),"LocalInvitationCanceled")).pipe(db(1))),x(z(i),"callId",Lg.v4()),x(z(i),"_content",""),x(z(i),"_channelId",""),x(z(i),"_response",""),x(z(i),"calleeId",void 0),x(z(i),"logger",void 0),x(z(i),"getSession",void 0),i.calleeId=e,i.getSession=r,i.logger=o,i}Ga(t,e);var n=Ha(t);return cb(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){this.state!==Ra.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=e)}},{key:"content",get:function(){return this._content},set:function(e){this.log("set content for %s",this.callId),this._content=e}},{key:"response",get:function(){return this._response},set:function(e){throw new Z('Cannot set the "response" of the LocalInvitation instance.',Tc)}},{key:"send",value:function(){var e,t=this;if(this.state===Ra.SENT_TO_REMOTE||this.state===Ra.RECEIVED_BY_REMOTE)throw new aa("The local invitation send failure. The call invitation has already been sent.",BB);if(this.isLocalInvitationEnd())throw new aa("The local invitation send failure. The call invitation has ended.",oi);if(0<this._channelId.length&&!Sa(this._channelId))throw new Z("Illegal invitation channel ID",Tc);if(!Sa(this.calleeId))throw new Z("Illegal invitation callee user ID",Tc);if(8192<mh(this._content))throw new Z('The length of the "content" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',Tc);this.state=Ra.SENT_TO_REMOTE,wd(ja(M.mark((function n(){var r,o,i;return M.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSession().sendInvitationMessage({peerId:t.calleeId,callId:t.callId,extra:t._content,type:"CallInvite",channelId:t._channelId});case 2:if(r=n.sent,o=r.hasPeerReceived,i=r.hasReSent,!t.isLocalInvitationEnd()){n.next=7;break}throw new Qb("send invitation timeout");case 7:if(t.log("The local invitation has sent to the callee"),o||i){n.next=11;break}throw e=new km({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(o){n.next=14;break}throw e=new km({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return n.stop()}}),n)})))).pipe(Oe((function(e){return e.pipe(sa((function(e){if(!(e instanceof km))throw e})),Yd(2e3))})),Hb(3e4),Ya((function(e){return vb(e)&&t.warn("local invitation ack timed out"),pa(e)})),Gc(this.localInvitationEnd$)).subscribe({next:function(){t.state===Ra.RECEIVED_BY_REMOTE?t.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):t.state!==Ra.SENT_TO_REMOTE?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(t.info("The peer received the local invitation %s.",t.callId),t.state=Ra.RECEIVED_BY_REMOTE,t.emit("LocalInvitationReceivedByPeer"),t.localInvitationEnd$.pipe(Hb(6e4),Ya((function(e){return vb(e)&&t.warn("local invitation expired"),pa(e)}))).subscribe({error:function(){t.state=Ra.FAILURE,t.emit("LocalInvitationFailure",Ff.INVITATION_EXPIRE)}}))},error:function(n){t.isLocalInvitationEnd()?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(t.state=Ra.FAILURE,vb(n)&&e?"PEER_NOT_ONLINE"===e.code?t.emit("LocalInvitationFailure",Ff.PEER_OFFLINE):"RESENT_AND_OFFLINE"===e.code&&t.emit("LocalInvitationFailure",Ff.PEER_NO_RESPONSE):vb(n)?t.emit("LocalInvitationFailure",Ff.PEER_NO_RESPONSE):"RtmInvalidStatusError"===n.name?t.emit("LocalInvitationFailure",Ff.NOT_LOGGEDIN):t.emit("LocalInvitationFailure",Ff.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new aa("The local invitation cancel failure",oi);if(this.state===Ra.IDLE)throw new aa("The local invitation has not been sent",AB);if(8192<mh(this._content))throw new Z('The length of the "content" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',Tc);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Ra.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(e){if(this.isLocalInvitationEnd()&&this.state!==Ra.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Ra.IDLE)throw new aa("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Ra.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Ra.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Ra.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Ra.ACCEPTED_BY_REMOTE,this._response=e,this.emit("LocalInvitationAccepted",e))}}},{key:"onRefuseReceived",value:function(e){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Ra.IDLE)throw new aa("the local have not sent the invitation, how can remote refuse it?");this.state===Ra.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Ra.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=e,this.state=Ra.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",e)}}},{key:"isLocalInvitationEnd",value:function(){return[Ra.CANCELED,Ra.FAILURE,Ra.ACCEPTED_BY_REMOTE,Ra.REFUSED_BY_REMOTE].includes(this.state)}}]),t}(Ac()),Ca(Rd.prototype,"send",[Ic],Object.getOwnPropertyDescriptor(Rd.prototype,"send"),Rd.prototype),Ca(Rd.prototype,"cancel",[Ic],Object.getOwnPropertyDescriptor(Rd.prototype,"cancel"),Rd.prototype),Rd),Ci=qa.RemoteInvitationFailureReason,Cb=qa.RemoteInvitationState,ZE=function(e){function t(e){var r=e.invitationChannel,o=e.extraContent,i=e.callId,a=e.callerId,s=e.logger;e=e.getSession,ua(this,t);var c=n.call(this,s,"RtmRemoteInvitation",!0);return x(z(c),"state",Cb.INVITATION_RECEIVED),x(z(c),"remoteInvitationEnd$",ab(Gb(z(c),"RemoteInvitationCanceled"),Gb(z(c),"RemoteInvitationRefused"),Gb(z(c),"RemoteInvitationAccepted"),Gb(z(c),"RemoteInvitationFailure")).pipe(db(1))),x(z(c),"callerId",void 0),x(z(c),"callId",void 0),x(z(c),"_getSession",void 0),x(z(c),"logger",void 0),x(z(c),"_content",void 0),x(z(c),"_channelId",void 0),x(z(c),"_response",""),c._channelId=r,c._content=o,c.callId=i,c.callerId=a,c._getSession=e,c.logger=s,c.remoteInvitationEnd$.pipe(Hb(6e4),Ya((function(e){return vb(e)&&c.warn("Remote invitation expired"),pa(e)}))).subscribe({error:function(){c.state=Cb.FAILURE,c.emit("RemoteInvitationFailure",Ci.INVITATION_EXPIRE)}}),c}Ga(t,e);var n=Ha(t);return cb(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){throw new Z('Cannot set the "response" of the RemoteInvitation instance.',Tc)}},{key:"content",get:function(){return this._content},set:function(e){throw new Z('Cannot set the "content" of the RemoteInvitation instance.',Tc)}},{key:"response",get:function(){return this._response},set:function(e){this._response=e}},{key:"accept",value:function(){var e,t=this;if(this.isRemoteInvitationEnd())throw new aa("The local invitation has ended. Cannot accept.",oi);if(this.state===Cb.ACCEPT_SENT_TO_LOCAL)throw new aa("The remote invitation is accepting. Cannot do the operation.",Lr);if(8192<mh(this._response))throw new Z('The length of the "response" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',Tc);this.state=Cb.ACCEPT_SENT_TO_LOCAL,Ec(ln(1e3).pipe(Ab((function(){return wd(ja(M.mark((function e(){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._getSession().sendInvitationMessage({peerId:t.callerId,callId:t.callId,extra:t.response,type:"CallAccept",isAcceptAck:!1,channelId:t.channelId}));case 1:case"end":return e.stop()}}),e)}))))})),Ob((function(t){return e=t.hasPeerReceived})),db(1)),Gb(this,"RemoteInvitationAccepted")).pipe(Hb(5e3),Gc(this.remoteInvitationEnd$)).subscribe({error:function(n){if(t.logError(n),t.state=Cb.FAILURE,vb(n))switch(e){case void 0:case!0:return void t.emit("RemoteInvitationFailure",Ci.ACCEPT_FAILURE);case!1:return void t.emit("RemoteInvitationFailure",Ci.PEER_OFFLINE)}t.emit("RemoteInvitationFailure",Ci.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Cb.ACCEPT_SENT_TO_LOCAL)throw new aa("The remote invitation is accepting. Cannot do the operation.",Lr);if(this.isRemoteInvitationEnd())throw new aa("The invitation is end. Cannot refuse",oi);if(8192<mh(this._response))throw new Z('The length of the "response" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',Tc);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Cb.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(e){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Cb.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=e,this.state=Cb.CANCELED,this.emit("RemoteInvitationCanceled",e))}},{key:"onAcceptAckReceived",value:function(){this.state!==Cb.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Cb.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Cb.ACCEPTED,Cb.REFUSED,Cb.CANCELED,Cb.FAILURE].includes(this.state)}}]),t}(Ac()),$E=function(e){function t(e,r){ua(this,t);var o=n.call(this,r,"InvitationManager");return x(z(o),"getSession",void 0),x(z(o),"invitationDispatcher",new ya.EventEmitter),x(z(o),"outgoingLocalInvitations",new Map),x(z(o),"receivedRemoteInvitations",new Sc(void 0,{maxlen:1e4})),x(z(o),"logger",void 0),o.getSession=Zn(e),o.logger=r,o.invitationDispatcher.on("remoteInvitationToManager",(function(e){var t=e.callId,n=e.extra,i=e.callerId;e=e.channelId,o.receivedRemoteInvitations.has(t)||((n=new ZE({callerId:i,callId:t,getSession:o.getSession,logger:r,extraContent:n,invitationChannel:e})).remoteInvitationEnd$.subscribe((function(){o.receivedRemoteInvitations.delete(t)})),o.receivedRemoteInvitations.set(t,n),o.emit("remoteInvitationInstance",n))})),o.invitationDispatcher.on("acceptAckToRemoteInvitation",(function(e){(e=o.receivedRemoteInvitations.get(e.callId))&&e.onAcceptAckReceived()})),o.invitationDispatcher.on("cancelToRemoteInvitation",(function(e){var t=e.extra;(e=o.receivedRemoteInvitations.get(e.callId))&&e.onCancelReceived(t)})),o.invitationDispatcher.on("acceptToLocalInvitation",(function(e){var t=e.extra;(e=o.outgoingLocalInvitations.get(e.callId))&&e.onAcceptReceived(t)})),o.invitationDispatcher.on("refuseToLocalInvitation",(function(e){var t=e.extra;(e=o.outgoingLocalInvitations.get(e.callId))&&e.onRefuseReceived(t)})),o}Ga(t,e);var n=Ha(t);return cb(t,[{key:"invitationMessageHandler",value:function(e){var t=e.body,n=t.callId,r=t.extra;r=void 0===r?"":r;var o=t.type,i=void 0===(t=t.channel)?"":t,a=e.type;switch(t=e.peerId,e=e.serverReceivedTs,a){case"CallAccept":"ack"===o?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:n}):"request"===o&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:n,extra:r});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:n,callerId:t,extra:r,channelId:i});break;case"CallCancel":if("0"===n){n="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(i,"_").concat(r),this.getSession().emit("peerTextMessage",{peerId:t,properties:{serverReceivedTs:e},text:n});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:n,extra:r});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:n,extra:r});break;default:throw In("invitationType",a)}}},{key:"genLocalInvitation",value:function(e){var t=this,n=new YE(e,this.getSession,this.logger);return n.localInvitationEnd$.subscribe((function(){t.outgoingLocalInvitations.delete(n.callId)})),this.outgoingLocalInvitations.set(n.callId,n),n}}]),t}(Ac()),aF=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Db(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),vD(e,t,{leading:r,maxWait:t,trailing:o})},Lb,Gf;!function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"}(Gf||(Gf={}));var lm=qa.ConnectionState,bF=(Lb=function(e){function t(e,n,o,i){ua(this,t);var a=r.call(this,i,"RtmChannel",!0);return x(z(a),"onMemberCountUpdated",aF((function(e){e!==a.memberCount&&(a.memberCount=e,a.emit("MemberCountUpdated",e))}),1e3)),x(z(a),"getSession",void 0),x(z(a),"memberCount",0),x(z(a),"joinState","LEFT"),x(z(a),"joinPromise",void 0),x(z(a),"memberJoinedLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"memberLeftLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"memberJoinStateLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"attributesSeqLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"channelId",void 0),x(z(a),"client",void 0),x(z(a),"onChannelMemberCountUpdated",(function(e,t){a.channelId===e&&a.onMemberCountUpdated(t)})),x(z(a),"onLogout",(function(){try{a.clearChannel(a.getSession())}catch(e){}})),x(z(a),"onAttributesUpdated",(function(e){var t=e.channelId,n=e.attributeMaps,r=e.seq;e=e.instance.toString();var o=a.attributesSeqLru.get(e);if((!o||r.greaterThan(o))&&(a.attributesSeqLru.set(e,r),t===a.channelId)){for(t={},r=0;r<n.length;r++){var i=n[r];e=i.key,o=i.ms;var s=i.value;if(i=i.origin,"string"!=typeof e||!ma.isLong(o)||"string"!=typeof s||!Sa(i))break;t[e]={value:s,lastUpdateUserId:i,lastUpdateTs:o.toNumber()}}a.emit("AttributesUpdated",t)}})),x(z(a),"onChannelTextMessage",(function(e){var t=e.memberId,n=e.text,r=e.properties;e.channelId===a.channelId&&a.emit("ChannelMessage",{text:n,messageType:qa.MessageType.TEXT},t,r)})),x(z(a),"onChannelRawMessage",(function(e){var t=e.desc,n=e.raw,r=e.memberId,o=e.properties;e.channelId===a.channelId&&a.emit("ChannelMessage",{messageType:qa.MessageType.RAW,rawMessage:n,description:t},r,o)})),x(z(a),"onMemberNotice",(function(e){var t=e.memberId,n=e.type,r=e.size;if(e.channelId===a.channelId){var o=e.instance.toString();e=e.seq.toString();var i={MemberLeft:a.memberLeftLru,MemberJoined:a.memberJoinedLru,MemberCountUpdated:void 0}[n];if(i){if(i.has(o+e))return void a.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",n,e,Ka(a.channelId),Ka(t||""));if(i.set(o+e,void 0),"string"!=typeof t)return;if(t!==a.getSession().context.uid){if((o=a.memberJoinStateLru.get(t))===Gf.JOINED&&"MemberJoined"===n)return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,Ka(a.channelId),Ka(t||""));if(o===Gf.LEFT&&"MemberLeft"===n)return void a.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,Ka(a.channelId),Ka(t||""))}a.memberJoinStateLru.set(t,"MemberJoined"===n?Gf.JOINED:Gf.LEFT)}a.info("Channel %s - %s, memberId: %s",n,Ka(a.channelId),"MemberCountUpdated"===n?"[unknown]":Ka(t||"")),o=t===a.getSession().context.uid,"MemberLeft"===n&&Sa(t)||"MemberJoined"===n&&Sa(t)?(o||a.emit(n,t),a.onMemberCountUpdated(r)):"MemberCountUpdated"===n&&"number"==typeof r&&a.onMemberCountUpdated(r)}})),a.getSession=Zn(n),a.channelId=e,a.client=o,a.info("A channel created, id %s",Ka(e)),a}Ga(t,e);var n,r=Ha(t);return cb(t,[{key:"join",value:(n=ja(M.mark((function e(){var t,n,r,o,i,a,s,c=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new aa("The client is not logged in. Cannot do the operation",Qr);case 7:if(e.prev=7,Sa(this.channelId)){e.next=10;break}throw new Z(["The %s in the arguments is invalid","channelId"],CB);case 10:if("LEFT"===this.joinState){e.next=13;break}throw xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:Pr,sid:rb(t.instanceId)},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),new aa("The channel has joined. Cannot rejoin",Pr);case 13:if(!t.usedChannelIds.includes(this.channelId)){e.next=16;break}throw xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:Rr,sid:rb(t.instanceId)},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),new aa("A channel of the same channel ID has already joined. Cannot rejoin",Rr);case 16:if(!(20<=t.usedChannelIds.length)){e.next=19;break}throw xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:Or,sid:rb(t.instanceId)},null!==(a=this.client.context.config.enableCloudProxy)&&void 0!==a&&a),new dc("The joined channels has exceeded the limit of 20",Or);case 19:return xb("ChnJoin",{cname:this.channelId,lts:ma.fromNumber(Date.now()),userId:t.context.uid,elapse:yb(t.startTime),errCode:0,sid:rb(t.instanceId)},null!==(n=this.client.context.config.enableCloudProxy)&&void 0!==n&&n),this.log("Joining the channel %s",Ka(this.channelId)),this.joinState="JOINING",t.usedChannelIds.push(this.channelId),this.joinPromise=t.requestChannelJoin(this.channelId).then((function(){c.joinState="JOINED"})),e.next=26,this.joinPromise;case 26:xb("ChnJoinRes",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(t.startTime),errCode:0,sid:rb(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),this.info("The channel %s joined successfully",Ka(this.channelId)),t.on("channelTextMessage",this.onChannelTextMessage),t.on("channelRawMessage",this.onChannelRawMessage),t.on("memberNotice",this.onMemberNotice),t.on("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),e.next=46;break;case 36:if(e.prev=36,e.t1=e.catch(7),"JOINING"===this.joinState&&(this.joinState="LEFT"),this.logError(e.t1),!Ma(e.t1)){e.next=42;break}throw e.t1;case 42:if(!vb(e.t1)){e.next=45;break}throw xb("ChnJoinRes",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(t.startTime),errCode:Nr,sid:rb(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(s=this.client.context.config.enableCloudProxy)&&void 0!==s&&s),new Qb(["Join channel %s timed out",Ka(this.channelId)],Nr);case 45:throw new se(["The channel %s join failure",Ka(this.channelId)],{code:Mr,originalError:e.t1});case 46:case"end":return e.stop()}}),e,this,[[0,4],[7,36]])}))),function(){return n.apply(this,arguments)})},{key:"leave",value:function(){var e=ja(M.mark((function e(){var t,n,r,o;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new aa("The client is not logged in. Cannot do the operation",EB);case 7:if("LEFT"!==this.joinState){e.next=9;break}throw new aa("The channel does not join. Cannot do the operation",DB);case 9:return e.prev=9,n.requestChannelLeave(this.channelId),e.next=13,this.clearChannel(n);case 13:e.next=24;break;case 15:if(e.prev=15,e.t1=e.catch(9),this.logError(e.t1),!Ma(e.t1)){e.next=22;break}throw void 0===e.t1.code&&(e.t1.code=Tr),xb("ChnLeave",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(n.startTime),errCode:Tr,sid:rb(n.instanceId),userId:n.context.uid},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),e.t1;case 22:throw xb("ChnLeave",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(n.startTime),errCode:Sr,sid:rb(n.instanceId),userId:n.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),new se("The channel leave failure",{code:Sr,originalError:e.t1});case 24:xb("ChnLeave",{cname:this.channelId,lts:ma.fromNumber(Date.now()),elapse:yb(n.startTime),errCode:0,sid:rb(n.instanceId),userId:n.context.uid},null!==(t=this.client.context.config.enableCloudProxy)&&void 0!==t&&t);case 25:case"end":return e.stop()}}),e,this,[[0,4],[9,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=ja(M.mark((function e(t){var n,r=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(On(t,Cl),"JOINED"===this.joinState){e.next=3;break}throw new aa("The channel does not join. Cannot do the operation",sB);case 3:if(this.client.connectionState!==lm.RECONNECTING){e.next=8;break}return n=Date.now(),e.next=7,new Promise((function(e,o){var i,a=(i=ja(M.mark((function i(){var a;return M.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=Date.now()-n,i.prev=1,i.next=4,kh({message:t,peerId:r.channelId,toPeer:!1,session:r.getSession(),errorCodes:{NOT_LOGGED_IN:Dl,TOO_OFTEN:Hr},diff:a,logger:r.logger});case 4:e(),i.next=12;break;case 7:i.prev=7,i.t0=i.catch(1),vb(i.t0)&&o(new Qb(te(r.name,"sendMessageToPeer",1e4),Bl)),Ma(i.t0)&&o(i.t0),o(new Ja("Channel message send failure",{code:ni,originalError:i.t0}));case 12:return i.prev=12,clearTimeout(s),i.finish(12);case 15:case"end":return i.stop()}}),i,null,[[1,7,12,15]])}))),function(){return i.apply(this,arguments)});r.client.internalEmitter.once("RECONNECTED",a);var s=setTimeout((function(){r.client.internalEmitter.off("RECONNECTED",a),o(new Qb(te(r.name,"sendMessageToPeer",1e4),Bl))}),9e3)}));case 7:return e.abrupt("return");case 8:if(this.client.connectionState===lm.CONNECTED){e.next=10;break}throw new aa("The client is not logged in. Cannot do the operation",Dl);case 10:return e.prev=10,e.next=13,kh({message:t,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:Dl,TOO_OFTEN:Hr},diff:0,logger:this.logger});case 13:e.next=23;break;case 15:if(e.prev=15,e.t0=e.catch(10),!vb(e.t0)){e.next=19;break}throw new Qb(te(this.name,"sendMessage",1e4),Bl);case 19:if(!Ma(e.t0)){e.next=22;break}throw this.logError(e.t0),e.t0;case 22:throw new se("The channel message send failure",ni);case 23:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMembers",value:function(){var e=ja(M.mark((function e(){var t,n;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.client.connectionState===lm.CONNECTED){e.next=3;break}throw new aa("The client is not logged in. Cannot do the operation",zB);case 3:if("JOINED"===this.joinState){e.next=5;break}throw new aa("The channel does not join. Cannot do the operation",yB);case 5:return t=this.getSession().requestChannelMemberList(this.channelId),e.next=8,t.pipe(Da((function(e){return e.memberInfos.map((function(e){return e.account}))}))).toPromise();case 8:return n=e.sent,this.info("Channel %s - get members success, %o",Ka(this.channelId),n.map(Ka)),e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(0),!Ma(e.t0)){e.next=18;break}throw this.logError(e.t0),e.t0;case 18:throw new se("The channel members get failure",wB);case 19:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var e=ja(M.mark((function e(t){var n=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.emit("channelLeft",this.channelId),"JOINING"!==this.joinState){e.next=4;break}return e.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,t.removeListener("channelTextMessage",this.onChannelTextMessage),t.removeListener("channelRawMessage",this.onChannelRawMessage),t.removeListener("memberNotice",this.onMemberNotice),t.removeListener("channelAttributesUpdated",this.onAttributesUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),t.usedChannelIds=t.usedChannelIds.filter((function(e){return e!==n.channelId}));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(Ac()),Ca(Lb.prototype,"join",[Ic],Object.getOwnPropertyDescriptor(Lb.prototype,"join"),Lb.prototype),Ca(Lb.prototype,"leave",[Ic],Object.getOwnPropertyDescriptor(Lb.prototype,"leave"),Lb.prototype),Ca(Lb.prototype,"sendMessage",[Ic],Object.getOwnPropertyDescriptor(Lb.prototype,"sendMessage"),Lb.prototype),Ca(Lb.prototype,"getMembers",[fb],Object.getOwnPropertyDescriptor(Lb.prototype,"getMembers"),Lb.prototype),Lb),U,Mb=qa.ConnectionChangeReason,la=qa.ConnectionState,Nt={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},cF={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},dF=(U=function(e){function t(e,n,o,i){ua(this,t);var a=r.call(this,n,"RtmClient",!0);return x(z(a),"connectionState",la.DISCONNECTED),x(z(a),"internalEmitter",new ya),x(z(a),"context",void 0),x(z(a),"attributes",{}),x(z(a),"loginPromise",void 0),x(z(a),"attributeDrafts",new Set),x(z(a),"session",void 0),x(z(a),"lastLoginTime",void 0),x(z(a),"reconnId",0),x(z(a),"channelAttributesCacheLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"invitationManager",void 0),x(z(a),"subscribedPeerStatusCache",{}),x(z(a),"pendingPeerStatusSubCount",0),x(z(a),"peerStatusSeqLru",new Sc(void 0,{maxlen:1e4})),x(z(a),"peerUnreachableTimers",{}),x(z(a),"setParameters",void 0),x(z(a),"updateConfig",void 0),x(z(a),"blacklistedIP",{}),x(z(a),"TokenPrivilegeWillExpireHandler",(function(){a.emit("TokenPrivilegeWillExpire")})),x(z(a),"userDropHandler",(function(e){if(a.connectionState!==la.ABORTED)switch(e){case 2:a.logError("Server banned because of token is expired"),a.onConnectionStateChanged(la.ABORTED,Mb.TOKEN_EXPIRED),a.emit("TokenExpired");break;case 11:a.logError("Kicked off by remote session"),a.onConnectionStateChanged(la.ABORTED,Mb.REMOTE_LOGIN);break;case 14:case 15:case 16:a.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[e])),a.onConnectionStateChanged(la.ABORTED,Mb.BANNED_BY_SERVER);break;default:a.logError("User kicked off for unknown code: ".concat(e)),a.onConnectionStateChanged(la.ABORTED,Mb.INTERRUPTED)}})),a.context=new eE(e,o,n),a.context.config=o,a.internalEmitter.setMaxListeners(512),a.setParameters=i.bind(z(a)),a.updateConfig=i.bind(z(a)),a.invitationManager=new $E((function(){return a.session}),n),a.invitationManager.on("remoteInvitationInstance",(function(e){a.emit("RemoteInvitationReceived",e)})),a.setMaxListeners(512),a.internalEmitter.setMaxListeners(512),a}Ga(t,e);var n,r=Ha(t);return cb(t,[{key:"renewToken",value:(n=ja(M.mark((function e(t){var n,r,o,i,a=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t&&0!==t.length){e.next=2;break}throw new Z("Invalid argument",KB);case 2:if(this.connectionState!==la.ABORTED){e.next=5;break}return e.next=5,new Promise((function(){}));case 5:if(this.connectionState===la.CONNECTED||this.connectionState===la.RECONNECTING){e.next=7;break}throw new aa("The client is not logged in",bs);case 7:if(void 0!==this.session){e.next=9;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return e.prev=9,n=this.context.token,this.context.token=t,e.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Zd((function(){return Error("No available edge address to connect")})),Oe((function(e){return e.pipe(sa((function(e){if(Ma(e))throw e})),Yd(2500),db(4))})),db(1),Hb(2e4),Ya((function(e){return vb(e)&&a.warn("renewToken timed out"),pa(e)}))).toPromise();case 14:r=e.sent,o=r.ticket,e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(9),this.context.token=n,e.t0.code!==Vr&&e.t0.code!==Wr){e.next=23;break}throw new yf("Invalid token",MB);case 23:if(e.t0.code!==qi){e.next=25;break}throw new yf("The token expired",LB);case 25:if(!vb(e.t0)){e.next=27;break}throw new Qb("Renew token timed out",Gl);case 27:i=this.session,this.session.requestUpdateEdgeTicket(o).toPromise().then((function(e){if(0!==e.code)throw new Ja(["RenewToken failure. The response code is %d",e.code],Gl);i.curLoginSockets.filter((function(e){return void 0!==e})).forEach((function(e){return e.ticket=o}))}));case 29:case"end":return e.stop()}}),e,this,[[9,18]])}))),function(e){return n.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var e=ja(M.mark((function e(t){var n,r,o=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",JB);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(t)||0===t.length||t.some((function(e){return!Sa(e)}))||256<t.length)){e.next=6;break}throw new Z("invalid arguments",as);case 6:return e.next=8,this.session.requestPeersOnlineStatus(t).toPromise();case 8:return n=e.sent,r=hd(nl(n.userInfos,"account"),(function(e){return!!e.ts})),Object.keys(r).forEach((function(e){if(e in o.subscribedPeerStatusCache&&o.subscribedPeerStatusCache[e]!==qa.PeerOnlineState.UNREACHABLE){var t=r[e]?qa.PeerOnlineState.ONLINE:qa.PeerOnlineState.OFFLINE;o.emit("PeersOnlineStatusChanged",x({},e,t)),o.subscribedPeerStatusCache[e]=t}})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a,s,c,u,l;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",vB);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&t.every((function(e){return"string"==typeof e}))&&0!==t.length){e.next=6;break}throw new Z("Invalid arguments: channelIds",Jr);case 6:if(!(32<t.length)){e.next=8;break}throw new Z("getChannelMemberCount exceed limit of 32 channelIds",uB);case 8:n=0;case 9:if(!(n<t.length)){e.next=16;break}if(Sa(r=t[n])){e.next=13;break}throw new Z(["getChannelMemberCount channel id %s is invalid",r],Jr);case 13:n++,e.next=9;break;case 16:return e.next=18,this.session.requestGetChannelMemberCount(t).toPromise();case 18:for(o=e.sent,i=o.groupInfos,a={},s=0;s<i.length;s++)c=i[s],u=c.group,l=c.memberCount,Sa(u)&&"number"==typeof l&&(this.internalEmitter.emit("channelMemberCountUpdated",u,l),a[u]=l);return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wf({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===la.CONNECTED){e.next=3;break}throw new aa("The client is not logged in",lc);case 3:if(void 0!==this.session){e.next=5;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return n=this.session.requestSetLocalUserAttributes(t).toPromise(),r={attribute:t,promise:n},this.attributeDrafts.add(r),e.prev=8,e.next=11,n;case 11:this.attributes=t,e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(8),!Ma(e.t0)){e.next=18;break}throw e.t0;case 18:throw new Z("arguments is not valid",bb);case 19:return e.prev=19,this.attributeDrafts.delete(r),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[8,14,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var e=ja(M.mark((function e(t,n){var r,o,i,a,s,c=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<c.length&&void 0!==c[2]?c[2]:{},o=r.enableNotificationToChannelMembers,i=void 0!==o&&o,Wf({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return a=this.session.requestSetChannelAttributes(t,n,i).toPromise(),e.prev=7,e.next=10,a;case 10:s=hd(n,(function(e){return new Blob([e]).size})),this.channelAttributesCacheLru.set(t,s),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(7),!Ma(e.t0)){e.next=18;break}throw e.t0;case 18:throw new Z("arguments is not valid",bb);case 19:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,o;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=jb(jb({},this.attributes),t),Wf({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),Wf({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===la.CONNECTED){e.next=5;break}throw new aa("The client is not logged in",lc);case 5:if(void 0!==this.session){e.next=7;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return r=this.session.requestAddOrUpdateLocalUserAttributes(t).toPromise(),o={attribute:n,promise:r},this.attributeDrafts.add(o),e.prev=10,e.next=13,r;case 13:this.attributes=n,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Z("arguments is not valid",as);case 21:return e.prev=21,this.attributeDrafts.delete(o),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[10,16,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var e=ja(M.mark((function e(t,n){var r,o,i,a,s,c,u,l=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},o=r.enableNotificationToChannelMembers,i=void 0!==o&&o,a=this.channelAttributesCacheLru.get(t,{}),s=hd(n,(function(e){return new Blob([e]).size})),c=jb(jb({},a),s),Wf({attributes:n,attrSizeMap:c,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===la.CONNECTED){e.next=7;break}throw new aa("The client is not logged in",lc);case 7:if(void 0!==this.session){e.next=9;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return u=this.session.requestAddOrUpdateChannelAttributes(t,n,i).toPromise(),e.prev=10,e.next=13,u;case 13:this.channelAttributesCacheLru.set(t,c),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Z("arguments is not valid",bb);case 21:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)&&0!==t.length&&!t.some((function(e){return 0===e.length}))){e.next=2;break}throw new aa("arguments is not valid",bb);case 2:if(this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return n=this.session.requestDeleteLocalUserAttributesByKeys(t).toPromise(),r={attribute:kl(this.attributes,t),promise:n},this.attributeDrafts.add(r),e.prev=9,e.next=12,n;case 12:for(o=0;o<t.length;o++)i=t[o],delete this.attributes[i];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),!Ma(e.t0)){e.next=19;break}throw e.t0;case 19:throw new Z("arguments is not valid",bb);case 20:return e.prev=20,this.attributeDrafts.delete(r),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[9,15,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var e=ja(M.mark((function e(t,n){var r,o,i,a,s,c,u,l=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},o=r.enableNotificationToChannelMembers,i=void 0!==o&&o,Array.isArray(n)&&0!==n.length&&Sa(t)&&!n.some((function(e){return 0===e.length||512<e.length}))){e.next=3;break}throw new aa("arguments is not valid",bb);case 3:if(this.connectionState===la.CONNECTED){e.next=5;break}throw new aa("The client is not logged in",lc);case 5:if(void 0!==this.session){e.next=7;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return a=this.session.requestDeleteChannelAttributesByKeys(t,n,i).toPromise(),e.prev=8,e.next=11,a;case 11:if(s=this.channelAttributesCacheLru.get(t))for(c=0;c<n.length;c++)u=n[c],delete s[u];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(8),!Ma(e.t0)){e.next=19;break}throw e.t0;case 19:throw new Z("arguments is not valid",bb);case 20:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var e=ja(M.mark((function e(){var t,n;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",lc);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t=this.session.requestClearLocalUserAttributes().toPromise(),n={attribute:{},promise:t},this.attributeDrafts.add(n),e.prev=7,e.next=10,t;case 10:this.attributes={},e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(7),!Ma(e.t0)){e.next=17;break}throw e.t0;case 17:throw new Z("arguments is not valid",bb);case 18:return e.prev=18,this.attributeDrafts.delete(n),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a=arguments;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<a.length&&void 0!==a[1]?a[1]:{},r=n.enableNotificationToChannelMembers,o=void 0!==r&&r,this.connectionState===la.CONNECTED){e.next=3;break}throw new aa("The client is not logged in",lc);case 3:if(void 0!==this.session){e.next=5;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return i=this.session.requestClearChannelAttributes(t,o).toPromise(),e.prev=6,e.next=9,i;case 9:this.channelAttributesCacheLru.delete(t),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(6),!Ma(e.t0)){e.next=16;break}throw e.t0;case 16:throw new Z("arguments is not valid",bb);case 17:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,o;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(t)){e.next=2;break}throw new Z("Not a valid user ID",bb);case 2:if(this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetUserAttributeKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetUserAttributesByKeys(t,r.slice(0,512)).toPromise();case 13:o=e.sent,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(6),!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Z("arguments is not valid",bb);case 21:return e.abrupt("return",Tq(o.attributeInfos.map((function(e){return[e.key,e.value]}))));case 22:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,f;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(t)){e.next=2;break}throw new Z("Not a valid channel ID",bb);case 2:if(this.connectionState===la.CONNECTED){e.next=4;break}throw new aa("The client is not logged in",lc);case 4:if(void 0!==this.session){e.next=6;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetChannelAttributesKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetChannelAttributesByKeys(t,r).toPromise();case 13:o=e.sent,i=o.attributeMaps,e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(6),!Ma(e.t0)){e.next=21;break}throw e.t0;case 21:throw new Z("arguments is not valid",bb);case 22:a={},s=0;case 24:if(!(s<i.length)){e.next=32;break}if(c=i[s],u=c.key,l=c.ms,d=c.value,f=c.origin,"string"==typeof u&&ma.isLong(l)&&"string"==typeof d&&Sa(f)){e.next=28;break}return e.abrupt("break",32);case 28:a[u]={value:d,lastUpdateUserId:f,lastUpdateTs:l.toNumber()};case 29:s++,e.next=24;break;case 32:return this.channelAttributesCacheLru.set(t,hd(a,(function(e){return new Blob([e.value]).size}))),e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var e=ja(M.mark((function e(t,n){var r,o,i,a,s,c,u,l,d,f;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",lc);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Hn(t,n),e.prev=5,e.next=8,this.session.requestGetChannelAttributesByKeys(t,n).toPromise();case 8:r=e.sent,o=r.attributeMaps,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!Ma(e.t0)){e.next=16;break}throw e.t0;case 16:throw new Z("arguments is not valid",bb);case 17:i={},a=this.channelAttributesCacheLru.get(t,{}),s=0;case 20:if(!(s<o.length)){e.next=29;break}if(c=o[s],u=c.key,l=c.ms,d=c.value,f=c.origin,"string"==typeof u&&ma.isLong(l)&&"string"==typeof d&&Sa(f)){e.next=24;break}return e.abrupt("break",29);case 24:a[u]=new Blob([d]).size,i[u]={value:d,lastUpdateUserId:f,lastUpdateTs:l.toNumber()};case 26:s++,e.next=20;break;case 29:return this.channelAttributesCacheLru.set(t,a),e.abrupt("return",i);case 31:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var e=ja(M.mark((function e(t,n){var r;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",lc);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Hn(t,n),e.prev=5,e.next=8,this.session.requestGetUserAttributesByKeys(t,n).toPromise();case 8:r=e.sent,e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(5),!Ma(e.t0)){e.next=15;break}throw e.t0;case 15:throw new Z("arguments is not valid",bb);case 16:return e.abrupt("return",Tq(r.attributeInfos.map((function(e){return[e.key,e.value]}))));case 17:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rn(!0),r=hh(),o=t.token,t.token===this.context.appId&&(o=void 0),xb("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:yb(this.session&&this.session.startTime),index:{index1:t.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:Mg,lts:ma.fromNumber(Date.now()),os:7,sid:rb(r),token:o||"",userId:t.uid,ver:"1.5.0",buildno:417,subVersion:17,version:4},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n,!0),Be(t)&&Sa(t.uid)){e.next=7;break}throw new Z("not a valid user id",pi);case 7:if("string"!=typeof o||!o){e.next=11;break}this.context.token=o,e.next=13;break;case 11:if("string"==typeof o||null==o){e.next=13;break}throw new Z('The "token" is not a valid string.',pi);case 13:return i=Date.now(),this.context.sid=rb(r),this.loginPromise=this.loginImpl({uid:t.uid,instanceId:r}),this.info("RTM Client logging in as ".concat(Ka(t.uid))),e.prev=17,e.next=20,this.loginPromise;case 20:e.next=28;break;case 22:throw e.prev=22,e.t0=e.catch(17),Ma(e.t0)&&xb("Link",{ackedServerIp:"",destServerIp:"",ec:e.t0.code||1,sc:e.t0.serverCode,elapse:yb(this.session&&this.session.startTime),lts:ma.fromNumber(Date.now()),responseTime:Date.now()-i,sid:rb(r),userId:t.uid},null!==(a=this.context.config.enableCloudProxy)&&void 0!==a&&a),this.context.token=void 0,this.context.socketUseProxy=!1,e.t0;case 28:return e.prev=28,this.loginPromise=void 0,e.finish(28);case 31:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),rn(!1);case 33:case"end":return e.stop()}}),e,this,[[17,22,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=ja(M.mark((function e(){var t;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loginPromise){e.next=3;break}return e.next=3,this.loginPromise;case 3:if(this.connectionState!==la.DISCONNECTED){e.next=6;break}throw this.logError("Already in logout state"),new aa("Logout failure. The client has already been logged out",Xr);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==la.ABORTED){e.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT),e.abrupt("return");case 11:if(void 0!==this.session){e.next=14;break}return this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT),e.abrupt("return");case 14:return xb("Logout",{elapse:yb(this.session.startTime),lts:ma.fromNumber(Date.now()),sid:rb(this.session.instanceId),userId:this.context.uid},null!==(t=this.context.config.enableCloudProxy)&&void 0!==t&&t),e.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT),this.log("Log out success");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var e,t=this;if(this.connectionState===la.DISCONNECTED)throw this.logError("Already in logout state"),new aa("Logout failure. The client has already been logged out",Xr);this.connectionState===la.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):void 0!==this.session&&(xb("Logout",{elapse:yb(this.session.startTime),lts:ma.fromNumber(Date.now()),sid:rb(this.session.instanceId),userId:this.context.uid},null!==(e=this.context.config.enableCloudProxy)&&void 0!==e&&e),this.session.logoutHandler().then((function(){t.log("Log out success")}))),this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var e=ja(M.mark((function e(t,n){var r,o=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(On(t,Xf),this.connectionState!==la.RECONNECTING){e.next=4;break}return r=Date.now(),e.abrupt("return",new Promise((function(e,i){var a,s=(a=ja(M.mark((function a(){var s;return M.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!==o.session){a.next=2;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return s=Date.now()-r,a.prev=3,a.t0=e,a.next=7,kh({message:t,peerId:n,toPeer:!0,session:o.session,errorCodes:{NOT_LOGGED_IN:Fl,TOO_OFTEN:Zr},diff:s,logger:o.logger});case 7:a.t1=a.sent,(0,a.t0)(a.t1),a.next=16;break;case 11:a.prev=11,a.t2=a.catch(3),vb(a.t2)&&i(new Qb(te(o.name,"sendMessageToPeer",1e4),El)),Ma(a.t2)&&i(a.t2),i(new Ja("Peer-to-peer message send failure",{code:Yr,originalError:a.t2}));case 16:return a.prev=16,clearTimeout(c),a.finish(16);case 19:case"end":return a.stop()}}),a,null,[[3,11,16,19]])}))),function(){return a.apply(this,arguments)});o.internalEmitter.once("RECONNECTED",s);var c=setTimeout((function(){o.internalEmitter.off("RECONNECTED",s),i(new Qb(te(o.name,"sendMessageToPeer",1e4),El))}),9e3)})));case 4:if(this.connectionState===la.CONNECTED){e.next=6;break}throw new aa("Failed to send the peer-to-peer message. The client is not logged in",Fl);case 6:if(void 0!==this.session){e.next=8;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 8:return e.prev=8,e.next=11,kh({message:t,peerId:n,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:Fl,TOO_OFTEN:Zr},diff:0,logger:this.logger});case 11:return e.abrupt("return",e.sent);case 14:if(e.prev=14,e.t0=e.catch(8),!vb(e.t0)){e.next=18;break}throw new Qb(te(this.name,"sendMessageToPeer",1e4),El);case 18:if(!Ma(e.t0)){e.next=20;break}throw e.t0;case 20:throw new Ja("Peer-to-peer message send failure",{code:Yr,originalError:e.t0});case 21:case"end":return e.stop()}}),e,this,[[8,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createChannel",value:function(e){var t=this;if(!Sa(e))throw new Z(["The %s in the arguments is invalid",Object.keys({channelId:e})[0]],tB);return new bF(e,(function(){return t.session}),this,this.logger)}},{key:"createLocalInvitation",value:function(e){if(!Sa(e))throw new Z(["The %s in the arguments is invalid",Object.keys({calleeId:e})[0]],Tc);return this.invitationManager.genLocalInvitation(e)}},{key:"subscribePeersOnlineStatus",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a,s,c,u,l,d,f,p,h,g=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",Hl);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new Z("Invalid arguments: peerIds",Og);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(Sa(r=t[n])){e.next=11;break}throw new Z(["subscribePeersOnlineStatus peer id %s is invalid",r],Og);case 11:n++,e.next=7;break;case 14:if(!(512<(o=t&&t.length?$k(t):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){e.next=17;break}throw new dc("Subscribed peers overflows",ds);case 17:return this.pendingPeerStatusSubCount+=o.length,e.next=20,this.session.requestSubscribePeersOnlineStatus(o).toPromise();case 20:i=e.sent,a=i.errors,this.pendingPeerStatusSubCount-=o.length,s=[],c=[],u=0;case 26:if(!(u<a.length)){e.next=34;break}if(l=a[u],d=l.code,"string"==typeof(f=l.account)){e.next=30;break}throw new Ja("Returned account is invalid",cs);case 30:0!==d&&s.push(f);case 31:u++,e.next=26;break;case 34:for(p=0;p<o.length;p++)h=o[p],s.includes(h)||(c.push(h),this.subscribedPeerStatusCache[h]=void 0);if(this.session.requestPeersOnlineStatus(c).pipe(Da((function(e){return hd(nl(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=hd(e,(function(e,t){return e=e?qa.PeerOnlineState.ONLINE:qa.PeerOnlineState.OFFLINE,g.subscribedPeerStatusCache[t]=e})),g.emit("PeersOnlineStatusChanged",e)})),0===s.length){e.next=38;break}throw new Ja("Subscription failed",cs);case 38:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",Hl);case 2:if(void 0!==this.session){e.next=4;break}throw new ib({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new Z("Invalid arguments: peerIds",Og);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(Sa(r=t[n])){e.next=11;break}throw new Z(["subscribePeersOnlineStatus peer id %s is invalid",r],Og);case 11:n++,e.next=7;break;case 14:if(!(512<t.length)){e.next=16;break}throw new dc("Unsubscribed peers overflows",ds);case 16:for(o=t&&t.length?$k(t):[],this.session.requestUnsubscribePeersOnlineStatus(o),i=0;i<o.length;i++)a=o[i],delete this.subscribedPeerStatusCache[a];case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var e=ja(M.mark((function e(t){return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===la.CONNECTED){e.next=2;break}throw new aa("The client is not logged in",Hl);case 2:if(t!==qa.PeerSubscriptionOption.ONLINE_STATUS){e.next=4;break}return e.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new Z("Subscription option not supported",Og);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMessage",value:function(e){return e}},{key:"loginImpl",value:function(){var e=ja(M.mark((function e(t){var n,r,o,i,a,s,c,u,l=this;return M.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uid,r=t.instanceId,o=t.forceLoginTime,i=void 0===o?0:o,a=r,!(void 0!==this.lastLoginTime&&500>Date.now()-this.lastLoginTime)){e.next=4;break}throw new wD(["The frequency of login exceeded the limit of %d queries per second",2],HB);case 4:if(this.connectionState===la.DISCONNECTED||0!==i){e.next=6;break}throw new aa("The SDK is either logging in or has logged in the Agora RTM system",FB);case 6:e.prev=6,this.context.uid=n,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(6),new Z(["The %s in the arguments is invalid",Object.keys({uid:n})[0]],pi);case 13:return 0===i&&this.onConnectionStateChanged(la.CONNECTING,Mb.LOGIN),(s=new Us(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=c=new Lt(this.context,s,a,this.logger),u=function(){l.connectionState===la.CONNECTED&&(l.onConnectionStateChanged(la.RECONNECTING,Mb.INTERRUPTED),l.session)&&l.session.once("userJoined",(function(){l.onConnectionStateChanged(la.CONNECTED,Mb.LOGIN_SUCCESS)}))},c.on("connectionLost",u),c.on("tokenExpired",(function(){l.emit("TokenExpired")})),c.on("TokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),c.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",(function(e){l.emit("MessageFromPeer",{text:e.text,messageType:qa.MessageType.TEXT},e.peerId,e.properties)})),this.session.on("peerRawMessage",(function(e){l.emit("MessageFromPeer",{rawMessage:e.raw,description:e.desc,messageType:qa.MessageType.RAW},e.peerId,e.properties)})),c.on("instanceChanged",(function(e){return a=e})),c.on("peerOnlineStatusChanged",(function(e){var t=e.instance.toString()+e.state,n=l.peerStatusSeqLru.get(t);!n||e.seq.greaterThan(n)?(l.peerStatusSeqLru.set(t,e.seq),e.state!==l.subscribedPeerStatusCache[e.peerId]&&l.emit("PeersOnlineStatusChanged",x({},e.peerId,e.state)),l.subscribedPeerStatusCache[e.peerId]=e.state,clearTimeout(l.peerUnreachableTimers[t]),e.state===qa.PeerOnlineState.UNREACHABLE&&(l.peerUnreachableTimers[t]=setTimeout((function(){l.subscribedPeerStatusCache[e.peerId]===qa.PeerOnlineState.UNREACHABLE&&(l.subscribedPeerStatusCache[e.peerId]=qa.PeerOnlineState.ONLINE,l.emit("PeersOnlineStatusChanged",x({},e.peerId,qa.PeerOnlineState.ONLINE)))}),3e4))):l.log("peerOnlineStatusChanged dedup for %s, %d",t,e.seq.toNumber())})),c.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),c.on("channelAttributesUpdated",(function(e){var t=e.channelId;e=e.attributeMaps;for(var n={},r=0;r<e.length;r++){var o=e[r],i=o.key,a=o.ms,s=o.value;if(o=o.origin,"string"!=typeof i||!ma.isLong(a)||"string"!=typeof s||!Sa(o))break;n[i]=new Blob([s]).size}l.channelAttributesCacheLru.set(t,n)})),c.on("userJoined",(function(e){if(0!==Object.keys(l.attributes).length){if(void 0===l.session)return;l.session.requestSetLocalUserAttributes(l.attributes,e).toPromise()}if(0!==l.attributeDrafts.size)for(var t=function(t,n){var r=(t=n[t]).attribute;t.promise.then((function(){void 0!==l.session&&l.session.requestSetLocalUserAttributes(r,e).toPromise()}))},n=0,r=Array.from(l.attributeDrafts);n<r.length;n++)t(n,r);0!==Object.keys(l.subscribedPeerStatusCache).length&&c.requestSubscribePeersOnlineStatus(Object.keys(l.subscribedPeerStatusCache))})),c.on("banEdgeIP",(function(e){l.banIP(e)})),this.lastLoginTime=Date.now(),e.prev=32,e.next=35,c.loginHandler().toPromise();case 35:e.next=53;break;case 37:if(e.prev=37,e.t1=e.catch(32),!("loginRespTimeout"===e.t1.name&&2>i)){e.next=46;break}return c.removeAllListeners(),e.next=43,this.loginImpl({uid:n,instanceId:r,forceLoginTime:i+1});case 43:return e.abrupt("return");case 46:if(!vb(e.t1)){e.next=49;break}throw this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGIN_TIMEOUT),new Qb(te(this.name,"login",12e3),GB);case 49:if(this.onConnectionStateChanged(la.DISCONNECTED,Mb.LOGIN_FAILURE),!Ma(e.t1)){e.next=52;break}throw e.t1;case 52:throw new Ja("Login failure",{code:Ur,originalError:e.t1});case 53:this.onConnectionStateChanged(la.CONNECTED,Mb.LOGIN_SUCCESS);case 54:case"end":return e.stop()}}),e,this,[[6,10],[32,37]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(e,t){var n,r=this;e===la.RECONNECTING&&(this.reconnId+=1),xb("ConnectionStateChange",{elapse:yb(this.session&&this.session.startTime),lts:ma.fromNumber(Date.now()),newState:Nt[e],oldState:Nt[this.connectionState],reason:cF[t],sid:rb(this.session&&this.session.instanceId||ma.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),this.connectionState===la.RECONNECTING&&e===la.CONNECTED&&(0!==Object.keys(this.subscribedPeerStatusCache).length&&void 0!==this.session&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Da((function(e){return hd(nl(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=hd(e,(function(e,t){return e=e?qa.PeerOnlineState.ONLINE:qa.PeerOnlineState.OFFLINE,r.subscribedPeerStatusCache[t]=e})),r.emit("PeersOnlineStatusChanged",e)})),this.internalEmitter.emit("RECONNECTED")),this.connectionState=e,e!==la.ABORTED&&e!==la.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",e,t)}},{key:"banIP",value:function(e){var t;this.log("ip banned",e);var n=null!==(t=this.blacklistedIP[e])&&void 0!==t?t:0;this.blacklistedIP[e]=n+1}}]),t}(Ac()),Ca(U.prototype,"renewToken",[fb],Object.getOwnPropertyDescriptor(U.prototype,"renewToken"),U.prototype),Ca(U.prototype,"queryPeersOnlineStatus",[fb],Object.getOwnPropertyDescriptor(U.prototype,"queryPeersOnlineStatus"),U.prototype),Ca(U.prototype,"getChannelMemberCount",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getChannelMemberCount"),U.prototype),Ca(U.prototype,"setLocalUserAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"setLocalUserAttributes"),U.prototype),Ca(U.prototype,"setChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"setChannelAttributes"),U.prototype),Ca(U.prototype,"addOrUpdateLocalUserAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"addOrUpdateLocalUserAttributes"),U.prototype),Ca(U.prototype,"addOrUpdateChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"addOrUpdateChannelAttributes"),U.prototype),Ca(U.prototype,"deleteLocalUserAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"deleteLocalUserAttributesByKeys"),U.prototype),Ca(U.prototype,"deleteChannelAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"deleteChannelAttributesByKeys"),U.prototype),Ca(U.prototype,"clearLocalUserAttributes",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"clearLocalUserAttributes"),U.prototype),Ca(U.prototype,"clearChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"clearChannelAttributes"),U.prototype),Ca(U.prototype,"getUserAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getUserAttributes"),U.prototype),Ca(U.prototype,"getChannelAttributes",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getChannelAttributes"),U.prototype),Ca(U.prototype,"getChannelAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getChannelAttributesByKeys"),U.prototype),Ca(U.prototype,"getUserAttributesByKeys",[fb],Object.getOwnPropertyDescriptor(U.prototype,"getUserAttributesByKeys"),U.prototype),Ca(U.prototype,"login",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"login"),U.prototype),Ca(U.prototype,"logout",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"logout"),U.prototype),Ca(U.prototype,"logoutSync",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"logoutSync"),U.prototype),Ca(U.prototype,"sendMessageToPeer",[fb],Object.getOwnPropertyDescriptor(U.prototype,"sendMessageToPeer"),U.prototype),Ca(U.prototype,"createChannel",[fb],Object.getOwnPropertyDescriptor(U.prototype,"createChannel"),U.prototype),Ca(U.prototype,"createLocalInvitation",[fb],Object.getOwnPropertyDescriptor(U.prototype,"createLocalInvitation"),U.prototype),Ca(U.prototype,"subscribePeersOnlineStatus",[fb],Object.getOwnPropertyDescriptor(U.prototype,"subscribePeersOnlineStatus"),U.prototype),Ca(U.prototype,"unsubscribePeersOnlineStatus",[fb],Object.getOwnPropertyDescriptor(U.prototype,"unsubscribePeersOnlineStatus"),U.prototype),Ca(U.prototype,"queryPeersBySubscriptionOption",[fb],Object.getOwnPropertyDescriptor(U.prototype,"queryPeersBySubscriptionOption"),U.prototype),Ca(U.prototype,"createMessage",[Ic],Object.getOwnPropertyDescriptor(U.prototype,"createMessage"),U.prototype),U),mm,nm,om,pm,Ot=null===(mm=/Chrome\/([0-9.]+)/.exec(null===(om=window)||void 0===om||null===(pm=om.navigator)||void 0===pm?void 0:pm.userAgent))||void 0===mm||null===(nm=mm[1])||void 0===nm?void 0:nm.split(".")[0];if(Ot&&88<=parseInt(Ot,10)&&!Ae()){var qm,xe=document.createElement("video"),ye=document.createElement("canvas");xe.setAttribute("style","display:none"),xe.setAttribute("muted",""),xe.muted=!0,xe.setAttribute("autoplay",""),xe.autoplay=!0,xe.setAttribute("playsinline",""),ye.setAttribute("style","display:none"),ye.setAttribute("width","1"),ye.setAttribute("height","1"),null===(qm=ye.getContext("2d"))||void 0===qm||qm.fillRect(0,0,1,1),xe.srcObject=null==ye?void 0:ye.captureStream()}var Pt={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},Qt={enableLogUpload:!1,logFilter:Pt.LOG_FILTER_INFO,enableCloudProxy:!1},ue=jb(jb({createInstance:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(e))throw new Z(["The %s in the arguments is invalid",Object.keys({appId:e})[0]],Ir);var r=Object.keys(t).filter((function(e){return!(e in Qt)}));if(0!==r.length)throw new Z("Invalid RTM config: ".concat(r.join(", ")),Ir);var o=jb(jb({},Qt),t);if(void 0!==n&&(!Array.isArray(n)||0===n.length))throw new Z("Invalid area config");if(null!=n){if(!n.every((function(e){return e in qa.LegacyAreaCode})))throw new Z("Invalid area codes: ".concat(n.filter((function(e){return!(e in qa)})).join(", ")));ca=Ue(n.map((function(e){return ED[e]})))}n=Nl=Va.__global_unique_id__=(Va.__global_unique_id__||0)+1;var i=ID(o);r=JD(o);var a=KD(o),s=LD(n,o),c=Os(n,o),u=c("RTM:DEBUG","<Entry> ");return Hs.rtmConfig=o,i("The Agora RTM Web SDK version is %s","1.5.0"),t.enableCloudProxy&&i("RTM cloud proxy enabled"),t.enableLogUpload&&i("Log upload enabled"),ca&&u("Area is set to %s",Array.from(ca.CODES).map((function(e){return $f(R).find((function(t){return R[t]===e}))})).join(", ")),u("Creating an RtmClient instance"),u('The Git commit ID is "'.concat("v1.5.0-0-g83bd874d",'"')),u("The App ID is %s",Pn(e,4,10,"*".repeat(6))),i("The process ID is %s",Mg),u("The build is %s","v1.5.0-0-g83bd874d"),u("NODE_ENV is %s","production"),new dF(e,{genLogger:c,genTracker:s,info:i,warn:r,logError:a,loggerId:n},o,(function(e){for(var t=0,n=$f(e);t<n.length;t++){var r=n[t];try{var a=e[r];null!=a&&(e.enableCloudProxy&&i("RTM cloud proxy enabled"),e.enableLogUpload&&i("Log upload enabled"),o[r]=a)}catch(e){throw new Z(["The %s in the arguments is invalid",r],void 0)}}}))},BUILD:"v1.5.0-0-g83bd874d",VERSION:"1.5.0",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:Mg,ConnectionChangeReason:qa.ConnectionChangeReason,ConnectionState:qa.ConnectionState,LocalInvitationFailureReason:qa.LocalInvitationFailureReason,LocalInvitationState:qa.LocalInvitationState,RemoteInvitationFailureReason:qa.RemoteInvitationFailureReason,RemoteInvitationState:qa.RemoteInvitationState,MessageType:qa.MessageType,PeerOnlineState:qa.PeerOnlineState,PeerSubscriptionOption:qa.PeerSubscriptionOption},Pt),{},{setParameter:function(e,t){Object.keys(xc).includes(e)&&(xc[e]=t)},getParameter:function(e){return xc[e]},setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,!Array.isArray(t)||0===t.length||!t.every((function(e){return e in qa.AreaCode})))throw new Z("Invalid area config");if(void 0!==e&&e===qa.AreaCode.GLOBAL)throw new Z("Excluded area cannot be global");if(void 0===e)ca=Ue(t.map((function(e){return R[e]})));else{if(t.includes(e))throw new Z("Excluded area cannot be in areaCodes");if(!(e in R))throw new Z("Invalid excludedArea:",e);ca=yv({areas:t.map((function(e){return R[e]})),excludedArea:R[e]})}}});return ue}))},6265:function(e,t,n){e.exports=n(9435)},4951:function(e,t,n){"use strict";n(2801);var r=n(6642),o=n(6806),i=n(3833),a=n(4360),s=n(5047),c=n(5976),u=n(9896),l=n(8507),d=n(3303),f=n(6090),p=n(1874);e.exports=function(e){return new Promise((function(t,n){var h,g=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete v["Content-Type"];var A=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+E)}var _=s(e.baseURL,e.url);function w(){if(A){var r="getAllResponseHeaders"in A?c(A.getAllResponseHeaders()):null,i=m&&"text"!==m&&"json"!==m?A.response:A.responseText,a={data:i,status:A.status,statusText:A.statusText,headers:r,config:e,request:A};o((function(e){t(e),y()}),(function(e){n(e),y()}),a),A=null}}if(A.open(e.method.toUpperCase(),a(_,e.params,e.paramsSerializer),!0),A.timeout=e.timeout,"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){A&&4===A.readyState&&(0!==A.status||A.responseURL&&0===A.responseURL.indexOf("file:"))&&setTimeout(w)},A.onabort=function(){A&&(n(new d("Request aborted",d.ECONNABORTED,e,A)),A=null)},A.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,A,A)),A=null},A.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,A)),A=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||u(_))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(v[e.xsrfHeaderName]=S)}"setRequestHeader"in A&&r.forEach(v,(function(e,t){"undefined"===typeof g&&"content-type"===t.toLowerCase()?delete v[t]:A.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(A.withCredentials=!!e.withCredentials),m&&"json"!==m&&(A.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&A.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&A.upload&&A.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){A&&(n(!e||e&&e.type?new f:e),A.abort(),A=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),g||(g=null);var C=p(_);C&&-1===["http","https","file"].indexOf(C)?n(new d("Unsupported protocol "+C+":",d.ERR_BAD_REQUEST,e)):A.send(g)}))}},9435:function(e,t,n){"use strict";var r=n(6642),o=n(5955),i=n(7104),a=n(8186),s=n(7);function c(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n.create=function(t){return c(a(e,t))},n}var u=c(s);u.Axios=i,u.CanceledError=n(6090),u.CancelToken=n(6016),u.isCancel=n(5936),u.VERSION=n(4679).version,u.toFormData=n(8994),u.AxiosError=n(3303),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n(5431),u.isAxiosError=n(786),e.exports=u,e.exports["default"]=u},6016:function(e,t,n){"use strict";n(1703);var r=n(6090);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e,t=new o((function(t){e=t}));return{token:t,cancel:e}},e.exports=o},6090:function(e,t,n){"use strict";var r=n(3303),o=n(6642);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}o.inherits(i,r,{__CANCEL__:!0}),e.exports=i},5936:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7104:function(e,t,n){"use strict";var r=n(6642),o=n(4360),i=n(999),a=n(6559),s=n(8186),c=n(5047),u=n(6298),l=u.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var d=[a,void 0];Array.prototype.unshift.apply(d,r),d=d.concat(c),i=Promise.resolve(t);while(d.length)i=i.then(d.shift(),d.shift());return i}var f=t;while(r.length){var p=r.shift(),h=r.shift();try{f=p(f)}catch(g){h(g);break}}try{i=a(f)}catch(g){return Promise.reject(g)}while(c.length)i=i.then(c.shift(),c.shift());return i},d.prototype.getUri=function(e){e=s(this.defaults,e);var t=c(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},3303:function(e,t,n){"use strict";n(1703);var r=n(6642);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,a,s,c){var u=Object.create(i);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),o.call(u,e.message,t,n,a,s),u.name=e.name,c&&Object.assign(u,c),u},e.exports=o},999:function(e,t,n){"use strict";var r=n(6642);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},5047:function(e,t,n){"use strict";var r=n(4777),o=n(2381);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},6559:function(e,t,n){"use strict";var r=n(6642),o=n(3756),i=n(5936),a=n(7),s=n(6090);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},8186:function(e,t,n){"use strict";var r=n(6642);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},6806:function(e,t,n){"use strict";var r=n(3303);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},3756:function(e,t,n){"use strict";var r=n(6642),o=n(7);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},7:function(e,t,n){"use strict";var r=n(6642),o=n(1446),i=n(3303),a=n(8507),s=n(8994),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(4951)),e}function d(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}var f={transitional:a,adapter:l(),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===a){var c=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,c&&new c)}return i||"application/json"===a?(u(t,"application/json"),d(e)):e}],transformResponse:[function(e){var t=this.transitional||f.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i.from(s,i.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1051)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){f.headers[e]=r.merge(c)})),e.exports=f},8507:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},4679:function(e){e.exports={version:"0.27.2"}},5955:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},4360:function(e,t,n){"use strict";var r=n(6642);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},2381:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3833:function(e,t,n){"use strict";var r=n(6642);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},4777:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},786:function(e,t,n){"use strict";var r=n(6642);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},9896:function(e,t,n){"use strict";var r=n(6642);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},1446:function(e,t,n){"use strict";var r=n(6642);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1051:function(e){e.exports=null},5976:function(e,t,n){"use strict";var r=n(6642),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},1874:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},5431:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8994:function(e,t,n){"use strict";n(1703);var r=n(6642);function o(e,t){t=t||new FormData;var n=[];function o(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function i(e,a){if(r.isPlainObject(e)||r.isArray(e)){if(-1!==n.indexOf(e))throw Error("Circular reference detected in "+a);n.push(e),r.forEach(e,(function(e,n){if(!r.isUndefined(e)){var s,c=a?a+"."+n:n;if(e&&!a&&"object"===typeof e)if(r.endsWith(n,"{}"))e=JSON.stringify(e);else if(r.endsWith(n,"[]")&&(s=r.toArray(e)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(c,o(e))}));i(e,c)}})),n.pop()}else t.append(a,o(e))}return i(e),t}e.exports=o},6298:function(e,t,n){"use strict";var r=n(4679).version,o=n(3303),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};function s(e,t,n){if("object"!==typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);var r=Object.keys(e),i=r.length;while(i-- >0){var a=r[i],s=t[a];if(s){var c=e[a],u=void 0===c||s(c,a,e);if(!0!==u)throw new o("option "+a+" must be "+u,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}}i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:s,validators:i}},6642:function(e,t,n){"use strict";n(8675),n(3462),n(7380),n(1118);var r=n(5955),o=Object.prototype.toString,i=function(e){return function(t){var n=o.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function a(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function s(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}function u(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var l=a("ArrayBuffer");function d(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer),t}function f(e){return"string"===typeof e}function p(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function g(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var v=a("Date"),m=a("File"),y=a("Blob"),A=a("FileList");function b(e){return"[object Function]"===o.call(e)}function E(e){return h(e)&&b(e.pipe)}function _(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||o.call(e)===t||b(e.toString)&&e.toString()===t)}var w=a("URLSearchParams");function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function C(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function I(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function O(){var e={};function t(t,n){g(e[n])&&g(t)?e[n]=O(e[n],t):g(t)?e[n]=O({},t):s(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)I(arguments[n],t);return e}function T(e,t,n){return I(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e}function R(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function N(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function P(e,t,n){var r,o,i,a={};t=t||{};do{r=Object.getOwnPropertyNames(e),o=r.length;while(o-- >0)i=r[o],a[i]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function k(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}function D(e){if(!e)return null;var t=e.length;if(c(t))return null;var n=new Array(t);while(t-- >0)n[t]=e[t];return n}var x=function(e){return function(t){return e&&t instanceof e}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));e.exports={isArray:s,isArrayBuffer:l,isBuffer:u,isFormData:_,isArrayBufferView:d,isString:f,isNumber:p,isObject:h,isPlainObject:g,isUndefined:c,isDate:v,isFile:m,isBlob:y,isFunction:b,isStream:E,isURLSearchParams:w,isStandardBrowserEnv:C,forEach:I,merge:O,extend:T,trim:S,stripBOM:R,inherits:N,toFlatObject:P,kindOf:i,kindOfTest:a,endsWith:k,toArray:D,isTypedArray:x,isFileList:A}},9273:function(__unused_webpack_module,exports,__webpack_require__){__webpack_require__(1703),__webpack_require__(8675),__webpack_require__(3462),__webpack_require__(7380),__webpack_require__(1118);var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,o=0;o<r;o++){var i=e[o];if(t.call(n,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof __webpack_require__.g&&null!=__webpack_require__.g?__webpack_require__.g:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,r){if(t){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];o in n||(n[o]={}),n=n[o]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var n=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var n=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var r=n.length,o=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var i=0;i<o&&t<r;)if(n[t++]!=e[i++])return!1;return i>=o}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||"undefined"==typeof n.execScript||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||void 0===t?n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}:n[r]=t},goog.define=function(e,t){if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,r=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)?t=n[e]:r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)&&(t=r[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if("string"!==typeof e||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),null!=e?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&null!=goog.getObjectByName(e)},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var n=0;n<e.length;n++)if(t=t[e[n]],null==t)return null;return t},goog.globalize=function(e,t){for(var n in t=t||goog.global,e)t[n]=e[n]},goog.addDependency=function(e,t,n,r){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,n,r)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var n=e.call(void 0,{});else{if("string"!==typeof e)throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),n=goog.loadModuleFromSource_.call(void 0,e)}var r=goog.moduleLoaderState_.moduleName;if("string"!==typeof r||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof n&&null!=n&&Object.seal(n),goog.loadedModules_[r]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(n){return null}},goog.transpile_=function(e,t,n){var r=goog.global.$jscomp;r||(goog.global.$jscomp=r={});var o=r.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,a=goog.loadFileSync_(i);if(a){if(function(){(0,eval)(a+"\n//# sourceURL="+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,r=goog.global.$jscomp,o=r.transpile}}return o||(o=r.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),o(e,t,n)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return Object.prototype.hasOwnProperty.call(e,goog.UID_PROPERTY_)&&e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"===typeof e.clone)return e.clone();for(var n in t="array"==t?[]:{},e)t[n]=goog.cloneObject(e[n]);return t}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(r){}if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(r){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.head.appendChild(n),t.head.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=function(e){return goog.cssNameMapping_[e]||e},r=function(e){e=e.split("-");for(var t=[],r=0;r<e.length;r++)t.push(n(e[r]));return t.join("-")};return r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(e){return e},e=t?e+"-"+r(t):r(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,n){return n&&n.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var n=t.constructor,r=t.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,e),e&&goog.inherits(n,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(n.prototype,t),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var n=!goog.defineClass.isUnsealable_(t),r=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===r&&n&&Object.seal instanceof Function&&Object.seal(t),t};return r},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&"string"===typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(e=t?[t]:e.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var n=e[t].src,r=n.lastIndexOf("?");if(r=-1==r?n.length:r,"base.js"==n.substr(r-7,7)){goog.basePath=n.substr(0,r-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,n){e?d[t]=!0:n()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(h){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var n=this.createRequiresTranspilation_();this.requiresTranspilation_=n.map,this.transpilationTarget_=this.transpilationTarget_||n.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function n(){r&&(goog.global.setTimeout(r,0),r=null)}var r=t;if(e.length){t=[];for(var o=0;o<e.length;o++){var i=this.getPathFromDeps_(e[o]);if(!i)throw Error("Unregonized namespace: "+e[o]);t.push(this.dependencies_[i])}i=goog.require;var a=0;for(o=0;o<e.length;o++)i(e[o]),t[o].onLoad((function(){++a==e.length&&n()}))}else n()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,n=[],r=function(e){var o=t.getPathFromDeps_(e);if(!o)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[o]){for(t.written_[o]=!0,e=t.dependencies_[o],o=0;o<e.requires.length;o++)goog.isProvided_(e.requires[o])||r(e.requires[o]);n.push(e)}};r(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(n),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)(function(){var n=!1,r=e.depsToLoad_.shift(),o=!1;e.loading_(r);var i={pause:function(){if(n)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){n?e.resume_():t=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,e.loaded_(r)},pending:function(){for(var t=[],n=0;n<e.loadingDeps_.length;n++)t.push(e.loadingDeps_[n]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,n){n&&(goog.loadedModules_[n]={exports:t,type:goog.ModuleType.ES6,moduleId:n||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(n)throw Error("Cannot register with defer after the call to load.");e.defer_(r,t)},areDepsLoaded:function(){return e.areDepsLoaded_(r.requires)}};try{r.load(i)}finally{n=!0}})();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var n=this.getPathFromDeps_(e[t]);if(!n||!(n in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,n){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,n,r,o){this.path=e,this.relativePath=t,this.provides=n,this.requires=r,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(e=e.substring(t+3),t=e.indexOf("/"),0<=t&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var n=goog.Dependency.callbackMap_[e],r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);n.apply(void 0,r)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var n=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(n),e.loaded())})),r=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";r='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+n+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+r+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(r):r)}else{var o=t.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(r=goog.getScriptNonce())&&o.setAttribute("nonce",r),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(e.loaded(),e.resume())}):o.onload=function(){o.onload=null,e.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,n,r,o){goog.Dependency.call(this,e,t,n,r,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){function t(e,t){e=t?'<script type="module" crossorigin>'+t+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',r.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)}function n(e,t){var n=r.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&n.setAttribute("nonce",o),t?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(t):t:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,r.head.appendChild(n)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var r=goog.global.document,o=this;if(goog.isDocumentLoading_()){var i=t;goog.Dependency.defer_=!0}else i=n;var a=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(a),e.setModuleState(goog.ModuleType.ES6)}));i(void 0,'goog.Dependency.callback_("'+a+'")'),i(this.path,void 0);var s=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(s),e.registerEs6ModuleExports(o.path,t,goog.moduleLoaderState_.moduleName)}));i(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+s+'", m)');var c=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(c),e.clearModuleState(),e.loaded()}));i(void 0,'goog.Dependency.callback_("'+c+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,n,r,o){goog.Dependency.call(this,e,t,n,r,o),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){o.contents_=goog.loadFileSync_(o.path),o.contents_&&(o.contents_=o.transform(o.contents_),o.contents_&&(o.contents_+="\n//# sourceURL="+o.path))}function n(){if(o.lazyFetch_&&t(),o.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var n=o.contents_;if(o.contents_=null,goog.globalEval(n),i)var r=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([o.getPathName()],(function(){e.registerEs6ModuleExports(o.path,goog.global.$jscomp.require(o.getPathName()),r)})),e.loaded()}}function r(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),n()})),r='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(r):r)}var o=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var a=1<e.pending().length,s=a&&goog.DebugLoader_.IS_OLD_IE_;if(a=goog.Dependency.defer_&&(a||goog.isDocumentLoading_()),s||a)e.defer((function(){n()}));else{var c=goog.global.document;if(s=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!s){goog.Dependency.defer_=!0,e.pause();var u=c.onreadystatechange;c.onreadystatechange=function(){"interactive"==c.readyState&&(c.onreadystatechange=u,n(),e.resume()),goog.isFunction(u)&&u.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?r():n()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,n,r,o,i){goog.TransformedDependency.call(this,e,t,n,r,o),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,n,r,o){goog.TransformedDependency.call(this,e,t,n,r,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,n,r,o,i,a){goog.TransformedDependency.call(this,e,t,n,r,o),this.needsTranspile_=i,this.transpiler_=a},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,n,r){t=t||[],e=e.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+e);for(r&&"boolean"!==typeof r||(r=r?{module:goog.ModuleType.GOOG}:{}),n=this.factory_.createDependency(o,e,t,n,r,goog.transpiler_.needsTranspile(r.lang||"es3",r.module)),this.dependencies_[o]=n,n=0;n<t.length;n++)this.idToPath_[t[n]]=o;this.idToPath_[e]=o},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,n,r,o,i){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,n,r,o,i,this.transpiler):i?new goog.TranspiledDependency(e,t,n,r,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,n,r,o):new goog.Es6ModuleDependency(e,t,n,r,o):new goog.Dependency(e,t,n,r,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null,n=goog.global.trustedTypes||goog.global.TrustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(r){goog.logToConsole_(r.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},goog.object.filter=function(e,t,n){var r,o={};for(r in e)t.call(n,e[r],r,e)&&(o[r]=e[r]);return o},goog.object.map=function(e,t,n){var r,o={};for(r in e)o[r]=t.call(n,e[r],r,e);return o},goog.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},goog.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},goog.object.getKeys=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},goog.object.getValueByKeys=function(e,t){var n=goog.isArrayLike(t),r=n?t:arguments;for(n=n?0:1;n<r.length;n++){if(null==e)return;e=e[r[n]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},goog.object.findValue=function(e,t,n){return(t=goog.object.findKey(e,t,n))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return null!==e&&t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.setWithReturnValueIfNotSet=function(e,t,n){return t in e?e[t]:(n=n(),e[t]=n)},goog.object.equals=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0},goog.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var n in t="array"==t?[]:{},e)t[n]=goog.object.unsafeClone(e[n]);return t}return e},goog.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)n=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},r=0;r<t;r+=2)n[arguments[r]]=arguments[r+1];return n},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},r=0;r<t;r++)n[arguments[r]]=!0;return n},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,n){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var r={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||n);){for(var o=Object.getOwnPropertyNames(e),i=0;i<o.length;i++)r[o[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(r)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){e=e.split("%s");for(var n="",r=e.length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");return n+e[r]},goog.asserts.doAssertFailure_=function(e,t,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else e&&(o+=": "+e,i=t);e=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&"number"!==typeof e&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&"string"!==typeof e&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&"boolean"!==typeof e&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,r){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e};var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,n=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return n.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return n.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return n.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return n.FIXED32;default:return n.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,"string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,n);for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if(n=null==n?e.length-1:n,0>n&&(n=Math.max(0,e.length+n)),"string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.lastIndexOf(t,n);for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,n){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)},goog.array.forEachRight=function(e,t,n){var r=e.length,o="string"===typeof e?e.split(""):e;for(--r;0<=r;--r)r in o&&t.call(n,o[r],r,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=[],i=0,a="string"===typeof e?e.split(""):e,s=0;s<r;s++)if(s in a){var c=a[s];t.call(n,c,s,e)&&(o[i++]=c)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=Array(r),i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&(o[a]=t.call(n,i[a],a,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),r&&(t=goog.bind(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var o=n;return goog.array.forEach(e,(function(n,i){o=t.call(r,o,n,i,e)})),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),r&&(t=goog.bind(t,r)),Array.prototype.reduceRight.call(e,t,n)}:function(e,t,n,r){var o=n;return goog.array.forEachRight(e,(function(n,i){o=t.call(r,o,n,i,e)})),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)if(i in o&&!t.call(n,o[i],i,e))return!1;return!0},goog.array.count=function(e,t,n){var r=0;return goog.array.forEach(e,(function(e,o,i){t.call(n,e,o,i)&&++r}),n),r},goog.array.find=function(e,t,n){return t=goog.array.findIndex(e,t,n),0>t?null:"string"===typeof e?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,n){for(var r=e.length,o="string"===typeof e?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return i;return-1},goog.array.findRight=function(e,t,n){return t=goog.array.findIndexRight(e,t,n),0>t?null:"string"===typeof e?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,n){var r=e.length,o="string"===typeof e?e.split(""):e;for(--r;0<=r;r--)if(r in o&&t.call(n,o[r],r,e))return r;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!Array.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,n){goog.array.splice(e,n,0,t)},goog.array.insertArrayAt=function(e,t,n){goog.partial(goog.array.splice,e,n,0).apply(null,t)},goog.array.insertBefore=function(e,t,n){var r;2==arguments.length||0>(r=goog.array.indexOf(e,n))?e.push(t):goog.array.insertAt(e,t,r)},goog.array.remove=function(e,t){var n;return t=goog.array.indexOf(e,t),(n=0<=t)&&goog.array.removeAt(e,t),n},goog.array.removeLast=function(e,t){return t=goog.array.lastIndexOf(e,t),0<=t&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,n){return t=goog.array.findIndex(e,t,n),0<=t&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,n){var r=0;return goog.array.forEachRight(e,(function(o,i){t.call(n,o,i,e)&&goog.array.removeAt(e,i)&&r++})),r},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(goog.isArrayLike(r)){var o=e.length||0,i=r.length||0;e.length=o+i;for(var a=0;a<i;a++)e[o+a]=r[a]}else e.push(r)}},goog.array.splice=function(e,t,n,r){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,n){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)},goog.array.removeDuplicates=function(e,t,n){t=t||e;var r=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};n=n||r,r={};for(var o=0,i=0;i<e.length;){var a=e[i++],s=n(a);Object.prototype.hasOwnProperty.call(r,s)||(r[s]=!0,t[o++]=a)}t.length=o},goog.array.binarySearch=function(e,t,n){return goog.array.binarySearch_(e,n||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,n){return goog.array.binarySearch_(e,t,!0,void 0,n)},goog.array.binarySearch_=function(e,t,n,r,o){for(var i,a=0,s=e.length;a<s;){var c=a+(s-a>>>1),u=n?t.call(o,e[c],c,e):t(r,e[c]);0<u?a=c+1:(s=c,i=!u)}return i?a:-a-1},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]={index:r,value:e[r]};var o=t||goog.array.defaultCompare;for(goog.array.sort(n,(function(e,t){return o(e.value,t.value)||e.index-t.index})),r=0;r<e.length;r++)e[r]=n[r].value},goog.array.sortByKey=function(e,t,n){var r=n||goog.array.defaultCompare;goog.array.sort(e,(function(e,n){return r(t(e),t(n))}))},goog.array.sortObjectsByKey=function(e,t,n){goog.array.sortByKey(e,(function(e){return e[t]}),n)},goog.array.isSorted=function(e,t,n){t=t||goog.array.defaultCompare;for(var r=1;r<e.length;r++){var o=t(e[r-1],e[r]);if(0<o||0==o&&n)return!1}return!0},goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var r=e.length;n=n||goog.array.defaultCompareEquality;for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0},goog.array.compare3=function(e,t,n){n=n||goog.array.defaultCompare;for(var r=Math.min(e.length,t.length),o=0;o<r;o++){var i=n(e[o],t[o]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,n){return n=goog.array.binarySearch(e,t,n),0>n&&(goog.array.insertAt(e,t,-(n+1)),!0)},goog.array.binaryRemove=function(e,t,n){return t=goog.array.binarySearch(e,t,n),0<=t&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,n){for(var r={},o=0;o<e.length;o++){var i=e[o],a=t.call(n,i,o,e);void 0!==a&&(r[a]||(r[a]=[])).push(i)}return r},goog.array.toObject=function(e,t,n){var r={};return goog.array.forEach(e,(function(o,i){r[t.call(n,o,i,e)]=o})),r},goog.array.range=function(e,t,n){var r=[],o=0,i=e;if(n=n||1,void 0!==t&&(o=e,i=t),0>n*(i-o))return[];if(0<n)for(e=o;e<i;e+=n)r.push(e);else for(e=o;e>i;e+=n)r.push(e);return r},goog.array.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=e;return n},goog.array.flatten=function(e){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(Array.isArray(r))for(var o=0;o<r.length;o+=8192){var i=goog.array.slice(r,o,o+8192);i=goog.array.flatten.apply(null,i);for(var a=0;a<i.length;a++)t.push(i[a])}else t.push(r)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,n){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=n&&n<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,n,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],n=arguments[0].length,r=1;r<arguments.length;r++)arguments[r].length<n&&(n=arguments[r].length);for(r=0;r<n;r++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][r]);t.push(o)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var n=e.length-1;0<n;n--){var r=Math.floor(t()*(n+1)),o=e[n];e[n]=e[r],e[r]=o}},goog.array.copyByIndex=function(e,t){var n=[];return goog.array.forEach(t,(function(t){n.push(e[t])})),n},goog.array.concatMap=function(e,t,n){return goog.array.concat.apply([],goog.array.map(e,t,n))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);255<o&&(t[n++]=255&o,o>>=8),t[n++]=o}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",n=0;n<e.length;n+=8192){var r=goog.array.slice(e,n,n+8192);t+=String.fromCharCode.apply(null,r)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return e=e.toString(16),1<e.length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substring(n,n+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);128>o?t[n++]=o:(2048>o?t[n++]=o>>6|192:(55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(128>o)t[r++]=String.fromCharCode(o);else if(191<o&&224>o){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=e[n++];var a=e[n++],s=e[n++];o=((7&o)<<18|(63&i)<<12|(63&a)<<6|63&s)-65536,t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else i=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var n=[],r=0;r<e.length;r++)n.push(e[r]^t[r]);return n},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var n=goog.dom.asserts.getWindow_(e);n&&"undefined"!=typeof n[t]&&(e&&(e instanceof n[t]||!(e instanceof n.Location||e instanceof n.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(t){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,n=t&&(t.defaultView||t.parentWindow);if(n=n||goog.global,n.Element&&n.Location)return n}catch(r){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,n),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(n){return t?e==n:e===n}},goog.functions.compose=function(e,t){var n=arguments,r=n.length;return function(){var e;r&&(e=n[r-1].apply(this,arguments));for(var t=r-2;0<=t;t--)e=n[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,r=0;r<n;r++)e=t[r].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,n=t.length;return function(){for(var e=0;e<n;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var n=function(){};return n.prototype=e.prototype,n=new n,e.apply(n,Array.prototype.slice.call(arguments,1)),n},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,n=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(n||(t=e(),n=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,n){var r=0;return function(o){goog.global.clearTimeout(r);var i=arguments;r=goog.global.setTimeout((function(){e.apply(n,i)}),t)}},goog.functions.throttle=function(e,t,n){var r=0,o=!1,i=[],a=function(){r=0,o&&(o=!1,s())},s=function(){r=goog.global.setTimeout(a,t),e.apply(n,i)};return function(e){i=arguments,r?o=!0:s()}},goog.functions.rateLimit=function(e,t,n){var r=0,o=function(){r=0};return function(i){r||(r=goog.global.setTimeout(o,t),e.apply(n,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var n=[],r=1;r<arguments.length;r++)n.push(goog.html.SafeScript.stringify_(arguments[r]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+n.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(e){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(e){},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.fs.blob={},goog.fs.blob.getBlob=function(e){var t=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==t){t=new t;for(var n=0;n<arguments.length;n++)t.append(arguments[n]);return t.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(e,t,n){var r=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==r){r=new r;for(var o=0;o<e.length;o++)r.append(e[o],n);return r.getBlob(t)}if(void 0!==goog.global.Blob)return r={},t&&(r.type=t),n&&(r.endings=n),new Blob(e,r);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-\ud801\ud804-\ud839\ud83c-\udbff豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏\ud802-\ud803\ud83a-\ud83bיִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var n=0,r=0,o=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(n++,r++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?o=!0:goog.i18n.bidi.hasAnyLtr(i)?r++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(o=!0)}return 0==r?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/r>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(e,t){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var n=goog.html.TrustedResourceUrl.unwrap(this);n=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(n);var r=n[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",n[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",r,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,t){var n=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,n,r){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(n,r)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",n=0;n<e.length;n++)t+=goog.string.Const.unwrap(e[n]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.fromSafeScript=function(e){return e=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(e)],"text/javascript"),e=goog.fs.url.createObjectUrl(e),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){return e=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,n){if(null==n)return t;if("string"===typeof n)return n?e+encodeURIComponent(n):"";for(var r in n){var o=n[r];o=Array.isArray(o)?o:[o];for(var i=0;i<o.length;i++){var a=o[i];null!=a&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(String(a)))}}return t},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var n=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var r=Math.max(e.length,t.length),o=0;0==n&&o<r;o++){var i=e[o]||"",a=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=0==i[1].length?0:parseInt(i[1],10);var s=0==a[1].length?0:parseInt(a[1],10);n=goog.string.internal.compareElements_(n,s)||goog.string.internal.compareElements_(0==i[2].length,0==a[2].length)||goog.string.internal.compareElements_(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return n},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.html.SafeUrl=function(e,t){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=e===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SafeUrl.isSafeMimeType(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromMediaSource=function(e){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),e=e instanceof MediaSource?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){e=e.replace(/(%0A|%0D)/g,"");var t=e.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SafeUrl.isSafeMimeType(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),t=e.match(/[?&]body=/gi),!t)return!0;if(1<t.length)return!1;if(e=e.match(/[?&]body=([^&]*)/)[1],!e)return!0;try{decodeURIComponent(e)}catch(n){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,n){return(e=e.exec(t))?(e=e[1],-1==(n instanceof goog.string.Const?[goog.string.Const.unwrap(n)]:n.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e),t.getTypedStringValue()==e)?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,n="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var r=e[t];null!=r&&(r=Array.isArray(r)?goog.array.map(r,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(r),n+=t+":"+r+";")}return n?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(n):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var o=e.charAt(r);"'"==o&&n?t=!t:'"'==o&&t&&(n=!n)}return t&&n},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,n=/^[-_a-zA-Z0-9]$/,r=0;r<e.length;r++){var o=e.charAt(r);if("]"==o){if(t)return!1;t=!0}else if("["==o){if(!t)return!1;t=!1}else if(!t&&!n.test(o))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,n,r){var o="";return n=n.replace(/^(['"])(.*)\1$/,(function(e,t,n){return o=t,n})),e=goog.html.SafeUrl.sanitize(n).getTypedStringValue(),t+o+e+o+r}))},goog.html.SafeStyle.concat=function(e){var t="",n=function(e){Array.isArray(e)?goog.array.forEach(e,n):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,n),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var n=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(n))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(n))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},n=[],r=0;r<e.length;r++){var o=e[r];if(t[o])n.push(t[o]);else if(goog.object.contains(t,o)&&n.pop()!=o)return!1}return 0==n.length},goog.html.SafeStyleSheet.concat=function(e){var t="",n=function(e){Array.isArray(e)?goog.array.forEach(e,n):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,n),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,r=[];t=n.exec(e);)r.push([t[1],t[2],t[3]||void 0]);return r},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,r),n[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var n={};goog.array.forEach(t,(function(e){n[e[0]]=e[1]}));var r=goog.partial(goog.object.containsKey,n);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS","HeadlessChrome"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,n=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(n=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),n)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(e){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("\x3c!--"+goog.string.internal.htmlEscape(e)+"--\x3e",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,n){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,n)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+e+">.":"");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+e+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(e,t,n,r){e&&goog.html.TrustedResourceUrl.unwrap(e);var o={};return o.src=e||null,o.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},n),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,r)},goog.html.SafeHtml.createSandboxIframe=function(e,t,n,r){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,o.srcdoc=t||null,o.sandbox="",e=goog.html.SafeHtml.combineAttributes(o,{},n),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,r)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var n in t){var r=n.toLowerCase();if("language"==r||"src"==r||"text"==r||"type"==r)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+r+'" attribute':"")}for(n="",e=goog.array.concat(e),r=0;r<e.length;r++)n+=goog.html.SafeScript.unwrap(e[r]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var n="";e=goog.array.concat(e);for(var r=0;r<e.length;r++)n+=goog.html.SafeStyleSheet.unwrap(e[r]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,n){if(n instanceof goog.string.Const)n=goog.string.Const.unwrap(n);else if("style"==t.toLowerCase()){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");n=goog.html.SafeHtml.getStyleValue_(n)}else{if(/^on/i.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" requires goog.string.Const value, "'+n+'" given.':"");if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(n instanceof goog.html.TrustedResourceUrl)n=goog.html.TrustedResourceUrl.unwrap(n);else if(n instanceof goog.html.SafeUrl)n=goog.html.SafeUrl.unwrap(n);else{if("string"!==typeof n)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+n+'" given.':"");n=goog.html.SafeUrl.sanitize(n).getTypedStringValue()}}return n.implementsGoogStringTypedString&&(n=n.getTypedStringValue()),goog.asserts.assert("string"===typeof n||"number"===typeof n,"String or number value expected, got "+typeof n+" with value: "+n),t+'="'+goog.string.internal.htmlEscape(String(n))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e:"");return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,n,r){return t=goog.html.SafeHtml.create(t,n,r),t.dir_=e,t},goog.html.SafeHtml.join=function(e,t){e=goog.html.SafeHtml.htmlEscape(e);var n=e.getDirection(),r=[],o=function(e){Array.isArray(e)?goog.array.forEach(e,o):(e=goog.html.SafeHtml.htmlEscape(e),r.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),n==goog.i18n.bidi.Dir.NEUTRAL?n=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&n!=e&&(n=null))};return goog.array.forEach(t,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r.join(goog.html.SafeHtml.unwrap(e)),n)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var n=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return n.dir_=e,n},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,n){var r=null,o="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return null==n?n=[]:Array.isArray(n)||(n=[n]),goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!n.length,"Void tag <"+e+"> does not allow content."),o+=">"):(r=goog.html.SafeHtml.concat(n),o+=">"+goog.html.SafeHtml.unwrap(r)+"</"+e+">",r=r.getDirection()),(e=t&&t.dir)&&(r=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,r)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var n="";if(t)for(var r in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(r))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+r+'".':"");var o=t[r];null!=o&&(n+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,r,o))}return n},goog.html.SafeHtml.combineAttributes=function(e,t,n){var r,o={};for(r in e)goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),o[r]=e[r];for(r in t)goog.asserts.assert(r.toLowerCase()==r,"Must be lower case"),o[r]=t[r];if(n)for(r in n){var i=r.toLowerCase();if(i in e)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+i+'" attribute, got "'+r+'" with value "'+n[r]+'"':"");i in t&&delete o[i],o[r]=n[r]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,n){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,n||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,n){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(n))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var n=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[n])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var n=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,n)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var n=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,n)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var n=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,n)}e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,n){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=n,goog.string.internal.caseInsensitiveContains(n,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.replaceLocation=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.openInWindow=function(e,t,n,r,o){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t=t||goog.global,n=n instanceof goog.string.Const?goog.string.Const.unwrap(n):n||"",t.open(goog.html.SafeUrl.unwrap(e),n,r,o)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,n){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),n)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return e=new goog.global.Image,e.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,n){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var r=e.toLowerCase().match(n),o=t.toLowerCase().match(n),i=Math.min(r.length,o.length),a=0;a<i;a++){n=r[a];var s=o[a];if(n!=s)return e=parseInt(n,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:n<s?-1:1}return r.length!=o.length?r.length-o.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var o=n[e];return o||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(o=String.fromCharCode(t))),o||(goog.dom.safe.setInnerHtml(r,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),o=r.firstChild.nodeValue.slice(0,-1)),n[e]=o)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var n=t.length,r=0;r<n;r++){var o=1==n?t:t.charAt(r);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,r){if(n&&(e=goog.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var o=e.length-r;e=e.substring(0,t-r)+"..."+e.substring(o)}else e.length>t&&(r=Math.floor(t/2),o=e.length-r,e=e.substring(0,r+t%2)+"..."+e.substring(o));return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],n=0;n<e.length;n++){var r=e.charAt(n),o=r.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[r]||(31<o&&127>o?r:goog.string.escapeChar(r))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var n=e;else 256>t?(n="\\x",(16>t||256<t)&&(n+="0")):(n="\\u",4096>t&&(n+="0")),n+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=n},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var r=e;return 0<=t&&t<e.length&&0<n&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,n){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,n.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){return e=void 0!==n?e.toFixed(n):String(e),n=e.indexOf("."),-1==n&&(n=e.length),goog.string.repeat("0",Math.max(0,t-n))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t="string"===typeof t?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,n){return t+n.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),"string"===typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var n=-1,r=0;r<t.length;r++)if(""!=t[r]){var o=e.lastIndexOf(t[r]);o>n&&(n=o)}return-1==n?e:e.slice(n+1)},goog.string.editDistance=function(e,t){var n=[],r=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)n[o]=o;for(o=0;o<e.length;o++){r[0]=o+1;for(var i=0;i<t.length;i++)r[i+1]=Math.min(r[i]+1,n[i+1]+1,n[i]+Number(e[o]!=t[i]));for(i=0;i<n.length;i++)n[i]=r[i]}return r[t.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,n=goog.labs.userAgent.engine.getEngineTuple_(e);if(n)return"Gecko"==n[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):n[1];if(e=e[0],e&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var n=e[t];if("Edge"==n[0])return n}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isKaiOS()?(t=/(?:KaiOS)\/(\S+)/i,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(n){}return!1},goog.reflect.cache=function(e,t,n,r){return r=r?r(t):t,Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=n(t)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),null!=t&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var e=goog.userAgent.getDocumentMode_();return e||(parseInt(goog.userAgent.VERSION,10)||void 0)}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()};goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var n=[],r=0;r<e.length;r+=3){var o=e[r],i=r+1<e.length,a=i?e[r+1]:0,s=r+2<e.length,c=s?e[r+2]:0,u=o>>2;o=(3&o)<<4|a>>4,a=(15&a)<<2|c>>6,c&=63,s||(c=64,i||(a=64)),n.push(t[u],t[o],t[a]||"",t[c]||"")}return n.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var n="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){n+=String.fromCharCode(e)})),n},goog.crypt.base64.decodeStringToByteArray=function(e,t){var n=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){n.push(e)})),n},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,n=3*t/4;n%3?n=Math.floor(n):goog.crypt.base64.isPadding_(e[t-1])&&(n=goog.crypt.base64.isPadding_(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){r[o++]=e})),r.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=goog.crypt.base64.charToByteMap_[n];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(n))throw Error("Unknown base64 encoding at char: "+n)}return t}goog.crypt.base64.init_();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));goog.crypt.base64.byteToCharMaps_[n]=r;for(var o=0;o<r.length;o++){var i=r[o],a=goog.crypt.base64.charToByteMap_[i];void 0===a?goog.crypt.base64.charToByteMap_[i]=o:goog.asserts.assert(a===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e;e=Math.abs(e);var n=e>>>0;e=Math.floor((e-n)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,n=1+(~n>>>0),4294967295<n&&(n=0,e++,4294967295<e&&(e=0))),jspb.utils.split64Low=n,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;t&&(0==e?0==n?n=e=4294967295:(n--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=n},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(e=t?-e:e,0===e)0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var n=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-n),e=Math.round(e*jspb.BinaryConstants.TWO_TO_23),16777216<=e&&++n,jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|n+127<<23|8388607&e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(e=t?-e:e,0===e)jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var n=e/Math.pow(2,-1074);e=n/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=n>>>0}else{n=e;var r=0;if(2<=n)for(;2<=n&&1023>r;)r++,n/=2;else for(;1>n&&-1022<r;)n*=2,r--;n=e*Math.pow(2,-r),e=n*jspb.BinaryConstants.TWO_TO_20&1048575,n=n*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|r+1023<<20|e)>>>0,jspb.utils.split64Low=n}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),o=e.charCodeAt(3),i=e.charCodeAt(4),a=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(n<<8)+(r<<16)+(o<<24)>>>0,jspb.utils.split64High=i+(a<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var n=2147483648&t;return n&&(e=1+~e>>>0,t=~t>>>0,0==e&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),n?-e:e},jspb.utils.toZigzag64=function(e,t,n){var r=t>>31;return n(e<<1^r,(t<<1|e>>>31)^r)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,n){var r=-(1&e);return n((e>>>1|t<<31)^r,t>>>1^r)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var n=e>>>23&255;return e&=8388607,255==n?e?NaN:1/0*t:0==n?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var n=2*(t>>31)+1,r=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==r?e?NaN:1/0*n:0==r?n*Math.pow(2,-1074)*e:n*Math.pow(2,r-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function n(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+jspb.utils.joinUint64(e,t);var r=(e>>>24|t<<8)>>>0&16777215;return t=t>>16&65535,e=(16777215&e)+6777216*r+6710656*t,r+=8147497*t,t*=2,1e7<=e&&(r+=Math.floor(e/1e7),e%=1e7),1e7<=r&&(t+=Math.floor(r/1e7),r%=1e7),n(t,0)+n(r,t)+n(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var n=2147483648&t;return n&&(e=1+~e>>>0,t=~t+(0==e?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),n?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,n):jspb.utils.joinUnsignedDecimalString(e,n)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=jspb.utils.hash64ToDecimalString(e[r],t);return n},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var n=0;8>n&&(1!==e||0<t);n++)t=e*o[n]+t,o[n]=255&t,t>>>=8}function n(){for(var e=0;8>e;e++)o[e]=255&~o[e]}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var o=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return r&&(n(),t(1,1)),goog.crypt.byteArrayToString(o)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var n=0;8>n;n++){var r=e.charCodeAt(7-n);t[2*n+2]=jspb.utils.toHexDigit_(r>>4),t[2*n+3]=jspb.utils.toHexDigit_(15&r)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",n=0;8>n;n++){var r=jspb.utils.fromHexCharCode_(e.charCodeAt(2*n+2)),o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*n+3));t=String.fromCharCode(16*r+o)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var n=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,n):jspb.utils.joinUint64(e,n)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,n){for(var r=0,o=t;o<n;o++)r+=e[o]>>7;return n-t-r},jspb.utils.countVarintFields=function(e,t,n,r){var o=0;if(r=8*r+jspb.BinaryConstants.WireType.VARINT,128>r)for(;t<n&&e[t++]==r;)for(o++;;){var i=e[t++];if(0==(128&i))break}else for(;t<n;){for(i=r;128<i;){if(e[t]!=(127&i|128))return o;t++,i>>=7}if(e[t++]!=i)break;for(o++;i=e[t++],0!=(128&i););}return o},jspb.utils.countFixedFields_=function(e,t,n,r,o){var i=0;if(128>r)for(;t<n&&e[t++]==r;)i++,t+=o;else for(;t<n;){for(var a=r;128<a;){if(e[t++]!=(127&a|128))return i;a>>=7}if(e[t++]!=a)break;i++,t+=o}return i},jspb.utils.countFixed32Fields=function(e,t,n,r){return jspb.utils.countFixedFields_(e,t,n,8*r+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,n,r){return jspb.utils.countFixedFields_(e,t,n,8*r+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,n,r){var o=0;for(r=8*r+jspb.BinaryConstants.WireType.DELIMITED;t<n;){for(var i=r;128<i;){if(e[t++]!=(127&i|128))return o;i>>=7}if(e[t++]!=i)break;o++;for(var a=0,s=1;i=e[t++],a+=(127&i)*s,s*=128,0!=(128&i););t+=a}return o},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var n=0;n<e.length;n++)t+="\\x",16>e[n]&&(t+="0"),t+=e[n].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"===typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(255<r)throw Error("Conversion error: string contains codepoint outside of byte range");t[n]=r}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,n){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,n)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,n){if(jspb.BinaryDecoder.instanceCache_.length){var r=jspb.BinaryDecoder.instanceCache_.pop();return e&&r.setBlock(e,t,n),r}return new jspb.BinaryDecoder(e,t,n)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,n){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==n?this.start_+n:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,n=0,r=0,o=0;4>o&&128<=t;o++)t=this.bytes_[this.cursor_++],n|=(127&t)<<7*o;if(128<=t&&(t=this.bytes_[this.cursor_++],n|=(127&t)<<28,r|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)t=this.bytes_[this.cursor_++],r|=(127&t)<<7*o+3;if(128>t)return e(n>>>0,r>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,n){return jspb.utils.fromZigzag64(t,n,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,n=this.cursor_;this.cursor_+=8;for(var r=0,o=0,i=n+7;i>=n;i--)r=r<<8|t[i],o=o<<8|t[i+4];return e(r,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],n=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+1],n|=(127&t)<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+2],n|=(127&t)<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+3],n|=(127&t)<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),n):(t=e[this.cursor_+4],n|=(15&t)<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),n>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),n)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|n<<16|r<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],r=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|n<<16|r<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,n=this.cursor_;e=n+e;for(var r=[],o="";n<e;){var i=t[n++];if(128>i)r.push(i);else{if(192>i)continue;if(224>i){var a=t[n++];r.push((31&i)<<6|63&a)}else if(240>i){a=t[n++];var s=t[n++];r.push((15&i)<<12|(63&a)<<6|63&s)}else if(248>i){a=t[n++],s=t[n++];var c=t[n++];i=(7&i)<<18|(63&a)<<12|(63&s)<<6|63&c,i-=65536,r.push(55296+(i>>10&1023),56320+(1023&i))}}8192<=r.length&&(o+=String.fromCharCode.apply(null,r),r.length=0)}return o+=goog.crypt.byteArrayToString(r),this.cursor_=n,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,n=e[t+0],r=e[t+1],o=e[t+2],i=e[t+3],a=e[t+4],s=e[t+5],c=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(n,r,o,i,a,s,c,e)},jspb.BinaryReader=function(e,t,n){this.decoder_=jspb.BinaryDecoder.alloc(e,t,n),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,n){if(jspb.BinaryReader.instanceCache_.length){var r=jspb.BinaryReader.instanceCache_.pop();return e&&r.decoder_.setBlock(e,t,n),r}return new jspb.BinaryReader(e,t,n)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,n){this.decoder_.setBlock(e,t,n),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return e&=7,e!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){var e=this.nextField_;do{if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}while(1)},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.getEnd(),r=this.decoder_.readUnsignedVarint32();r=this.decoder_.getCursor()+r,this.decoder_.setEnd(r),t(e,this),this.decoder_.setCursor(r),this.decoder_.setEnd(n)},jspb.BinaryReader.prototype.readGroup=function(e,t,n){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),n(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),n=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(n),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,n){return jspb.utils.fromZigzag64(t,n,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var n=[];this.decoder_.getCursor()<t;)n.push(e.call(this.decoder_));return n},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,n){t.writeSplitVarint64(e>>>0,n>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"===typeof e||"number"===typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){var t=this.buffer_.length;goog.asserts.assertString(e);for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(128>r)this.buffer_.push(r);else if(2048>r)this.buffer_.push(r>>6|192),this.buffer_.push(63&r|128);else if(65536>r)if(55296<=r&&56319>=r&&n+1<e.length){var o=e.charCodeAt(n+1);56320<=o&&57343>=o&&(r=1024*(r-55296)+o-56320+65536,this.buffer_.push(r>>18|240),this.buffer_.push(r>>12&63|128),this.buffer_.push(r>>6&63|128),this.buffer_.push(63&r|128),n++)}else this.buffer_.push(r>>12|224),this.buffer_.push(r>>6&63|128),this.buffer_.push(63&r|128)}return this.buffer_.length-t},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var n=65535&e;e>>>=16;var r=65535&t,o=t>>>16;for(t=n*r+65536*(n*o&65535)+65536*(e*r&65535),n=e*o+(n*o>>>16)+(e*r>>>16);4294967296<=t;)t-=4294967296,n+=1;return new jspb.arith.UInt64(t>>>0,n>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return e=jspb.arith.UInt64.mul32x32(this.hi,e),e.hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var r=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),r=r.leftShift();for(;!r.zero();)0>=e.cmp(n)&&(t=t.add(r),n=n.sub(e)),e=e.rightShift(),r=r.rightShift();return[t,n]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){t=t.div(10);var n=t[0];e=t[1].lo+e,t=n}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(0,0),r=0;r<e.length;r++){if("0">e[r]||"9"<e[r])return null;var o=parseInt(e[r],10);n.lo=o,t=t.mul(10).add(n)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),e=jspb.arith.UInt64.fromString(e),null===e?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,n){this.appendUint8Array_(e.subarray(t,n))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,n){null!=e&&null!=t&&null!=n&&this.writeSerializedMessage(e,t,n)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,n=t.length,r=0,o=0;o<n;o++){var i=t[o];e.set(i,r),r+=i.length}return t=this.encoder_.end(),e.set(t,r),r+=t.length,goog.asserts.assert(r==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,n){var r=jspb.BinaryConstants.FieldType;switch(e){case r.DOUBLE:this.writeDouble(t,n);break;case r.FLOAT:this.writeFloat(t,n);break;case r.INT64:this.writeInt64(t,n);break;case r.UINT64:this.writeUint64(t,n);break;case r.INT32:this.writeInt32(t,n);break;case r.FIXED64:this.writeFixed64(t,n);break;case r.FIXED32:this.writeFixed32(t,n);break;case r.BOOL:this.writeBool(t,n);break;case r.STRING:this.writeString(t,n);break;case r.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case r.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case r.BYTES:this.writeBytes(t,n);break;case r.UINT32:this.writeUint32(t,n);break;case r.ENUM:this.writeEnum(t,n);break;case r.SFIXED32:this.writeSfixed32(t,n);break;case r.SFIXED64:this.writeSfixed64(t,n);break;case r.SINT32:this.writeSint32(t,n);break;case r.SINT64:this.writeSint64(t,n);break;case r.FHASH64:this.writeFixedHash64(t,n);break;case r.VHASH64:this.writeVarintHash64(t,n);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"===typeof t||"number"===typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,n){null!=t&&(e=this.beginDelimited_(e),n(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,n){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),n(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,n){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),n(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,n){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,n)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,n){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,n)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,n){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var r=this.encoder_;jspb.utils.toZigzag64(t,n,(function(e,t){r.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSignedVarint32_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeInt32String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSignedVarint64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,n,r){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitFixed64(e,n(t[o]),r(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,n,r){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitVarint64(e,n(t[o]),r(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,n,r){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitZigzagVarint64(e,n(t[o]),r(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeInt64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUnsignedVarint32_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUint32String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUnsignedVarint64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeUint64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint32_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarint64String_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeZigzagVarintHash64_(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed32(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixed64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed32(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeSfixed64String(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFloat(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeDouble(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeBool(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeEnum(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeString(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeBytes(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,n){if(null!=t)for(var r=0;r<t.length;r++){var o=this.beginDelimited_(e);n(t[r],this),this.endDelimited_(o)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,n){if(null!=t)for(var r=0;r<t.length;r++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),n(t[r],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeFixedHash64(e,t[n])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.writeVarintHash64(e,t[n])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint32(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint32(parseInt(t[n],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeSignedVarint64(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,n,r){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitFixed64(n(t[o]),r(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,n,r){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitVarint64(n(t[o]),r(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,n,r){if(null!=t){e=this.beginDelimited_(e);for(var o=this.encoder_,i=0;i<t.length;i++)jspb.utils.toZigzag64(n(t[i]),r(t[i]),(function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++){var r=jspb.arith.Int64.fromString(t[n]);this.encoder_.writeSplitVarint64(r.lo,r.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint32(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint32(parseInt(t[n],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeUnsignedVarint64(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++){var r=jspb.arith.UInt64.fromString(t[n]);this.encoder_.writeSplitVarint64(r.lo,r.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint32(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarint64(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[n]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeZigzagVarintHash64(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var n=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeEnum(t[n]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var n=0;n<t.length;n++)this.encoder_.writeVarintHash64(t[n]);this.endDelimited_(e)}},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],n=t[0];this.map_[n.toString()]=new jspb.Map.Entry_(n,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var n=t[e].valueWrapper;n&&n.toArray()}}}else{for(this.arr_.length=0,t=this.stringKeys_(),t.sort(),e=0;e<t.length;e++){var r=this.map_[t[e]];(n=r.valueWrapper)&&n.toArray(),this.arr_.push([r.key,r.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var n=this.toArray(),r=[],o=0;o<n.length;o++){var i=this.map_[n[o][0].toString()];this.wrapEntry_(i);var a=i.valueWrapper;a?(goog.asserts.assert(t),r.push([i.key,t(e,a)])):r.push([i.key,i.value])}return r},jspb.Map.fromObject=function(e,t,n){t=new jspb.Map([],t);for(var r=0;r<e.length;r++){var o=e[r][0],i=n(e[r][1]);t.set(o,i)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var r=this.map_[t[n]];e.push([r.key,r.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++){var r=this.map_[t[n]];e.push([r.key,this.wrapEntry_(r)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.map_[t[n]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var n=0;n<t.length;n++)e.push(this.wrapEntry_(this.map_[t[n]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var n=this.stringKeys_();n.sort();for(var r=0;r<n.length;r++){var o=this.map_[n[r]];e.call(t,this.wrapEntry_(o),o.key,this)}},jspb.Map.prototype.set=function(e,t){var n=new jspb.Map.Entry_(e);return this.valueCtor_?(n.valueWrapper=t,n.value=t.toArray()):n.value=t,this.map_[e.toString()]=n,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,n,r,o){var i=this.stringKeys_();i.sort();for(var a=0;a<i.length;a++){var s=this.map_[i[a]];t.beginSubMessage(e),n.call(t,1,s.key),this.valueCtor_?r.call(t,2,this.wrapEntry_(s),o):r.call(t,2,s.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,n,r,o,i,a){for(;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?i=n.call(t):2==s&&(e.valueCtor_?(goog.asserts.assert(o),a||(a=new e.valueCtor_),r.call(t,a,o)):a=r.call(t))}goog.asserts.assert(void 0!=i),goog.asserts.assert(void 0!=a),e.set(i,a)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,n,r,o){this.fieldIndex=e,this.fieldName=t,this.ctor=n,this.toObjectFn=r,this.isRepeated=o},jspb.ExtensionFieldBinaryInfo=function(e,t,n,r,o,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=n,this.binaryMessageSerializeFn=r,this.binaryMessageDeserializeFn=o,this.isPacked=i},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,n,r,o,i){if(e.wrappers_=null,t||(t=n?[n]:[]),e.messageId_=n?String(n):void 0,e.arrayIndexOffset_=0===n?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,r),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=o),o)for(t=0;t<o.length;t++)n=o[t],n<e.pivot_?(n=jspb.Message.getIndex_(e,n),e.array[n]=e.array[n]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[n]=e.extensionObject_[n]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(t=0;t<i.length;t++)jspb.Message.computeOneofCase(e,i[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return null!==e&&"object"==typeof e&&!jspb.Message.isArray_(e)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var n=e.array.length,r=-1;if(n&&(r=n-1,n=e.array[r],jspb.Message.isExtensionObject_(n)))return e.pivot_=jspb.Message.getFieldNumber_(e,r),void(e.extensionObject_=n);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,r+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=t.call(e[o],n,e[o]);return r},jspb.Message.toObjectExtension=function(e,t,n,r,o){for(var i in n){var a=n[i],s=r.call(e,a);if(null!=s){for(var c in a.fieldName)if(a.fieldName.hasOwnProperty(c))break;t[c]=a.toObjectFn?a.isRepeated?jspb.Message.toObjectList(s,a.toObjectFn,o):a.toObjectFn(o,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,t,n,r){for(var o in n){var i=n[o],a=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=r.call(e,a);if(null!=s)if(a.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,a.fieldIndex,s,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,a.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,t,n,r,o){var i=n[t.getFieldNumber()];if(i){if(n=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(n.isMessageType()){var a=new n.ctor;i.binaryReaderFn.call(t,a,i.binaryMessageDeserializeFn)}else a=i.binaryReaderFn.call(t);n.isRepeated&&!i.isPacked?(t=r.call(e,n))?t.push(a):o.call(e,n,[a]):o.call(e,n,a)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var n=e.array[t];return n===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:n}if(e.extensionObject_)return n=e.extensionObject_[t],n===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:n},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:+e},jspb.Message.getBooleanField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var n=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var r=0;r<n.length;r++)n[r]=+n[r];e.convertedPrimitiveFields_[t]=!0}return n},jspb.Message.getRepeatedBooleanField=function(e,t){var n=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var r=0;r<n.length;r++)n[r]=!!n[r];e.convertedPrimitiveFields_[t]=!0}return n},jspb.Message.bytesAsB64=function(e){return null==e||"string"===typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"===typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!==typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,n){return e=jspb.Message.getField(e,t),null==e?n:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,n){return e=jspb.Message.getBooleanField(e,t),null==e?n:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,n){return e=jspb.Message.getOptionalFloatingPointField(e,t),null==e?n:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,n,r){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var o=jspb.Message.getField(e,t);if(!o){if(n)return;o=[],jspb.Message.setField(e,t,o)}return e.wrappers_[t]=new jspb.Map(o,r)},jspb.Message.setField=function(e,t,n){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=n:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=n),e},jspb.Message.setProto3IntField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},jspb.Message.setProto3FloatField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},jspb.Message.setProto3BooleanField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,!1)},jspb.Message.setProto3StringField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,"")},jspb.Message.setProto3BytesField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,"")},jspb.Message.setProto3EnumField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,0)},jspb.Message.setProto3StringIntField=function(e,t,n){return jspb.Message.setFieldIgnoringDefault_(e,t,n,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,n,r){return goog.asserts.assertInstanceof(e,jspb.Message),n!==r?jspb.Message.setField(e,t,n):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,n,r){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),void 0!=r?t.splice(r,0,n):t.push(n),e},jspb.Message.setOneofField=function(e,t,n,r){return goog.asserts.assertInstanceof(e,jspb.Message),(n=jspb.Message.computeOneofCase(e,n))&&n!==t&&void 0!==r&&(e.wrappers_&&n in e.wrappers_&&(e.wrappers_[n]=void 0),jspb.Message.setField(e,n,void 0)),jspb.Message.setField(e,t,r)},jspb.Message.computeOneofCase=function(e,t){for(var n,r,o=0;o<t.length;o++){var i=t[o],a=jspb.Message.getField(e,i);null!=a&&(n=i,r=a,jspb.Message.setField(e,i,void 0))}return n?(jspb.Message.setField(e,n,r),n):0},jspb.Message.getWrapperField=function(e,t,n,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[n]){var o=jspb.Message.getField(e,n);(r||o)&&(e.wrappers_[n]=new t(o))}return e.wrappers_[n]},jspb.Message.getRepeatedWrapperField=function(e,t,n){return jspb.Message.wrapRepeatedField_(e,t,n),t=e.wrappers_[n],t==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[n]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[n]){for(var r=jspb.Message.getRepeatedField(e,n),o=[],i=0;i<r.length;i++)o[i]=new t(r[i]);e.wrappers_[n]=o}},jspb.Message.setWrapperField=function(e,t,n){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var r=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setField(e,t,r)},jspb.Message.setOneofWrapperField=function(e,t,n,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setOneofField(e,t,n,o)},jspb.Message.setRepeatedWrapperField=function(e,t,n){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),n=n||[];for(var r=[],o=0;o<n.length;o++)r[o]=n[o].toArray();return e.wrappers_[t]=n,jspb.Message.setField(e,t,r)},jspb.Message.addToRepeatedWrapperField=function(e,t,n,r,o){jspb.Message.wrapRepeatedField_(e,r,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),n=n||new r,e=jspb.Message.getRepeatedField(e,t),void 0!=o?(i.splice(o,0,n),e.splice(o,0,n.toArray())):(i.push(n),e.push(n.toArray())),n},jspb.Message.toMap=function(e,t,n,r){for(var o={},i=0;i<e.length;i++)o[t.call(e[i])]=n?n.call(e[i],r,e[i]):e[i];return o},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&t[n].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var n=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[n]=t,this.extensionObject_[n]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[n]=t):e.isMessageType()?(this.wrappers_[n]=t,this.extensionObject_[n]=t?t.toArray():t):this.extensionObject_[n]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var n=e.toArray();t=t.toArray();var r=[],o=0,i=n.length>t.length?n.length:t.length;for(e.getJsPbMessageId()&&(r[0]=e.getJsPbMessageId(),o=1);o<i;o++)jspb.Message.compareFields(n[o],t[o])||(r[o]=t[o]);return new e.constructor(r)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var n,r={};for(n in e)r[n]=0;for(n in t)r[n]=0;for(n in r)if(!jspb.Message.compareFields(e[n],t[n]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"===typeof e&&isNaN(e)||"number"===typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}if(e.constructor===Array){var r=void 0,o=void 0,i=Math.max(e.length,t.length);for(n=0;n<i;n++){var a=e[n],s=t[n];if(a&&a.constructor==Object&&(goog.asserts.assert(void 0===r),goog.asserts.assert(n===e.length-1),r=a,a=void 0),s&&s.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(n===t.length-1),o=s,s=void 0),!jspb.Message.compareFields(a,s))return!1}return!r&&!o||(r=r||{},o=o||{},jspb.Message.compareExtensions(r,o))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var n=t.toArray(),r=e.toArray(),o=n.length=0;o<r.length;o++)n[o]=r[o];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),n=0;n<e.length;n++){var r=e[n];null!=r&&(t[n]="object"==typeof r?jspb.Message.clone_(goog.asserts.assert(r)):r)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(n in t={},e)r=e[n],null!=r&&(t[n]="object"==typeof r?jspb.Message.clone_(goog.asserts.assert(r)):r);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},7387:function(e,t,n){var r,o;n(1703),
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(n,i){"use strict";var a=[],s=Object.getPrototypeOf,c=a.slice,u=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},l=a.push,d=a.indexOf,f={},p=f.toString,h=f.hasOwnProperty,g=h.toString,v=g.call(Object),m={},y=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},A=function(e){return null!=e&&e===e.window},b=n.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){n=n||b;var r,o,i=n.createElement("script");if(i.text=e,t)for(r in E)o=t[r]||t.getAttribute&&t.getAttribute(r),o&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function w(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?f[p.call(e)]||"object":typeof e}var S="3.6.0",C=function(e,t){return new C.fn.init(e,t)};function I(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!y(e)&&!A(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:S,constructor:C,length:0,toArray:function(){return c.call(this)},get:function(e){return null==e?c.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:a.sort,splice:a.splice},C.extend=C.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"===typeof a&&(u=a,a=arguments[s]||{},s++),"object"===typeof a||y(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(C.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||C.isPlainObject(n)?n:{},o=!1,a[t]=C.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},C.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(t=s(e),!t||(n=h.call(t,"constructor")&&t.constructor,"function"===typeof n&&g.call(n)===v))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(I(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(I(Object(e))?C.merge(n,"string"===typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;i<a;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,n){var r,o,i=0,a=[];if(I(e))for(r=e.length;i<r;i++)o=t(e[i],i,n),null!=o&&a.push(o);else for(i in e)o=t(e[i],i,n),null!=o&&a.push(o);return u(a)},guid:1,support:m}),"function"===typeof Symbol&&(C.fn[Symbol.iterator]=a[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var O=
/*!
   * Sizzle CSS Selector Engine v2.3.6
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://js.foundation/
   *
   * Date: 2021-02-16
   */
function(e){var t,n,r,o,i,a,s,c,u,l,d,f,p,h,g,v,m,y,A,b="sizzle"+1*new Date,E=e.document,_=0,w=0,S=ce(),C=ce(),I=ce(),O=ce(),T=function(e,t){return e===t&&(d=!0),0},R={}.hasOwnProperty,N=[],P=N.pop,k=N.push,D=N.push,x=N.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+M+"*("+B+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+M+"*\\]",U=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",V=new RegExp(M+"+","g"),W=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),H=new RegExp("^"+M+"*,"+M+"*"),Q=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),G=new RegExp(M+"|>"),K=new RegExp(U),q=new RegExp("^"+B+"$"),z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},ae=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(N=x.call(E.childNodes),E.childNodes),N[E.childNodes.length].nodeType}catch(Oe){D={apply:N.length?function(e,t){k.apply(e,x.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(e,t,r,o){var i,s,u,l,d,h,m,y=t&&t.ownerDocument,E=t?t.nodeType:9;if(r=r||[],"string"!==typeof e||!e||1!==E&&9!==E&&11!==E)return r;if(!o&&(f(t),t=t||p,g)){if(11!==E&&(d=$.exec(e)))if(i=d[1]){if(9===E){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(y&&(u=y.getElementById(i))&&A(t,u)&&u.id===i)return r.push(u),r}else{if(d[2])return D.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!O[e+" "]&&(!v||!v.test(e))&&(1!==E||"object"!==t.nodeName.toLowerCase())){if(m=e,y=t,1===E&&(G.test(e)||Q.test(e))){y=ee.test(e)&&me(t.parentNode)||t,y===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,oe):t.setAttribute("id",l=b)),h=a(e),s=h.length;while(s--)h[s]=(l?"#"+l:":scope")+" "+Ae(h[s]);m=h.join(",")}try{return D.apply(r,y.querySelectorAll(m)),r}catch(_){O(e,!0)}finally{l===b&&t.removeAttribute("id")}}}return c(e.replace(W,"$1"),t,r,o)}function ce(){var e=[];function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}return t}function ue(e){return e[b]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Oe){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){var n=e.split("|"),o=n.length;while(o--)r.attrHandle[n[o]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ue((function(t){return t=+t,ue((function(n,r){var o,i=e([],n.length,t),a=i.length;while(a--)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function me(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:E;return a!=p&&9===a.nodeType&&a.documentElement?(p=a,h=p.documentElement,g=!i(p),E!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=le((function(e){return h.appendChild(e).appendChild(p.createElement("div")),"undefined"!==typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=le((function(e){return h.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(r.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&g){var n,r,o,i=t.getElementById(e);if(i){if(n=i.getAttributeNode("id"),n&&n.value===e)return[i];o=t.getElementsByName(e),r=0;while(i=o[r++])if(n=i.getAttributeNode("id"),n&&n.value===e)return[i]}return[]}}),r.find["TAG"]=n.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){while(n=i[o++])1===n.nodeType&&r.push(n);return r}return i},r.find["CLASS"]=n.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(le((function(e){var t;h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),t=p.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",U)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Z.test(h.compareDocumentPosition),A=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==E&&A(E,e)?-1:t==p||t.ownerDocument==E&&A(E,t)?1:l?L(l,e)-L(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:l?L(l,e)-L(l,t):0;if(o===i)return fe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?fe(a[r],s[r]):a[r]==E?-1:s[r]==E?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&g&&!O[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Oe){O(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&f(e),A(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&f(e);var o=r.attrHandle[t.toLowerCase()],i=o&&R.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(T),d){while(t=e[i++])t===e[i]&&(o=r.push(i));while(o--)e.splice(r[o],1)}return l=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},r=se.selectors={cacheLength:50,createPseudo:ue,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return z["CHILD"].test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&S(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=se.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var u,l,d,f,p,h,g=i!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!c&&!s,A=!1;if(v){if(i){while(g){f=t;while(f=f[g])if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){f=v,d=f[b]||(f[b]={}),l=d[f.uniqueID]||(d[f.uniqueID]={}),u=l[e]||[],p=u[0]===_&&u[1],A=p&&u[2],f=p&&v.childNodes[p];while(f=++p&&f&&f[g]||(A=p=0)||h.pop())if(1===f.nodeType&&++A&&f===t){l[e]=[_,p,A];break}}else if(y&&(f=t,d=f[b]||(f[b]={}),l=d[f.uniqueID]||(d[f.uniqueID]={}),u=l[e]||[],p=u[0]===_&&u[1],A=p),!1===A)while(f=++p&&f&&f[g]||(A=p=0)||h.pop())if((s?f.nodeName.toLowerCase()===m:1===f.nodeType)&&++A&&(y&&(d=f[b]||(f[b]={}),l=d[f.uniqueID]||(d[f.uniqueID]={}),l[e]=[_,A]),f===t))break;return A-=o,A===r||A%r===0&&A/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){var r,i=o(e,t),a=i.length;while(a--)r=L(e,i[a]),e[r]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ue((function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[b]?ue((function(e,t,n,o){var i,a=r(e,null,o,[]),s=e.length;while(s--)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ue((function(e){return q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos["empty"](e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos["nth"]=r.pseudos["eq"],{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ye(){}function Ae(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=w++;return t.first?function(t,n,o){while(t=t[r])if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,c){var u,l,d,f=[_,s];if(c){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,c))return!0}else while(t=t[r])if(1===t.nodeType||a)if(d=t[b]||(t[b]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===_&&u[1]===s)return f[2]=u[2];if(l[i]=f,f[2]=e(t,n,c))return!0}return!1}}function Ee(e){return e.length>1?function(t,n,r){var o=e.length;while(o--)if(!e[o](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}function we(e,t,n,r,o){for(var i,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function Se(e,t,n,r,o,i){return r&&!r[b]&&(r=Se(r)),o&&!o[b]&&(o=Se(o,i)),ue((function(i,a,s,c){var u,l,d,f=[],p=[],h=a.length,g=i||_e(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?g:we(g,f,e,s,c),m=n?o||(i?e:h||r)?[]:a:v;if(n&&n(v,m,s,c),r){u=we(m,p),r(u,[],s,c),l=u.length;while(l--)(d=u[l])&&(m[p[l]]=!(v[p[l]]=d))}if(i){if(o||e){if(o){u=[],l=m.length;while(l--)(d=m[l])&&u.push(v[l]=d);o(null,m=[],u,c)}l=m.length;while(l--)(d=m[l])&&(u=o?L(i,d):f[l])>-1&&(i[u]=!(a[u]=d))}}else m=we(m===a?m.splice(h,m.length):m),o?o(null,a,m,c):D.apply(a,m)}))}function Ce(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,l=be((function(e){return e===t}),s,!0),d=be((function(e){return L(t,e)>-1}),s,!0),f=[function(e,n,r){var o=!a&&(r||n!==u)||((t=n).nodeType?l(e,n,r):d(e,n,r));return t=null,o}];c<i;c++)if(n=r.relative[e[c].type])f=[be(Ee(f),n)];else{if(n=r.filter[e[c].type].apply(null,e[c].matches),n[b]){for(o=++c;o<i;o++)if(r.relative[e[o].type])break;return Se(c>1&&Ee(f),c>1&&Ae(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(W,"$1"),n,c<o&&Ce(e.slice(c,o)),o<i&&Ce(e=e.slice(o)),o<i&&Ae(e))}f.push(n)}return Ee(f)}function Ie(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,c,l){var d,h,v,m=0,y="0",A=i&&[],b=[],E=u,w=i||o&&r.find["TAG"]("*",l),S=_+=null==E?1:Math.random()||.1,C=w.length;for(l&&(u=a==p||a||l);y!==C&&null!=(d=w[y]);y++){if(o&&d){h=0,a||d.ownerDocument==p||(f(d),s=!g);while(v=e[h++])if(v(d,a||p,s)){c.push(d);break}l&&(_=S)}n&&((d=!v&&d)&&m--,i&&A.push(d))}if(m+=y,n&&y!==m){h=0;while(v=t[h++])v(A,b,a,s);if(i){if(m>0)while(y--)A[y]||b[y]||(b[y]=P.call(c));b=we(b)}D.apply(c,b),l&&!i&&b.length>0&&m+t.length>1&&se.uniqueSort(c)}return l&&(_=S,u=E),A};return n?ue(i):i}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,o,i,a,s,c,u,l=C[e+" "];if(l)return t?0:l.slice(0);s=e,c=[],u=r.preFilter;while(s){for(a in n&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),c.push(i=[])),n=!1,(o=Q.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(W," ")}),s=s.slice(n.length)),r.filter)!(o=z[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,c).slice(0)},s=se.compile=function(e,t){var n,r=[],o=[],i=I[e+" "];if(!i){t||(t=a(e)),n=t.length;while(n--)i=Ce(t[n]),i[b]?r.push(i):o.push(i);i=I(e,Ie(o,r)),i.selector=e}return i},c=se.select=function(e,t,n,o){var i,c,u,l,d,f="function"===typeof e&&e,p=!o&&a(e=f.selector||e);if(n=n||[],1===p.length){if(c=p[0]=p[0].slice(0),c.length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&g&&r.relative[c[1].type]){if(t=(r.find["ID"](u.matches[0].replace(te,ne),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}i=z["needsContext"].test(e)?0:c.length;while(i--){if(u=c[i],r.relative[l=u.type])break;if((d=r.find[l])&&(o=d(u.matches[0].replace(te,ne),ee.test(c[0].type)&&me(t.parentNode)||t))){if(c.splice(i,1),e=o.length&&Ae(c),!e)return D.apply(n,o),n;break}}}return(f||s(e,p))(o,t,!g,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!d,f(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||de(j,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(n);C.find=O,C.expr=O.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=O.uniqueSort,C.text=O.getText,C.isXMLDoc=O.isXML,C.contains=O.contains,C.escapeSelector=O.escape;var T=function(e,t,n){var r=[],o=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(o&&C(e).is(n))break;r.push(e)}return r},R=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=C.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?C.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?C.grep(e,(function(e){return d.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!==typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<r;t++)if(C.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,o[t],n);return r>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"===typeof e&&N.test(e)?C(e):e||[],!1).length}});var x,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,j=C.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||x,"string"===typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),k.test(r[1])&&C.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=b.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)};j.prototype=C.fn,x=C(b);var M=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){while((e=e[t])&&1!==e.nodeType);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!==typeof e&&C(e);if(!N.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?C.uniqueSort(i):i)},index:function(e){return e?"string"===typeof e?d.call(C(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return R((e.parentNode||{}).firstChild,e)},children:function(e){return R(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,r){var o=C.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(o=C.filter(r,o)),this.length>1&&(B[e]||C.uniqueSort(o),M.test(e)&&o.reverse()),this.pushStack(o)}}));var U=/[^\x20\t\r\n\f]+/g;function V(e){var t={};return C.each(e.match(U)||[],(function(e,n){t[n]=!0})),t}function W(e){return e}function H(e){throw e}function Q(e,t,n,r){var o;try{e&&y(o=e.promise)?o.call(e).done(t).fail(n):e&&y(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"===typeof e?V(e):C.extend({},e);var t,n,r,o,i=[],a=[],s=-1,c=function(){for(o=o||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<i.length)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1)}e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){C.each(n,(function(n,r){y(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==w(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return C.each(arguments,(function(e,t){var n;while((n=C.inArray(t,i,n))>-1)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?C.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,r){var o=y(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,o){var i=0;function a(e,t,r,o){return function(){var s=this,c=arguments,u=function(){var n,u;if(!(e<i)){if(n=r.apply(s,c),n===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"===typeof n||"function"===typeof n)&&n.then,y(u)?o?u.call(n,a(i,t,W,o),a(i,t,H,o)):(i++,u.call(n,a(i,t,W,o),a(i,t,H,o),a(i,t,W,t.notifyWith))):(r!==W&&(s=void 0,c=[n]),(o||t.resolveWith)(s,c))}},l=o?u:function(){try{u()}catch(n){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(n,l.stackTrace),e+1>=i&&(r!==H&&(s=void 0,c=[n]),t.rejectWith(s,c))}};e?l():(C.Deferred.getStackHook&&(l.stackTrace=C.Deferred.getStackHook()),n.setTimeout(l))}}return C.Deferred((function(n){t[0][3].add(a(0,n,y(o)?o:W,n.notifyWith)),t[1][3].add(a(0,n,y(e)?e:W)),t[2][3].add(a(0,n,y(r)?r:H))})).promise()},promise:function(e){return null!=e?C.extend(e,o):o}},i={};return C.each(t,(function(e,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add((function(){r=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=c.call(arguments),i=C.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?c.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(Q(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||y(o[n]&&o[n].then)))return i.then();while(n--)Q(o[n],a(n),i.reject);return i.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&G.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){n.setTimeout((function(){throw e}))};var K=C.Deferred();function q(){b.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),C.ready()}C.fn.ready=function(e){return K.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||K.resolveWith(b,[C]))}}),C.ready.then=K.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(C.ready):(b.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var z=function(e,t,n,r,o,i,a){var s=0,c=e.length,u=null==n;if("object"===w(n))for(s in o=!0,n)z(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,y(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(C(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):c?t(e[0],n):i},Y=/^-ms-/,J=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function Z(e){return e.replace(Y,"ms-").replace(J,X)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ee(){this.expando=C.expando+ee.uid++}ee.uid=1,ee.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"===typeof t)o[Z(t)]=n;else for(r in t)o[Z(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(Z):(t=Z(t),t=t in r?[t]:t.match(U)||[]),n=t.length;while(n--)delete r[t[n]]}(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var te=new ee,ne=new ee,re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,oe=/[A-Z]/g;function ie(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:re.test(e)?JSON.parse(e):e)}function ae(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(oe,"-$&").toLowerCase(),n=e.getAttribute(r),"string"===typeof n){try{n=ie(n)}catch(o){}ne.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return ne.hasData(e)||te.hasData(e)},data:function(e,t,n){return ne.access(e,t,n)},removeData:function(e,t){ne.remove(e,t)},_data:function(e,t,n){return te.access(e,t,n)},_removeData:function(e,t){te.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=ne.get(i),1===i.nodeType&&!te.get(i,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Z(r.slice(5)),ae(i,r,o[r])));te.set(i,"hasDataAttrs",!0)}return o}return"object"===typeof e?this.each((function(){ne.set(this,e)})):z(this,(function(t){var n;if(i&&void 0===t)return n=ne.get(i,e),void 0!==n?n:(n=ae(i,e),void 0!==n?n:void 0);this.each((function(){ne.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ne.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=te.get(e,t),n&&(!r||Array.isArray(n)?r=te.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,o=n.shift(),i=C._queueHooks(e,t),a=function(){C.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return te.get(e,n)||te.access(e,n,{empty:C.Callbacks("once memory").add((function(){te.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=C.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};"string"!==typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)n=te.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ce=new RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),ue=["Top","Right","Bottom","Left"],le=b.documentElement,de=function(e){return C.contains(e.ownerDocument,e)},fe={composed:!0};le.getRootNode&&(de=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(fe)===e.ownerDocument});var pe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&de(e)&&"none"===C.css(e,"display")};function he(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return C.css(e,t,"")},c=s(),u=n&&n[3]||(C.cssNumber[t]?"":"px"),l=e.nodeType&&(C.cssNumber[t]||"px"!==u&&+c)&&ce.exec(C.css(e,t));if(l&&l[3]!==u){c/=2,u=u||l[3],l=+c||1;while(a--)C.style(e,t,l+u),(1-i)*(1-(i=s()/c||.5))<=0&&(a=0),l/=i;l*=2,C.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=o)),o}var ge={};function ve(e){var t,n=e.ownerDocument,r=e.nodeName,o=ge[r];return o||(t=n.body.appendChild(n.createElement(r)),o=C.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ge[r]=o,o)}function me(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=te.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&pe(r)&&(o[i]=ve(r))):"none"!==n&&(o[i]="none",te.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}C.fn.extend({show:function(){return me(this,!0)},hide:function(){return me(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){pe(this)?C(this).show():C(this).hide()}))}});var ye=/^(?:checkbox|radio)$/i,Ae=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=b.createDocumentFragment(),t=e.appendChild(b.createElement("div")),n=b.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),m.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",m.option=!!t.lastChild})();var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?C.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)te.set(e[n],"globalEval",!t||te.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,m.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Se=/<|&#?\w+;/;function Ce(e,t,n,r,o){for(var i,a,s,c,u,l,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if(i=e[p],i||0===i)if("object"===w(i))C.merge(f,i.nodeType?[i]:i);else if(Se.test(i)){a=a||d.appendChild(t.createElement("div")),s=(Ae.exec(i)||["",""])[1].toLowerCase(),c=Ee[s]||Ee._default,a.innerHTML=c[1]+C.htmlPrefilter(i)+c[2],l=c[0];while(l--)a=a.lastChild;C.merge(f,a.childNodes),a=d.firstChild,a.textContent=""}else f.push(t.createTextNode(i));d.textContent="",p=0;while(i=f[p++])if(r&&C.inArray(i,r)>-1)o&&o.push(i);else if(u=de(i),a=_e(d.appendChild(i),"script"),u&&we(a),n){l=0;while(i=a[l++])be.test(i.type||"")&&n.push(i)}return d}var Ie=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Te(){return!1}function Re(e,t){return e===Ne()===("focus"===t)}function Ne(){try{return b.activeElement}catch(e){}}function Pe(e,t,n,r,o,i){var a,s;if("object"===typeof t){for(s in"string"!==typeof n&&(r=r||n,n=void 0),t)Pe(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"===typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Te;else if(!o)return e;return 1===i&&(a=o,o=function(e){return C().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=C.guid++)),e.each((function(){C.event.add(this,t,o,r,n)}))}function ke(e,t,n){n?(te.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=te.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=c.call(arguments),te.set(this,t,i),r=n(this,t),this[t](),o=te.get(this,t),i!==o||r?te.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(te.set(this,t,{value:C.event.trigger(C.extend(i[0],C.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===te.get(e,t)&&C.event.add(e,t,Oe)}C.event={global:{},add:function(e,t,n,r,o){var i,a,s,c,u,l,d,f,p,h,g,v=te.get(e);if($(e)){n.handler&&(i=n,n=i.handler,o=i.selector),o&&C.find.matchesSelector(le,o),n.guid||(n.guid=C.guid++),(c=v.events)||(c=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return"undefined"!==typeof C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(U)||[""],u=t.length;while(u--)s=Ie.exec(t[u])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p&&(d=C.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=C.event.special[p]||{},l=C.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:h.join(".")},i),(f=c[p])||(f=c[p]=[],f.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,l):f.push(l),C.event.global[p]=!0)}},remove:function(e,t,n,r,o){var i,a,s,c,u,l,d,f,p,h,g,v=te.hasData(e)&&te.get(e);if(v&&(c=v.events)){t=(t||"").match(U)||[""],u=t.length;while(u--)if(s=Ie.exec(t[u])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){d=C.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;while(i--)l=f[i],!o&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(i,1),l.selector&&f.delegateCount--,d.remove&&d.remove.call(e,l));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,v.handle)||C.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)C.event.remove(e,p+t[u],n,r,!0);C.isEmptyObject(c)&&te.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),c=C.event.fix(e),u=(te.get(this,"events")||Object.create(null))[c.type]||[],l=C.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){a=C.event.handlers.call(this,c,u),t=0;while((o=a[t++])&&!c.isPropagationStopped()){c.currentTarget=o.elem,n=0;while((i=o.handlers[n++])&&!c.isImmediatePropagationStopped())c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,r=((C.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,o,i,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<c;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?C(o,this).index(u)>-1:C.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ye.test(t.type)&&t.click&&P(t,"input")&&ke(t,"click",Oe),!1},trigger:function(e){var t=this||e;return ye.test(t.type)&&t.click&&P(t,"input")&&ke(t,"click"),!0},_default:function(e){var t=e.target;return ye.test(t.type)&&t.click&&P(t,"input")&&te.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return ke(this,e,Re),!1},trigger:function(){return ke(this,e),!0},_default:function(){return!0},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||C.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,r){return Pe(this,e,t,n,r)},one:function(e,t,n,r){return Pe(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each((function(){C.event.remove(this,e,n,t)}))}});var De=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,o,i,a,s,c;if(1===t.nodeType){if(te.hasData(e)&&(i=te.get(e),c=i.events,c))for(o in te.remove(t,"handle events"),c)for(n=0,r=c[o].length;n<r;n++)C.event.add(t,o,c[o][n]);ne.hasData(e)&&(a=ne.access(e),s=C.extend({},a),ne.set(t,s))}}function Ue(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,r){t=u(t);var o,i,a,s,c,l,d=0,f=e.length,p=f-1,h=t[0],g=y(h);if(g||f>1&&"string"===typeof h&&!m.checkClone&&xe.test(h))return e.each((function(o){var i=e.eq(o);g&&(t[0]=h.call(this,o,i.html())),Ve(i,t,n,r)}));if(f&&(o=Ce(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=C.map(_e(o,"script"),Me),s=a.length;d<f;d++)c=o,d!==p&&(c=C.clone(c,!0,!0),s&&C.merge(a,_e(c,"script"))),n.call(e[d],c,d);if(s)for(l=a[a.length-1].ownerDocument,C.map(a,Be),d=0;d<s;d++)c=a[d],be.test(c.type||"")&&!te.access(c,"globalEval")&&C.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):_(c.textContent.replace(Le,""),c,l))}return e}function We(e,t,n){for(var r,o=t?C.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||C.cleanData(_e(r)),r.parentNode&&(n&&de(r)&&we(_e(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),c=de(e);if(!m.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!C.isXMLDoc(e))for(a=_e(s),i=_e(e),r=0,o=i.length;r<o;r++)Ue(i[r],a[r]);if(t)if(n)for(i=i||_e(e),a=a||_e(s),r=0,o=i.length;r<o;r++)Fe(i[r],a[r]);else Fe(e,s);return a=_e(s,"script"),a.length>0&&we(a,!c&&_e(e,"script")),s},cleanData:function(e){for(var t,n,r,o=C.event.special,i=0;void 0!==(n=e[i]);i++)if($(n)){if(t=n[te.expando]){if(t.events)for(r in t.events)o[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[te.expando]=void 0}n[ne.expando]&&(n[ne.expando]=void 0)}}}),C.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return z(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.appendChild(e)}}))},prepend:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!De.test(e)&&!Ee[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(C.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(_e(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,r=[],o=C(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),C(o[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var He=new RegExp("^("+se+")(?!px)[a-z%]+$","i"),Qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ge=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Ke=new RegExp(ue.join("|"),"i");function qe(e,t,n){var r,o,i,a,s=e.style;return n=n||Qe(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||de(e)||(a=C.style(e,t)),!m.pixelBoxStyles()&&He.test(a)&&Ke.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}(function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",le.appendChild(u).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),le.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,a,s,c,u=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),r=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",le.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,le.removeChild(e)),s}}))})();var Ye=["Webkit","Moz","ms"],Je=b.createElement("div").style,Xe={};function Ze(e){var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;while(n--)if(e=Ye[n]+t,e in Je)return e}function $e(e){var t=C.cssProps[e]||Xe[e];return t||(e in Je?e:Xe[e]=Ze(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"};function ot(e,t,n){var r=ce.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,o,i){var a="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=C.css(e,n+ue[a],!0,o)),r?("content"===n&&(c-=C.css(e,"padding"+ue[a],!0,o)),"margin"!==n&&(c-=C.css(e,"border"+ue[a]+"Width",!0,o))):(c+=C.css(e,"padding"+ue[a],!0,o),"padding"!==n?c+=C.css(e,"border"+ue[a]+"Width",!0,o):s+=C.css(e,"border"+ue[a]+"Width",!0,o));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function at(e,t,n){var r=Qe(e),o=!m.boxSizingReliable()||n,i=o&&"border-box"===C.css(e,"boxSizing",!1,r),a=i,s=qe(e,t,r),c="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&P(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===C.css(e,"boxSizing",!1,r),a=c in e,a&&(s=e[c])),s=parseFloat(s)||0,s+it(e,t,n||(i?"border":"content"),a,r,s)+"px"}function st(e,t,n,r,o){return new st.prototype.init(e,t,n,r,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=Z(t),c=tt.test(t),u=e.style;if(c||(t=$e(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];i=typeof n,"string"===i&&(o=ce.exec(n))&&o[1]&&(n=he(e,t,o),i="number"),null!=n&&n===n&&("number"!==i||c||(n+=o&&o[3]||(C.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=Z(t),c=tt.test(t);return c||(t=$e(s)),a=C.cssHooks[t]||C.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=qe(e,t,r)),"normal"===o&&t in rt&&(o=rt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return!et.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?at(e,t,r):Ge(e,nt,(function(){return at(e,t,r)}))},set:function(e,n,r){var o,i=Qe(e),a=!m.scrollboxSize()&&"absolute"===i.position,s=a||r,c=s&&"border-box"===C.css(e,"boxSizing",!1,i),u=r?it(e,t,r,c,i):0;return c&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-it(e,t,"border",!1,i)-.5)),u&&(o=ce.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),ot(e,n,u)}}})),C.cssHooks.marginLeft=ze(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"===typeof n?n.split(" "):[n];r<4;r++)o[e+ue[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(C.cssHooks[e+t].set=ot)})),C.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Qe(e),o=t.length;a<o;a++)i[t[a]]=C.css(e,t[a],!1,r);return i}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=st,st.prototype={constructor:st,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(C.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}},st.prototype.init.prototype=st.prototype,st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},st.propHooks.scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=st.prototype.init,C.fx.step={};var ct,ut,lt=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function ft(){ut&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ft):n.setTimeout(ft,C.fx.interval),C.fx.tick())}function pt(){return n.setTimeout((function(){ct=void 0})),ct=Date.now()}function ht(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=ue[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function gt(e,t,n){for(var r,o=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function vt(e,t,n){var r,o,i,a,s,c,u,l,d="width"in t||"height"in t,f=this,p={},h=e.style,g=e.nodeType&&pe(e),v=te.get(e,"fxshow");for(r in n.queue||(a=C._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],lt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!v||void 0===v[r])continue;g=!0}p[r]=v&&v[r]||C.style(e,r)}if(c=!C.isEmptyObject(t),c||!C.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=v&&v.display,null==u&&(u=te.get(e,"display")),l=C.css(e,"display"),"none"===l&&(u?l=u:(me([e],!0),u=e.style.display||u,l=C.css(e,"display"),me([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===C.css(e,"float")&&(c||(f.done((function(){h.display=u})),null==u&&(l=h.display,u="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),c=!1,p)c||(v?"hidden"in v&&(g=v.hidden):v=te.access(e,"fxshow",{display:u}),i&&(v.hidden=!g),g&&me([e],!0),f.done((function(){for(r in g||me([e]),te.remove(e,"fxshow"),p)C.style(e,r,p[r])}))),c=gt(g?v[r]:0,r,f),r in v||(v[r]=c.start,g&&(c.end=c.start,c.start=0))}function mt(e,t){var n,r,o,i,a;for(n in e)if(r=Z(n),o=t[r],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=C.cssHooks[r],a&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}function yt(e,t,n){var r,o,i=0,a=yt.prefilters.length,s=C.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var t=ct||pt(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,a=0,c=u.tweens.length;a<c;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,n]),i<1&&c?n:(c||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:ct||pt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(mt(l,u.opts.specialEasing);i<a;i++)if(r=yt.prefilters[i].call(u,e,l,u.opts),r)return y(r.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return C.map(l,gt,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,ce.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(U);for(var n,r=0,o=e.length;r<o;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[vt],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"===typeof e?C.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return C.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(pe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=C.isEmptyObject(e),i=C.speed(t,n,r),a=function(){var t=yt(this,C.extend({},e),i);(o||te.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=C.timers,a=te.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&dt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=te.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=C.timers,a=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,o){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,r,o)}})),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(ct=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),ct=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ut||(ut=!0,ft())},C.fx.stop=function(){ut=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select"),n=t.appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=n.selected,e=b.createElement("input"),e.value="t",e.type="radio",m.radioValue="t"===e.value}();var At,bt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return z(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"===typeof e.getAttribute?C.prop(e,t,n):(1===i&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?At:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=C.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(U);if(o&&1===e.nodeType)while(n=o[r++])e.removeAttribute(n)}}),At={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=bt[t]||C.find.attr;bt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=bt[a],bt[a]=o,o=null!=n(e,t,r)?a:null,bt[a]=i),o}}));var Et=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function wt(e){var t=e.match(U)||[];return t.join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(U)||[]}C.fn.extend({prop:function(e,t){return z(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,c=0;if(y(e))return this.each((function(t){C(this).addClass(e.call(this,t,St(this)))}));if(t=Ct(e),t.length)while(n=this[c++])if(o=St(n),r=1===n.nodeType&&" "+wt(o)+" ",r){a=0;while(i=t[a++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=wt(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,c=0;if(y(e))return this.each((function(t){C(this).removeClass(e.call(this,t,St(this)))}));if(!arguments.length)return this.attr("class","");if(t=Ct(e),t.length)while(n=this[c++])if(o=St(n),r=1===n.nodeType&&" "+wt(o)+" ",r){a=0;while(i=t[a++])while(r.indexOf(" "+i+" ")>-1)r=r.replace(" "+i+" "," ");s=wt(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"===typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,St(this),t),t)})):this.each((function(){var t,o,i,a;if(r){o=0,i=C(this),a=Ct(e);while(t=a[o++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else void 0!==e&&"boolean"!==n||(t=St(this),t&&te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":te.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+wt(St(n))+" ").indexOf(t)>-1)return!0;return!1}});var It=/\r/g;C.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=y(e),this.each((function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,C(this).val()):e,null==o?o="":"number"===typeof o?o+="":Array.isArray(o)&&(o=C.map(o,(function(e){return null==e?"":e+""}))),t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"===typeof n?n.replace(It,""):null==n?"":n)):void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:wt(C.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?i+1:o.length;for(r=i<0?c:a?i:0;r<c;r++)if(n=o[r],(n.selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=C(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,o=e.options,i=C.makeArray(t),a=o.length;while(a--)r=o[a],(r.selected=C.inArray(C.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},m.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in n;var Ot=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,r,o){var i,a,s,c,u,l,d,f,p=[r||b],g=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(a=f=s=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!Ot.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,e=e[C.expando]?e:new C.Event(g,"object"===typeof e&&e),e.isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:C.makeArray(t,[e]),d=C.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(r,t))){if(!o&&!d.noBubble&&!A(r)){for(c=d.delegateType||g,Ot.test(c+g)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||b)&&p.push(s.defaultView||s.parentWindow||n)}i=0;while((a=p[i++])&&!e.isPropagationStopped())f=a,e.type=i>1?c:d.bindType||g,l=(te.get(a,"events")||Object.create(null))[e.type]&&te.get(a,"handle"),l&&l.apply(a,t),l=u&&a[u],l&&l.apply&&$(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!$(r)||u&&y(r[g])&&!A(r)&&(s=r[u],s&&(r[u]=null),C.event.triggered=g,e.isPropagationStopped()&&f.addEventListener(g,Tt),r[g](),e.isPropagationStopped()&&f.removeEventListener(g,Tt),C.event.triggered=void 0,s&&(r[u]=s)),e.result}},simulate:function(e,t,n){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=te.access(r,t);o||r.addEventListener(e,n,!0),te.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=te.access(r,t)-1;o?te.access(r,t,o):(r.removeEventListener(e,n,!0),te.remove(r,t))}}}));var Rt=n.location,Nt={guid:Date.now()},Pt=/\?/;C.parseXML=function(e){var t,r;if(!e||"string"!==typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(o){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||C.error("Invalid XML: "+(r?C.map(r.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var kt=/\[\]$/,Dt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var o;if(Array.isArray(t))C.each(t,(function(t,o){n||kt.test(e)?r(e,o):jt(e+"["+("object"===typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==w(t))r(e,t);else for(o in t)jt(e+"["+o+"]",t[o],n,r)}C.param=function(e,t){var n,r=[],o=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){o(this.name,this.value)}));else for(n in e)jt(n,e[n],t,o);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Lt.test(this.nodeName)&&!xt.test(e)&&(this.checked||!ye.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}})):{name:t.name,value:n.replace(Dt,"\r\n")}})).get()}});var Mt=/%20/g,Bt=/#.*$/,Ft=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Qt={},Gt={},Kt="*/".concat("*"),qt=b.createElement("a");function zt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(U)||[];if(y(n))while(r=i[o++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Yt(e,t,n,r){var o={},i=e===Gt;function a(s){var c;return o[s]=!0,C.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!==typeof u||i||o[u]?i?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),c}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Jt(e,t){var n,r,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&C.extend(!0,e,r),e}function Xt(e,t,n){var r,o,i,a,s=e.contents,c=e.dataTypes;while("*"===c[0])c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==c[0]&&c.unshift(i),n[i]}function Zt(e,t,n,r){var o,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];i=l.shift();while(i)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift(),i)if("*"===i)i=c;else if("*"!==c&&c!==i){if(a=u[c+" "+i]||u["* "+i],!a)for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]],a)){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}qt.href=Rt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:Vt.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Jt(Jt(e,C.ajaxSettings),t):Jt(C.ajaxSettings,e)},ajaxPrefilter:zt(Qt),ajaxTransport:zt(Gt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,a,s,c,u,l,d,f,p=C.ajaxSetup({},t),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?C(h):C.event,v=C.Deferred(),m=C.Callbacks("once memory"),y=p.statusCode||{},A={},E={},_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a){a={};while(t=Ut.exec(i))a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,A[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),S(0,t),this}};if(v.promise(w),p.url=((e||p.url||Rt.href)+"").replace(Ht,Rt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(U)||[""],null==p.crossDomain){c=b.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=qt.protocol+"//"+qt.host!==c.protocol+"//"+c.host}catch(I){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=C.param(p.data,p.traditional)),Yt(Qt,p,t,w),u)return w;for(d in l=C.event&&p.global,l&&0===C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Wt.test(p.type),o=p.url.replace(Bt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Mt,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"===typeof p.data)&&(o+=(Pt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ft,"$1"),f=(Pt.test(o)?"&":"?")+"_="+Nt.guid+++f),p.url=o+f),p.ifModified&&(C.lastModified[o]&&w.setRequestHeader("If-Modified-Since",C.lastModified[o]),C.etag[o]&&w.setRequestHeader("If-None-Match",C.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Kt+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,w,p)||u))return w.abort();if(_="abort",m.add(p.complete),w.done(p.success),w.fail(p.error),r=Yt(Gt,p,t,w),r){if(w.readyState=1,l&&g.trigger("ajaxSend",[w,p]),u)return w;p.async&&p.timeout>0&&(s=n.setTimeout((function(){w.abort("timeout")}),p.timeout));try{u=!1,r.send(A,S)}catch(I){if(u)throw I;S(-1,I)}}else S(-1,"No Transport");function S(e,t,a,c){var d,f,A,b,E,_=t;u||(u=!0,s&&n.clearTimeout(s),r=void 0,i=c||"",w.readyState=e>0?4:0,d=e>=200&&e<300||304===e,a&&(b=Xt(p,w,a)),!d&&C.inArray("script",p.dataTypes)>-1&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=Zt(p,b,w,d),d?(p.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(C.lastModified[o]=E),E=w.getResponseHeader("etag"),E&&(C.etag[o]=E)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=b.state,f=b.data,A=b.error,d=!A)):(A=_,!e&&_||(_="error",e<0&&(e=0))),w.status=e,w.statusText=(t||_)+"",d?v.resolveWith(h,[f,_,w]):v.rejectWith(h,[w,_,A]),w.statusCode(y),y=void 0,l&&g.trigger(d?"ajaxSuccess":"ajaxError",[w,p,d?f:A]),m.fireWith(h,[w,_]),l&&(g.trigger("ajaxComplete",[w,p]),--C.active||C.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,r,o){return y(n)&&(o=o||r,r=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:o,data:n,success:r},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},en=C.ajaxSettings.xhr();m.cors=!!en&&"withCredentials"in en,m.ajax=en=!!en,C.ajaxTransport((function(e){var t,r;if(m.cors||en&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!==typeof s.status?i(0,"error"):i(s.status,s.statusText):i($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!==typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(c){if(t)throw c}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var tn=[],nn=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||C.expando+"_"+Nt.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+o):!1!==e.jsonp&&(e.url+=(Pt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||C.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always((function(){void 0===i?C(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,tn.push(o)),a&&y(i)&&i(a[0]),a=i=void 0})),"script"})),m.createHTMLDocument=function(){var e=b.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),C.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?(t=b.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=b.location.href,t.head.appendChild(r)):t=b),o=k.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=Ce([e],t,i),i&&i.length&&C(i).remove(),C.merge([],o.childNodes)));var r,o,i},C.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=wt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"===typeof t&&(o="POST"),a.length>0&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var r,o,i,a,s,c,u,l=C.css(e,"position"),d=C(e),f={};"static"===l&&(e.style.position="relative"),s=d.offset(),i=C.css(e,"top"),c=C.css(e,"left"),u=("absolute"===l||"fixed"===l)&&(i+c).indexOf("auto")>-1,u?(r=d.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(c)||0),y(t)&&(t=t.call(e,n,C.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):d.css(f)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&(o=C(e).offset(),o.top+=C.css(e,"borderTopWidth",!0),o.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-C.css(r,"marginTop",!0),left:t.left-o.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){var e=this.offsetParent;while(e&&"static"===C.css(e,"position"))e=e.offsetParent;return e||le}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(r){return z(this,(function(e,r,o){var i;if(A(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=ze(m.pixelPosition,(function(e,n){if(n)return n=qe(e,t),He.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){C.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!==typeof o),s=n||(!0===o||!0===i?"margin":"border");return z(this,(function(t,n,o){var i;return A(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?C.css(t,n,s):C.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,r,o;if("string"===typeof t&&(n=e[t],t=e,e=n),y(e))return r=c.call(arguments,2),o=function(){return e.apply(t||this,r.concat(c.call(arguments)))},o.guid=e.guid=e.guid||C.guid++,o},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=P,C.isFunction=y,C.isWindow=A,C.camelCase=Z,C.type=w,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(rn,"")},r=[],o=function(){return C}.apply(t,r),void 0===o||(e.exports=o);var on=n.jQuery,an=n.$;return C.noConflict=function(e){return n.$===C&&(n.$=an),e&&n.jQuery===C&&(n.jQuery=on),C},"undefined"===typeof i&&(n.jQuery=n.$=C),C}))},4806:function(e,t,n){var r;e=n.nmd(e),n(2262),n(4506),n(3048),n(7461),n(6699),function(){var o,i="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",p=1,h=2,g=4,v=1,m=2,y=1,A=2,b=4,E=8,_=16,w=32,S=64,C=128,I=256,O=512,T=30,R="...",N=800,P=16,k=1,D=2,x=3,L=1/0,j=9007199254740991,M=17976931348623157e292,B=NaN,F=4294967295,U=F-1,V=F>>>1,W=[["ary",C],["bind",y],["bindKey",A],["curry",E],["curryRight",_],["flip",O],["partial",w],["partialRight",S],["rearg",I]],H="[object Arguments]",Q="[object Array]",G="[object AsyncFunction]",K="[object Boolean]",q="[object Date]",z="[object DOMException]",Y="[object Error]",J="[object Function]",X="[object GeneratorFunction]",Z="[object Map]",$="[object Number]",ee="[object Null]",te="[object Object]",ne="[object Promise]",re="[object Proxy]",oe="[object RegExp]",ie="[object Set]",ae="[object String]",se="[object Symbol]",ce="[object Undefined]",ue="[object WeakMap]",le="[object WeakSet]",de="[object ArrayBuffer]",fe="[object DataView]",pe="[object Float32Array]",he="[object Float64Array]",ge="[object Int8Array]",ve="[object Int16Array]",me="[object Int32Array]",ye="[object Uint8Array]",Ae="[object Uint8ClampedArray]",be="[object Uint16Array]",Ee="[object Uint32Array]",_e=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,Ie=/[&<>"']/g,Oe=RegExp(Ce.source),Te=RegExp(Ie.source),Re=/<%-([\s\S]+?)%>/g,Ne=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Le.source),Me=/^\s+/,Be=/\s/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,Ve=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/[()=,{}\[\]\/\s]/,Qe=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ke=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,Je=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$e=/($^)/,et=/['\n\r\u2028\u2029\\]/g,tt="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",ot="\\u20d0-\\u20ff",it=nt+rt+ot,at="\\u2700-\\u27bf",st="a-z\\xdf-\\xf6\\xf8-\\xff",ct="\\xac\\xb1\\xd7\\xf7",ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",lt="\\u2000-\\u206f",dt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",ht=ct+ut+lt+dt,gt="['’]",vt="["+tt+"]",mt="["+ht+"]",yt="["+it+"]",At="\\d+",bt="["+at+"]",Et="["+st+"]",_t="[^"+tt+ht+At+at+st+ft+"]",wt="\\ud83c[\\udffb-\\udfff]",St="(?:"+yt+"|"+wt+")",Ct="[^"+tt+"]",It="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+ft+"]",Rt="\\u200d",Nt="(?:"+Et+"|"+_t+")",Pt="(?:"+Tt+"|"+_t+")",kt="(?:"+gt+"(?:d|ll|m|re|s|t|ve))?",Dt="(?:"+gt+"(?:D|LL|M|RE|S|T|VE))?",xt=St+"?",Lt="["+pt+"]?",jt="(?:"+Rt+"(?:"+[Ct,It,Ot].join("|")+")"+Lt+xt+")*",Mt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ft=Lt+xt+jt,Ut="(?:"+[bt,It,Ot].join("|")+")"+Ft,Vt="(?:"+[Ct+yt+"?",yt,It,Ot,vt].join("|")+")",Wt=RegExp(gt,"g"),Ht=RegExp(yt,"g"),Qt=RegExp(wt+"(?="+wt+")|"+Vt+Ft,"g"),Gt=RegExp([Tt+"?"+Et+"+"+kt+"(?="+[mt,Tt,"$"].join("|")+")",Pt+"+"+Dt+"(?="+[mt,Tt+Nt,"$"].join("|")+")",Tt+"?"+Nt+"+"+kt,Tt+"+"+Dt,Bt,Mt,At,Ut].join("|"),"g"),Kt=RegExp("["+Rt+tt+it+pt+"]"),qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yt=-1,Jt={};Jt[pe]=Jt[he]=Jt[ge]=Jt[ve]=Jt[me]=Jt[ye]=Jt[Ae]=Jt[be]=Jt[Ee]=!0,Jt[H]=Jt[Q]=Jt[de]=Jt[K]=Jt[fe]=Jt[q]=Jt[Y]=Jt[J]=Jt[Z]=Jt[$]=Jt[te]=Jt[oe]=Jt[ie]=Jt[ae]=Jt[ue]=!1;var Xt={};Xt[H]=Xt[Q]=Xt[de]=Xt[fe]=Xt[K]=Xt[q]=Xt[pe]=Xt[he]=Xt[ge]=Xt[ve]=Xt[me]=Xt[Z]=Xt[$]=Xt[te]=Xt[oe]=Xt[ie]=Xt[ae]=Xt[se]=Xt[ye]=Xt[Ae]=Xt[be]=Xt[Ee]=!0,Xt[Y]=Xt[J]=Xt[ue]=!1;var Zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,on="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,an="object"==typeof self&&self&&self.Object===Object&&self,sn=on||an||Function("return this")(),cn=t&&!t.nodeType&&t,un=cn&&e&&!e.nodeType&&e,ln=un&&un.exports===cn,dn=ln&&on.process,fn=function(){try{var e=un&&un.require&&un.require("util").types;return e||dn&&dn.binding&&dn.binding("util")}catch(t){}}(),pn=fn&&fn.isArrayBuffer,hn=fn&&fn.isDate,gn=fn&&fn.isMap,vn=fn&&fn.isRegExp,mn=fn&&fn.isSet,yn=fn&&fn.isTypedArray;function An(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bn(e,t,n,r){var o=-1,i=null==e?0:e.length;while(++o<i){var a=e[o];t(r,a,n(a),e)}return r}function En(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}function _n(e,t){var n=null==e?0:e.length;while(n--)if(!1===t(e[n],n,e))break;return e}function wn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!t(e[n],n,e))return!1;return!0}function Sn(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Cn(e,t){var n=null==e?0:e.length;return!!n&&Mn(e,t,0)>-1}function In(e,t,n){var r=-1,o=null==e?0:e.length;while(++r<o)if(n(t,e[r]))return!0;return!1}function On(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}function Tn(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}function Rn(e,t,n,r){var o=-1,i=null==e?0:e.length;r&&i&&(n=e[++o]);while(++o<i)n=t(n,e[o],o,e);return n}function Nn(e,t,n,r){var o=null==e?0:e.length;r&&o&&(n=e[--o]);while(o--)n=t(n,e[o],o,e);return n}function Pn(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var kn=Vn("length");function Dn(e){return e.split("")}function xn(e){return e.match(We)||[]}function Ln(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function jn(e,t,n,r){var o=e.length,i=n+(r?1:-1);while(r?i--:++i<o)if(t(e[i],i,e))return i;return-1}function Mn(e,t,n){return t===t?pr(e,t,n):jn(e,Fn,n)}function Bn(e,t,n,r){var o=n-1,i=e.length;while(++o<i)if(r(e[o],t))return o;return-1}function Fn(e){return e!==e}function Un(e,t){var n=null==e?0:e.length;return n?Gn(e,t)/n:B}function Vn(e){return function(t){return null==t?o:t[e]}}function Wn(e){return function(t){return null==e?o:e[t]}}function Hn(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Qn(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}function Gn(e,t){var n,r=-1,i=e.length;while(++r<i){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Kn(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function qn(e,t){return On(t,(function(t){return[t,e[t]]}))}function zn(e){return e?e.slice(0,mr(e)+1).replace(Me,""):e}function Yn(e){return function(t){return e(t)}}function Jn(e,t){return On(t,(function(t){return e[t]}))}function Xn(e,t){return e.has(t)}function Zn(e,t){var n=-1,r=e.length;while(++n<r&&Mn(t,e[n],0)>-1);return n}function $n(e,t){var n=e.length;while(n--&&Mn(t,e[n],0)>-1);return n}function er(e,t){var n=e.length,r=0;while(n--)e[n]===t&&++r;return r}var tr=Wn(Zt),nr=Wn($t);function rr(e){return"\\"+tn[e]}function or(e,t){return null==e?o:e[t]}function ir(e){return Kt.test(e)}function ar(e){return qt.test(e)}function sr(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}function cr(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ur(e,t){return function(n){return e(t(n))}}function lr(e,t){var n=-1,r=e.length,o=0,i=[];while(++n<r){var a=e[n];a!==t&&a!==f||(e[n]=f,i[o++]=n)}return i}function dr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fr(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pr(e,t,n){var r=n-1,o=e.length;while(++r<o)if(e[r]===t)return r;return-1}function hr(e,t,n){var r=n+1;while(r--)if(e[r]===t)return r;return r}function gr(e){return ir(e)?Ar(e):kn(e)}function vr(e){return ir(e)?br(e):Dn(e)}function mr(e){var t=e.length;while(t--&&Be.test(e.charAt(t)));return t}var yr=Wn(en);function Ar(e){var t=Qt.lastIndex=0;while(Qt.test(e))++t;return t}function br(e){return e.match(Qt)||[]}function Er(e){return e.match(Gt)||[]}var _r=function e(t){t=null==t?sn:wr.defaults(sn.Object(),t,wr.pick(sn,zt));var n=t.Array,r=t.Date,Be=t.Error,We=t.Function,tt=t.Math,nt=t.Object,rt=t.RegExp,ot=t.String,it=t.TypeError,at=n.prototype,st=We.prototype,ct=nt.prototype,ut=t["__core-js_shared__"],lt=st.toString,dt=ct.hasOwnProperty,ft=0,pt=function(){var e=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ht=ct.toString,gt=lt.call(nt),vt=sn._,mt=rt("^"+lt.call(dt).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=ln?t.Buffer:o,At=t.Symbol,bt=t.Uint8Array,Et=yt?yt.allocUnsafe:o,_t=ur(nt.getPrototypeOf,nt),wt=nt.create,St=ct.propertyIsEnumerable,Ct=at.splice,It=At?At.isConcatSpreadable:o,Ot=At?At.iterator:o,Tt=At?At.toStringTag:o,Rt=function(){try{var e=qa(nt,"defineProperty");return e({},"",{}),e}catch(t){}}(),Nt=t.clearTimeout!==sn.clearTimeout&&t.clearTimeout,Pt=r&&r.now!==sn.Date.now&&r.now,kt=t.setTimeout!==sn.setTimeout&&t.setTimeout,Dt=tt.ceil,xt=tt.floor,Lt=nt.getOwnPropertySymbols,jt=yt?yt.isBuffer:o,Mt=t.isFinite,Bt=at.join,Ft=ur(nt.keys,nt),Ut=tt.max,Vt=tt.min,Qt=r.now,Gt=t.parseInt,Kt=tt.random,qt=at.reverse,Zt=qa(t,"DataView"),$t=qa(t,"Map"),en=qa(t,"Promise"),tn=qa(t,"Set"),on=qa(t,"WeakMap"),an=qa(nt,"create"),cn=on&&new on,un={},dn=ks(Zt),fn=ks($t),kn=ks(en),Dn=ks(tn),Wn=ks(on),pr=At?At.prototype:o,Ar=pr?pr.valueOf:o,br=pr?pr.toString:o;function _r(e){if(Cl(e)&&!cl(e)&&!(e instanceof Or)){if(e instanceof Ir)return e;if(dt.call(e,"__wrapped__"))return xs(e)}return new Ir(e)}var Sr=function(){function e(){}return function(t){if(!Sl(t))return{};if(wt)return wt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Cr(){}function Ir(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Or(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function Tr(){var e=new Or(this.__wrapped__);return e.__actions__=oa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=oa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=oa(this.__views__),e}function Rr(){if(this.__filtered__){var e=new Or(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Nr(){var e=this.__wrapped__.value(),t=this.__dir__,n=cl(e),r=t<0,o=n?e.length:0,i=Za(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,p=Vt(c,this.__takeCount__);if(!n||!r&&o==c&&p==c)return Fi(e,this.__actions__);var h=[];e:while(c--&&f<p){u+=t;var g=-1,v=e[u];while(++g<d){var m=l[g],y=m.iteratee,A=m.type,b=y(v);if(A==D)v=b;else if(!b){if(A==k)continue e;break e}}h[f++]=v}return h}function Pr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function kr(){this.__data__=an?an(null):{},this.size=0}function Dr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function xr(e){var t=this.__data__;if(an){var n=t[e];return n===l?o:n}return dt.call(t,e)?t[e]:o}function Lr(e){var t=this.__data__;return an?t[e]!==o:dt.call(t,e)}function jr(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=an&&t===o?l:t,this}function Mr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Br(){this.__data__=[],this.size=0}function Fr(e){var t=this.__data__,n=lo(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ct.call(t,n,1),--this.size,!0}function Ur(e){var t=this.__data__,n=lo(t,e);return n<0?o:t[n][1]}function Vr(e){return lo(this.__data__,e)>-1}function Wr(e,t){var n=this.__data__,r=lo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Hr(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Qr(){this.size=0,this.__data__={hash:new Pr,map:new($t||Mr),string:new Pr}}function Gr(e){var t=Ga(this,e)["delete"](e);return this.size-=t?1:0,t}function Kr(e){return Ga(this,e).get(e)}function qr(e){return Ga(this,e).has(e)}function zr(e,t){var n=Ga(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Yr(e){var t=-1,n=null==e?0:e.length;this.__data__=new Hr;while(++t<n)this.add(e[t])}function Jr(e){return this.__data__.set(e,l),this}function Xr(e){return this.__data__.has(e)}function Zr(e){var t=this.__data__=new Mr(e);this.size=t.size}function $r(){this.__data__=new Mr,this.size=0}function eo(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function to(e){return this.__data__.get(e)}function no(e){return this.__data__.has(e)}function ro(e,t){var n=this.__data__;if(n instanceof Mr){var r=n.__data__;if(!$t||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hr(r)}return n.set(e,t),this.size=n.size,this}function oo(e,t){var n=cl(e),r=!n&&sl(e),o=!n&&!r&&pl(e),i=!n&&!r&&!o&&Ul(e),a=n||r||o||i,s=a?Kn(e.length,ot):[],c=s.length;for(var u in e)!t&&!dt.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||as(u,c))||s.push(u);return s}function io(e){var t=e.length;return t?e[yi(0,t-1)]:o}function ao(e,t){return Rs(oa(e),mo(t,0,e.length))}function so(e){return Rs(oa(e))}function co(e,t,n){(n!==o&&!ol(e[t],n)||n===o&&!(t in e))&&go(e,t,n)}function uo(e,t,n){var r=e[t];dt.call(e,t)&&ol(r,n)&&(n!==o||t in e)||go(e,t,n)}function lo(e,t){var n=e.length;while(n--)if(ol(e[n][0],t))return n;return-1}function fo(e,t,n,r){return wo(e,(function(e,o,i){t(r,e,n(e),i)})),r}function po(e,t){return e&&ia(t,_d(t),e)}function ho(e,t){return e&&ia(t,wd(t),e)}function go(e,t,n){"__proto__"==t&&Rt?Rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function vo(e,t){var r=-1,i=t.length,a=n(i),s=null==e;while(++r<i)a[r]=s?o:vd(e,t[r]);return a}function mo(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function yo(e,t,n,r,i,a){var s,c=t&p,u=t&h,l=t&g;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Sl(e))return e;var d=cl(e);if(d){if(s=ts(e),!c)return oa(e,s)}else{var f=Xa(e),v=f==J||f==X;if(pl(e))return zi(e,c);if(f==te||f==H||v&&!i){if(s=u||v?{}:ns(e),!c)return u?sa(e,ho(s,e)):aa(e,po(s,e))}else{if(!Xt[f])return i?e:{};s=rs(e,f,c)}}a||(a=new Zr);var m=a.get(e);if(m)return m;a.set(e,s),Ml(e)?e.forEach((function(r){s.add(yo(r,t,n,r,e,a))})):Il(e)&&e.forEach((function(r,o){s.set(o,yo(r,t,n,o,e,a))}));var y=l?u?Ua:Fa:u?wd:_d,A=d?o:y(e);return En(A||e,(function(r,o){A&&(o=r,r=e[o]),uo(s,o,yo(r,t,n,o,e,a))})),s}function Ao(e){var t=_d(e);return function(n){return bo(n,e,t)}}function bo(e,t,n){var r=n.length;if(null==e)return!r;e=nt(e);while(r--){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Eo(e,t,n){if("function"!=typeof e)throw new it(c);return Cs((function(){e.apply(o,n)}),t)}function _o(e,t,n,r){var o=-1,i=Cn,s=!0,c=e.length,u=[],l=t.length;if(!c)return u;n&&(t=On(t,Yn(n))),r?(i=In,s=!1):t.length>=a&&(i=Xn,s=!1,t=new Yr(t));e:while(++o<c){var d=e[o],f=null==n?d:n(d);if(d=r||0!==d?d:0,s&&f===f){var p=l;while(p--)if(t[p]===f)continue e;u.push(d)}else i(t,f,r)||u.push(d)}return u}_r.templateSettings={escape:Re,evaluate:Ne,interpolate:Pe,variable:"",imports:{_:_r}},_r.prototype=Cr.prototype,_r.prototype.constructor=_r,Ir.prototype=Sr(Cr.prototype),Ir.prototype.constructor=Ir,Or.prototype=Sr(Cr.prototype),Or.prototype.constructor=Or,Pr.prototype.clear=kr,Pr.prototype["delete"]=Dr,Pr.prototype.get=xr,Pr.prototype.has=Lr,Pr.prototype.set=jr,Mr.prototype.clear=Br,Mr.prototype["delete"]=Fr,Mr.prototype.get=Ur,Mr.prototype.has=Vr,Mr.prototype.set=Wr,Hr.prototype.clear=Qr,Hr.prototype["delete"]=Gr,Hr.prototype.get=Kr,Hr.prototype.has=qr,Hr.prototype.set=zr,Yr.prototype.add=Yr.prototype.push=Jr,Yr.prototype.has=Xr,Zr.prototype.clear=$r,Zr.prototype["delete"]=eo,Zr.prototype.get=to,Zr.prototype.has=no,Zr.prototype.set=ro;var wo=la(ko),So=la(Do,!0);function Co(e,t){var n=!0;return wo(e,(function(e,r,o){return n=!!t(e,r,o),n})),n}function Io(e,t,n){var r=-1,i=e.length;while(++r<i){var a=e[r],s=t(a);if(null!=s&&(c===o?s===s&&!Fl(s):n(s,c)))var c=s,u=a}return u}function Oo(e,t,n,r){var i=e.length;n=zl(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:zl(r),r<0&&(r+=i),r=n>r?0:Yl(r);while(n<r)e[n++]=t;return e}function To(e,t){var n=[];return wo(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function Ro(e,t,n,r,o){var i=-1,a=e.length;n||(n=is),o||(o=[]);while(++i<a){var s=e[i];t>0&&n(s)?t>1?Ro(s,t-1,n,r,o):Tn(o,s):r||(o[o.length]=s)}return o}var No=da(),Po=da(!0);function ko(e,t){return e&&No(e,t,_d)}function Do(e,t){return e&&Po(e,t,_d)}function xo(e,t){return Sn(t,(function(t){return El(e[t])}))}function Lo(e,t){t=Qi(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Ps(t[n++])];return n&&n==r?e:o}function jo(e,t,n){var r=t(e);return cl(e)?r:Tn(r,n(e))}function Mo(e){return null==e?e===o?ce:ee:Tt&&Tt in nt(e)?za(e):As(e)}function Bo(e,t){return e>t}function Fo(e,t){return null!=e&&dt.call(e,t)}function Uo(e,t){return null!=e&&t in nt(e)}function Vo(e,t,n){return e>=Vt(t,n)&&e<Ut(t,n)}function Wo(e,t,r){var i=r?In:Cn,a=e[0].length,s=e.length,c=s,u=n(s),l=1/0,d=[];while(c--){var f=e[c];c&&t&&(f=On(f,Yn(t))),l=Vt(f.length,l),u[c]=!r&&(t||a>=120&&f.length>=120)?new Yr(c&&f):o}f=e[0];var p=-1,h=u[0];e:while(++p<a&&d.length<l){var g=f[p],v=t?t(g):g;if(g=r||0!==g?g:0,!(h?Xn(h,v):i(d,v,r))){c=s;while(--c){var m=u[c];if(!(m?Xn(m,v):i(e[c],v,r)))continue e}h&&h.push(v),d.push(g)}}return d}function Ho(e,t,n,r){return ko(e,(function(e,o,i){t(r,n(e),o,i)})),r}function Qo(e,t,n){t=Qi(t,e),e=Es(e,t);var r=null==e?e:e[Ps(ic(t))];return null==r?o:An(r,e,n)}function Go(e){return Cl(e)&&Mo(e)==H}function Ko(e){return Cl(e)&&Mo(e)==de}function qo(e){return Cl(e)&&Mo(e)==q}function zo(e,t,n,r,o){return e===t||(null==e||null==t||!Cl(e)&&!Cl(t)?e!==e&&t!==t:Yo(e,t,n,r,zo,o))}function Yo(e,t,n,r,o,i){var a=cl(e),s=cl(t),c=a?Q:Xa(e),u=s?Q:Xa(t);c=c==H?te:c,u=u==H?te:u;var l=c==te,d=u==te,f=c==u;if(f&&pl(e)){if(!pl(t))return!1;a=!0,l=!1}if(f&&!l)return i||(i=new Zr),a||Ul(e)?La(e,t,n,r,o,i):ja(e,t,c,n,r,o,i);if(!(n&v)){var p=l&&dt.call(e,"__wrapped__"),h=d&&dt.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,m=h?t.value():t;return i||(i=new Zr),o(g,m,n,r,i)}}return!!f&&(i||(i=new Zr),Ma(e,t,n,r,o,i))}function Jo(e){return Cl(e)&&Xa(e)==Z}function Xo(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;e=nt(e);while(i--){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}while(++i<a){c=n[i];var u=c[0],l=e[u],d=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var f=new Zr;if(r)var p=r(l,d,u,e,t,f);if(!(p===o?zo(d,l,v|m,r,f):p))return!1}}return!0}function Zo(e){if(!Sl(e)||ds(e))return!1;var t=El(e)?mt:Ye;return t.test(ks(e))}function $o(e){return Cl(e)&&Mo(e)==oe}function ei(e){return Cl(e)&&Xa(e)==ie}function ti(e){return Cl(e)&&wl(e.length)&&!!Jt[Mo(e)]}function ni(e){return"function"==typeof e?e:null==e?Pf:"object"==typeof e?cl(e)?ci(e[0],e[1]):si(e):Qf(e)}function ri(e){if(!ps(e))return Ft(e);var t=[];for(var n in nt(e))dt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function oi(e){if(!Sl(e))return ys(e);var t=ps(e),n=[];for(var r in e)("constructor"!=r||!t&&dt.call(e,r))&&n.push(r);return n}function ii(e,t){return e<t}function ai(e,t){var r=-1,o=ll(e)?n(e.length):[];return wo(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}function si(e){var t=Ka(e);return 1==t.length&&t[0][2]?gs(t[0][0],t[0][1]):function(n){return n===e||Xo(n,e,t)}}function ci(e,t){return cs(e)&&hs(t)?gs(Ps(e),t):function(n){var r=vd(n,e);return r===o&&r===t?yd(n,e):zo(t,r,v|m)}}function ui(e,t,n,r,i){e!==t&&No(t,(function(a,s){if(i||(i=new Zr),Sl(a))li(e,t,s,n,ui,r,i);else{var c=r?r(ws(e,s),a,s+"",e,t,i):o;c===o&&(c=a),co(e,s,c)}}),wd)}function li(e,t,n,r,i,a,s){var c=ws(e,n),u=ws(t,n),l=s.get(u);if(l)co(e,n,l);else{var d=a?a(c,u,n+"",e,t,s):o,f=d===o;if(f){var p=cl(u),h=!p&&pl(u),g=!p&&!h&&Ul(u);d=u,p||h||g?cl(c)?d=c:dl(c)?d=oa(c):h?(f=!1,d=zi(u,!0)):g?(f=!1,d=$i(u,!0)):d=[]:xl(u)||sl(u)?(d=c,sl(c)?d=Xl(c):Sl(c)&&!El(c)||(d=ns(u))):f=!1}f&&(s.set(u,d),i(d,u,r,a,s),s["delete"](u)),co(e,n,d)}}function di(e,t){var n=e.length;if(n)return t+=t<0?n:0,as(t,n)?e[t]:o}function fi(e,t,n){t=t.length?On(t,(function(e){return cl(e)?function(t){return Lo(t,1===e.length?e[0]:e)}:e})):[Pf];var r=-1;t=On(t,Yn(Qa()));var o=ai(e,(function(e,n,o){var i=On(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return Qn(o,(function(e,t){return ta(e,t,n)}))}function pi(e,t){return hi(e,t,(function(t,n){return yd(e,n)}))}function hi(e,t,n){var r=-1,o=t.length,i={};while(++r<o){var a=t[r],s=Lo(e,a);n(s,a)&&Si(i,Qi(a,e),s)}return i}function gi(e){return function(t){return Lo(t,e)}}function vi(e,t,n,r){var o=r?Bn:Mn,i=-1,a=t.length,s=e;e===t&&(t=oa(t)),n&&(s=On(e,Yn(n)));while(++i<a){var c=0,u=t[i],l=n?n(u):u;while((c=o(s,l,c,r))>-1)s!==e&&Ct.call(s,c,1),Ct.call(e,c,1)}return e}function mi(e,t){var n=e?t.length:0,r=n-1;while(n--){var o=t[n];if(n==r||o!==i){var i=o;as(o)?Ct.call(e,o,1):ji(e,o)}}return e}function yi(e,t){return e+xt(Kt()*(t-e+1))}function Ai(e,t,r,o){var i=-1,a=Ut(Dt((t-e)/(r||1)),0),s=n(a);while(a--)s[o?a:++i]=e,e+=r;return s}function bi(e,t){var n="";if(!e||t<1||t>j)return n;do{t%2&&(n+=e),t=xt(t/2),t&&(e+=e)}while(t);return n}function Ei(e,t){return Is(bs(e,t,Pf),e+"")}function _i(e){return io(Vd(e))}function wi(e,t){var n=Vd(e);return Rs(n,mo(t,0,n.length))}function Si(e,t,n,r){if(!Sl(e))return e;t=Qi(t,e);var i=-1,a=t.length,s=a-1,c=e;while(null!=c&&++i<a){var u=Ps(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var d=c[u];l=r?r(d,u,c):o,l===o&&(l=Sl(d)?d:as(t[i+1])?[]:{})}uo(c,u,l),c=c[u]}return e}var Ci=cn?function(e,t){return cn.set(e,t),e}:Pf,Ii=Rt?function(e,t){return Rt(e,"toString",{configurable:!0,enumerable:!1,value:Of(t),writable:!0})}:Pf;function Oi(e){return Rs(Vd(e))}function Ti(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;var a=n(i);while(++o<i)a[o]=e[o+t];return a}function Ri(e,t){var n;return wo(e,(function(e,r,o){return n=t(e,r,o),!n})),!!n}function Ni(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=V){while(r<o){var i=r+o>>>1,a=e[i];null!==a&&!Fl(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return Pi(e,t,Pf,n)}function Pi(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;t=n(t);var s=t!==t,c=null===t,u=Fl(t),l=t===o;while(i<a){var d=xt((i+a)/2),f=n(e[d]),p=f!==o,h=null===f,g=f===f,v=Fl(f);if(s)var m=r||g;else m=l?g&&(r||p):c?g&&p&&(r||!h):u?g&&p&&!h&&(r||!v):!h&&!v&&(r?f<=t:f<t);m?i=d+1:a=d}return Vt(a,U)}function ki(e,t){var n=-1,r=e.length,o=0,i=[];while(++n<r){var a=e[n],s=t?t(a):a;if(!n||!ol(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function Di(e){return"number"==typeof e?e:Fl(e)?B:+e}function xi(e){if("string"==typeof e)return e;if(cl(e))return On(e,xi)+"";if(Fl(e))return br?br.call(e):"";var t=e+"";return"0"==t&&1/e==-L?"-0":t}function Li(e,t,n){var r=-1,o=Cn,i=e.length,s=!0,c=[],u=c;if(n)s=!1,o=In;else if(i>=a){var l=t?null:Ra(e);if(l)return dr(l);s=!1,o=Xn,u=new Yr}else u=t?[]:c;e:while(++r<i){var d=e[r],f=t?t(d):d;if(d=n||0!==d?d:0,s&&f===f){var p=u.length;while(p--)if(u[p]===f)continue e;t&&u.push(f),c.push(d)}else o(u,f,n)||(u!==c&&u.push(f),c.push(d))}return c}function ji(e,t){return t=Qi(t,e),e=Es(e,t),null==e||delete e[Ps(ic(t))]}function Mi(e,t,n,r){return Si(e,t,n(Lo(e,t)),r)}function Bi(e,t,n,r){var o=e.length,i=r?o:-1;while((r?i--:++i<o)&&t(e[i],i,e));return n?Ti(e,r?0:i,r?i+1:o):Ti(e,r?i+1:0,r?o:i)}function Fi(e,t){var n=e;return n instanceof Or&&(n=n.value()),Rn(t,(function(e,t){return t.func.apply(t.thisArg,Tn([e],t.args))}),n)}function Ui(e,t,r){var o=e.length;if(o<2)return o?Li(e[0]):[];var i=-1,a=n(o);while(++i<o){var s=e[i],c=-1;while(++c<o)c!=i&&(a[i]=_o(a[i]||s,e[c],t,r))}return Li(Ro(a,1),t,r)}function Vi(e,t,n){var r=-1,i=e.length,a=t.length,s={};while(++r<i){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function Wi(e){return dl(e)?e:[]}function Hi(e){return"function"==typeof e?e:Pf}function Qi(e,t){return cl(e)?e:cs(e,t)?[e]:Ns($l(e))}var Gi=Ei;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ti(e,t,n)}var qi=Nt||function(e){return sn.clearTimeout(e)};function zi(e,t){if(t)return e.slice();var n=e.length,r=Et?Et(n):new e.constructor(n);return e.copy(r),r}function Yi(e){var t=new e.constructor(e.byteLength);return new bt(t).set(new bt(e)),t}function Ji(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Xi(e){var t=new e.constructor(e.source,Ke.exec(e));return t.lastIndex=e.lastIndex,t}function Zi(e){return Ar?nt(Ar.call(e)):{}}function $i(e,t){var n=t?Yi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ea(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,a=Fl(e),s=t!==o,c=null===t,u=t===t,l=Fl(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function ta(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;while(++r<a){var c=ea(o[r],i[r]);if(c){if(r>=s)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}function na(e,t,r,o){var i=-1,a=e.length,s=r.length,c=-1,u=t.length,l=Ut(a-s,0),d=n(u+l),f=!o;while(++c<u)d[c]=t[c];while(++i<s)(f||i<a)&&(d[r[i]]=e[i]);while(l--)d[c++]=e[i++];return d}function ra(e,t,r,o){var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=t.length,d=Ut(a-c,0),f=n(d+l),p=!o;while(++i<d)f[i]=e[i];var h=i;while(++u<l)f[h+u]=t[u];while(++s<c)(p||i<a)&&(f[h+r[s]]=e[i++]);return f}function oa(e,t){var r=-1,o=e.length;t||(t=n(o));while(++r<o)t[r]=e[r];return t}function ia(e,t,n,r){var i=!n;n||(n={});var a=-1,s=t.length;while(++a<s){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?go(n,c,u):uo(n,c,u)}return n}function aa(e,t){return ia(e,Ya(e),t)}function sa(e,t){return ia(e,Ja(e),t)}function ca(e,t){return function(n,r){var o=cl(n)?bn:fo,i=t?t():{};return o(n,e,Qa(r,2),i)}}function ua(e){return Ei((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;a=e.length>3&&"function"==typeof a?(i--,a):o,s&&ss(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=nt(t);while(++r<i){var c=n[r];c&&e(t,c,r,a)}return t}))}function la(e,t){return function(n,r){if(null==n)return n;if(!ll(n))return e(n,r);var o=n.length,i=t?o:-1,a=nt(n);while(t?i--:++i<o)if(!1===r(a[i],i,a))break;return n}}function da(e){return function(t,n,r){var o=-1,i=nt(t),a=r(t),s=a.length;while(s--){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function fa(e,t,n){var r=t&y,o=ga(e);function i(){var t=this&&this!==sn&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}return i}function pa(e){return function(t){t=$l(t);var n=ir(t)?vr(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function ha(e){return function(t){return Rn(_f(zd(t).replace(Wt,"")),e,"")}}function ga(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Sr(e.prototype),r=e.apply(n,t);return Sl(r)?r:n}}function va(e,t,r){var i=ga(e);function a(){var s=arguments.length,c=n(s),u=s,l=Ha(a);while(u--)c[u]=arguments[u];var d=s<3&&c[0]!==l&&c[s-1]!==l?[]:lr(c,l);if(s-=d.length,s<r)return Oa(e,t,Aa,a.placeholder,o,c,d,o,o,r-s);var f=this&&this!==sn&&this instanceof a?i:e;return An(f,this,c)}return a}function ma(e){return function(t,n,r){var i=nt(t);if(!ll(t)){var a=Qa(n,3);t=_d(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function ya(e){return Ba((function(t){var n=t.length,r=n,i=Ir.prototype.thru;e&&t.reverse();while(r--){var a=t[r];if("function"!=typeof a)throw new it(c);if(i&&!s&&"wrapper"==Wa(a))var s=new Ir([],!0)}r=s?r:n;while(++r<n){a=t[r];var u=Wa(a),l="wrapper"==u?Va(a):o;s=l&&ls(l[0])&&l[1]==(C|E|w|I)&&!l[4].length&&1==l[9]?s[Wa(l[0])].apply(s,l[3]):1==a.length&&ls(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&cl(r))return s.plant(r).value();var o=0,i=n?t[o].apply(this,e):r;while(++o<n)i=t[o].call(this,i);return i}}))}function Aa(e,t,r,i,a,s,c,u,l,d){var f=t&C,p=t&y,h=t&A,g=t&(E|_),v=t&O,m=h?o:ga(e);function b(){var o=arguments.length,y=n(o),A=o;while(A--)y[A]=arguments[A];if(g)var E=Ha(b),_=er(y,E);if(i&&(y=na(y,i,a,g)),s&&(y=ra(y,s,c,g)),o-=_,g&&o<d){var w=lr(y,E);return Oa(e,t,Aa,b.placeholder,r,y,w,u,l,d-o)}var S=p?r:this,C=h?S[e]:e;return o=y.length,u?y=_s(y,u):v&&o>1&&y.reverse(),f&&l<o&&(y.length=l),this&&this!==sn&&this instanceof b&&(C=m||ga(C)),C.apply(S,y)}return b}function ba(e,t){return function(n,r){return Ho(n,e,t(r),{})}}function Ea(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=xi(n),r=xi(r)):(n=Di(n),r=Di(r)),i=e(n,r)}return i}}function _a(e){return Ba((function(t){return t=On(t,Yn(Qa())),Ei((function(n){var r=this;return e(t,(function(e){return An(e,r,n)}))}))}))}function wa(e,t){t=t===o?" ":xi(t);var n=t.length;if(n<2)return n?bi(t,e):t;var r=bi(t,Dt(e/gr(t)));return ir(t)?Ki(vr(r),0,e).join(""):r.slice(0,e)}function Sa(e,t,r,o){var i=t&y,a=ga(e);function s(){var t=-1,c=arguments.length,u=-1,l=o.length,d=n(l+c),f=this&&this!==sn&&this instanceof s?a:e;while(++u<l)d[u]=o[u];while(c--)d[u++]=arguments[++t];return An(f,i?r:this,d)}return s}function Ca(e){return function(t,n,r){return r&&"number"!=typeof r&&ss(t,n,r)&&(n=r=o),t=ql(t),n===o?(n=t,t=0):n=ql(n),r=r===o?t<n?1:-1:ql(r),Ai(t,n,r,e)}}function Ia(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Jl(t),n=Jl(n)),e(t,n)}}function Oa(e,t,n,r,i,a,s,c,u,l){var d=t&E,f=d?s:o,p=d?o:s,h=d?a:o,g=d?o:a;t|=d?w:S,t&=~(d?S:w),t&b||(t&=~(y|A));var v=[e,t,i,h,f,g,p,c,u,l],m=n.apply(o,v);return ls(e)&&Ss(m,v),m.placeholder=r,Os(m,e,t)}function Ta(e){var t=tt[e];return function(e,n){if(e=Jl(e),n=null==n?0:Vt(zl(n),292),n&&Mt(e)){var r=($l(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=($l(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var Ra=tn&&1/dr(new tn([,-0]))[1]==L?function(e){return new tn(e)}:Ff;function Na(e){return function(t){var n=Xa(t);return n==Z?cr(t):n==ie?fr(t):qn(t,e(t))}}function Pa(e,t,n,r,i,a,s,u){var l=t&A;if(!l&&"function"!=typeof e)throw new it(c);var d=r?r.length:0;if(d||(t&=~(w|S),r=i=o),s=s===o?s:Ut(zl(s),0),u=u===o?u:zl(u),d-=i?i.length:0,t&S){var f=r,p=i;r=i=o}var h=l?o:Va(e),g=[e,t,n,r,i,f,p,a,s,u];if(h&&ms(g,h),e=g[0],t=g[1],n=g[2],r=g[3],i=g[4],u=g[9]=g[9]===o?l?0:e.length:Ut(g[9]-d,0),!u&&t&(E|_)&&(t&=~(E|_)),t&&t!=y)v=t==E||t==_?va(e,t,u):t!=w&&t!=(y|w)||i.length?Aa.apply(o,g):Sa(e,t,n,r);else var v=fa(e,t,n);var m=h?Ci:Ss;return Os(m(v,g),e,t)}function ka(e,t,n,r){return e===o||ol(e,ct[n])&&!dt.call(r,n)?t:e}function Da(e,t,n,r,i,a){return Sl(e)&&Sl(t)&&(a.set(t,e),ui(e,t,o,Da,a),a["delete"](t)),e}function xa(e){return xl(e)?o:e}function La(e,t,n,r,i,a){var s=n&v,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var f=-1,p=!0,h=n&m?new Yr:o;a.set(e,t),a.set(t,e);while(++f<c){var g=e[f],y=t[f];if(r)var A=s?r(y,g,f,t,e,a):r(g,y,f,e,t,a);if(A!==o){if(A)continue;p=!1;break}if(h){if(!Pn(t,(function(e,t){if(!Xn(h,t)&&(g===e||i(g,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(g!==y&&!i(g,y,n,r,a)){p=!1;break}}return a["delete"](e),a["delete"](t),p}function ja(e,t,n,r,o,i,a){switch(n){case fe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case de:return!(e.byteLength!=t.byteLength||!i(new bt(e),new bt(t)));case K:case q:case $:return ol(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case oe:case ae:return e==t+"";case Z:var s=cr;case ie:var c=r&v;if(s||(s=dr),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=m,a.set(e,t);var l=La(s(e),s(t),r,o,i,a);return a["delete"](e),l;case se:if(Ar)return Ar.call(e)==Ar.call(t)}return!1}function Ma(e,t,n,r,i,a){var s=n&v,c=Fa(e),u=c.length,l=Fa(t),d=l.length;if(u!=d&&!s)return!1;var f=u;while(f--){var p=c[f];if(!(s?p in t:dt.call(t,p)))return!1}var h=a.get(e),g=a.get(t);if(h&&g)return h==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var y=s;while(++f<u){p=c[f];var A=e[p],b=t[p];if(r)var E=s?r(b,A,p,t,e,a):r(A,b,p,e,t,a);if(!(E===o?A===b||i(A,b,n,r,a):E)){m=!1;break}y||(y="constructor"==p)}if(m&&!y){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return a["delete"](e),a["delete"](t),m}function Ba(e){return Is(bs(e,o,zs),e+"")}function Fa(e){return jo(e,_d,Ya)}function Ua(e){return jo(e,wd,Ja)}var Va=cn?function(e){return cn.get(e)}:Ff;function Wa(e){var t=e.name+"",n=un[t],r=dt.call(un,t)?n.length:0;while(r--){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Ha(e){var t=dt.call(_r,"placeholder")?_r:e;return t.placeholder}function Qa(){var e=_r.iteratee||kf;return e=e===kf?ni:e,arguments.length?e(arguments[0],arguments[1]):e}function Ga(e,t){var n=e.__data__;return us(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ka(e){var t=_d(e),n=t.length;while(n--){var r=t[n],o=e[r];t[n]=[r,o,hs(o)]}return t}function qa(e,t){var n=or(e,t);return Zo(n)?n:o}function za(e){var t=dt.call(e,Tt),n=e[Tt];try{e[Tt]=o;var r=!0}catch(a){}var i=ht.call(e);return r&&(t?e[Tt]=n:delete e[Tt]),i}var Ya=Lt?function(e){return null==e?[]:(e=nt(e),Sn(Lt(e),(function(t){return St.call(e,t)})))}:zf,Ja=Lt?function(e){var t=[];while(e)Tn(t,Ya(e)),e=_t(e);return t}:zf,Xa=Mo;function Za(e,t,n){var r=-1,o=n.length;while(++r<o){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Vt(t,e+a);break;case"takeRight":e=Ut(e,t-a);break}}return{start:e,end:t}}function $a(e){var t=e.match(Ue);return t?t[1].split(Ve):[]}function es(e,t,n){t=Qi(t,e);var r=-1,o=t.length,i=!1;while(++r<o){var a=Ps(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=null==e?0:e.length,!!o&&wl(o)&&as(a,o)&&(cl(e)||sl(e)))}function ts(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&dt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ns(e){return"function"!=typeof e.constructor||ps(e)?{}:Sr(_t(e))}function rs(e,t,n){var r=e.constructor;switch(t){case de:return Yi(e);case K:case q:return new r(+e);case fe:return Ji(e,n);case pe:case he:case ge:case ve:case me:case ye:case Ae:case be:case Ee:return $i(e,n);case Z:return new r;case $:case ae:return new r(e);case oe:return Xi(e);case ie:return new r;case se:return Zi(e)}}function os(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}function is(e){return cl(e)||sl(e)||!!(It&&e&&e[It])}function as(e,t){var n=typeof e;return t=null==t?j:t,!!t&&("number"==n||"symbol"!=n&&Xe.test(e))&&e>-1&&e%1==0&&e<t}function ss(e,t,n){if(!Sl(n))return!1;var r=typeof t;return!!("number"==r?ll(n)&&as(t,n.length):"string"==r&&t in n)&&ol(n[t],e)}function cs(e,t){if(cl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Fl(e))||(De.test(e)||!ke.test(e)||null!=t&&e in nt(t))}function us(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ls(e){var t=Wa(e),n=_r[t];if("function"!=typeof n||!(t in Or.prototype))return!1;if(e===n)return!0;var r=Va(n);return!!r&&e===r[0]}function ds(e){return!!pt&&pt in e}(Zt&&Xa(new Zt(new ArrayBuffer(1)))!=fe||$t&&Xa(new $t)!=Z||en&&Xa(en.resolve())!=ne||tn&&Xa(new tn)!=ie||on&&Xa(new on)!=ue)&&(Xa=function(e){var t=Mo(e),n=t==te?e.constructor:o,r=n?ks(n):"";if(r)switch(r){case dn:return fe;case fn:return Z;case kn:return ne;case Dn:return ie;case Wn:return ue}return t});var fs=ut?El:Yf;function ps(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ct;return e===n}function hs(e){return e===e&&!Sl(e)}function gs(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in nt(n)))}}function vs(e){var t=Uu(e,(function(e){return n.size===d&&n.clear(),e})),n=t.cache;return t}function ms(e,t){var n=e[1],r=t[1],o=n|r,i=o<(y|A|C),a=r==C&&n==E||r==C&&n==I&&e[7].length<=t[8]||r==(C|I)&&t[7].length<=t[8]&&n==E;if(!i&&!a)return e;r&y&&(e[2]=t[2],o|=n&y?0:b);var s=t[3];if(s){var c=e[3];e[3]=c?na(c,s,t[4]):s,e[4]=c?lr(e[3],f):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?ra(c,s,t[6]):s,e[6]=c?lr(e[5],f):t[6]),s=t[7],s&&(e[7]=s),r&C&&(e[8]=null==e[8]?t[8]:Vt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function ys(e){var t=[];if(null!=e)for(var n in nt(e))t.push(n);return t}function As(e){return ht.call(e)}function bs(e,t,r){return t=Ut(t===o?e.length-1:t,0),function(){var o=arguments,i=-1,a=Ut(o.length-t,0),s=n(a);while(++i<a)s[i]=o[t+i];i=-1;var c=n(t+1);while(++i<t)c[i]=o[i];return c[t]=r(s),An(e,this,c)}}function Es(e,t){return t.length<2?e:Lo(e,Ti(t,0,-1))}function _s(e,t){var n=e.length,r=Vt(t.length,n),i=oa(e);while(r--){var a=t[r];e[r]=as(a,n)?i[a]:o}return e}function ws(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ss=Ts(Ci),Cs=kt||function(e,t){return sn.setTimeout(e,t)},Is=Ts(Ii);function Os(e,t,n){var r=t+"";return Is(e,os(r,Ds($a(r),n)))}function Ts(e){var t=0,n=0;return function(){var r=Qt(),i=P-(r-n);if(n=r,i>0){if(++t>=N)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Rs(e,t){var n=-1,r=e.length,i=r-1;t=t===o?r:t;while(++n<t){var a=yi(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Ns=vs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xe,(function(e,n,r,o){t.push(r?o.replace(Qe,"$1"):n||e)})),t}));function Ps(e){if("string"==typeof e||Fl(e))return e;var t=e+"";return"0"==t&&1/e==-L?"-0":t}function ks(e){if(null!=e){try{return lt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ds(e,t){return En(W,(function(n){var r="_."+n[0];t&n[1]&&!Cn(e,r)&&e.push(r)})),e.sort()}function xs(e){if(e instanceof Or)return e.clone();var t=new Ir(e.__wrapped__,e.__chain__);return t.__actions__=oa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Ls(e,t,r){t=(r?ss(e,t,r):t===o)?1:Ut(zl(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];var a=0,s=0,c=n(Dt(i/t));while(a<i)c[s++]=Ti(e,a,a+=t);return c}function js(e){var t=-1,n=null==e?0:e.length,r=0,o=[];while(++t<n){var i=e[t];i&&(o[r++]=i)}return o}function Ms(){var e=arguments.length;if(!e)return[];var t=n(e-1),r=arguments[0],o=e;while(o--)t[o-1]=arguments[o];return Tn(cl(r)?oa(r):[r],Ro(t,1))}var Bs=Ei((function(e,t){return dl(e)?_o(e,Ro(t,1,dl,!0)):[]})),Fs=Ei((function(e,t){var n=ic(t);return dl(n)&&(n=o),dl(e)?_o(e,Ro(t,1,dl,!0),Qa(n,2)):[]})),Us=Ei((function(e,t){var n=ic(t);return dl(n)&&(n=o),dl(e)?_o(e,Ro(t,1,dl,!0),o,n):[]}));function Vs(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:zl(t),Ti(e,t<0?0:t,r)):[]}function Ws(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:zl(t),t=r-t,Ti(e,0,t<0?0:t)):[]}function Hs(e,t){return e&&e.length?Bi(e,Qa(t,3),!0,!0):[]}function Qs(e,t){return e&&e.length?Bi(e,Qa(t,3),!0):[]}function Gs(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&ss(e,t,n)&&(n=0,r=o),Oo(e,t,n,r)):[]}function Ks(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:zl(n);return o<0&&(o=Ut(r+o,0)),jn(e,Qa(t,3),o)}function qs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=zl(n),i=n<0?Ut(r+i,0):Vt(i,r-1)),jn(e,Qa(t,3),i,!0)}function zs(e){var t=null==e?0:e.length;return t?Ro(e,1):[]}function Ys(e){var t=null==e?0:e.length;return t?Ro(e,L):[]}function Js(e,t){var n=null==e?0:e.length;return n?(t=t===o?1:zl(t),Ro(e,t)):[]}function Xs(e){var t=-1,n=null==e?0:e.length,r={};while(++t<n){var o=e[t];r[o[0]]=o[1]}return r}function Zs(e){return e&&e.length?e[0]:o}function $s(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:zl(n);return o<0&&(o=Ut(r+o,0)),Mn(e,t,o)}function ec(e){var t=null==e?0:e.length;return t?Ti(e,0,-1):[]}var tc=Ei((function(e){var t=On(e,Wi);return t.length&&t[0]===e[0]?Wo(t):[]})),nc=Ei((function(e){var t=ic(e),n=On(e,Wi);return t===ic(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Wo(n,Qa(t,2)):[]})),rc=Ei((function(e){var t=ic(e),n=On(e,Wi);return t="function"==typeof t?t:o,t&&n.pop(),n.length&&n[0]===e[0]?Wo(n,o,t):[]}));function oc(e,t){return null==e?"":Bt.call(e,t)}function ic(e){var t=null==e?0:e.length;return t?e[t-1]:o}function ac(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=zl(n),i=i<0?Ut(r+i,0):Vt(i,r-1)),t===t?hr(e,t,i):jn(e,Fn,i,!0)}function sc(e,t){return e&&e.length?di(e,zl(t)):o}var cc=Ei(uc);function uc(e,t){return e&&e.length&&t&&t.length?vi(e,t):e}function lc(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,Qa(n,2)):e}function dc(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,o,n):e}var fc=Ba((function(e,t){var n=null==e?0:e.length,r=vo(e,t);return mi(e,On(t,(function(e){return as(e,n)?+e:e})).sort(ea)),r}));function pc(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;t=Qa(t,3);while(++r<i){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return mi(e,o),n}function hc(e){return null==e?e:qt.call(e)}function gc(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ss(e,t,n)?(t=0,n=r):(t=null==t?0:zl(t),n=n===o?r:zl(n)),Ti(e,t,n)):[]}function vc(e,t){return Ni(e,t)}function mc(e,t,n){return Pi(e,t,Qa(n,2))}function yc(e,t){var n=null==e?0:e.length;if(n){var r=Ni(e,t);if(r<n&&ol(e[r],t))return r}return-1}function Ac(e,t){return Ni(e,t,!0)}function bc(e,t,n){return Pi(e,t,Qa(n,2),!0)}function Ec(e,t){var n=null==e?0:e.length;if(n){var r=Ni(e,t,!0)-1;if(ol(e[r],t))return r}return-1}function _c(e){return e&&e.length?ki(e):[]}function wc(e,t){return e&&e.length?ki(e,Qa(t,2)):[]}function Sc(e){var t=null==e?0:e.length;return t?Ti(e,1,t):[]}function Cc(e,t,n){return e&&e.length?(t=n||t===o?1:zl(t),Ti(e,0,t<0?0:t)):[]}function Ic(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===o?1:zl(t),t=r-t,Ti(e,t<0?0:t,r)):[]}function Oc(e,t){return e&&e.length?Bi(e,Qa(t,3),!1,!0):[]}function Tc(e,t){return e&&e.length?Bi(e,Qa(t,3)):[]}var Rc=Ei((function(e){return Li(Ro(e,1,dl,!0))})),Nc=Ei((function(e){var t=ic(e);return dl(t)&&(t=o),Li(Ro(e,1,dl,!0),Qa(t,2))})),Pc=Ei((function(e){var t=ic(e);return t="function"==typeof t?t:o,Li(Ro(e,1,dl,!0),o,t)}));function kc(e){return e&&e.length?Li(e):[]}function Dc(e,t){return e&&e.length?Li(e,Qa(t,2)):[]}function xc(e,t){return t="function"==typeof t?t:o,e&&e.length?Li(e,o,t):[]}function Lc(e){if(!e||!e.length)return[];var t=0;return e=Sn(e,(function(e){if(dl(e))return t=Ut(e.length,t),!0})),Kn(t,(function(t){return On(e,Vn(t))}))}function jc(e,t){if(!e||!e.length)return[];var n=Lc(e);return null==t?n:On(n,(function(e){return An(t,o,e)}))}var Mc=Ei((function(e,t){return dl(e)?_o(e,t):[]})),Bc=Ei((function(e){return Ui(Sn(e,dl))})),Fc=Ei((function(e){var t=ic(e);return dl(t)&&(t=o),Ui(Sn(e,dl),Qa(t,2))})),Uc=Ei((function(e){var t=ic(e);return t="function"==typeof t?t:o,Ui(Sn(e,dl),o,t)})),Vc=Ei(Lc);function Wc(e,t){return Vi(e||[],t||[],uo)}function Hc(e,t){return Vi(e||[],t||[],Si)}var Qc=Ei((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,jc(e,n)}));function Gc(e){var t=_r(e);return t.__chain__=!0,t}function Kc(e,t){return t(e),e}function qc(e,t){return t(e)}var zc=Ba((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return vo(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Or&&as(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:qc,args:[i],thisArg:o}),new Ir(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));function Yc(){return Gc(this)}function Jc(){return new Ir(this.value(),this.__chain__)}function Xc(){this.__values__===o&&(this.__values__=Kl(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Zc(){return this}function $c(e){var t,n=this;while(n instanceof Cr){var r=xs(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function eu(){var e=this.__wrapped__;if(e instanceof Or){var t=e;return this.__actions__.length&&(t=new Or(this)),t=t.reverse(),t.__actions__.push({func:qc,args:[hc],thisArg:o}),new Ir(t,this.__chain__)}return this.thru(hc)}function tu(){return Fi(this.__wrapped__,this.__actions__)}var nu=ca((function(e,t,n){dt.call(e,n)?++e[n]:go(e,n,1)}));function ru(e,t,n){var r=cl(e)?wn:Co;return n&&ss(e,t,n)&&(t=o),r(e,Qa(t,3))}function ou(e,t){var n=cl(e)?Sn:To;return n(e,Qa(t,3))}var iu=ma(Ks),au=ma(qs);function su(e,t){return Ro(vu(e,t),1)}function cu(e,t){return Ro(vu(e,t),L)}function uu(e,t,n){return n=n===o?1:zl(n),Ro(vu(e,t),n)}function lu(e,t){var n=cl(e)?En:wo;return n(e,Qa(t,3))}function du(e,t){var n=cl(e)?_n:So;return n(e,Qa(t,3))}var fu=ca((function(e,t,n){dt.call(e,n)?e[n].push(t):go(e,n,[t])}));function pu(e,t,n,r){e=ll(e)?e:Vd(e),n=n&&!r?zl(n):0;var o=e.length;return n<0&&(n=Ut(o+n,0)),Bl(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Mn(e,t,n)>-1}var hu=Ei((function(e,t,r){var o=-1,i="function"==typeof t,a=ll(e)?n(e.length):[];return wo(e,(function(e){a[++o]=i?An(t,e,r):Qo(e,t,r)})),a})),gu=ca((function(e,t,n){go(e,n,t)}));function vu(e,t){var n=cl(e)?On:ai;return n(e,Qa(t,3))}function mu(e,t,n,r){return null==e?[]:(cl(t)||(t=null==t?[]:[t]),n=r?o:n,cl(n)||(n=null==n?[]:[n]),fi(e,t,n))}var yu=ca((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function Au(e,t,n){var r=cl(e)?Rn:Hn,o=arguments.length<3;return r(e,Qa(t,4),n,o,wo)}function bu(e,t,n){var r=cl(e)?Nn:Hn,o=arguments.length<3;return r(e,Qa(t,4),n,o,So)}function Eu(e,t){var n=cl(e)?Sn:To;return n(e,Vu(Qa(t,3)))}function _u(e){var t=cl(e)?io:_i;return t(e)}function wu(e,t,n){t=(n?ss(e,t,n):t===o)?1:zl(t);var r=cl(e)?ao:wi;return r(e,t)}function Su(e){var t=cl(e)?so:Oi;return t(e)}function Cu(e){if(null==e)return 0;if(ll(e))return Bl(e)?gr(e):e.length;var t=Xa(e);return t==Z||t==ie?e.size:ri(e).length}function Iu(e,t,n){var r=cl(e)?Pn:Ri;return n&&ss(e,t,n)&&(t=o),r(e,Qa(t,3))}var Ou=Ei((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ss(e,t[0],t[1])?t=[]:n>2&&ss(t[0],t[1],t[2])&&(t=[t[0]]),fi(e,Ro(t,1),[])})),Tu=Pt||function(){return sn.Date.now()};function Ru(e,t){if("function"!=typeof t)throw new it(c);return e=zl(e),function(){if(--e<1)return t.apply(this,arguments)}}function Nu(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Pa(e,C,o,o,o,o,t)}function Pu(e,t){var n;if("function"!=typeof t)throw new it(c);return e=zl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ku=Ei((function(e,t,n){var r=y;if(n.length){var o=lr(n,Ha(ku));r|=w}return Pa(e,r,t,n,o)})),Du=Ei((function(e,t,n){var r=y|A;if(n.length){var o=lr(n,Ha(Du));r|=w}return Pa(t,r,e,n,o)}));function xu(e,t,n){t=n?o:t;var r=Pa(e,E,o,o,o,o,o,t);return r.placeholder=xu.placeholder,r}function Lu(e,t,n){t=n?o:t;var r=Pa(e,_,o,o,o,o,o,t);return r.placeholder=Lu.placeholder,r}function ju(e,t,n){var r,i,a,s,u,l,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new it(c);function g(t){var n=r,a=i;return r=i=o,d=t,s=e.apply(a,n),s}function v(e){return d=e,u=Cs(A,t),f?g(e):s}function m(e){var n=e-l,r=e-d,o=t-n;return p?Vt(o,a-r):o}function y(e){var n=e-l,r=e-d;return l===o||n>=t||n<0||p&&r>=a}function A(){var e=Tu();if(y(e))return b(e);u=Cs(A,m(e))}function b(e){return u=o,h&&r?g(e):(r=i=o,s)}function E(){u!==o&&qi(u),d=0,r=l=i=u=o}function _(){return u===o?s:b(Tu())}function w(){var e=Tu(),n=y(e);if(r=arguments,i=this,l=e,n){if(u===o)return v(l);if(p)return qi(u),u=Cs(A,t),g(l)}return u===o&&(u=Cs(A,t)),s}return t=Jl(t)||0,Sl(n)&&(f=!!n.leading,p="maxWait"in n,a=p?Ut(Jl(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),w.cancel=E,w.flush=_,w}var Mu=Ei((function(e,t){return Eo(e,1,t)})),Bu=Ei((function(e,t,n){return Eo(e,Jl(t)||0,n)}));function Fu(e){return Pa(e,O)}function Uu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(c);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Uu.Cache||Hr),n}function Vu(e){if("function"!=typeof e)throw new it(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Wu(e){return Pu(2,e)}Uu.Cache=Hr;var Hu=Gi((function(e,t){t=1==t.length&&cl(t[0])?On(t[0],Yn(Qa())):On(Ro(t,1),Yn(Qa()));var n=t.length;return Ei((function(r){var o=-1,i=Vt(r.length,n);while(++o<i)r[o]=t[o].call(this,r[o]);return An(e,this,r)}))})),Qu=Ei((function(e,t){var n=lr(t,Ha(Qu));return Pa(e,w,o,t,n)})),Gu=Ei((function(e,t){var n=lr(t,Ha(Gu));return Pa(e,S,o,t,n)})),Ku=Ba((function(e,t){return Pa(e,I,o,o,o,t)}));function qu(e,t){if("function"!=typeof e)throw new it(c);return t=t===o?t:zl(t),Ei(e,t)}function zu(e,t){if("function"!=typeof e)throw new it(c);return t=null==t?0:Ut(zl(t),0),Ei((function(n){var r=n[t],o=Ki(n,0,t);return r&&Tn(o,r),An(e,this,o)}))}function Yu(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new it(c);return Sl(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ju(e,t,{leading:r,maxWait:t,trailing:o})}function Ju(e){return Nu(e,1)}function Xu(e,t){return Qu(Hi(t),e)}function Zu(){if(!arguments.length)return[];var e=arguments[0];return cl(e)?e:[e]}function $u(e){return yo(e,g)}function el(e,t){return t="function"==typeof t?t:o,yo(e,g,t)}function tl(e){return yo(e,p|g)}function nl(e,t){return t="function"==typeof t?t:o,yo(e,p|g,t)}function rl(e,t){return null==t||bo(e,t,_d(t))}function ol(e,t){return e===t||e!==e&&t!==t}var il=Ia(Bo),al=Ia((function(e,t){return e>=t})),sl=Go(function(){return arguments}())?Go:function(e){return Cl(e)&&dt.call(e,"callee")&&!St.call(e,"callee")},cl=n.isArray,ul=pn?Yn(pn):Ko;function ll(e){return null!=e&&wl(e.length)&&!El(e)}function dl(e){return Cl(e)&&ll(e)}function fl(e){return!0===e||!1===e||Cl(e)&&Mo(e)==K}var pl=jt||Yf,hl=hn?Yn(hn):qo;function gl(e){return Cl(e)&&1===e.nodeType&&!xl(e)}function vl(e){if(null==e)return!0;if(ll(e)&&(cl(e)||"string"==typeof e||"function"==typeof e.splice||pl(e)||Ul(e)||sl(e)))return!e.length;var t=Xa(e);if(t==Z||t==ie)return!e.size;if(ps(e))return!ri(e).length;for(var n in e)if(dt.call(e,n))return!1;return!0}function ml(e,t){return zo(e,t)}function yl(e,t,n){n="function"==typeof n?n:o;var r=n?n(e,t):o;return r===o?zo(e,t,o,n):!!r}function Al(e){if(!Cl(e))return!1;var t=Mo(e);return t==Y||t==z||"string"==typeof e.message&&"string"==typeof e.name&&!xl(e)}function bl(e){return"number"==typeof e&&Mt(e)}function El(e){if(!Sl(e))return!1;var t=Mo(e);return t==J||t==X||t==G||t==re}function _l(e){return"number"==typeof e&&e==zl(e)}function wl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=j}function Sl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Cl(e){return null!=e&&"object"==typeof e}var Il=gn?Yn(gn):Jo;function Ol(e,t){return e===t||Xo(e,t,Ka(t))}function Tl(e,t,n){return n="function"==typeof n?n:o,Xo(e,t,Ka(t),n)}function Rl(e){return Dl(e)&&e!=+e}function Nl(e){if(fs(e))throw new Be(s);return Zo(e)}function Pl(e){return null===e}function kl(e){return null==e}function Dl(e){return"number"==typeof e||Cl(e)&&Mo(e)==$}function xl(e){if(!Cl(e)||Mo(e)!=te)return!1;var t=_t(e);if(null===t)return!0;var n=dt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==gt}var Ll=vn?Yn(vn):$o;function jl(e){return _l(e)&&e>=-j&&e<=j}var Ml=mn?Yn(mn):ei;function Bl(e){return"string"==typeof e||!cl(e)&&Cl(e)&&Mo(e)==ae}function Fl(e){return"symbol"==typeof e||Cl(e)&&Mo(e)==se}var Ul=yn?Yn(yn):ti;function Vl(e){return e===o}function Wl(e){return Cl(e)&&Xa(e)==ue}function Hl(e){return Cl(e)&&Mo(e)==le}var Ql=Ia(ii),Gl=Ia((function(e,t){return e<=t}));function Kl(e){if(!e)return[];if(ll(e))return Bl(e)?vr(e):oa(e);if(Ot&&e[Ot])return sr(e[Ot]());var t=Xa(e),n=t==Z?cr:t==ie?dr:Vd;return n(e)}function ql(e){if(!e)return 0===e?e:0;if(e=Jl(e),e===L||e===-L){var t=e<0?-1:1;return t*M}return e===e?e:0}function zl(e){var t=ql(e),n=t%1;return t===t?n?t-n:t:0}function Yl(e){return e?mo(zl(e),0,F):0}function Jl(e){if("number"==typeof e)return e;if(Fl(e))return B;if(Sl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Sl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=zn(e);var n=ze.test(e);return n||Je.test(e)?rn(e.slice(2),n?2:8):qe.test(e)?B:+e}function Xl(e){return ia(e,wd(e))}function Zl(e){return e?mo(zl(e),-j,j):0===e?e:0}function $l(e){return null==e?"":xi(e)}var ed=ua((function(e,t){if(ps(t)||ll(t))ia(t,_d(t),e);else for(var n in t)dt.call(t,n)&&uo(e,n,t[n])})),td=ua((function(e,t){ia(t,wd(t),e)})),nd=ua((function(e,t,n,r){ia(t,wd(t),e,r)})),rd=ua((function(e,t,n,r){ia(t,_d(t),e,r)})),od=Ba(vo);function id(e,t){var n=Sr(e);return null==t?n:po(n,t)}var ad=Ei((function(e,t){e=nt(e);var n=-1,r=t.length,i=r>2?t[2]:o;i&&ss(t[0],t[1],i)&&(r=1);while(++n<r){var a=t[n],s=wd(a),c=-1,u=s.length;while(++c<u){var l=s[c],d=e[l];(d===o||ol(d,ct[l])&&!dt.call(e,l))&&(e[l]=a[l])}}return e})),sd=Ei((function(e){return e.push(o,Da),An(Od,o,e)}));function cd(e,t){return Ln(e,Qa(t,3),ko)}function ud(e,t){return Ln(e,Qa(t,3),Do)}function ld(e,t){return null==e?e:No(e,Qa(t,3),wd)}function dd(e,t){return null==e?e:Po(e,Qa(t,3),wd)}function fd(e,t){return e&&ko(e,Qa(t,3))}function pd(e,t){return e&&Do(e,Qa(t,3))}function hd(e){return null==e?[]:xo(e,_d(e))}function gd(e){return null==e?[]:xo(e,wd(e))}function vd(e,t,n){var r=null==e?o:Lo(e,t);return r===o?n:r}function md(e,t){return null!=e&&es(e,t,Fo)}function yd(e,t){return null!=e&&es(e,t,Uo)}var Ad=ba((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),e[t]=n}),Of(Pf)),bd=ba((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ht.call(t)),dt.call(e,t)?e[t].push(n):e[t]=[n]}),Qa),Ed=Ei(Qo);function _d(e){return ll(e)?oo(e):ri(e)}function wd(e){return ll(e)?oo(e,!0):oi(e)}function Sd(e,t){var n={};return t=Qa(t,3),ko(e,(function(e,r,o){go(n,t(e,r,o),e)})),n}function Cd(e,t){var n={};return t=Qa(t,3),ko(e,(function(e,r,o){go(n,r,t(e,r,o))})),n}var Id=ua((function(e,t,n){ui(e,t,n)})),Od=ua((function(e,t,n,r){ui(e,t,n,r)})),Td=Ba((function(e,t){var n={};if(null==e)return n;var r=!1;t=On(t,(function(t){return t=Qi(t,e),r||(r=t.length>1),t})),ia(e,Ua(e),n),r&&(n=yo(n,p|h|g,xa));var o=t.length;while(o--)ji(n,t[o]);return n}));function Rd(e,t){return Pd(e,Vu(Qa(t)))}var Nd=Ba((function(e,t){return null==e?{}:pi(e,t)}));function Pd(e,t){if(null==e)return{};var n=On(Ua(e),(function(e){return[e]}));return t=Qa(t),hi(e,n,(function(e,n){return t(e,n[0])}))}function kd(e,t,n){t=Qi(t,e);var r=-1,i=t.length;i||(i=1,e=o);while(++r<i){var a=null==e?o:e[Ps(t[r])];a===o&&(r=i,a=n),e=El(a)?a.call(e):a}return e}function Dd(e,t,n){return null==e?e:Si(e,t,n)}function xd(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Si(e,t,n,r)}var Ld=Na(_d),jd=Na(wd);function Md(e,t,n){var r=cl(e),o=r||pl(e)||Ul(e);if(t=Qa(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Sl(e)&&El(i)?Sr(_t(e)):{}}return(o?En:ko)(e,(function(e,r,o){return t(n,e,r,o)})),n}function Bd(e,t){return null==e||ji(e,t)}function Fd(e,t,n){return null==e?e:Mi(e,t,Hi(n))}function Ud(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Mi(e,t,Hi(n),r)}function Vd(e){return null==e?[]:Jn(e,_d(e))}function Wd(e){return null==e?[]:Jn(e,wd(e))}function Hd(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=Jl(n),n=n===n?n:0),t!==o&&(t=Jl(t),t=t===t?t:0),mo(Jl(e),t,n)}function Qd(e,t,n){return t=ql(t),n===o?(n=t,t=0):n=ql(n),e=Jl(e),Vo(e,t,n)}function Gd(e,t,n){if(n&&"boolean"!=typeof n&&ss(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ql(e),t===o?(t=e,e=0):t=ql(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Kt();return Vt(e+i*(t-e+nn("1e-"+((i+"").length-1))),t)}return yi(e,t)}var Kd=ha((function(e,t,n){return t=t.toLowerCase(),e+(n?qd(t):t)}));function qd(e){return Ef($l(e).toLowerCase())}function zd(e){return e=$l(e),e&&e.replace(Ze,tr).replace(Ht,"")}function Yd(e,t,n){e=$l(e),t=xi(t);var r=e.length;n=n===o?r:mo(zl(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Jd(e){return e=$l(e),e&&Te.test(e)?e.replace(Ie,nr):e}function Xd(e){return e=$l(e),e&&je.test(e)?e.replace(Le,"\\$&"):e}var Zd=ha((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$d=ha((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ef=pa("toLowerCase");function tf(e,t,n){e=$l(e),t=zl(t);var r=t?gr(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return wa(xt(o),n)+e+wa(Dt(o),n)}function nf(e,t,n){e=$l(e),t=zl(t);var r=t?gr(e):0;return t&&r<t?e+wa(t-r,n):e}function rf(e,t,n){e=$l(e),t=zl(t);var r=t?gr(e):0;return t&&r<t?wa(t-r,n)+e:e}function of(e,t,n){return n||null==t?t=0:t&&(t=+t),Gt($l(e).replace(Me,""),t||0)}function af(e,t,n){return t=(n?ss(e,t,n):t===o)?1:zl(t),bi($l(e),t)}function sf(){var e=arguments,t=$l(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var cf=ha((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function uf(e,t,n){return n&&"number"!=typeof n&&ss(e,t,n)&&(t=n=o),n=n===o?F:n>>>0,n?(e=$l(e),e&&("string"==typeof t||null!=t&&!Ll(t))&&(t=xi(t),!t&&ir(e))?Ki(vr(e),0,n):e.split(t,n)):[]}var lf=ha((function(e,t,n){return e+(n?" ":"")+Ef(t)}));function df(e,t,n){return e=$l(e),n=null==n?0:mo(zl(n),0,e.length),t=xi(t),e.slice(n,n+t.length)==t}function ff(e,t,n){var r=_r.templateSettings;n&&ss(e,t,n)&&(t=o),e=$l(e),t=nd({},t,r,ka);var i,a,s=nd({},t.imports,r.imports,ka),c=_d(s),l=Jn(s,c),d=0,f=t.interpolate||$e,p="__p += '",h=rt((t.escape||$e).source+"|"+f.source+"|"+(f===Pe?Ge:$e).source+"|"+(t.evaluate||$e).source+"|$","g"),g="//# sourceURL="+(dt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yt+"]")+"\n";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),p+=e.slice(d,c).replace(et,rr),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=c+t.length,t})),p+="';\n";var v=dt.call(t,"variable")&&t.variable;if(v){if(He.test(v))throw new Be(u)}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(_e,""):p).replace(we,"$1").replace(Se,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=wf((function(){return We(c,g+"return "+p).apply(o,l)}));if(m.source=p,Al(m))throw m;return m}function pf(e){return $l(e).toLowerCase()}function hf(e){return $l(e).toUpperCase()}function gf(e,t,n){if(e=$l(e),e&&(n||t===o))return zn(e);if(!e||!(t=xi(t)))return e;var r=vr(e),i=vr(t),a=Zn(r,i),s=$n(r,i)+1;return Ki(r,a,s).join("")}function vf(e,t,n){if(e=$l(e),e&&(n||t===o))return e.slice(0,mr(e)+1);if(!e||!(t=xi(t)))return e;var r=vr(e),i=$n(r,vr(t))+1;return Ki(r,0,i).join("")}function mf(e,t,n){if(e=$l(e),e&&(n||t===o))return e.replace(Me,"");if(!e||!(t=xi(t)))return e;var r=vr(e),i=Zn(r,vr(t));return Ki(r,i).join("")}function yf(e,t){var n=T,r=R;if(Sl(t)){var i="separator"in t?t.separator:i;n="length"in t?zl(t.length):n,r="omission"in t?xi(t.omission):r}e=$l(e);var a=e.length;if(ir(e)){var s=vr(e);a=s.length}if(n>=a)return e;var c=n-gr(r);if(c<1)return r;var u=s?Ki(s,0,c).join(""):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),Ll(i)){if(e.slice(c).search(i)){var l,d=u;i.global||(i=rt(i.source,$l(Ke.exec(i))+"g")),i.lastIndex=0;while(l=i.exec(d))var f=l.index;u=u.slice(0,f===o?c:f)}}else if(e.indexOf(xi(i),c)!=c){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r}function Af(e){return e=$l(e),e&&Oe.test(e)?e.replace(Ce,yr):e}var bf=ha((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ef=pa("toUpperCase");function _f(e,t,n){return e=$l(e),t=n?o:t,t===o?ar(e)?Er(e):xn(e):e.match(t)||[]}var wf=Ei((function(e,t){try{return An(e,o,t)}catch(n){return Al(n)?n:new Be(n)}})),Sf=Ba((function(e,t){return En(t,(function(t){t=Ps(t),go(e,t,ku(e[t],e))})),e}));function Cf(e){var t=null==e?0:e.length,n=Qa();return e=t?On(e,(function(e){if("function"!=typeof e[1])throw new it(c);return[n(e[0]),e[1]]})):[],Ei((function(n){var r=-1;while(++r<t){var o=e[r];if(An(o[0],this,n))return An(o[1],this,n)}}))}function If(e){return Ao(yo(e,p))}function Of(e){return function(){return e}}function Tf(e,t){return null==e||e!==e?t:e}var Rf=ya(),Nf=ya(!0);function Pf(e){return e}function kf(e){return ni("function"==typeof e?e:yo(e,p))}function Df(e){return si(yo(e,p))}function xf(e,t){return ci(e,yo(t,p))}var Lf=Ei((function(e,t){return function(n){return Qo(n,e,t)}})),jf=Ei((function(e,t){return function(n){return Qo(e,n,t)}}));function Mf(e,t,n){var r=_d(t),o=xo(t,r);null!=n||Sl(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=xo(t,_d(t)));var i=!(Sl(n)&&"chain"in n)||!!n.chain,a=El(e);return En(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=oa(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tn([this.value()],arguments))})})),e}function Bf(){return sn._===this&&(sn._=vt),this}function Ff(){}function Uf(e){return e=zl(e),Ei((function(t){return di(t,e)}))}var Vf=_a(On),Wf=_a(wn),Hf=_a(Pn);function Qf(e){return cs(e)?Vn(Ps(e)):gi(e)}function Gf(e){return function(t){return null==e?o:Lo(e,t)}}var Kf=Ca(),qf=Ca(!0);function zf(){return[]}function Yf(){return!1}function Jf(){return{}}function Xf(){return""}function Zf(){return!0}function $f(e,t){if(e=zl(e),e<1||e>j)return[];var n=F,r=Vt(e,F);t=Qa(t),e-=F;var o=Kn(r,t);while(++n<e)t(n);return o}function ep(e){return cl(e)?On(e,Ps):Fl(e)?[e]:oa(Ns($l(e)))}function tp(e){var t=++ft;return $l(e)+t}var np=Ea((function(e,t){return e+t}),0),rp=Ta("ceil"),op=Ea((function(e,t){return e/t}),1),ip=Ta("floor");function ap(e){return e&&e.length?Io(e,Pf,Bo):o}function sp(e,t){return e&&e.length?Io(e,Qa(t,2),Bo):o}function cp(e){return Un(e,Pf)}function up(e,t){return Un(e,Qa(t,2))}function lp(e){return e&&e.length?Io(e,Pf,ii):o}function dp(e,t){return e&&e.length?Io(e,Qa(t,2),ii):o}var fp=Ea((function(e,t){return e*t}),1),pp=Ta("round"),hp=Ea((function(e,t){return e-t}),0);function gp(e){return e&&e.length?Gn(e,Pf):0}function vp(e,t){return e&&e.length?Gn(e,Qa(t,2)):0}return _r.after=Ru,_r.ary=Nu,_r.assign=ed,_r.assignIn=td,_r.assignInWith=nd,_r.assignWith=rd,_r.at=od,_r.before=Pu,_r.bind=ku,_r.bindAll=Sf,_r.bindKey=Du,_r.castArray=Zu,_r.chain=Gc,_r.chunk=Ls,_r.compact=js,_r.concat=Ms,_r.cond=Cf,_r.conforms=If,_r.constant=Of,_r.countBy=nu,_r.create=id,_r.curry=xu,_r.curryRight=Lu,_r.debounce=ju,_r.defaults=ad,_r.defaultsDeep=sd,_r.defer=Mu,_r.delay=Bu,_r.difference=Bs,_r.differenceBy=Fs,_r.differenceWith=Us,_r.drop=Vs,_r.dropRight=Ws,_r.dropRightWhile=Hs,_r.dropWhile=Qs,_r.fill=Gs,_r.filter=ou,_r.flatMap=su,_r.flatMapDeep=cu,_r.flatMapDepth=uu,_r.flatten=zs,_r.flattenDeep=Ys,_r.flattenDepth=Js,_r.flip=Fu,_r.flow=Rf,_r.flowRight=Nf,_r.fromPairs=Xs,_r.functions=hd,_r.functionsIn=gd,_r.groupBy=fu,_r.initial=ec,_r.intersection=tc,_r.intersectionBy=nc,_r.intersectionWith=rc,_r.invert=Ad,_r.invertBy=bd,_r.invokeMap=hu,_r.iteratee=kf,_r.keyBy=gu,_r.keys=_d,_r.keysIn=wd,_r.map=vu,_r.mapKeys=Sd,_r.mapValues=Cd,_r.matches=Df,_r.matchesProperty=xf,_r.memoize=Uu,_r.merge=Id,_r.mergeWith=Od,_r.method=Lf,_r.methodOf=jf,_r.mixin=Mf,_r.negate=Vu,_r.nthArg=Uf,_r.omit=Td,_r.omitBy=Rd,_r.once=Wu,_r.orderBy=mu,_r.over=Vf,_r.overArgs=Hu,_r.overEvery=Wf,_r.overSome=Hf,_r.partial=Qu,_r.partialRight=Gu,_r.partition=yu,_r.pick=Nd,_r.pickBy=Pd,_r.property=Qf,_r.propertyOf=Gf,_r.pull=cc,_r.pullAll=uc,_r.pullAllBy=lc,_r.pullAllWith=dc,_r.pullAt=fc,_r.range=Kf,_r.rangeRight=qf,_r.rearg=Ku,_r.reject=Eu,_r.remove=pc,_r.rest=qu,_r.reverse=hc,_r.sampleSize=wu,_r.set=Dd,_r.setWith=xd,_r.shuffle=Su,_r.slice=gc,_r.sortBy=Ou,_r.sortedUniq=_c,_r.sortedUniqBy=wc,_r.split=uf,_r.spread=zu,_r.tail=Sc,_r.take=Cc,_r.takeRight=Ic,_r.takeRightWhile=Oc,_r.takeWhile=Tc,_r.tap=Kc,_r.throttle=Yu,_r.thru=qc,_r.toArray=Kl,_r.toPairs=Ld,_r.toPairsIn=jd,_r.toPath=ep,_r.toPlainObject=Xl,_r.transform=Md,_r.unary=Ju,_r.union=Rc,_r.unionBy=Nc,_r.unionWith=Pc,_r.uniq=kc,_r.uniqBy=Dc,_r.uniqWith=xc,_r.unset=Bd,_r.unzip=Lc,_r.unzipWith=jc,_r.update=Fd,_r.updateWith=Ud,_r.values=Vd,_r.valuesIn=Wd,_r.without=Mc,_r.words=_f,_r.wrap=Xu,_r.xor=Bc,_r.xorBy=Fc,_r.xorWith=Uc,_r.zip=Vc,_r.zipObject=Wc,_r.zipObjectDeep=Hc,_r.zipWith=Qc,_r.entries=Ld,_r.entriesIn=jd,_r.extend=td,_r.extendWith=nd,Mf(_r,_r),_r.add=np,_r.attempt=wf,_r.camelCase=Kd,_r.capitalize=qd,_r.ceil=rp,_r.clamp=Hd,_r.clone=$u,_r.cloneDeep=tl,_r.cloneDeepWith=nl,_r.cloneWith=el,_r.conformsTo=rl,_r.deburr=zd,_r.defaultTo=Tf,_r.divide=op,_r.endsWith=Yd,_r.eq=ol,_r.escape=Jd,_r.escapeRegExp=Xd,_r.every=ru,_r.find=iu,_r.findIndex=Ks,_r.findKey=cd,_r.findLast=au,_r.findLastIndex=qs,_r.findLastKey=ud,_r.floor=ip,_r.forEach=lu,_r.forEachRight=du,_r.forIn=ld,_r.forInRight=dd,_r.forOwn=fd,_r.forOwnRight=pd,_r.get=vd,_r.gt=il,_r.gte=al,_r.has=md,_r.hasIn=yd,_r.head=Zs,_r.identity=Pf,_r.includes=pu,_r.indexOf=$s,_r.inRange=Qd,_r.invoke=Ed,_r.isArguments=sl,_r.isArray=cl,_r.isArrayBuffer=ul,_r.isArrayLike=ll,_r.isArrayLikeObject=dl,_r.isBoolean=fl,_r.isBuffer=pl,_r.isDate=hl,_r.isElement=gl,_r.isEmpty=vl,_r.isEqual=ml,_r.isEqualWith=yl,_r.isError=Al,_r.isFinite=bl,_r.isFunction=El,_r.isInteger=_l,_r.isLength=wl,_r.isMap=Il,_r.isMatch=Ol,_r.isMatchWith=Tl,_r.isNaN=Rl,_r.isNative=Nl,_r.isNil=kl,_r.isNull=Pl,_r.isNumber=Dl,_r.isObject=Sl,_r.isObjectLike=Cl,_r.isPlainObject=xl,_r.isRegExp=Ll,_r.isSafeInteger=jl,_r.isSet=Ml,_r.isString=Bl,_r.isSymbol=Fl,_r.isTypedArray=Ul,_r.isUndefined=Vl,_r.isWeakMap=Wl,_r.isWeakSet=Hl,_r.join=oc,_r.kebabCase=Zd,_r.last=ic,_r.lastIndexOf=ac,_r.lowerCase=$d,_r.lowerFirst=ef,_r.lt=Ql,_r.lte=Gl,_r.max=ap,_r.maxBy=sp,_r.mean=cp,_r.meanBy=up,_r.min=lp,_r.minBy=dp,_r.stubArray=zf,_r.stubFalse=Yf,_r.stubObject=Jf,_r.stubString=Xf,_r.stubTrue=Zf,_r.multiply=fp,_r.nth=sc,_r.noConflict=Bf,_r.noop=Ff,_r.now=Tu,_r.pad=tf,_r.padEnd=nf,_r.padStart=rf,_r.parseInt=of,_r.random=Gd,_r.reduce=Au,_r.reduceRight=bu,_r.repeat=af,_r.replace=sf,_r.result=kd,_r.round=pp,_r.runInContext=e,_r.sample=_u,_r.size=Cu,_r.snakeCase=cf,_r.some=Iu,_r.sortedIndex=vc,_r.sortedIndexBy=mc,_r.sortedIndexOf=yc,_r.sortedLastIndex=Ac,_r.sortedLastIndexBy=bc,_r.sortedLastIndexOf=Ec,_r.startCase=lf,_r.startsWith=df,_r.subtract=hp,_r.sum=gp,_r.sumBy=vp,_r.template=ff,_r.times=$f,_r.toFinite=ql,_r.toInteger=zl,_r.toLength=Yl,_r.toLower=pf,_r.toNumber=Jl,_r.toSafeInteger=Zl,_r.toString=$l,_r.toUpper=hf,_r.trim=gf,_r.trimEnd=vf,_r.trimStart=mf,_r.truncate=yf,_r.unescape=Af,_r.uniqueId=tp,_r.upperCase=bf,_r.upperFirst=Ef,_r.each=lu,_r.eachRight=du,_r.first=Zs,Mf(_r,function(){var e={};return ko(_r,(function(t,n){dt.call(_r.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),_r.VERSION=i,En(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){_r[e].placeholder=_r})),En(["drop","take"],(function(e,t){Or.prototype[e]=function(n){n=n===o?1:Ut(zl(n),0);var r=this.__filtered__&&!t?new Or(this):this.clone();return r.__filtered__?r.__takeCount__=Vt(n,r.__takeCount__):r.__views__.push({size:Vt(n,F),type:e+(r.__dir__<0?"Right":"")}),r},Or.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),En(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==k||n==x;Or.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Qa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),En(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Or.prototype[e]=function(){return this[n](1).value()[0]}})),En(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Or.prototype[e]=function(){return this.__filtered__?new Or(this):this[n](1)}})),Or.prototype.compact=function(){return this.filter(Pf)},Or.prototype.find=function(e){return this.filter(e).head()},Or.prototype.findLast=function(e){return this.reverse().find(e)},Or.prototype.invokeMap=Ei((function(e,t){return"function"==typeof e?new Or(this):this.map((function(n){return Qo(n,e,t)}))})),Or.prototype.reject=function(e){return this.filter(Vu(Qa(e)))},Or.prototype.slice=function(e,t){e=zl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Or(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=zl(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Or.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Or.prototype.toArray=function(){return this.take(F)},ko(Or.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=_r[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(_r.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Or,u=s[0],l=c||cl(t),d=function(e){var t=i.apply(_r,Tn([e],s));return r&&f?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,g=c&&!p;if(!a&&l){t=g?t:new Or(this);var v=e.apply(t,s);return v.__actions__.push({func:qc,args:[d],thisArg:o}),new Ir(v,f)}return h&&g?e.apply(this,s):(v=this.thru(d),h?r?v.value()[0]:v.value():v)})})),En(["pop","push","shift","sort","splice","unshift"],(function(e){var t=at[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);_r.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(cl(o)?o:[],e)}return this[n]((function(n){return t.apply(cl(n)?n:[],e)}))}})),ko(Or.prototype,(function(e,t){var n=_r[t];if(n){var r=n.name+"";dt.call(un,r)||(un[r]=[]),un[r].push({name:t,func:n})}})),un[Aa(o,A).name]=[{name:"wrapper",func:o}],Or.prototype.clone=Tr,Or.prototype.reverse=Rr,Or.prototype.value=Nr,_r.prototype.at=zc,_r.prototype.chain=Yc,_r.prototype.commit=Jc,_r.prototype.next=Xc,_r.prototype.plant=$c,_r.prototype.reverse=eu,_r.prototype.toJSON=_r.prototype.valueOf=_r.prototype.value=tu,_r.prototype.first=_r.prototype.head,Ot&&(_r.prototype[Ot]=Zc),_r},wr=_r();sn._=wr,r=function(){return wr}.call(t,n,t,e),r===o||(e.exports=r)}.call(this)},89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},65:function(e,t,n){"use strict";n.d(t,{MT:function(){return te},oR:function(){return m}});n(1703),n(6699);var r=n(3396),o=n(4870);function i(){return a().__VUE_DEVTOOLS_GLOBAL_HOOK__}function a(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const s="function"===typeof Proxy,c="devtools-plugin:setup",u="plugin:settings:set";let l,d;function f(){var e;return void 0!==l||("undefined"!==typeof window&&window.performance?(l=!0,d=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(l=!0,d=n.g.perf_hooks.performance):l=!1),l}function p(){return f()?d.now():Date.now()}class h{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const a in e.settings){const t=e.settings[a];n[a]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(i){}this.fallbacks={getSettings(){return o},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(i){}o=e},now(){return p()}},t&&t.on(u,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function g(e,t){const n=e,r=a(),o=i(),u=s&&n.enableEarlyProxy;if(!o||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const e=u?new h(n,o):null,i=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];i.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(c,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var v="store";function m(e){return void 0===e&&(e=null),(0,r.f3)(null!==e?e:v)}function y(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function A(e){return null!==e&&"object"===typeof e}function b(e){return e&&"function"===typeof e.then}function E(e,t){return function(){return e(t)}}function _(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function w(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;C(e,n,[],e._modules.root,!0),S(e,n,t)}function S(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,a={};y(i,(function(t,n){a[n]=E(t,e),Object.defineProperty(e.getters,n,{get:function(){return a[n]()},enumerable:!0})})),e._state=(0,o.qj)({data:t}),e.strict&&P(e),r&&n&&e._withCommit((function(){r.data=null}))}function C(e,t,n,r,o){var i=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!i&&!o){var s=k(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){s[c]=r.state}))}var u=r.context=I(e,a,n);r.forEachMutation((function(t,n){var r=a+n;T(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,o=t.handler||t;R(e,r,o,u)})),r.forEachGetter((function(t,n){var r=a+n;N(e,r,t,u)})),r.forEachChild((function(r,i){C(e,t,n.concat(i),r,o)}))}function I(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=D(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:r?e.commit:function(n,r,o){var i=D(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return O(e,t)}},state:{get:function(){return k(e.state,n)}}}),o}function O(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function T(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function R(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return b(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function N(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function P(e){(0,r.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function k(e,t){return t.reduce((function(e,t){return e[t]}),e)}function D(e,t,n){return A(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var x="vuex bindings",L="vuex:mutations",j="vuex:actions",M="vuex",B=0;function F(e,t){g({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[x]},(function(n){n.addTimelineLayer({id:L,label:"Vuex Mutations",color:U}),n.addTimelineLayer({id:j,label:"Vuex Actions",color:U}),n.addInspector({id:M,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===M)if(n.filter){var r=[];K(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[G(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===M){var r=n.nodeId;O(t,r),n.state=q(Y(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===M){var r=n.nodeId,o=n.path;"root"!==r&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit((function(){n.set(t._state.data,o,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(M),n.sendInspectorState(M),n.addTimelineEvent({layerId:L,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=B++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:j,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},o=Date.now()-e._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:j,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var U=8702998,V=6710886,W=16777215,H={label:"namespaced",textColor:W,backgroundColor:V};function Q(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function G(e,t){return{id:t||"root",label:Q(t),tags:e.namespaced?[H]:[],children:Object.keys(e._children).map((function(n){return G(e._children[n],t+n+"/")}))}}function K(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[H]:[]}),Object.keys(t._children).forEach((function(o){K(e,t._children[o],n,r+o+"/")}))}function q(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var i=z(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?Q(e):e,editable:!1,value:J((function(){return i[e]}))}}))}return o}function z(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var o=t,i=r.pop();r.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=J((function(){return e[n]}))}else t[n]=J((function(){return e[n]}))})),t}function Y(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,o){var i=e[r];if(!i)throw new Error('Missing module "'+r+'" for path "'+t+'".');return o===n.length-1?i:i._children}),"root"===t?e:e.root._children)}function J(e){try{return e()}catch(t){return t}}var X=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},Z={namespaced:{configurable:!0}};Z.namespaced.get=function(){return!!this._rawModule.namespaced},X.prototype.addChild=function(e,t){this._children[e]=t},X.prototype.removeChild=function(e){delete this._children[e]},X.prototype.getChild=function(e){return this._children[e]},X.prototype.hasChild=function(e){return e in this._children},X.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},X.prototype.forEachChild=function(e){y(this._children,e)},X.prototype.forEachGetter=function(e){this._rawModule.getters&&y(this._rawModule.getters,e)},X.prototype.forEachAction=function(e){this._rawModule.actions&&y(this._rawModule.actions,e)},X.prototype.forEachMutation=function(e){this._rawModule.mutations&&y(this._rawModule.mutations,e)},Object.defineProperties(X.prototype,Z);var $=function(e){this.register([],e,!1)};function ee(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;ee(e.concat(r),t.getChild(r),n.modules[r])}}$.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},$.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},$.prototype.update=function(e){ee([],this.root,e)},$.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new X(t,n);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&y(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},$.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},$.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function te(e){return new ne(e)}var ne=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new $(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var i=this,a=this,s=a.dispatch,c=a.commit;this.dispatch=function(e,t){return s.call(i,e,t)},this.commit=function(e,t,n){return c.call(i,e,t,n)},this.strict=r;var u=this._modules.root.state;C(this,u,[],this._modules.root),S(this,u),n.forEach((function(e){return e(t)}))},re={state:{configurable:!0}};ne.prototype.install=function(e,t){e.provide(t||v,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&F(e,this)},re.state.get=function(){return this._state.data},re.state.set=function(e){0},ne.prototype.commit=function(e,t,n){var r=this,o=D(e,t,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},ne.prototype.dispatch=function(e,t){var n=this,r=D(e,t),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(u){0}var c=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(u){0}t(e)}))}))}},ne.prototype.subscribe=function(e,t){return _(e,this._subscribers,t)},ne.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return _(n,this._actionSubscribers,t)},ne.prototype.watch=function(e,t,n){var o=this;return(0,r.YP)((function(){return e(o.state,o.getters)}),t,Object.assign({},n))},ne.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ne.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),C(this,this.state,e,this._modules.get(e),n.preserveState),S(this,this.state)},ne.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=k(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),w(this)},ne.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},ne.prototype.hotUpdate=function(e){this._modules.update(e),w(this,!0)},ne.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ne.prototype,re);ae((function(e,t){var n={};return oe(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=se(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),ae((function(e,t){var n={};return oe(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=se(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),ae((function(e,t){var n={};return oe(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||se(this.$store,"mapGetters",e))return this.$store.getters[o]},n[r].vuex=!0})),n})),ae((function(e,t){var n={};return oe(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=se(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n}));function oe(e){return ie(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function ie(e){return Array.isArray(e)||A(e)}function ae(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function se(e,t,n){var r=e._modulesNamespaceMap[n];return r}},6533:function(e,t,n){"use strict";n.d(t,{ZP:function(){return D2}});n(1703);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function a(e){if(Array.isArray(e))return r(e)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return a(e)||i(e)||o(e)||s()}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(3396),d=n(4870),f=n(9242);n(6699);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function p(e){if(Array.isArray(e))return e}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(i.push(r.value),t&&i.length===t)break}catch(c){s=!0,o=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return i}}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return p(e)||h(e,t)||o(e,t)||g()}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function m(e,t){var n=Object.keys(t);n.forEach((function(n){e.style[n]=t[n]}))}function y(){var e=navigator,t=e.userAgent,n=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,r=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(n){var o=new RegExp("MSIE (\\d+\\.\\d+);"),i=t.match(o);if(!i)return-1;var a=parseFloat(i[1]);return a<7?6:a}return r?11:Number.MAX_SAFE_INTEGER}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t,n,r,o,i={};if(e){var a=null===(t=window)||void 0===t||null===(n=t.getComputedStyle)||void 0===n?void 0:n.call(t,e),s=a.color,c=a.fontSize,u=null===(r=window)||void 0===r||null===(o=r.navigator)||void 0===o?void 0:o.userAgent,l=/Safari/.test(u)&&!/Chrome/.test(u),d=/(?=.*iPhone)[?=.*MicroMessenger]/.test(u)&&!/Chrome/.test(u);if((l||d)&&(i={transformOrigin:"-1px -1px",transform:"scale(".concat(parseInt(c,10)/14,")")}),s&&y()>11){var f=s.match(/[\d.]+/g),p=f?"rgba(".concat(f[0],", ").concat(f[1],", ").concat(f[2],", 0)"):"";m(e,b(b({},i),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(p," 0deg, ").concat(s," 360deg)")}))}else m(e,b(b({},i),{},{background:""}))}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var _="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var C="object"==S(_)&&_&&_.Object===Object&&_,I=C,O=I,T="object"==("undefined"===typeof self?"undefined":S(self))&&self&&self.Object===Object&&self,R=O||T||Function("return this")(),N=R,P=N,k=P.Symbol,D=k,x=D,L=Object.prototype,j=L.hasOwnProperty,M=L.toString,B=x?x.toStringTag:void 0;function F(e){var t=j.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(i){}var o=M.call(e);return r&&(t?e[B]=n:delete e[B]),o}var U=F,V=Object.prototype,W=V.toString;function H(e){return W.call(e)}var Q=H,G=D,K=U,q=Q,z="[object Null]",Y="[object Undefined]",J=G?G.toStringTag:void 0;function X(e){return null==e?void 0===e?Y:z:J&&J in Object(e)?K(e):q(e)}var Z=X;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function $(e){var t=S(e);return null!=e&&("object"==t||"function"==t)}var ee=$,te=Z,ne=ee,re="[object AsyncFunction]",oe="[object Function]",ie="[object GeneratorFunction]",ae="[object Proxy]";function se(e){if(!ne(e))return!1;var t=te(e);return t==oe||t==ie||t==re||t==ae}var ce=se,ue=N,le=ue["__core-js_shared__"],de=le,fe=de,pe=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function he(e){return!!pe&&pe in e}var ge=he,ve=Function.prototype,me=ve.toString;function ye(e){if(null!=e){try{return me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Ae=ye,be=ce,Ee=ge,_e=ee,we=Ae,Se=/[\\^$.*+?()[\]{}|]/g,Ce=/^\[object .+?Constructor\]$/,Ie=Function.prototype,Oe=Object.prototype,Te=Ie.toString,Re=Oe.hasOwnProperty,Ne=RegExp("^"+Te.call(Re).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pe(e){if(!_e(e)||Ee(e))return!1;var t=be(e)?Ne:Ce;return t.test(we(e))}var ke=Pe;function De(e,t){return null==e?void 0:e[t]}var xe=De,Le=ke,je=xe;function Me(e,t){var n=je(e,t);return Le(n)?n:void 0}var Be=Me,Fe=Be,Ue=N,Ve=Fe(Ue,"Map"),We=Ve;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function He(e,t){return e===t||e!==e&&t!==t}var Qe=He;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Ge(){this.__data__=[],this.size=0}var Ke=Ge,qe=Qe;function ze(e,t){var n=e.length;while(n--)if(qe(e[n][0],t))return n;return-1}var Ye=ze,Je=Ye,Xe=Array.prototype,Ze=Xe.splice;function $e(e){var t=this.__data__,n=Je(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ze.call(t,n,1),--this.size,!0}var et=$e,tt=Ye;function nt(e){var t=this.__data__,n=tt(t,e);return n<0?void 0:t[n][1]}var rt=nt,ot=Ye;function it(e){return ot(this.__data__,e)>-1}var at=it,st=Ye;function ct(e,t){var n=this.__data__,r=st(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ut=ct,lt=Ke,dt=et,ft=rt,pt=at,ht=ut;function gt(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}gt.prototype.clear=lt,gt.prototype["delete"]=dt,gt.prototype.get=ft,gt.prototype.has=pt,gt.prototype.set=ht;var vt=gt,mt=Be,yt=mt(Object,"create"),At=yt,bt=At;function Et(){this.__data__=bt?bt(null):{},this.size=0}var _t=Et;function wt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var St=wt,Ct=At,It="__lodash_hash_undefined__",Ot=Object.prototype,Tt=Ot.hasOwnProperty;function Rt(e){var t=this.__data__;if(Ct){var n=t[e];return n===It?void 0:n}return Tt.call(t,e)?t[e]:void 0}var Nt=Rt,Pt=At,kt=Object.prototype,Dt=kt.hasOwnProperty;function xt(e){var t=this.__data__;return Pt?void 0!==t[e]:Dt.call(t,e)}var Lt=xt,jt=At,Mt="__lodash_hash_undefined__";function Bt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jt&&void 0===t?Mt:t,this}var Ft=Bt,Ut=_t,Vt=St,Wt=Nt,Ht=Lt,Qt=Ft;function Gt(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Gt.prototype.clear=Ut,Gt.prototype["delete"]=Vt,Gt.prototype.get=Wt,Gt.prototype.has=Ht,Gt.prototype.set=Qt;var Kt=Gt,qt=Kt,zt=vt,Yt=We;function Jt(){this.size=0,this.__data__={hash:new qt,map:new(Yt||zt),string:new qt}}var Xt=Jt;function Zt(e){var t=S(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var $t=Zt,en=$t;function tn(e,t){var n=e.__data__;return en(t)?n["string"==typeof t?"string":"hash"]:n.map}var nn=tn,rn=nn;function on(e){var t=rn(this,e)["delete"](e);return this.size-=t?1:0,t}var an=on,sn=nn;function cn(e){return sn(this,e).get(e)}var un=cn,ln=nn;function dn(e){return ln(this,e).has(e)}var fn=dn,pn=nn;function hn(e,t){var n=pn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var gn=hn,vn=Xt,mn=an,yn=un,An=fn,bn=gn;function En(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}En.prototype.clear=vn,En.prototype["delete"]=mn,En.prototype.get=yn,En.prototype.has=An,En.prototype.set=bn;var _n=En,wn=9007199254740991;function Sn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=wn}var Cn=Sn;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function In(e){return null!=e&&"object"==S(e)}var On=In;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Tn(e){return function(t){return e(t)}}var Rn=Tn;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Nn(e,t){return function(n){return e(t(n))}}var Pn=Nn,kn=Object.prototype;function Dn(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||kn;return e===n}var xn=Dn,Ln={exports:{}};function jn(){return!1}var Mn=jn;(function(e,t){var n=N,r=Mn,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;e.exports=u})(Ln,Ln.exports);Ln.exports;var Bn=Z,Fn=Cn,Un=On,Vn="[object Arguments]",Wn="[object Array]",Hn="[object Boolean]",Qn="[object Date]",Gn="[object Error]",Kn="[object Function]",qn="[object Map]",zn="[object Number]",Yn="[object Object]",Jn="[object RegExp]",Xn="[object Set]",Zn="[object String]",$n="[object WeakMap]",er="[object ArrayBuffer]",tr="[object DataView]",nr="[object Float32Array]",rr="[object Float64Array]",or="[object Int8Array]",ir="[object Int16Array]",ar="[object Int32Array]",sr="[object Uint8Array]",cr="[object Uint8ClampedArray]",ur="[object Uint16Array]",lr="[object Uint32Array]",dr={};function fr(e){return Un(e)&&Fn(e.length)&&!!dr[Bn(e)]}dr[nr]=dr[rr]=dr[or]=dr[ir]=dr[ar]=dr[sr]=dr[cr]=dr[ur]=dr[lr]=!0,dr[Vn]=dr[Wn]=dr[er]=dr[Hn]=dr[tr]=dr[Qn]=dr[Gn]=dr[Kn]=dr[qn]=dr[zn]=dr[Yn]=dr[Jn]=dr[Xn]=dr[Zn]=dr[$n]=!1;var pr=fr,hr={exports:{}};(function(e,t){var n=I,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s})(hr,hr.exports);hr.exports;var gr=pr,vr=Rn,mr=hr.exports,yr=mr&&mr.isTypedArray,Ar=yr?vr(yr):gr,br=Ar,Er=Be,_r=function(){try{var e=Er(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),wr=_r,Sr=wr;function Cr(e,t,n){"__proto__"==t&&Sr?Sr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ir=Cr,Or=Ir,Tr=Qe,Rr=Object.prototype,Nr=Rr.hasOwnProperty;function Pr(e,t,n){var r=e[t];Nr.call(e,t)&&Tr(r,n)&&(void 0!==n||t in e)||Or(e,t,n)}var kr=Pr,Dr=Z,xr=On,Lr="[object Arguments]";function jr(e){return xr(e)&&Dr(e)==Lr}var Mr=jr,Br=Mr,Fr=On,Ur=Object.prototype,Vr=Ur.hasOwnProperty,Wr=Ur.propertyIsEnumerable,Hr=Br(function(){return arguments}())?Br:function(e){return Fr(e)&&Vr.call(e,"callee")&&!Wr.call(e,"callee")},Qr=Hr,Gr=Array.isArray,Kr=Gr,qr=9007199254740991,zr=/^(?:0|[1-9]\d*)$/;function Yr(e,t){var n=S(e);return t=null==t?qr:t,!!t&&("number"==n||"symbol"!=n&&zr.test(e))&&e>-1&&e%1==0&&e<t}var Jr=Yr,Xr=ce,Zr=Cn;function $r(e){return null!=e&&Zr(e.length)&&!Xr(e)}var eo=$r,to=vt;function no(){this.__data__=new to,this.size=0}var ro=no;function oo(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var io=oo;function ao(e){return this.__data__.get(e)}var so=ao;function co(e){return this.__data__.has(e)}var uo=co,lo=vt,fo=We,po=_n,ho=200;function go(e,t){var n=this.__data__;if(n instanceof lo){var r=n.__data__;if(!fo||r.length<ho-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new po(r)}return n.set(e,t),this.size=n.size,this}var vo=go,mo=vt,yo=ro,Ao=io,bo=so,Eo=uo,_o=vo;function wo(e){var t=this.__data__=new mo(e);this.size=t.size}wo.prototype.clear=yo,wo.prototype["delete"]=Ao,wo.prototype.get=bo,wo.prototype.has=Eo,wo.prototype.set=_o;var So=wo,Co={exports:{}};(function(e,t){var n=N,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}e.exports=c})(Co,Co.exports);Co.exports;var Io=N,Oo=Io.Uint8Array,To=Oo,Ro=To;function No(e){var t=new e.constructor(e.byteLength);return new Ro(t).set(new Ro(e)),t}var Po=No,ko=Po;function Do(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var xo=Do;function Lo(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var jo=Lo,Mo=ee,Bo=Object.create,Fo=function(){function e(){}return function(t){if(!Mo(t))return{};if(Bo)return Bo(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Uo=Fo,Vo=Pn,Wo=Vo(Object.getPrototypeOf,Object),Ho=Wo,Qo=Uo,Go=Ho,Ko=xn;function qo(e){return"function"!=typeof e.constructor||Ko(e)?{}:Qo(Go(e))}var zo=qo,Yo=kr,Jo=Ir;function Xo(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;while(++i<a){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?Jo(n,s,c):Yo(n,s,c)}return n}var Zo=Xo;function $o(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var ei=$o,ti=ei,ni=Qr,ri=Kr,oi=Ln.exports,ii=Jr,ai=br,si=Object.prototype,ci=si.hasOwnProperty;function ui(e,t){var n=ri(e),r=!n&&ni(e),o=!n&&!r&&oi(e),i=!n&&!r&&!o&&ai(e),a=n||r||o||i,s=a?ti(e.length,String):[],c=s.length;for(var u in e)!t&&!ci.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ii(u,c))||s.push(u);return s}var li=ui;function di(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var fi=di,pi=ee,hi=xn,gi=fi,vi=Object.prototype,mi=vi.hasOwnProperty;function yi(e){if(!pi(e))return gi(e);var t=hi(e),n=[];for(var r in e)("constructor"!=r||!t&&mi.call(e,r))&&n.push(r);return n}var Ai=yi,bi=li,Ei=Ai,_i=eo;function wi(e){return _i(e)?bi(e,!0):Ei(e)}var Si=wi;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Ci(e){return e}var Ii=Ci;function Oi(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ti=Oi,Ri=Ti,Ni=Math.max;function Pi(e,t,n){return t=Ni(void 0===t?e.length-1:t,0),function(){var r=arguments,o=-1,i=Ni(r.length-t,0),a=Array(i);while(++o<i)a[o]=r[t+o];o=-1;var s=Array(t+1);while(++o<t)s[o]=r[o];return s[t]=n(a),Ri(e,this,s)}}var ki=Pi;function Di(e){return function(){return e}}var xi=Di,Li=xi,ji=wr,Mi=Ii,Bi=ji?function(e,t){return ji(e,"toString",{configurable:!0,enumerable:!1,value:Li(t),writable:!0})}:Mi,Fi=Bi,Ui=800,Vi=16,Wi=Date.now;function Hi(e){var t=0,n=0;return function(){var r=Wi(),o=Vi-(r-n);if(n=r,o>0){if(++t>=Ui)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Qi=Hi,Gi=Fi,Ki=Qi,qi=Ki(Gi),zi=qi,Yi=eo,Ji=On;function Xi(e){return Ji(e)&&Yi(e)}var Zi=Xi,$i=Ii,ea=ki,ta=zi;function na(e,t){return ta(ea(e,t,$i),e+"")}var ra=na,oa=Z,ia=Ho,aa=On,sa="[object Object]",ca=Function.prototype,ua=Object.prototype,la=ca.toString,da=ua.hasOwnProperty,fa=la.call(Object);function pa(e){if(!aa(e)||oa(e)!=sa)return!1;var t=ia(e);if(null===t)return!0;var n=da.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&la.call(n)==fa}var ha=pa,ga=Qe,va=eo,ma=Jr,ya=ee;function Aa(e,t,n){if(!ya(n))return!1;var r=S(t);return!!("number"==r?va(n)&&ma(t,n.length):"string"==r&&t in n)&&ga(n[t],e)}var ba=Aa,Ea={classPrefix:"t",animation:{include:["ripple","expand","fade"],exclude:[]},calendar:{firstDayOfWeek:1,fillWithZero:!0,controllerConfig:void 0},icon:{},input:{autocomplete:""},dialog:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,confirmBtnTheme:{default:"primary",info:"primary",warning:"primary",danger:"primary",success:"primary"}},popconfirm:{confirmBtnTheme:{default:"primary",warning:"primary",danger:"primary"}},table:{expandIcon:void 0,sortIcon:void 0,filterIcon:void 0,treeExpandAndFoldIcon:void 0,hideSortTips:!1},select:{clearIcon:void 0,filterable:!1},drawer:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,size:"small"},tree:{folderIcon:void 0},datePicker:{firstDayOfWeek:1},steps:{errorIcon:void 0},tag:{closeIcon:void 0},form:{requiredMark:!0}},_a={pagination:{itemsPerPage:"{size} 条/页",jumpTo:"跳至",page:"页",total:"共 {total} 项数据"},cascader:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},calendar:{yearSelection:"{year} 年",monthSelection:"{month} 月",yearRadio:"年",monthRadio:"月",hideWeekend:"隐藏周末",showWeekend:"显示周末",today:"今天",thisMonth:"本月",week:"一,二,三,四,五,六,日",cellMonth:"一月,二月,三月,四月,五月,六月,七月,八月,九月,十月,十一月,十二月"},transfer:{title:"{checked} / {total} 项",empty:"暂无数据",placeholder:"请输入关键词搜索"},timePicker:{now:"此刻",confirm:"确定",anteMeridiem:"上午",postMeridiem:"下午",placeholder:"选择时间"},dialog:{confirm:"确认",cancel:"取消"},drawer:{confirm:"确认",cancel:"取消"},popconfirm:{confirm:{content:"确定"},cancel:{content:"取消"}},table:{empty:"暂无数据",loadingText:"正在加载中，请稍后",loadingMoreText:"点击加载更多",filterInputPlaceholder:"请输入内容（无默认值）",sortAscendingOperationText:"点击升序",sortCancelOperationText:"点击取消排序",sortDescendingOperationText:"点击降序",clearFilterResultButtonText:"清空筛选",columnConfigButtonText:"列配置",columnConfigTitleText:"表格列配置",columnConfigDescriptionText:"请选择需要在表格中显示的数据列",confirmText:"确认",cancelText:"取消",resetText:"重置",selectAllText:"全选",searchResultText:"搜索“{result}”，找到 {count} 条结果"},select:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},tree:{empty:"暂无数据"},treeSelect:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},datePicker:{placeholder:{date:"请选择日期",month:"请选择月份",year:"请选择年份"},weekdays:["一","二","三","四","五","六","日"],months:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],quarters:["一季度","二季度","三季度","四季度"],rangeSeparator:" - ",direction:"ltr",format:"YYYY-MM-DD",dayAriaLabel:"日",weekAbbreviation:"周",yearAriaLabel:"年",monthAriaLabel:"月",confirm:"确定",selectTime:"选择时间",selectDate:"选择日期",nextYear:"下一年",preYear:"上一年",nextMonth:"下个月",preMonth:"上个月",preDecade:"上个十年",nextDecade:"下个十年",now:"当前"},upload:{sizeLimitMessage:"文件大小不能超过 {sizeLimit}",cancelUploadText:"取消上传",triggerUploadText:{fileInput:"选择文件",image:"点击上传图片",normal:"点击上传",reupload:"重新选择",continueUpload:"继续选择",delete:"删除",uploading:"上传中"},dragger:{dragDropText:"释放鼠标",draggingText:"拖拽到此区域",clickAndDragText:"点击上方“选择文件”或将文件拖拽到此区域"},file:{fileNameText:"文件名",fileSizeText:"文件大小",fileStatusText:"状态",fileOperationText:"操作",fileOperationDateText:"上传日期"},progress:{uploadingText:"上传中",waitingText:"待上传",failText:"上传失败",successText:"上传成功"}},form:{errorMessage:{date:"请输入正确的${name}",url:"请输入正确的${name}",required:"${name}必填",max:"${name}字符长度不能超过 ${validate} 个字符，一个中文等于两个字符",min:"${name}字符长度不能少于 ${validate} 个字符，一个中文等于两个字符",len:"${name}字符长度必须是 ${validate}",enum:"${name}只能是${validate}等",idcard:"请输入正确的${name}",telnumber:"请输入正确的${name}",pattern:"请输入正确的${name}",validator:"${name}不符合要求",boolean:"${name}数据类型必须是布尔类型",number:"${name}必须是数字"}},input:{placeholder:"请输入"},list:{loadingText:"正在加载中，请稍等",loadingMoreText:"点击加载更多"},alert:{expandText:"展开更多",collapseText:"收起"},anchor:{copySuccessText:"链接复制成功",copyText:"复制链接"},colorPicker:{swatchColorTitle:"系统预设颜色",recentColorTitle:"最近使用颜色",clearConfirmText:"确定清空最近使用的颜色吗？"}},wa=Ir,Sa=Qe;function Ca(e,t,n){(void 0!==n&&!Sa(e[t],n)||void 0===n&&!(t in e))&&wa(e,t,n)}var Ia=Ca;function Oa(e){return function(t,n,r){var o=-1,i=Object(t),a=r(t),s=a.length;while(s--){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}var Ta=Oa,Ra=Ta,Na=Ra(),Pa=Na;function ka(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Da=ka,xa=Zo,La=Si;function ja(e){return xa(e,La(e))}var Ma=ja,Ba=Ia,Fa=Co.exports,Ua=xo,Va=jo,Wa=zo,Ha=Qr,Qa=Kr,Ga=Zi,Ka=Ln.exports,qa=ce,za=ee,Ya=ha,Ja=br,Xa=Da,Za=Ma;function $a(e,t,n,r,o,i,a){var s=Xa(e,n),c=Xa(t,n),u=a.get(c);if(u)Ba(e,n,u);else{var l=i?i(s,c,n+"",e,t,a):void 0,d=void 0===l;if(d){var f=Qa(c),p=!f&&Ka(c),h=!f&&!p&&Ja(c);l=c,f||p||h?Qa(s)?l=s:Ga(s)?l=Va(s):p?(d=!1,l=Fa(c,!0)):h?(d=!1,l=Ua(c,!0)):l=[]:Ya(c)||Ha(c)?(l=s,Ha(s)?l=Za(s):za(s)&&!qa(s)||(l=Wa(c))):d=!1}d&&(a.set(c,l),o(l,c,r,i,a),a["delete"](c)),Ba(e,n,l)}}var es=$a,ts=So,ns=Ia,rs=Pa,os=es,is=ee,as=Si,ss=Da;function cs(e,t,n,r,o){e!==t&&rs(t,(function(i,a){if(o||(o=new ts),is(i))os(e,t,a,n,cs,r,o);else{var s=r?r(ss(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),ns(e,a,s)}}),as)}var us=cs,ls=ra,ds=ba;function fs(e){return ls((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&ds(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);while(++r<o){var s=n[r];s&&e(t,s,r,i)}return t}))}var ps=fs,hs=us,gs=ps,vs=gs((function(e,t,n,r){hs(e,t,n,r)})),ms=vs,ys=us,As=ps,bs=As((function(e,t,n){ys(e,t,n)})),Es=bs,_s=function(e){return e["ripple"]="ripple",e["expand"]="expand",e["fade"]="fade",e}(_s||{}),ws=Es(Ea,_a),Ss=Symbol("configProvide"),Cs=function(e,t){return ms(e,t,(function(e,t){if(Array.isArray(e))return t}))};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Is(e){var t=(0,l.f3)(Ss,null),n=(0,l.Fl)((function(){return(null===t||void 0===t?void 0:t.value)||ws})),r=(0,l.Fl)((function(){return n.value[e]})),o=(0,l.Fl)((function(){return n.value.classPrefix})),i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0];if("string"===typeof e){if(!o)return e;var i=/\{\s*([\w-]+)\s*\}/g,a=e.replace(i,(function(e,t){return o?String(o[t]):""}));return a}return"function"===typeof e?n.length?e.apply(void 0,n):e(l.h):""};return{t:i,globalConfig:r,classPrefix:o}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Os(e){var t=Is("classPrefix"),n=t.classPrefix;return(0,l.Fl)((function(){return e?"".concat(n.value,"-").concat(e):n.value}))}function Ts(){var e=Is("classPrefix"),t=e.classPrefix;return{SIZE:(0,l.Fl)((function(){return{small:"".concat(t.value,"-size-s"),medium:"".concat(t.value,"-size-m"),large:"".concat(t.value,"-size-l"),default:"",xs:"".concat(t.value,"-size-xs"),xl:"".concat(t.value,"-size-xl"),block:"".concat(t.value,"-size-full-width")}})),STATUS:(0,l.Fl)((function(){return{loading:"".concat(t.value,"-is-loading"),loadMore:"".concat(t.value,"-is-load-more"),disabled:"".concat(t.value,"-is-disabled"),focused:"".concat(t.value,"-is-focused"),success:"".concat(t.value,"-is-success"),error:"".concat(t.value,"-is-error"),warning:"".concat(t.value,"-is-warning"),selected:"".concat(t.value,"-is-selected"),active:"".concat(t.value,"-is-active"),checked:"".concat(t.value,"-is-checked"),current:"".concat(t.value,"-is-current"),hidden:"".concat(t.value,"-is-hidden"),visible:"".concat(t.value,"-is-visible"),expanded:"".concat(t.value,"-is-expanded"),indeterminate:"".concat(t.value,"-is-indeterminate")}}))}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Rs=(0,l.aZ)({name:"TLoadingGradient",setup:function(){var e=Os();return(0,l.bv)((function(){var e=(0,l.FN)().refs.circle;E(e)})),{classPrefix:e}},render:function(){var e=this.classPrefix,t="".concat(e,"-loading__gradient"),n=[t,"".concat(e,"-icon-loading")];return(0,l.Wm)("svg",{class:n,viewBox:"0 0 14 14",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[(0,l.Wm)("foreignObject",{x:"1",y:"1",width:"12",height:"12"},[(0,l.Wm)("div",{class:"".concat(t,"-conic"),ref:"circle"},null)])])}}),Ns=Z,Ps=Kr,ks=On,Ds="[object String]";function xs(e){return"string"==typeof e||!Ps(e)&&ks(e)&&Ns(e)==Ds}var Ls=xs,js=function(e,t,n,r){var o=(n-t)/2,i=e/(r/2);return i<1?o*i*i*i+t:(i-=2,o*(i*i*i+2)+t)},Ms={exports:{}},Bs={exports:{}};(function(){var e,t,n,r,o,i;"undefined"!==typeof performance&&null!==performance&&performance.now?Bs.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(Bs.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var e;return e=t(),1e9*e[0]+e[1]},r=e(),i=1e9*process.uptime(),o=r-i):Date.now?(Bs.exports=function(){return Date.now()-n},n=Date.now()):(Bs.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(_);Bs.exports;for(var Fs=Bs.exports,Us="undefined"===typeof window?_:window,Vs=["moz","webkit"],Ws="AnimationFrame",Hs=Us["request"+Ws],Qs=Us["cancel"+Ws]||Us["cancelRequest"+Ws],Gs=0;!Hs&&Gs<Vs.length;Gs++)Hs=Us[Vs[Gs]+"Request"+Ws],Qs=Us[Vs[Gs]+"Cancel"+Ws]||Us[Vs[Gs]+"CancelRequest"+Ws];if(!Hs||!Qs){var Ks=0,qs=0,zs=[],Ys=1e3/60;Hs=function(e){if(0===zs.length){var t=Fs(),n=Math.max(0,Ys-(t-Ks));Ks=n+t,setTimeout((function(){var e=zs.slice(0);zs.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(Ks)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return zs.push({handle:++qs,callback:e,cancelled:!1}),qs},Qs=function(e){for(var t=0;t<zs.length;t++)zs[t].handle===e&&(zs[t].cancelled=!0)}}Ms.exports=function(e){return Hs.call(Us,e)};Ms.exports.cancel=function(){Qs.apply(Us,arguments)},Ms.exports.polyfill=function(e){e||(e=Us),e.requestAnimationFrame=Hs,e.cancelAnimationFrame=Qs};var Js=Ms.exports,Xs="undefined"===typeof window,Zs=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},$s=function(){return!Xs&&document.addEventListener?function(e,t,n,r){e&&t&&n&&e.addEventListener(t,n,r)}:function(e,t,n){e&&t&&n&&e.attachEvent("on".concat(t),n)}}(),ec=function(){return!Xs&&document.removeEventListener?function(e,t,n,r){e&&t&&e.removeEventListener(t,n,r)}:function(e,t,n){e&&t&&e.detachEvent("on".concat(t),n)}}();function tc(e,t,n,r){var o="function"===typeof n?n:n.handleEvent,i=function n(i){o(i),ec(e,t,n,r)};$s(e,t,i,r)}function nc(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):" ".concat(e.className," ").indexOf(" ".concat(t," "))>-1}function rc(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var a=r[o];a&&(e.classList?e.classList.add(a):nc(e,a)||(n+=" ".concat(a)))}e.classList||(e.className=n)}}function oc(e,t){if(e&&t){for(var n=t.split(" "),r=" ".concat(e.className," "),o=0,i=n.length;o<i;o++){var a=n[o];a&&(e.classList?e.classList.remove(a):nc(e,a)&&(r=r.replace(" ".concat(a," ")," ")))}e.classList||(e.className=Zs(r))}}var ic=function(e,t){var n="function"===typeof e?e(t):e;return n?Ls(n)?document.querySelector(n):n instanceof HTMLElement?n:document.body:document.body},ac=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";return Ls(e)?document.querySelector(e):"function"===typeof e?e():e};function sc(e){return e&&e===e.window}function cc(e,t){if(Xs||!e)return 0;var n=t?"scrollLeft":"scrollTop",r=0;return sc(e)?r=e[t?"pageXOffset":"pageYOffset"]:e instanceof Document?r=e.documentElement[n]:e&&(r=e[n]),r}function uc(e,t){var n=t.container,r=void 0===n?window:n,o=t.duration,i=void 0===o?450:o,a=t.easing,s=void 0===a?js:a,c=cc(r),u=Date.now();return new Promise((function(t){var n=function n(){var o=Date.now(),a=o-u,l=s(Math.min(a,i),c,e,i);sc(r)?r.scrollTo(window.pageXOffset,l):r instanceof Document||"HTMLDocument"===r.constructor.name?r.documentElement.scrollTop=l:r.scrollTop=l,Js(a<i?n:t)};Js(n)}))}var lc=function(e){var t=e.clientWidth,n=void 0===t?0:t,r=e.scrollWidth,o=void 0===r?0:r;return o>n},dc=function(e){if(!(e instanceof HTMLFormElement))throw new Error("target must be HTMLFormElement");var t=document.createElement("input");t.type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t)};function fc(e,t){var n=e.getBoundingClientRect();if(t){var r=t.getBoundingClientRect();return n.top>=r.top&&n.left>=r.left&&n.bottom<=r.bottom&&n.right<=r.right}return n.top>=0&&n.left>=0&&n.bottom+80<=window.innerHeight&&n.right<=window.innerWidth}function pc(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function hc(e){var t=e.parentNode;return!(!t||"HTML"===t.nodeName)&&("fixed"===pc(e,"position")||hc(t))}function gc(){var e=document,t=e.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||t.scrollTop,o=window.pageXOffset||n.scrollLeft||t.scrollLeft;return{scrollTop:r,scrollLeft:o}}function vc(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var mc=Pn,yc=mc(Object.keys,Object),Ac=yc,bc=xn,Ec=Ac,_c=Object.prototype,wc=_c.hasOwnProperty;function Sc(e){if(!bc(e))return Ec(e);var t=[];for(var n in Object(e))wc.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Cc=Sc,Ic=Be,Oc=N,Tc=Ic(Oc,"DataView"),Rc=Tc,Nc=Be,Pc=N,kc=Nc(Pc,"Promise"),Dc=kc,xc=Be,Lc=N,jc=xc(Lc,"Set"),Mc=jc,Bc=Be,Fc=N,Uc=Bc(Fc,"WeakMap"),Vc=Uc,Wc=Rc,Hc=We,Qc=Dc,Gc=Mc,Kc=Vc,qc=Z,zc=Ae,Yc="[object Map]",Jc="[object Object]",Xc="[object Promise]",Zc="[object Set]",$c="[object WeakMap]",eu="[object DataView]",tu=zc(Wc),nu=zc(Hc),ru=zc(Qc),ou=zc(Gc),iu=zc(Kc),au=qc;(Wc&&au(new Wc(new ArrayBuffer(1)))!=eu||Hc&&au(new Hc)!=Yc||Qc&&au(Qc.resolve())!=Xc||Gc&&au(new Gc)!=Zc||Kc&&au(new Kc)!=$c)&&(au=function(e){var t=qc(e),n=t==Jc?e.constructor:void 0,r=n?zc(n):"";if(r)switch(r){case tu:return eu;case nu:return Yc;case ru:return Xc;case ou:return Zc;case iu:return $c}return t});var su=au,cu=Cc,uu=su,lu=Qr,du=Kr,fu=eo,pu=Ln.exports,hu=xn,gu=br,vu="[object Map]",mu="[object Set]",yu=Object.prototype,Au=yu.hasOwnProperty;function bu(e){if(null==e)return!0;if(fu(e)&&(du(e)||"string"==typeof e||"function"==typeof e.splice||pu(e)||gu(e)||lu(e)))return!e.length;var t=uu(e);if(t==vu||t==mu)return!e.size;if(hu(e))return!cu(e).length;for(var n in e)if(Au.call(e,n))return!1;return!0}var Eu=bu;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function _u(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}var wu=_u,Su=Z,Cu=On,Iu="[object Symbol]";function Ou(e){return"symbol"==S(e)||Cu(e)&&Su(e)==Iu}var Tu=Ou,Ru=D,Nu=wu,Pu=Kr,ku=Tu,Du=1/0,xu=Ru?Ru.prototype:void 0,Lu=xu?xu.toString:void 0;function ju(e){if("string"==typeof e)return e;if(Pu(e))return Nu(e,ju)+"";if(ku(e))return Lu?Lu.call(e):"";var t=e+"";return"0"==t&&1/e==-Du?"-0":t}var Mu=ju,Bu=Mu;function Fu(e){return null==e?"":Bu(e)}var Uu=Fu;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Vu(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;var i=Array(o);while(++r<o)i[r]=e[r+t];return i}var Wu=Vu,Hu=Wu;function Qu(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Hu(e,t,n)}var Gu=Qu,Ku="\\ud800-\\udfff",qu="\\u0300-\\u036f",zu="\\ufe20-\\ufe2f",Yu="\\u20d0-\\u20ff",Ju=qu+zu+Yu,Xu="\\ufe0e\\ufe0f",Zu="\\u200d",$u=RegExp("["+Zu+Ku+Ju+Xu+"]");function el(e){return $u.test(e)}var tl=el;function nl(e){return e.split("")}var rl=nl,ol="\\ud800-\\udfff",il="\\u0300-\\u036f",al="\\ufe20-\\ufe2f",sl="\\u20d0-\\u20ff",cl=il+al+sl,ul="\\ufe0e\\ufe0f",ll="["+ol+"]",dl="["+cl+"]",fl="\\ud83c[\\udffb-\\udfff]",pl="(?:"+dl+"|"+fl+")",hl="[^"+ol+"]",gl="(?:\\ud83c[\\udde6-\\uddff]){2}",vl="[\\ud800-\\udbff][\\udc00-\\udfff]",ml="\\u200d",yl=pl+"?",Al="["+ul+"]?",bl="(?:"+ml+"(?:"+[hl,gl,vl].join("|")+")"+Al+yl+")*",El=Al+yl+bl,_l="(?:"+[hl+dl+"?",dl,gl,vl,ll].join("|")+")",wl=RegExp(fl+"(?="+fl+")|"+_l+El,"g");function Sl(e){return e.match(wl)||[]}var Cl=Sl,Il=rl,Ol=tl,Tl=Cl;function Rl(e){return Ol(e)?Tl(e):Il(e)}var Nl=Rl,Pl=Gu,kl=tl,Dl=Nl,xl=Uu;function Ll(e){return function(t){t=xl(t);var n=kl(t)?Dl(t):void 0,r=n?n[0]:t.charAt(0),o=n?Pl(n,1).join(""):t.slice(1);return r[e]()+o}}var jl=Ll,Ml=jl,Bl=Ml("toUpperCase"),Fl=Bl;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Ul(e,t,n,r){var o=-1,i=null==e?0:e.length;r&&i&&(n=e[++o]);while(++o<i)n=t(n,e[o],o,e);return n}var Vl=Ul;function Wl(e){return function(t){return null==e?void 0:e[t]}}var Hl=Wl,Ql=Hl,Gl={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Kl=Ql(Gl),ql=Kl,zl=ql,Yl=Uu,Jl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xl="\\u0300-\\u036f",Zl="\\ufe20-\\ufe2f",$l="\\u20d0-\\u20ff",ed=Xl+Zl+$l,td="["+ed+"]",nd=RegExp(td,"g");function rd(e){return e=Yl(e),e&&e.replace(Jl,zl).replace(nd,"")}var od=rd,id=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ad(e){return e.match(id)||[]}var sd=ad,cd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function ud(e){return cd.test(e)}var ld=ud,dd="\\ud800-\\udfff",fd="\\u0300-\\u036f",pd="\\ufe20-\\ufe2f",hd="\\u20d0-\\u20ff",gd=fd+pd+hd,vd="\\u2700-\\u27bf",md="a-z\\xdf-\\xf6\\xf8-\\xff",yd="\\xac\\xb1\\xd7\\xf7",Ad="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bd="\\u2000-\\u206f",Ed=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_d="A-Z\\xc0-\\xd6\\xd8-\\xde",wd="\\ufe0e\\ufe0f",Sd=yd+Ad+bd+Ed,Cd="['’]",Id="["+Sd+"]",Od="["+gd+"]",Td="\\d+",Rd="["+vd+"]",Nd="["+md+"]",Pd="[^"+dd+Sd+Td+vd+md+_d+"]",kd="\\ud83c[\\udffb-\\udfff]",Dd="(?:"+Od+"|"+kd+")",xd="[^"+dd+"]",Ld="(?:\\ud83c[\\udde6-\\uddff]){2}",jd="[\\ud800-\\udbff][\\udc00-\\udfff]",Md="["+_d+"]",Bd="\\u200d",Fd="(?:"+Nd+"|"+Pd+")",Ud="(?:"+Md+"|"+Pd+")",Vd="(?:"+Cd+"(?:d|ll|m|re|s|t|ve))?",Wd="(?:"+Cd+"(?:D|LL|M|RE|S|T|VE))?",Hd=Dd+"?",Qd="["+wd+"]?",Gd="(?:"+Bd+"(?:"+[xd,Ld,jd].join("|")+")"+Qd+Hd+")*",Kd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zd=Qd+Hd+Gd,Yd="(?:"+[Rd,Ld,jd].join("|")+")"+zd,Jd=RegExp([Md+"?"+Nd+"+"+Vd+"(?="+[Id,Md,"$"].join("|")+")",Ud+"+"+Wd+"(?="+[Id,Md+Fd,"$"].join("|")+")",Md+"?"+Fd+"+"+Vd,Md+"+"+Wd,qd,Kd,Td,Yd].join("|"),"g");function Xd(e){return e.match(Jd)||[]}var Zd=Xd,$d=sd,ef=ld,tf=Uu,nf=Zd;function rf(e,t,n){return e=tf(e),t=n?void 0:t,void 0===t?ef(e)?nf(e):$d(e):e.match(t)||[]}var of=rf,af=Vl,sf=od,cf=of,uf="['’]",lf=RegExp(uf,"g");function df(e){return function(t){return af(cf(sf(t).replace(lf,"")),e,"")}}var ff=df,pf=Uu,hf=Fl;function gf(e){return hf(pf(e).toLowerCase())}var vf=gf,mf=vf,yf=ff,Af=yf((function(e,t,n){return t=t.toLowerCase(),e+(n?mf(t):t)})),bf=Af,Ef=ff,_f=Ef((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),wf=_f;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Sf(e){var t;return ee(e)&&"defaultNode"in e?t=e.defaultNode:((0,l.lA)(e)||Ls(e))&&(t=e),t}function Cf(e){return ee(e)&&"params"in e?e.params:{}}function If(e,t,n){var r,o,i,a,s=null===(r=(o=e.$slots)[bf(n)])||void 0===r?void 0:r.call(o,t);return s||(s=null===(i=(a=e.$slots)[wf(n)])||void 0===i?void 0:i.call(a,t),s||null)}var Of=function(e,t,n){var r,o=Cf(n),i=Sf(n);if(t in e&&(r=e[t]),!1!==r){if(!0===r&&i)return If(e,o,t)||i;if(ce(r))return r(l.h,o);var a=[void 0,o,""].includes(r);return a&&(e.$slots[bf(t)]||e.$slots[wf(t)])?If(e,o,t):r}},Tf=function(e,t,n){var r=Sf(n);return Of(e,t,n)||r},Rf=function(e,t,n,r){var o=Cf(r),i=Sf(r),a=o?{params:o}:void 0,s=Of(e,t,a),c=Of(e,n,a),u=Eu(s)?c:s;return Eu(u)?i:u},Nf={mounted:function(e,t){if(t.value){var n=ic(t.value);null===n||void 0===n||n.appendChild(e)}}},Pf={attach:{type:[String,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},fullscreen:Boolean,indicator:{type:[Boolean,Function],default:!0},inheritColor:Boolean,loading:{type:Boolean,default:!0},preventScrollThrough:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},size:{type:String,default:"medium"},text:{type:[String,Function]},zIndex:{type:Number}},kf=function(){return{name:Os("loading"),centerClass:Os("loading--center"),fullscreenClass:Os("loading__fullscreen"),lockClass:Os("loading--lock"),overlayClass:Os("loading__overlay"),relativeClass:Os("loading__parent"),fullClass:Os("loading--full"),inheritColorClass:Os("loading--inherit-color")}},Df=(0,l.aZ)({name:"TLoading",directives:{TransferDom:Nf},props:Pf,setup:function(e,t){var n=t.slots,r=(0,d.iH)(!1),o=kf(),i=o.name,a=o.centerClass,s=o.fullscreenClass,c=o.lockClass,f=o.overlayClass,p=o.relativeClass,h=o.fullClass,g=o.inheritColorClass,m=Os(),y=Ts(),A=y.SIZE,b=function(){r.value=!1;var t=setTimeout((function(){r.value=!0,clearTimeout(t)}),e.delay)},E=(0,l.Fl)((function(){return Boolean(!e.delay||e.delay&&r.value)})),_=(0,l.Fl)((function(){var t={};return void 0!==e.zIndex&&(t.zIndex=e.zIndex),["small","medium","large"].includes(e.size)||(t["font-size"]=e.size),t})),w=(0,l.Fl)((function(){return Boolean(e["default"]||n["default"]||e.content||n.content)})),S=(0,l.Fl)((function(){return e.preventScrollThrough&&e.fullscreen})),C=(0,l.Fl)((function(){return Boolean(e.text||n.text)})),I=(0,l.Fl)((function(){return w.value&&e.loading&&E.value})),O=(0,l.Fl)((function(){return e.fullscreen&&e.loading&&E.value})),T=(0,l.Fl)((function(){return e.attach&&e.loading&&E.value})),R=(0,l.Fl)((function(){return e.attach&&e.loading&&E.value})),N=(0,l.Fl)((function(){var t=[a.value,A.value[e.size],u({},g.value,e.inheritColor)],n=[i.value,s.value,a.value,f.value];return{baseClasses:t,attachClasses:t.concat([i.value,h.value,u({},f.value,e.showOverlay)]),withContentClasses:t.concat([i.value,h.value,u({},f.value,e.showOverlay)]),fullScreenClasses:n,normalClasses:t.concat([i.value])}})),P=(0,d.BK)(e),k=P.loading;return(0,l.YP)([k],(function(e){var t=v(e,1),n=t[0];n?(b(),S.value&&rc(document.body,c.value)):S.value&&oc(document.body,c.value)})),(0,l.bv)((function(){e.delay&&b()})),{classPrefix:m,relativeClass:p,delayShowLoading:r,styles:_,showText:C,hasContent:w,classes:N,lockFullscreen:S,showWrapLoading:I,showNormalLoading:T,showFullScreenLoading:O,showAttachedLoading:R}},render:function(){var e=this.classes,t=e.fullScreenClasses,n=e.baseClasses,r=e.withContentClasses,o=e.attachClasses,i=e.normalClasses,a=(0,l.Wm)(Rs,{size:this.size},null),s=this.loading&&Of(this,"indicator",a),c=this.showText&&(0,l.Wm)("div",{class:"".concat(this.classPrefix,"-loading__text")},[Of(this,"text")]);return this.fullscreen?this.showFullScreenLoading?(0,l.wy)((0,l.Wm)("div",{class:t,style:this.styles},[(0,l.Wm)("div",{class:n},[s,c])]),[[(0,l.Q2)("transfer-dom"),this.attach]]):null:this.hasContent?(0,l.Wm)("div",{class:this.relativeClass},[Rf(this,"default","content"),this.showWrapLoading&&(0,l.Wm)("div",{class:r,style:this.styles},[s,c])]):this.attach?this.showAttachedLoading?(0,l.wy)((0,l.Wm)("div",{class:o,style:this.styles},[s,c]),[[(0,l.Q2)("transfer-dom"),this.attach]]):null:(0,l.Wm)("div",{class:i,style:this.styles},[s,c])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jf=null;function Mf(e){var t=(0,l.aZ)({setup:function(){var t=(0,d.qj)(e);return{loadingOptions:t}},render:function(){return(0,l.h)(Df,Lf({},this.loadingOptions))}}),n=ic(e.attach),r=(0,f.ri)(t).mount(document.createElement("div")),o=Os("loading__parent--relative").value;n?(n.appendChild(r.$el),rc(n,o)):console.error("attach is not exist");var i={hide:function(){r.loading=!1,r.$el.parentNode.removeChild(r.$el),oc(n,o)}};return i}function Bf(e){var t=Os("loading--lock");return!0===e?(jf=Mf({fullscreen:!0,loading:!0,attach:"body"}),jf):(oc(document.body,t.value),!1===e?(oc(document.body,t.value),jf.hide(),void(jf=null)):Mf(e))}var Ff=Bf;Ff.install=function(e){e.config.globalProperties.$loading=Bf};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Uf=Symbol("TdLoading"),Vf=function(e,t){var n=t.modifiers,r=n.fullscreen,o=n.inheritColor,i={attach:function(){return e},fullscreen:null!==r&&void 0!==r&&r,inheritColor:null!==o&&void 0!==o&&o,loading:t.value};e[Uf]={options:i,instance:Ff(i)}},Wf={mounted:function(e,t){t.value&&Vf(e,t)},updated:function(e,t){var n=e[Uf],r=t.value,o=t.oldValue;!!o!==!!r&&(r?Vf(e,t):null===n||void 0===n||n.instance.hide())},unmounted:function(e){var t;null===(t=e[Uf])||void 0===t||t.instance.hide()}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Hf(e,t,n){var r=e;return r.install=function(o,i){o.component(t||i||r.name,e),n&&o.directive(n.name,n.comp)},r}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Qf=Hf(Df,Df.name,{name:"loading",comp:Wf}),Gf={block:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,href:String,ghost:Boolean,icon:{type:Function},loading:Boolean,shape:{type:String,default:"rectangle",validator:function(e){return["rectangle","square","round","circle"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},tag:{type:String,default:void 0,validator:function(e){return["button","a","div"].includes(e)}},theme:{type:String,default:void 0,validator:function(e){return["default","primary","danger","warning","success"].includes(e)}},type:{type:String,default:"button",validator:function(e){return["submit","reset","button"].includes(e)}},variant:{type:String,default:"base",validator:function(e){return["base","outline","dashed","text"].includes(e)}},onClick:Function},Kf=_s.expand,qf=_s.ripple,zf=_s.fade;function Yf(){var e=Is("animation"),t=e.globalConfig,n=function(e){var n,r,o=t.value;return o&&!(null!==(n=o.exclude)&&void 0!==n&&n.includes(e))&&(null===(r=o.include)||void 0===r?void 0:r.includes(e))};return{keepExpand:n(Kf),keepRipple:n(qf),keepFade:n(zf)}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Jf(e,t){var n=Object.keys(t);n.forEach((function(n){e.style[n]=t[n]}))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Xf=200,Zf="rgba(0, 0, 0, 0)",$f="rgba(0, 0, 0, 0.35)",ep=function(e,t){var n;if(t)return t;if(null!==e&&void 0!==e&&null!==(n=e.dataset)&&void 0!==n&&n.ripple){var r=e.dataset.ripple;return r}var o=getComputedStyle(e).getPropertyValue("--ripple-color");return o||$f};function tp(e,t){var n=(0,d.iH)(null),r=Os(),o=Yf(),i=o.keepRipple,a=function(o){var a=e.value,s=ep(a,null===t||void 0===t?void 0:t.value);if(0===o.button&&e&&i&&!(a.classList.contains("".concat(r.value,"-is-active"))||a.classList.contains("".concat(r.value,"-is-disabled"))||a.classList.contains("".concat(r.value,"-is-checked"))||a.classList.contains("".concat(r.value,"-is-loading")))){var c=getComputedStyle(a),u=parseInt(c.borderWidth,10),l=u>0?u:0,d=a.offsetWidth,f=a.offsetHeight;null===n.value.parentNode&&(Jf(n.value,{position:"absolute",left:"".concat(0-l,"px"),top:"".concat(0-l,"px"),width:"".concat(d,"px"),height:"".concat(f,"px"),borderRadius:c.borderRadius,pointerEvents:"none",overflow:"hidden"}),a.appendChild(n.value));var p=document.createElement("div");Jf(p,{marginTop:"0",marginLeft:"0",right:"".concat(d,"px"),width:"".concat(d+20,"px"),height:"100%",transition:"transform ".concat(Xf,"ms cubic-bezier(.38, 0, .24, 1), background ").concat(2*Xf,"ms linear"),transform:"skewX(-8deg)",pointerEvents:"none",position:"absolute",zIndex:0,backgroundColor:s,opacity:"0.9"});for(var h=new WeakMap,g=a.children.length,v=0;v<g;++v){var m=a.children[v];""===m.style.zIndex&&m!==n.value&&(m.style.zIndex="1",h.set(m,!0))}var y=a.style.position?a.style.position:getComputedStyle(a).position;""!==y&&"static"!==y||(a.style.position="relative"),n.value.insertBefore(p,n.value.firstChild),setTimeout((function(){p.style.transform="translateX(".concat(d,"px)")}),0);var A=function t(){p.style.backgroundColor=Zf,e.value&&(e.value.removeEventListener("pointerup",t,!1),e.value.removeEventListener("pointerleave",t,!1),setTimeout((function(){p.remove(),0===n.value.children.length&&n.value.remove()}),2*Xf+100))};e.value.addEventListener("pointerup",A,!1),e.value.addEventListener("pointerleave",A,!1)}};(0,l.bv)((function(){var t=e.value;t&&(n.value=document.createElement("div"),t.addEventListener("pointerdown",a,!1))})),(0,l.Ah)((function(){var t;null===(t=e.value)||void 0===t||t.removeEventListener("pointerdown",a,!1)}))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function np(e){var t=(0,l.FN)(),n=(0,l.Fl)((function(){return t.props.disabled})),r=(0,l.f3)("formDisabled",Object.create(null)),o=r.disabled;return(0,l.Fl)((function(){return n.value||(null===o||void 0===o?void 0:o.value)||(null===e||void 0===e?void 0:e.value)||!1}))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function rp(e,t,n){var r,o,i,a,s=null===(r=(o=e.slots)[bf(t)])||void 0===r?void 0:r.call(o,n);return s||(s=null===(i=(a=e.slots)[wf(t)])||void 0===i?void 0:i.call(a,n),s||null)}var op=function(){var e=(0,l.FN)();return function(t,n){var r,o=Cf(n),i=Sf(n);if(Object.keys(e.props).includes(t)&&(r=e.props[t]),!1!==r){if(!0===r)return rp(e,t,o)||i;if(ce(r))return r(l.h,o);var a=[void 0,o,""].includes(r);return a&&(e.slots[bf(t)]||e.slots[wf(t)])?rp(e,t,o):r}}},ip=function(){var e=op();return function(t,n){var r=Sf(n);return e(t,n)||r}},ap=function(){var e=op();return function(t,n,r){var o=Cf(r),i=Sf(r),a=o?{params:o}:void 0,s=e(t,a),c=e(n,a),u=Eu(s)?c:s;return Eu(u)?i:u}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sp(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var up=(0,l.aZ)({name:"TButton",props:Gf,setup:function(e,t){var n=t.attrs,r=op(),o=ap(),i=Os("button"),a=Ts(),s=a.STATUS,f=a.SIZE,p=np(),h=(0,d.iH)();tp(h);var g=(0,l.Fl)((function(){return e.disabled||e.loading||p.value})),v=(0,l.Fl)((function(){var t=e.theme,n=e.variant;return t||("base"===n?"primary":"default")})),m=(0,l.Fl)((function(){var t;return["".concat(i.value),f.value[e.size],"".concat(i.value,"--variant-").concat(e.variant),"".concat(i.value,"--theme-").concat(v.value),(t={},u(t,s.value.disabled,e.disabled||p.value),u(t,s.value.loading,e.loading),u(t,"".concat(i.value,"--shape-").concat(e.shape),"rectangle"!==e.shape),u(t,"".concat(i.value,"--ghost"),e.ghost),u(t,f.value.block,e.block),t)]}));return function(){var t=o("default","content"),a=e.loading?(0,l.Wm)(Qf,{inheritColor:!0},null):r("icon"),s=a&&!t;t=t?(0,l.Wm)("span",{class:"".concat(i.value,"__text")},[t]):"",a&&(t=[a,t]);var d=function(){return!e.tag&&e.href?"a":e.tag||"button"},f={class:[].concat(c(m.value),[u({},"".concat(i.value,"--icon-only"),s)]),type:e.type,disabled:g.value,href:e.href};return(0,l.h)(d(),cp(cp(cp({ref:h},n),f),{},{onClick:e.onClick}),[t])}}}),lp=Hf(up);function dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fp="t",pp="zh-CN",hp={classPrefix:fp,locale:pp};function gp(){var{classPrefix:e}=hp;return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),medium:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}}function vp(e){var t=gp().SIZE,n=(0,l.Fl)((()=>e.value in t?t[e.value]:"")),r=(0,l.Fl)((()=>void 0===e.value||e.value in t?{}:{fontSize:e.value}));return{style:r,className:n}}var mp="undefined"===typeof window;function yp(e,t){if(!mp&&document&&e&&"string"===typeof e&&!(document.querySelectorAll(".".concat(t,'[src="').concat(e,'"]')).length>0)){var n=document.createElement("script");n.setAttribute("class",t),n.setAttribute("src",e),document.body.appendChild(n)}}var Ap={name:{type:String,default:""},size:{type:String,default:void 0},url:{type:[String,Array],default:void 0},loadDefaultIcons:{type:Boolean,default:!0},onClick:Function};function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var{classPrefix:_p}=hp,wp="https://tdesign.gtimg.com/icon/0.1.2/fonts/index.js",Sp=(0,l.aZ)({name:"Icon",props:Ap,setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),o=(0,l.Fl)((()=>e.name||"")),{className:i,style:a}=vp(r),s=(0,l.Fl)((()=>{var t=[];return t=e.url instanceof Array?e.url.concat():[e.url],e.loadDefaultIcons&&t.push(wp),t})),c=(0,l.Fl)((()=>["".concat(_p,"-icon"),"".concat(_p,"-icon-").concat(o.value),i.value])),u=(0,l.Fl)((()=>Ep(Ep({},a.value),n.style)));(0,l.bv)((()=>{Array.from(new Set(s.value)).forEach((e=>{yp(e,"".concat(_p,"-svg-js-stylesheet--unique-class"))}))}));var d=(0,l.Fl)((()=>({class:c.value,style:u.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,l.h)("svg",d.value,(0,l.h)("use",{href:e.url?"#".concat(o.value):"#t-icon-".concat(o.value)}))}}),Cp=Sp,Ip=Hf(Cp,"TIcon"),Op={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,hover:{type:String,default:"underline",validator:function(e){return!e||["color","underline"].includes(e)}},href:{type:String,default:""},prefixIcon:{type:Function},size:{type:String,validator:function(e){return!e||["small","medium","large"].includes(e)}},suffixIcon:{type:Function},target:{type:String,default:""},theme:{type:String,default:"default",validator:function(e){return!e||["default","primary","danger","warning","success"].includes(e)}},underline:Boolean,onClick:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Np=(0,l.aZ)({name:"TLink",props:Rp({},Op),emits:["click"],setup:function(e,t){var n=t.emit,r=ap(),o=op(),i=Os("link"),a=Ts(),s=a.STATUS,d=a.SIZE,f=Is("classPrefix"),p=f.classPrefix,h=(0,l.Fl)((function(){var t;return["".concat(i.value),d.value[e.size],"".concat(i.value,"--theme-").concat(e.theme),(t={},u(t,s.value.disabled,e.disabled),u(t,"".concat(p.value,"-is-underline"),e.underline),u(t,"".concat(i.value,"--hover-").concat(e.hover),!e.disabled),t)]})),g=function(t){e.disabled||n("click",t)};return function(){var t=r("default","content"),n=o("prefixIcon"),a=o("suffixIcon");return(0,l.Wm)("a",{class:c(h.value),href:e.disabled||!e.href?void 0:e.href,target:e.target,onClick:g},[n?(0,l.Wm)("span",{class:"".concat(i.value,"__prefix-icon")},[n]):null,t,a?(0,l.Wm)("span",{class:"".concat(i.value,"__suffix-icon")},[a]):null])}}}),Pp=Hf(Np),kp={align:{type:String,default:"top",validator:function(e){return!e||["start","end","center","stretch","baseline","top","middle","bottom"].includes(e)}},gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start",validator:function(e){return!e||["start","end","center","space-around","space-between"].includes(e)}},tag:{type:String,default:"div"}},Dp=function(e){var t="xs";return t=e<768?"xs":e>=768&&e<992?"sm":e>=992&&e<1200?"md":e>=1200&&e<1400?"lg":e>=1400&&e<1880?"xl":"xxl",t};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function xp(e,t){(0,l.bv)((function(){window.addEventListener(e,t)})),(0,l.Jd)((function(){window.removeEventListener(e,t)}))}function Lp(e,t){xp("resize",e);var n=null;(0,l.bv)((function(){window.ResizeObserver&&t&&(n=new window.ResizeObserver(e),n.observe(t))})),(0,l.Jd)((function(){var e;null===(e=n)||void 0===e||e.disconnect()}))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bp(){var e=(0,d.iH)(Dp(Xs?0:window.innerWidth)),t=function(){e.value=Dp(Xs?0:window.innerWidth)};return xp("resize",t),e}function Fp(e,t){var n,r=t.justify,o=t.align;return[e,(n={},u(n,"".concat(e,"--").concat(r),r),u(n,"".concat(e,"--align-").concat(o),o),n)]}function Up(e,t){var n={},r=function(e){return Object.assign(n,{marginLeft:"".concat(e/-2,"px"),marginRight:"".concat(e/-2,"px")})},o=function(e){return Object.assign(n,{rowGap:"".concat(e,"px")})},i={isNumber:function(e){"number"===typeof e&&r(e)},isArray:function(e){Array.isArray(e)&&e.length&&(i.isNumber(e[0]),"number"===typeof e[1]&&o(e[1]),ee(e[0])&&void 0!==e[0][t]&&r(e[0][t]),ee(e[1])&&void 0!==e[1][t]&&o(e[1][t]))},isObject:function(e){ee(e)&&e[t]&&(Array.isArray(e)&&e.length?(r(e[t][0]),o(e[t][1])):r(e[t]))}};return Object.keys(i).forEach((function(t){i[t](e)})),n}function Vp(e){return"number"===typeof e?"".concat(e," ").concat(e," 0"):/^\d+(\.\d+)?(px|r?em|%)$/.test(e)?"0 0 ".concat(e):e}function Wp(e,t){var n={},r=function(e){return Object.assign(n,{paddingLeft:"".concat(e/2,"px"),paddingRight:"".concat(e/2,"px")})},o={isNumber:function(e){"number"===typeof e&&r(e)},isArray:function(e){Array.isArray(e)&&e.length&&("number"===typeof e[0]&&r(e[0]),ee(e[0])&&e[0][t]&&r(e[0][t]))},isObject:function(e){ee(e)&&e[t]&&r(e[t])}};return Object.keys(o).forEach((function(t){o[t](e)})),n}function Hp(e,t){var n,r=t.span,o=t.order,i=t.offset,a=t.push,s=t.pull,c=["xs","sm","md","lg","xl","xxl"],l=c.reduce((function(n,r){var o,i=t[r],a={};return"number"===typeof i?a.span=i:ee(i)&&(a=i||{}),Mp(Mp({},n),{},(o={},u(o,"".concat(e,"-").concat(r,"-").concat(a.span),void 0!==a.span),u(o,"".concat(e,"-").concat(r,"-order-").concat(a.order),parseInt(a.order,10)>=0),u(o,"".concat(e,"-").concat(r,"-offset-").concat(a.offset),parseInt(a.offset,10)>=0),u(o,"".concat(e,"-").concat(r,"-push-").concat(a.push),parseInt(a.push,10)>=0),u(o,"".concat(e,"-").concat(r,"-pull-").concat(a.pull),parseInt(a.pull,10)>=0),o))}),{});return Mp((n={},u(n,"".concat(e),!0),u(n,"".concat(e,"-").concat(r),void 0!==r),u(n,"".concat(e,"-order-").concat(o),o),u(n,"".concat(e,"-offset-").concat(i),i),u(n,"".concat(e,"-push-").concat(a),a),u(n,"".concat(e,"-pull-").concat(s),s),n),l)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kp(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var qp=(0,l.aZ)({name:"TRow",props:Gp({},kp),setup:function(e){var t=(0,d.BK)(e),n=t.gutter,r=op();(0,l.JJ)("rowContext",(0,d.qj)({gutter:n}));var o=Bp(),i=Os("row"),a=(0,l.Fl)((function(){return Fp(i.value,e)})),s=(0,l.Fl)((function(){return Up(e.gutter,o.value)}));return function(){var t,n=e.tag;return(0,l.Wm)(n,{class:a.value,style:s.value},Kp(t=r("default"))?t:{default:function(){return[t]}})}}}),zp={flex:{type:[String,Number]},lg:{type:[Number,Object]},md:{type:[Number,Object]},offset:{type:Number,default:0},order:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},sm:{type:[Number,Object]},span:{type:Number,default:12},tag:{type:String,default:"div"},xl:{type:[Number,Object]},xs:{type:[Number,Object]},xxl:{type:[Number,Object]}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xp(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Zp=(0,l.aZ)({name:"TCol",inject:["rowContext"],props:Jp({},zp),setup:function(e){var t=Os("col"),n=op(),r=(0,l.f3)("rowContext",Object.create(null)),o=Bp(),i=(0,l.Fl)((function(){return Hp(t.value,e)})),a=(0,l.Fl)((function(){var t={},n=e.flex;if(n&&(t.flex=Vp(n)),r){var i=r.gutter;Object.assign(t,Wp(i,o.value))}return t}));return function(){var t,r=e.tag;return(0,l.Wm)(r,{class:i.value,style:a.value},Xp(t=n("default"))?t:{default:function(){return[t]}})}}}),$p=Hf(qp),eh=Hf(Zp),th=(0,l.aZ)({name:"TLayout",setup:function(){var e=(0,d.iH)(!1),t=op(),n=Os("layout"),r=(0,l.Fl)((function(){return[n.value,u({},"".concat(n.value,"--with-sider"),e.value)]}));return(0,l.JJ)("layout",{hasSide:e}),function(){return(0,l.Wm)("section",{class:r.value},[t("default")])}}}),nh={height:{type:String,default:""}},rh=(0,l.aZ)({name:"THeader",props:nh,setup:function(e){var t=Os("layout__header"),n=op();return function(){return(0,l.Wm)("header",{class:t.value,style:e.height?{height:e.height}:{}},[n("default")])}}}),oh={height:{type:String,default:""}},ih=(0,l.aZ)({name:"TFooter",props:oh,setup:function(e){var t=Os("layout__footer"),n=op();return function(){return(0,l.Wm)("footer",{class:t.value,style:e.height?{height:e.height}:{}},[n("default")])}}}),ah={width:{type:String,default:""}},sh=(0,l.aZ)({name:"TAside",props:ah,setup:function(e){var t=(0,l.f3)("layout",Object.create(null)),n=t.hasSide,r=Os("layout__sider"),o=op();if(n)return(0,l.bv)((function(){n.value=!0})),(0,l.Ah)((function(){n.value=!1})),function(){var t=e.width?{width:e.width}:{};return(0,l.Wm)("aside",{class:r.value,style:t},[o("default")])}}}),ch=(0,l.aZ)({name:"TContent",setup:function(){var e=Os("layout__content"),t=op();return function(){return(0,l.Wm)("main",{class:e.value},[t("default")])}}}),uh=Hf(sh),lh=Hf(th),dh=Hf(rh),fh=Hf(ih),ph=Hf(ch),hh={align:{type:String,default:"center",validator:function(e){return["left","right","center"].includes(e)}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return["horizontal","vertical"].includes(e)}}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gh(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mh=(0,l.aZ)({name:"TDivider",props:vh({},hh),setup:function(e){var t=Os("divider"),n=ap();return function(){var r,o=e.layout,i=e.dashed,a=e.align,s=n("default","content"),c=["".concat(t.value),["".concat(t.value,"--").concat(o)],(r={},u(r,"".concat(t.value,"--dashed"),!!i),u(r,"".concat(t.value,"--with-text"),!!s),u(r,"".concat(t.value,"--with-text-").concat(a),!!s),r)];return(0,l.Wm)("div",{class:c},[s&&(0,l.Wm)("span",{class:"".concat(t.value,"__inner-text")},[s])])}}}),yh=Hf(mh),Ah={align:{type:String,validator:function(e){return!e||["start","end","center","baseline"].includes(e)}},breakLine:Boolean,direction:{type:String,default:"horizontal",validator:function(e){return!e||["vertical","horizontal"].includes(e)}},separator:{type:[String,Function]},size:{type:[String,Number],default:"medium"}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function bh(){var e=(0,l.FN)();return function(t,n){var r,o;n||(n=e.slots);var i=(null===(r=n)||void 0===r||null===(o=r["default"])||void 0===o?void 0:o.call(r))||[],a=[],s=function e(t){if(Array.isArray(t))return t.forEach((function(t){if(t.children&&Array.isArray(t.children)){if(t.type!==l.HY)return;e(t.children)}else a.push(t)})),a};return s(i).filter((function(e){var n;return null===(n=e.type.name)||void 0===n?void 0:n.endsWith(t)}))}}function Eh(){var e=(0,l.FN)();return function(){var t,n=e.slots,r=(null===n||void 0===n||null===(t=n["default"])||void 0===t?void 0:t.call(n))||[];return r.filter((function(e){return e.type!==l.sv})).map((function(e){return e.children&&Array.isArray(e.children)&&e.type===l.HY?e.children:e})).flat()}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function _h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_h(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sh=(0,l.aZ)({name:"TSpace",props:wh({},Ah),setup:function(e){var t=Os("space"),n=op(),r=Eh(),o=(0,l.Fl)((function(){var t={small:"8px",medium:"16px",large:"24px"},n="";return Array.isArray(e.size)?n=e.size.map((function(e){return"number"===typeof e?"".concat(e,"px"):"string"===typeof e&&t[e]||e})).join(" "):"string"===typeof e.size?n=t[e.size]||e.size:"number"===typeof e.size&&(n="".concat(e.size,"px")),wh({gap:n},e.breakLine?{"flex-wrap":"wrap"}:{})}));function i(){var e=r(),o=n("separator");return e.map((function(n,r){var i=r+1!==e.length&&o;return(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{class:"".concat(t.value,"-item")},[n]),i&&(0,l.Wm)("div",{class:"".concat(t.value,"-item-separator")},[o])])}))}return function(){var n,r=["".concat(t.value),(n={},u(n,"".concat(t.value,"-align-").concat(e.align),e.align),u(n,"".concat(t.value,"-").concat(e.direction),e.direction),n)];return(0,l.Wm)("div",{class:r,style:o.value},[i()])}}}),Ch=Hf(Sh);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Ih(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(fq){return void n(fq)}s.done?t(c):Promise.resolve(c).then(r,o)}function Oh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ih(i,r,o,a,s,"next",e)}function s(e){Ih(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Th={exports:{}},Rh={exports:{}};(function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports})(Rh);Rh.exports;(function(e){var t=Rh.exports["default"];function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports["default"]=e.exports;var r={},o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new I(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}r.wrap=d;var p={};function h(){}function g(){}function v(){}var m={};l(m,s,(function(){return this}));var y=Object.getPrototypeOf,A=y&&y(y(O([])));A&&A!==o&&i.call(A,s)&&(m=A);var b=v.prototype=h.prototype=Object.create(m);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,n){function r(o,a,s,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==t(d)&&i.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):n.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;this._invoke=function(e,t){function i(){return new n((function(n,o){r(e,t,n,o)}))}return o=o?o.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=v,l(b,"constructor",v),l(v,"constructor",g),g.displayName=l(v,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},r.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,c,(function(){return this})),r.AsyncIterator=_,r.async=function(e,t,n,o,i){void 0===i&&(i=Promise);var a=new _(d(e,t,n,o),i);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},r}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports})(Th);Th.exports;var Nh=Th.exports(),Ph=Nh;try{regeneratorRuntime=Nh}catch(x2){"object"===("undefined"===typeof globalThis?"undefined":S(globalThis))?globalThis.regeneratorRuntime=Nh:Function("r","regeneratorRuntime = r")(Nh)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var kh={container:{type:[String,Function],default:function(){return function(){return window}}},offsetBottom:{type:Number,default:0},offsetTop:{type:Number,default:0},zIndex:{type:Number},onFixedChange:Function},Dh=(0,l.aZ)({name:"TAffix",props:kh,emits:["fixedChange"],setup:function(e,t){var n=Os("affix"),r=op(),o=(0,d.iH)(null),i=(0,d.iH)(null),a=(0,d.iH)(document.createElement("div")),s=(0,d.iH)(!1),c=(0,d.iH)(!1),u=(0,d.iH)(),f=function(){s.value||(window.requestAnimationFrame((function(){var r,c,l=null!==(r=o.value.getBoundingClientRect())&&void 0!==r?r:{top:0,width:0,height:0},d=l.top,f=l.width,p=l.height,h=0;u.value instanceof HTMLElement&&(h=u.value.getBoundingClientRect().top);var g=d-h,v=u.value[u.value instanceof Window?"innerHeight":"clientHeight"]-p,m=h+v-e.offsetBottom;if(c=void 0!==e.offsetTop&&g<=e.offsetTop?h+e.offsetTop:void 0!==e.offsetBottom&&d>=m&&m,i.value){var y=!1!==c,A=o.value.contains(a.value);y?(i.value.className=n.value,i.value.style.top="".concat(c,"px"),i.value.style.width="".concat(f,"px"),i.value.style.height="".concat(p,"px"),e.zIndex&&(i.value.style.zIndex="".concat(e.zIndex)),A||(a.value.style.width="".concat(f,"px"),a.value.style.height="".concat(p,"px"),o.value.appendChild(a.value))):(i.value.removeAttribute("class"),i.value.removeAttribute("style"),A&&a.value.remove()),t.emit("fixedChange",y,{top:Number(c)}),ce(e.onFixedChange)&&e.onFixedChange(y,{top:Number(c)})}s.value=!1})),s.value=!0)},p=function(){var t=Oh(Ph.mark((function t(){return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,l.Y3)();case 2:if(!c.value){t.next=4;break}return t.abrupt("return");case 4:u.value=ac(e.container),$s(u.value,"scroll",f),$s(window,"resize",f),c.value=!0;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){u.value&&c.value&&(ec(u.value,"scroll",f),ec(window,"resize",f),c.value=!1)};return(0,l.YP)((function(){return e.offsetTop}),(function(){f()})),(0,l.YP)((function(){return e.offsetBottom}),(function(){f()})),(0,l.YP)((function(){return e.zIndex}),(function(){f()})),(0,l.bv)(p),(0,l.dl)(p),(0,l.se)(h),(0,l.Jd)(h),{affixWrapRef:o,affixRef:i,bindScroll:p,unbindScroll:h,handleScroll:f,scrollContainer:u,renderTNodeJSX:r}},render:function(){return(0,l.Wm)("div",{ref:"affixWrapRef"},[(0,l.Wm)("div",{ref:"affixRef"},[this.renderTNodeJSX("default")])])}}),xh=Hf(Dh),Lh=/#(\S+)$/;function jh(e,t){var n=e.getBoundingClientRect(),r=n.top;return t===window?r-document.documentElement.clientTop:r-t.getBoundingClientRect().top}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Mh={affixProps:{type:Object},bounds:{type:Number,default:5},container:{type:[String,Function],default:function(){return function(){return window}}},cursor:{type:Function},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},targetOffset:{type:Number,default:0},onChange:Function,onClick:Function},Bh=Symbol("AnchorInjectionProvide");
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Fh(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Uh=(0,l.aZ)({name:"TAnchor",props:Mh,setup:function(e,t){var n=t.attrs,r=(0,d.iH)(null),o=(0,d.iH)([]),i=(0,d.iH)(""),a=(0,d.iH)(null),s=(0,d.iH)(!1),c=(0,d.qj)({}),u=Os("anchor"),f=Os("anchor__line"),p=Os("anchor__line-cursor"),h=Ts(),g=h.STATUS,v=h.SIZE,m=op(),y=function(){if(!Xs){var t=e.container;a.value=ac(t),$s(a.value,"scroll",A),A()}},A=function(){if(!s.value){var t=e.bounds,n=e.targetOffset,r=[],i="";if(o.value.forEach((function(e){var o=b(e);if(o){var i=jh(o,a.value);i<t+n&&r.push({link:e,top:i})}})),r.length){var c=r.reduce((function(e,t){return e.top>t.top?e:t}));i=c.link}w(i)}},b=function(e){var t=e.match(Lh);if(t){var n=document.getElementById(t[1]);if(n)return n}},E=function(e){Lh.test(e)&&-1===o.value.indexOf(e)&&o.value.push(e)},_=function(e){o.value=o.value.filter((function(t){return t!==e}))},w=function(){var t=Oh(Ph.mark((function t(n){var r;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.value!==n){t.next=2;break}return t.abrupt("return");case 2:return i.value=n,null===(r=e.onChange)||void 0===r||r.call(e,n,i.value),t.next=6,(0,l.Y3)();case 6:S();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){var e,t=null===(e=r.value)||void 0===e?void 0:e.querySelector(".".concat(g.value.active,">a"));if(t){var n=t.offsetTop,o=t.offsetHeight;Object.assign(c,{top:"".concat(n,"px"),height:"".concat(o,"px"),opacity:1})}else Object.assign(c,{})},C=function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t)},I=function(){var t=Oh(Ph.mark((function t(n){var r,o,i,c,u;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=b(n),w(n),r){t.next=4;break}return t.abrupt("return");case 4:return s.value=!0,o=e.targetOffset,i=cc(a.value),c=jh(r,a.value),u=i+c-o,t.next=11,uc(u,{container:a.value});case 11:s.value=!1;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=m("cursor");return e||(0,l.Wm)("div",{class:p.value},null)};return(0,l.bv)(Oh(Ph.mark((function e(){return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(y(),!i.value){e.next=5;break}return e.next=4,(0,l.Y3)();case 4:I(i.value);case 5:case"end":return e.stop()}}),e)})))),(0,l.Ah)((function(){a.value&&ec(a.value,"scroll",A)})),(0,l.m0)((function(){a.value&&ec(a.value,"scroll",A),y()})),(0,l.JJ)(Bh,(0,d.qj)({registerLink:E,unregisterLink:_,handleScrollTo:I,handleLinkClick:C,active:i})),function(){var t=e.size,o=e.affixProps,i=[u.value,v.value[t]],a=(0,l.Wm)("div",(0,l.dG)({ref:r,class:i},n),[(0,l.Wm)("div",{class:f.value},[(0,l.Wm)("div",{class:"".concat(p.value,"-wrapper"),style:c},[O()])]),m("default")]);return o?(0,l.Wm)(xh,o,Fh(a)?a:{default:function(){return[a]}}):a}}}),Vh={href:{type:String,default:"",required:!0},target:{type:String,default:"_self",validator:function(e){return["_self","_blank","_parent","_top"].includes(e)}},title:{type:[String,Function],default:""}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wh(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qh=Hh(Hh({},Vh),{},{href:{type:String,required:!0,validator:function(e){return Lh.test(e)}}}),Gh=(0,l.aZ)({name:"TAnchorItem",inject:{tAnchor:{default:void 0}},props:Qh,setup:function(e,t){var n=t.slots,r=(0,l.f3)(Bh,void 0),o=Os("anchor__item"),i=Ts(),a=i.STATUS,s=function(){r.registerLink(e.href)},c=function(){var t=e.href;t&&r.unregisterLink(t)},d=function(t){var n=e.href,o=e.title;r.handleScrollTo(n),r.handleLinkClick({href:n,title:"string"===typeof o?o:void 0,e:t})},f=function(){var t,r=e.title,o=n.title;return"string"===typeof r?t=r:"function"===typeof r?t=r(l.h):o&&(t=o(null)),t};return(0,l.YP)((function(){return e.href}),(function(){c(),s()}),{immediate:!0}),(0,l.bv)((function(){s()})),(0,l.Ah)((function(){s()})),function(){var t,i=e.href,s=e.target,c=n["default"],p=n.title,h=f(),g="string"===typeof h?h:null,v=r.active===i,m=(t={},u(t,o.value,!0),u(t,a.value.active,v),t),y=u({},"".concat(o.value,"-link"),!0);return(0,l.Wm)("div",{class:m},[(0,l.Wm)("a",{href:i,title:g,class:y,target:s,onClick:d},[p?p(null):h]),c&&c(null)])}}});function Kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kh(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zh(e){var t=["fillOpacity","fillRule","clipRule"];return t.includes(e)?e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():e}function Yh(e,t){var n=Object.keys(e.attrs).reduce(((t,n)=>(t[zh(n)]=e.attrs[n],t)),{});return(0,l.h)(e.tag,qh(qh({},n),t),(e.children||[]).map((e=>Yh(e,{}))))}function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jh(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zh={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 1.92C4 1.34 4.52 1 5 1h4.37a1 1 0 01.71.3L13.71 5a1 1 0 01.29.7v6.38c0 .58-.52.92-1 .92H5c-.48 0-1-.34-1-.92V1.92zM5 2v10h8V6.01H9V2H5zm5 .65V5h2.32L10 2.65z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M2 5v9.01a1 1 0 001 1h8v-1H3V5H2z",fillOpacity:.9}}]},$h=(0,l.aZ)({name:"FileCopyIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-file-copy",o.value])),s=(0,l.Fl)((()=>Xh(Xh({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(Zh,c.value)}}),eg={exports:{}};
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,t){(function(t,n){e.exports=n()})(0,(function(){return function(){var e={686:function(e,t,n){n.d(t,{default:function(){return k}});var r=n(279),o=n.n(r),i=n(370),a=n.n(i),s=n(817),c=n.n(s);function u(e){try{return document.execCommand(e)}catch(t){return!1}}var l=function(e){var t=c()(e);return u("cut"),t},d=l;function f(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=e,n}var p=function(e,t){var n=f(e);t.container.appendChild(n);var r=c()(n);return u("copy"),n.remove(),r},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"===typeof e?n=p(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===e||void 0===e?void 0:e.type)?n=p(e.value,t):(n=c()(e),u("copy")),n},g=h;function v(e){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,r=e.container,o=e.target,i=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==v(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return i?g(i,{container:r}):o?"cut"===n?d(o):g(o,{container:r}):void 0},y=m;function A(e){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function C(e){var t=T();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function N(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var P=function(e){w(n,e);var t=C(n);function n(e,r){var o;return b(this,n),o=t.call(this),o.resolveOptions(r),o.listenClick(e),o}return _(n,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===A(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",r=y({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(r?"success":"error",{action:n,text:r,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return N("action",e)}},{key:"defaultTarget",value:function(e){var t=N("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return N("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return g(e,t)}},{key:"cut",value:function(e){return d(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),n}(o()),k=P},828:function(e){var t=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function r(e,n){while(e&&e.nodeType!==t){if("function"===typeof e.matches&&e.matches(n))return e;e=e.parentNode}}e.exports=r},438:function(e,t,n){var r=n(828);function o(e,t,n,r,o){var i=a.apply(this,arguments);return e.addEventListener(n,i,o),{destroy:function(){e.removeEventListener(n,i,o)}}}function i(e,t,n,r,i){return"function"===typeof e.addEventListener?o.apply(null,arguments):"function"===typeof n?o.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,n,r,i)})))}function a(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}e.exports=i},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},370:function(e,t,n){var r=n(879),o=n(438);function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return a(e,t,n);if(r.nodeList(e))return s(e,t,n);if(r.string(e))return c(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function s(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}function c(e,t,n){return o(document.body,e,t,n)}e.exports=i},817:function(e){function t(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}e.exports=t},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),n(686)}()["default"]}))})(eg,eg.exports);var tg=w(eg.exports);function ng(e){var t=document.createElement("div"),n=new tg(t,{text:function(){return e}});t.click(),n.destroy(),t.remove()}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var rg=["info","success","warning","error","question","loading"],og="32px",ig={top:{top:og,left:"50%",transform:"translateX(-50%)"},center:{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},left:{left:og,top:"50%",transform:"translateY(-50%)"},bottom:{bottom:og,left:"50%",transform:"translateX(-50%)"},right:{right:og,top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-end"},"top-left":{left:og,top:og},"top-right":{right:og,top:og,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-right":{right:og,bottom:og,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-left":{left:og,bottom:og}},ag=Object.keys(ig);function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ug={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM7.4 4h1.2v1.2H7.4V4zm.1 2.5h1V12h-1V6.5z",fillOpacity:.9}}]},lg=(0,l.aZ)({name:"InfoCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-info-circle-filled",o.value])),s=(0,l.Fl)((()=>cg(cg({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(ug,c.value)}});function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pg={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM4.5 8.2l.7-.7L7 9.3l3.8-3.8.7.7L7 10.7 4.5 8.2z",fillOpacity:.9}}]},hg=(0,l.aZ)({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-check-circle-filled",o.value])),s=(0,l.Fl)((()=>fg(fg({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(pg,c.value)}});function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gg(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mg={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM8.5 4v5.5h-1V4h1zm-1.1 7h1.2v1.2H7.4V11z",fillOpacity:.9}}]},yg=(0,l.aZ)({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-error-circle-filled",o.value])),s=(0,l.Fl)((()=>vg(vg({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(mg,c.value)}});function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ag(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eg={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.8 6.63a2.2 2.2 0 014.39 0c0 .97-.75 1.72-1.49 2.02a.34.34 0 00-.2.32v.8h-1v-.8c0-.56.33-1.04.82-1.24.5-.2.87-.66.87-1.1a1.2 1.2 0 00-2.39 0h-1zm1.67 4.54a.53.53 0 111.05 0 .53.53 0 01-1.05 0z",fillOpacity:.9}}]},_g=(0,l.aZ)({name:"HelpCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-help-circle-filled",o.value])),s=(0,l.Fl)((()=>bg(bg({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(Eg,c.value)}});function wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cg={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z",fillOpacity:.9}}]},Ig=(0,l.aZ)({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-close",o.value])),s=(0,l.Fl)((()=>Sg(Sg({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(Cg,c.value)}}),Og={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return["info","success","warning","error","question","loading"].includes(e)}},onCloseBtnClick:Function,onDurationEnd:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Tg(e){var t=Is("icon"),n=t.globalConfig,r={};return Object.keys(e).forEach((function(t){var o;r[t]=(null===(o=n.value)||void 0===o?void 0:o[t])||e[t]})),r}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Rg={duration:200,easing:"linear"};function Ng(e,t){if(e){var n=(null===e||void 0===e?void 0:e.offsetWidth)||0,r=(null===e||void 0===e?void 0:e.offsetHeight)||0,o=Dg(t,n,r);if(o){var i=o[o.length-1];kg(e,i),e.animate&&e.animate(o,Rg)}}}function Pg(e,t,n){if(e){var r=(null===e||void 0===e?void 0:e.offsetHeight)||0,o=xg(t,r);if(!o)return n();var i=o[o.length-1];kg(e,i);var a=e.animate&&e.animate(o,Rg);a?a.onfinish=function(){e.style.display="none",n()}:(e.style.display="none",n())}}function kg(e,t){for(var n=Object.keys(t),r=0;r<n.length;r+=1){var o=n[r];e.style[o]=t[o]}}function Dg(e,t,n){return ag.includes(e)?["top-left","left","bottom-left"].includes(e)?[{opacity:0,marginLeft:"-".concat(t,"px")},{opacity:1,marginLeft:"0"}]:["top-right","right","bottom-right"].includes(e)?[{opacity:0,marginRight:"-".concat(t,"px")},{opacity:1,marginRight:"0"}]:["top","center"].includes(e)?[{opacity:0,marginTop:"-".concat(n,"px")},{opacity:1,marginTop:"0"}]:["bottom"].includes(e)?[{opacity:0,transform:"translate3d(0, ".concat(n,"px, 0)")},{opacity:1,transform:"translate3d(0, 0, 0)"}]:void 0:null}function xg(e,t){if(!ag.includes(e))return null;if(["bottom-left","bottom","bottom-right"].includes(e)){var n="".concat(t,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:n}]}var r="-".concat(t,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:r}]}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lg(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mg=(0,l.aZ)({name:"TMessage",props:jg(jg({},Og),{},{placement:String}),setup:function(e,t){var n=t.slots,r=t.expose,o=Os("message"),i=Tg({InfoCircleFilledIcon:lg,CheckCircleFilledIcon:hg,ErrorCircleFilledIcon:yg,HelpCircleFilledIcon:_g,CloseIcon:Ig}),a=i.InfoCircleFilledIcon,s=i.CheckCircleFilledIcon,c=i.ErrorCircleFilledIcon,f=i.HelpCircleFilledIcon,p=i.CloseIcon,h=Os(),g=op(),v=ap(),m=(0,d.iH)(null),y=(0,d.iH)(null),A=(0,l.Fl)((function(){var t={};return rg.forEach((function(n){return t["".concat(h.value,"-is-").concat(n)]=e.theme===n})),[o.value,t,u({},"".concat(h.value,"-is-closable"),e.closeBtn||n.closeBtn)]})),b=function(t){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t})},E=function(){e.duration&&clearTimeout(y.value)},_=function(){e.duration&&(y.value=Number(setTimeout((function(){E();var t=m.value;Pg(t,e.placement,(function(){var t;null===(t=e.onDurationEnd)||void 0===t||t.call(e)}))}),e.duration)))},w=function(){var e=(0,l.Wm)(p,null,null);return(0,l.Wm)("span",{class:"".concat(o.value,"__close"),onClick:b},[g("closeBtn",e)])},S=function(){if(!1!==e.icon){if("function"===typeof e.icon)return e.icon(l.h);if(n.icon)return n.icon(null);var t={info:a,success:s,warning:c,error:c,question:f,loading:Qf}[e.theme];return(0,l.Wm)(t,null,null)}};return(0,l.wF)((function(){e.duration&&_()})),(0,l.bv)((function(){var t=m.value;Ng(t,e.placement)})),r({close:b}),function(){return(0,l.Wm)("div",{ref:m,class:A.value,onMouseenter:E,onMouseleave:_},[S(),v("content","default"),w()])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bg(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ug=6e3,Vg=function(){var e=0;return function(){return e+=1,e}}(),Wg=(0,l.aZ)({name:"TMessageList",props:{zIndex:{type:Number,default:0},placement:{type:String,default:""}},setup:function(e,t){var n=t.expose,r=Os("message__list"),o=(0,d.iH)([]),i=(0,d.iH)([]),a=(0,l.Fl)((function(){return Fg(Fg({},ig[e.placement]),{},{zIndex:e.zIndex!==Ug?e.zIndex:Ug})})),s=function(e){var t=Fg(Fg({},e),{},{key:Vg()});return o.value.push(t),o.value.length-1},c=function(e){o.value.splice(e,1)},u=function(){o.value=[]},f=function(e){if(e)return isNaN(Number(e))?e:"".concat(e,"px")},p=function(e){return e.offset&&{position:"relative",left:f(e.offset[0]),top:f(e.offset[1])}},h=function(e,t){return Fg(Fg({},t),{},{onCloseBtnClick:function(n){return t.onCloseBtnClick&&t.onCloseBtnClick(n),c(e)},onDurationEnd:function(){return t.onDurationEnd&&t.onDurationEnd(),c(e)}})},g=function(e){e&&i.value.push(e)};return n({add:s,removeAll:u,list:o,messageList:i}),function(){if(o.value.length)return(0,l.Wm)("div",{class:r.value,style:a.value},[o.value.map((function(e,t){return(0,l.Wm)(Mg,(0,l.dG)({key:e.key,style:p(e),ref:g},h(t,e)),null)}))])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hg(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gg=new Map;function Kg(e){var t=Qg({duration:3e3,attach:"body",zIndex:Ug,placement:"top"},e);return t.content=e.content,t}var qg=function(e){var t=Kg(e),n=t.attach,r=t.placement,o=ic(n);Gg.get(o)||Gg.set(o,{});var i=Gg.get(o)[r];if(i)i.add(t);else{var a=document.createElement("div"),s=(0,f.ri)(Wg,{zIndex:t.zIndex,placement:t.placement}).mount(a);s.add(t),Gg.get(o)[r]=s,o.appendChild(a)}return new Promise((function(e){var t=Gg.get(o)[r];(0,l.Y3)((function(){var n=t.messageList;e(n[n.length-1])}))}))},zg=function(e,t,n){var r={theme:e};return"string"===typeof t?r.content=t:"object"!==S(t)||t instanceof Array||(r=Qg(Qg({},r),t)),(n||0===n)&&(r.duration=n),qg(r)},Yg={info:function(e,t){return zg("info",e,t)},success:function(e,t){return zg("success",e,t)},warning:function(e,t){return zg("warning",e,t)},error:function(e,t){return zg("error",e,t)},question:function(e,t){return zg("question",e,t)},loading:function(e,t){return zg("loading",e,t)},close:function(e){e.then((function(e){return e.close()}))},closeAll:function(){Gg instanceof Map&&Gg.forEach((function(e){Object.keys(e).forEach((function(t){var n=e[t];n.list=[]}))}))}},Jg=zg;Jg.install=function(e){e.config.globalProperties.$message=zg,Object.keys(Yg).forEach((function(t){e.config.globalProperties.$message[t]=Yg[t]}))},Object.keys(Yg).forEach((function(e){Jg[e]=Yg[e]}));
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var Xg={id:{type:String,default:"",required:!0},tag:{type:String,default:"div"}},Zg=(0,l.aZ)({name:"TAnchorTarget",props:Xg,setup:function(e,t){var n=t.slots,r=Is("anchor"),o=r.globalConfig,i=r.classPrefix,a=Tg({FileCopyIcon:$h}),s=a.FileCopyIcon,c=Os("anchor"),u=function(){var t=document.createElement("a");t.href="#".concat(e.id),ng(t.href),Jg.success(o.value.copySuccessText,1e3)};return function(){var t=n["default"],r=e.tag,a=e.id,d=["".concat(c.value,"__target")],f="".concat(i.value,"-copy");return(0,l.Wm)(r,{id:a,class:d},{default:function(){return[t&&t(null),(0,l.Wm)((0,l.up)("t-popup"),{content:o.value.copyText,placement:"top",showArrow:!0,class:f},{default:function(){return[(0,l.Wm)(s,{onClick:u},null)]}})]}})}}}),$g=Hf(Uh),ev=Hf(Gh),tv=Hf(Zg),nv={maxItemWidth:{type:String,default:void 0},options:{type:Array},separator:{type:[String,Function]},theme:{type:String,default:"light",validator:function(e){return["light"].includes(e)}}};function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rv(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iv={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.46 12.46l-.92-.92L9.08 8 5.54 4.46l.92-.92L10.92 8l-4.46 4.46z",fillOpacity:.9}}]},av=(0,l.aZ)({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-right",o.value])),s=(0,l.Fl)((()=>ov(ov({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(iv,c.value)}}),sv={content:{type:[String,Number,Function]},default:{type:[String,Number,Function]},disabled:Boolean,href:{type:String,default:""},maxWidth:{type:String,default:void 0},replace:Boolean,router:{type:Object},target:{type:String,default:"_self",validator:function(e){return["_blank","_self","_parent","_top"].includes(e)}},to:{type:[String,Object]}},cv={delay:{type:Number},destroyOnClose:{type:Boolean,default:!0},duration:{type:Number},placement:{type:String,default:"top"},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return!e||["default","primary","success","danger","warning","light"].includes(e)}}},uv={attach:{type:[String,Function],default:"body"},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:[Number,Array]},destroyOnClose:Boolean,disabled:Boolean,hideEmptyPopup:Boolean,overlayClassName:{type:[String,Object,Array]},overlayInnerClassName:{type:[String,Object,Array]},overlayInnerStyle:{type:[Boolean,Object,Function]},overlayStyle:{type:[Boolean,Object,Function]},placement:{type:String,default:"top"},showArrow:Boolean,trigger:{type:String,default:"hover",validator:function(e){return!e||["hover","click","focus","context-menu"].includes(e)}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onScroll:Function,onVisibleChange:Function};function lv(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function dv(e){var t=lv(e).Element;return e instanceof t||e instanceof Element}function fv(e){var t=lv(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function pv(e){if("undefined"===typeof ShadowRoot)return!1;var t=lv(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var hv=Math.max,gv=Math.min,vv=Math.round;function mv(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function yv(){return!/^((?!chrome|android).)*safari/i.test(mv())}function Av(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&fv(e)&&(o=e.offsetWidth>0&&vv(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&vv(r.height)/e.offsetHeight||1);var a=dv(e)?lv(e):window,s=a.visualViewport,c=!yv()&&n,u=(r.left+(c&&s?s.offsetLeft:0))/o,l=(r.top+(c&&s?s.offsetTop:0))/i,d=r.width/o,f=r.height/i;return{width:d,height:f,top:l,right:u+d,bottom:l+f,left:u,x:u,y:l}}function bv(e){var t=lv(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ev(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _v(e){return e!==lv(e)&&fv(e)?Ev(e):bv(e)}function wv(e){return e?(e.nodeName||"").toLowerCase():null}function Sv(e){return((dv(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cv(e){return Av(Sv(e)).left+bv(e).scrollLeft}function Iv(e){return lv(e).getComputedStyle(e)}function Ov(e){var t=Iv(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Tv(e){var t=e.getBoundingClientRect(),n=vv(t.width)/e.offsetWidth||1,r=vv(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function Rv(e,t,n){void 0===n&&(n=!1);var r=fv(t),o=fv(t)&&Tv(t),i=Sv(t),a=Av(e,o,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==wv(t)||Ov(i))&&(s=_v(t)),fv(t)?(c=Av(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Cv(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function Nv(e){var t=Av(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Pv(e){return"html"===wv(e)?e:e.assignedSlot||e.parentNode||(pv(e)?e.host:null)||Sv(e)}function kv(e){return["html","body","#document"].indexOf(wv(e))>=0?e.ownerDocument.body:fv(e)&&Ov(e)?e:kv(Pv(e))}function Dv(e,t){var n;void 0===t&&(t=[]);var r=kv(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=lv(r),a=o?[i].concat(i.visualViewport||[],Ov(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Dv(Pv(a)))}function xv(e){return["table","td","th"].indexOf(wv(e))>=0}function Lv(e){return fv(e)&&"fixed"!==Iv(e).position?e.offsetParent:null}function jv(e){var t=/firefox/i.test(mv()),n=/Trident/i.test(mv());if(n&&fv(e)){var r=Iv(e);if("fixed"===r.position)return null}var o=Pv(e);pv(o)&&(o=o.host);while(fv(o)&&["html","body"].indexOf(wv(o))<0){var i=Iv(o);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return o;o=o.parentNode}return null}function Mv(e){var t=lv(e),n=Lv(e);while(n&&xv(n)&&"static"===Iv(n).position)n=Lv(n);return n&&("html"===wv(n)||"body"===wv(n)&&"static"===Iv(n).position)?t:n||jv(e)||t}var Bv="top",Fv="bottom",Uv="right",Vv="left",Wv="auto",Hv=[Bv,Fv,Uv,Vv],Qv="start",Gv="end",Kv="clippingParents",qv="viewport",zv="popper",Yv="reference",Jv=Hv.reduce((function(e,t){return e.concat([t+"-"+Qv,t+"-"+Gv])}),[]),Xv=[].concat(Hv,[Wv]).reduce((function(e,t){return e.concat([t,t+"-"+Qv,t+"-"+Gv])}),[]),Zv="beforeRead",$v="read",em="afterRead",tm="beforeMain",nm="main",rm="afterMain",om="beforeWrite",im="write",am="afterWrite",sm=[Zv,$v,em,tm,nm,rm,om,im,am];function cm(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name);var i=[].concat(e.requires||[],e.requiresIfExists||[]);i.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function um(e){var t=cm(e);return sm.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function lm(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function dm(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var fm={placement:"bottom",modifiers:[],strategy:"absolute"};function pm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function hm(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?fm:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},fm,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;l(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:dv(e)?Dv(e):e.contextElement?Dv(e.contextElement):[],popper:Dv(t)};var s=um(dm([].concat(r,o.options.modifiers)));return o.orderedModifiers=s.filter((function(e){return e.enabled})),u(),c.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(pm(t,n)){o.rects={reference:Rv(t,Mv(n),"fixed"===o.options.strategy),popper:Nv(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,u=i.options,l=void 0===u?{}:u,d=i.name;"function"===typeof a&&(o=a({state:o,options:l,name:d,instance:c})||o)}else o.reset=!1,r=-1}}},update:lm((function(){return new Promise((function(e){c.forceUpdate(),e(o)}))})),destroy:function(){l(),s=!0}};if(!pm(e,t))return c;function u(){o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:c,options:r}),u=function(){};a.push(s||u)}}))}function l(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var gm={passive:!0};function vm(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=lv(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",n.update,gm)})),s&&c.addEventListener("resize",n.update,gm),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",n.update,gm)})),s&&c.removeEventListener("resize",n.update,gm)}}var mm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vm,data:{}};function ym(e){return e.split("-")[0]}function Am(e){return e.split("-")[1]}function bm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Em(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?ym(o):null,a=o?Am(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case Bv:t={x:s,y:n.y-r.height};break;case Fv:t={x:s,y:n.y+n.height};break;case Uv:t={x:n.x+n.width,y:c};break;case Vv:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=i?bm(i):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case Qv:t[u]=t[u]-(n[l]/2-r[l]/2);break;case Gv:t[u]=t[u]+(n[l]/2-r[l]/2);break;default:}}return t}function _m(e){var t=e.state,n=e.name;t.modifiersData[n]=Em({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var wm={name:"popperOffsets",enabled:!0,phase:"read",fn:_m,data:{}},Sm={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cm(e){var t=e.x,n=e.y,r=window,o=r.devicePixelRatio||1;return{x:vv(t*o)/o||0,y:vv(n*o)/o||0}}function Im(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,d=e.isFixed,f=a.x,p=void 0===f?0:f,h=a.y,g=void 0===h?0:h,v="function"===typeof l?l({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var m=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),A=Vv,b=Bv,E=window;if(u){var _=Mv(n),w="clientHeight",S="clientWidth";if(_===lv(n)&&(_=Sv(n),"static"!==Iv(_).position&&"absolute"===s&&(w="scrollHeight",S="scrollWidth")),o===Bv||(o===Vv||o===Uv)&&i===Gv){b=Fv;var C=d&&_===E&&E.visualViewport?E.visualViewport.height:_[w];g-=C-r.height,g*=c?1:-1}if(o===Vv||(o===Bv||o===Fv)&&i===Gv){A=Uv;var I=d&&_===E&&E.visualViewport?E.visualViewport.width:_[S];p-=I-r.width,p*=c?1:-1}}var O,T=Object.assign({position:s},u&&Sm),R=!0===l?Cm({x:p,y:g}):{x:p,y:g};return p=R.x,g=R.y,c?Object.assign({},T,(O={},O[b]=y?"0":"",O[A]=m?"0":"",O.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",O)):Object.assign({},T,(t={},t[b]=y?g+"px":"",t[A]=m?p+"px":"",t.transform="",t))}function Om(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,u={placement:ym(t.placement),variation:Am(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Im(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Im(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Tm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Om,data:{}};function Rm(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];fv(o)&&wv(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))}function Nm(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),a=i.reduce((function(e,t){return e[t]="",e}),{});fv(r)&&wv(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}}var Pm={name:"applyStyles",enabled:!0,phase:"write",fn:Rm,effect:Nm,requires:["computeStyles"]};function km(e,t,n){var r=ym(e),o=[Vv,Bv].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Vv,Uv].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Dm(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=Xv.reduce((function(e,n){return e[n]=km(n,t.rects,i),e}),{}),s=a[t.placement],c=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}var xm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Dm},Lm={left:"right",right:"left",bottom:"top",top:"bottom"};function jm(e){return e.replace(/left|right|bottom|top/g,(function(e){return Lm[e]}))}var Mm={start:"end",end:"start"};function Bm(e){return e.replace(/start|end/g,(function(e){return Mm[e]}))}function Fm(e,t){var n=lv(e),r=Sv(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;var u=yv();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s+Cv(e),y:c}}function Um(e){var t,n=Sv(e),r=bv(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=hv(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=hv(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Cv(e),c=-r.scrollTop;return"rtl"===Iv(o||n).direction&&(s+=hv(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}function Vm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&pv(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hm(e,t){var n=Av(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Qm(e,t,n){return t===qv?Wm(Fm(e,n)):dv(t)?Hm(t,n):Wm(Um(Sv(e)))}function Gm(e){var t=Dv(Pv(e)),n=["absolute","fixed"].indexOf(Iv(e).position)>=0,r=n&&fv(e)?Mv(e):e;return dv(r)?t.filter((function(e){return dv(e)&&Vm(e,r)&&"body"!==wv(e)})):[]}function Km(e,t,n,r){var o="clippingParents"===t?Gm(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=Qm(e,n,r);return t.top=hv(o.top,t.top),t.right=gv(o.right,t.right),t.bottom=gv(o.bottom,t.bottom),t.left=hv(o.left,t.left),t}),Qm(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function qm(){return{top:0,right:0,bottom:0,left:0}}function zm(e){return Object.assign({},qm(),e)}function Ym(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Jm(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,c=void 0===s?Kv:s,u=n.rootBoundary,l=void 0===u?qv:u,d=n.elementContext,f=void 0===d?zv:d,p=n.altBoundary,h=void 0!==p&&p,g=n.padding,v=void 0===g?0:g,m=zm("number"!==typeof v?v:Ym(v,Hv)),y=f===zv?Yv:zv,A=e.rects.popper,b=e.elements[h?y:f],E=Km(dv(b)?b:b.contextElement||Sv(e.elements.popper),c,l,a),_=Av(e.elements.reference),w=Em({reference:_,element:A,strategy:"absolute",placement:o}),S=Wm(Object.assign({},A,w)),C=f===zv?S:_,I={top:E.top-C.top+m.top,bottom:C.bottom-E.bottom+m.bottom,left:E.left-C.left+m.left,right:C.right-E.right+m.right},O=e.modifiersData.offset;if(f===zv&&O){var T=O[o];Object.keys(I).forEach((function(e){var t=[Uv,Fv].indexOf(e)>=0?1:-1,n=[Bv,Fv].indexOf(e)>=0?"y":"x";I[e]+=T[n]*t}))}return I}function Xm(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?Xv:c,l=Am(r),d=l?s?Jv:Jv.filter((function(e){return Am(e)===l})):Hv,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=Jm(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[ym(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function Zm(e){if(ym(e)===Wv)return[];var t=jm(e);return[Bm(e),t,Bm(t)]}function $m(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,g=n.allowedAutoPlacements,v=t.options.placement,m=ym(v),y=m===v,A=c||(y||!h?[jm(v)]:Zm(v)),b=[v].concat(A).reduce((function(e,n){return e.concat(ym(n)===Wv?Xm(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:g}):n)}),[]),E=t.rects.reference,_=t.rects.popper,w=new Map,S=!0,C=b[0],I=0;I<b.length;I++){var O=b[I],T=ym(O),R=Am(O)===Qv,N=[Bv,Fv].indexOf(T)>=0,P=N?"width":"height",k=Jm(t,{placement:O,boundary:l,rootBoundary:d,altBoundary:f,padding:u}),D=N?R?Uv:Vv:R?Fv:Bv;E[P]>_[P]&&(D=jm(D));var x=jm(D),L=[];if(i&&L.push(k[T]<=0),s&&L.push(k[D]<=0,k[x]<=0),L.every((function(e){return e}))){C=O,S=!1;break}w.set(O,L)}if(S)for(var j=h?3:1,M=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},B=j;B>0;B--){var F=M(B);if("break"===F)break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}}var ey={name:"flip",enabled:!0,phase:"main",fn:$m,requiresIfExists:["offset"],data:{_skip:!1}};function ty(e){return"x"===e?"y":"x"}function ny(e,t,n){return hv(e,gv(t,n))}function ry(e,t,n){var r=ny(e,t,n);return r>n?n:r}function oy(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,g=void 0===h?0:h,v=Jm(t,{boundary:c,rootBoundary:u,padding:d,altBoundary:l}),m=ym(t.placement),y=Am(t.placement),A=!y,b=bm(m),E=ty(b),_=t.modifiersData.popperOffsets,w=t.rects.reference,S=t.rects.popper,C="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,I="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(_){if(i){var R,N="y"===b?Bv:Vv,P="y"===b?Fv:Uv,k="y"===b?"height":"width",D=_[b],x=D+v[N],L=D-v[P],j=p?-S[k]/2:0,M=y===Qv?w[k]:S[k],B=y===Qv?-S[k]:-w[k],F=t.elements.arrow,U=p&&F?Nv(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qm(),W=V[N],H=V[P],Q=ny(0,w[k],U[k]),G=A?w[k]/2-j-Q-W-I.mainAxis:M-Q-W-I.mainAxis,K=A?-w[k]/2+j+Q+H+I.mainAxis:B+Q+H+I.mainAxis,q=t.elements.arrow&&Mv(t.elements.arrow),z=q?"y"===b?q.clientTop||0:q.clientLeft||0:0,Y=null!=(R=null==O?void 0:O[b])?R:0,J=D+G-Y-z,X=D+K-Y,Z=ny(p?gv(x,J):x,D,p?hv(L,X):L);_[b]=Z,T[b]=Z-D}if(s){var $,ee="x"===b?Bv:Vv,te="x"===b?Fv:Uv,ne=_[E],re="y"===E?"height":"width",oe=ne+v[ee],ie=ne-v[te],ae=-1!==[Bv,Vv].indexOf(m),se=null!=($=null==O?void 0:O[E])?$:0,ce=ae?oe:ne-w[re]-S[re]-se+I.altAxis,ue=ae?ne+w[re]+S[re]-se-I.altAxis:ie,le=p&&ae?ry(ce,ne,ue):ny(p?ce:oe,ne,p?ue:ie);_[E]=le,T[E]=le-ne}t.modifiersData[r]=T}}var iy={name:"preventOverflow",enabled:!0,phase:"main",fn:oy,requiresIfExists:["offset"]},ay=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,zm("number"!==typeof e?e:Ym(e,Hv))};function sy(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=ym(n.placement),c=bm(s),u=[Vv,Uv].indexOf(s)>=0,l=u?"height":"width";if(i&&a){var d=ay(o.padding,n),f=Nv(i),p="y"===c?Bv:Vv,h="y"===c?Fv:Uv,g=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],v=a[c]-n.rects.reference[c],m=Mv(i),y=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,A=g/2-v/2,b=d[p],E=y-f[l]-d[h],_=y/2-f[l]/2+A,w=ny(b,_,E),S=c;n.modifiersData[r]=(t={},t[S]=w,t.centerOffset=w-_,t)}}function cy(e){var t=e.state,n=e.options,r=n.element,o=void 0===r?"[data-popper-arrow]":r;null!=o&&("string"!==typeof o||(o=t.elements.popper.querySelector(o),o))&&Vm(t.elements.popper,o)&&(t.elements.arrow=o)}var uy={name:"arrow",enabled:!0,phase:"main",fn:sy,effect:cy,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ly(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function dy(e){return[Bv,Uv,Fv,Vv].some((function(t){return e[t]>=0}))}function fy(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Jm(t,{elementContext:"reference"}),s=Jm(t,{altBoundary:!0}),c=ly(a,r),u=ly(s,o,i),l=dy(c),d=dy(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}var py={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fy},hy=[mm,wm,Tm,Pm,xm,ey,iy,uy,py],gy=hm({defaultModifiers:hy});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function vy(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}function my(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,c(e)):e.type===l.HY?t.push.apply(t,c(my(e.children))):t.push(e)})),t.filter((function(e){return!(e&&("undefined"!==typeof Comment&&e.type===Comment||e.type===l.HY&&0===e.children.length||e.type===l.xv&&""===e.children.trim()))}))}function yy(e,t){if(e&&t)return!!["width","height","x","y"].some((function(n){return e[n]!==t[n]}))}function Ay(e,t){var n;if(null!==(n=window)&&void 0!==n&&n.ResizeObserver&&e){var r=null,o=new ResizeObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e[0]||{},o=n.contentRect;if(yy(o,r))return r=o,void t(o);r||(r=o)}));if(1===e.nodeType)return o.observe(e),function(){o.unobserve(e)}}}function by(e,t){var n;(0,l.bv)((function(){n=Ay(e(),t)})),(0,l.Ah)((function(){var e;null===(e=n)||void 0===e||e()}))}var Ey=(0,l.aZ)({emits:["resize"],data:function(){return{cleanOR:null}},mounted:function(){var e=this;this.cleanOR=Ay(this.$el,(function(){e.$emit("resize")}))},unmounted:function(){var e;null===(e=this.cleanOR)||void 0===e||e.call(this)},render:function(){var e,t=my(this.$slots["default"]());return t.length>1||(null===(e=t[0])||void 0===e?void 0:e.type)===l.xv?(0,l.Wm)("span",null,[t]):t[0]}}),_y=(0,l.aZ)({emits:["resize"],setup:function(e,t){var n=t.emit,r=(0,d.iH)(null);return by((function(){return r.value.children[0]}),(function(){n("resize")})),{el:r}},render:function(){return(0,l.Wm)("div",{ref:"el",style:"position: absolute; top: 0px; left: 0px; width: 100%"},[this.$slots["default"]()])}}),wy=(0,l.aZ)({inheritAttrs:!1,props:{parent:Object,visible:Boolean,attach:uv.attach,forwardRef:Function},emits:["resize","contentMounted"],setup:function(e,t){var n=t.emit,r=(0,d.iH)(null),o=(0,d.iH)(!1);return(0,l.bv)((function(){requestAnimationFrame((function(){o.value=e.visible})),e.forwardRef(r.value.$el)})),(0,l.YP)((function(){return e.visible}),(function(t){t&&(o.value=e.visible)})),{mountContent:o,triggerRef:r,unmountContent:function(){o.value=!1},emitResize:function(){n("resize")},emitContentMounted:function(){n("contentMounted")}}},render:function(){var e,t,n=this;return(0,l.Wm)(l.HY,null,[(0,l.Wm)(Ey,(0,l.dG)({class:this.$attrs["class"]},{ref:"triggerRef",onResize:this.emitResize}),vy(t=this.$slots["default"]())?t:{default:function(){return[t]}}),this.mountContent&&(0,l.Wm)(l.lR,{to:ic(this.attach,null===(e=this.triggerRef)||void 0===e?void 0:e.$el)},{default:function(){return[(0,l.Wm)(_y,{onResize:n.emitResize,onVnodeMounted:n.emitContentMounted},{default:function(){return[n.$slots.content&&n.$slots.content()]}})]}})])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Sy(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"value",i=(0,l.FN)(),a=i.emit,s=i.vnode,c=(0,d.iH)(),u=s.props||{},f=Object.prototype.hasOwnProperty.call(u,"modelValue"),p=Object.prototype.hasOwnProperty.call(u,o)||Object.prototype.hasOwnProperty.call(u,wf(o));return f?[t,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];u["onUpdate:modelValue"]&&a.apply(void 0,["update:modelValue",e].concat(n)),null===r||void 0===r||r.apply(void 0,[e].concat(n))}]:p?[e,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u["onUpdate:".concat(o)]&&a.apply(void 0,["update:".concat(o),e].concat(n)),null===r||void 0===r||r.apply(void 0,[e].concat(n))}]:(c.value=n,[c,function(e){c.value=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];null===r||void 0===r||r.apply(void 0,[e].concat(n))}])}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cy(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oy(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Ty=["click","hover","focus","context-menu"],Ry=Symbol("popup");function Ny(e){return e.replace(/-(left|top)$/,"-start").replace(/-(right|bottom)$/,"-end")}function Py(e){var t=[];return{add:function(n,r){$s(e.value,n,r),t.push((function(){ec(e.value,n,r)}))},clean:function(){t.forEach((function(e){return null===e||void 0===e?void 0:e()})),t.length=0}}}var ky=(0,l.aZ)({name:"TPopup",props:Iy(Iy({},uv),{},{expandAnimation:{type:Boolean}}),setup:function(e,t){var n,r,o=t.expose,i=(0,d.BK)(e),a=i.visible,s=i.modelValue,c=Sy(a,s,e.defaultVisible,e.onVisibleChange,"visible"),f=v(c,2),p=f[0],h=f[1],g=!1,y=(0,d.iH)(0),A=(0,d.iH)(!1),b=(0,d.iH)(!1),E=(0,d.iH)(null),_=(0,d.iH)(null),w=(0,d.iH)(null),C=(0,d.iH)(null),I=(0,l.f3)(Ry,void 0),O=Os("popup"),T=Ts(),R=T.STATUS,N=(0,l.Fl)((function(){var t;return["".concat(O.value,"__content"),(t={},u(t,"".concat(O.value,"__content--text"),"string"===typeof e.content),u(t,"".concat(O.value,"__content--arrow"),e.showArrow),u(t,R.value.disabled,e.disabled),t),e.overlayInnerClassName]})),P=(0,l.Fl)((function(){return Ty.reduce((function(t,n){return Iy(Iy({},t),{},u({},n,e.trigger.includes(n)))}),{})})),k=(0,l.Fl)((function(){var t,n,r=[].concat(null!==(t=e.delay)&&void 0!==t?t:[250,150]);return{open:r[0],close:null!==(n=r[1])&&void 0!==n?n:r[0]}}));function D(){var t=e.overlayStyle;if(E.value&&_.value)return"function"===typeof t?t(E.value,_.value):"object"===S(t)?t:void 0}function x(){var t=e.overlayInnerStyle;E.value&&_.value&&("function"===typeof t?m(_.value,t(E.value,_.value)):"object"===S(t)&&m(_.value,t))}function L(){w.value&&p.value&&(n?n.update():n=gy(E.value,w.value,{placement:Ny(e.placement),onFirstUpdate:function(){(0,l.Y3)(L)}}))}function j(){var t,r;n&&(null===(t=n)||void 0===t||t.destroy(),n=null);e.destroyOnClose&&(null===(r=C.value)||void 0===r||r.unmountContent())}function M(t,n){e.disabled||t===p.value||!t&&y.value>1||t&&A.value||h(t,n)}function B(e){null===I||void 0===I||I.preventClosing(e),e?y.value+=1:y.value&&(y.value-=1,y.value||(M(!1,{}),null===I||void 0===I||!I.hasTrigger.value.hover||null!==I&&void 0!==I&&I.mouseInRange||I.emitVisible(!1,{})))}function F(e){M(!p.value,e)}function U(e){clearTimeout(r),r=setTimeout((function(){M(!0,e)}),P.value.click?0:k.value.open)}function V(e){clearTimeout(r),r=setTimeout((function(){M(!1,e)}),P.value.click?0:k.value.close)}function W(e){b.value?setTimeout((function(){b.value=!1})):E.value.contains(e.target)||(y.value=0,M(!1,{trigger:"document"}))}function H(){A.value=!0,U({})}function Q(e){if(y.value>1){var t=w.value.getBoundingClientRect();if(e.x>t.x&&e.x<t.x+t.width&&e.y>t.y&&e.y<t.y+t.height)return}A.value=!1,V({}),null!==I&&void 0!==I&&I.mouseInRange&&I.onMouseLeave(e)}var G=Py(E);(0,l.YP)((function(){return[e.trigger,E.value]}),(function(){E.value&&(G.clean(),P.value.hover?(G.add("mouseenter",(function(){return U({trigger:"trigger-element-hover"})})),G.add("mouseleave",(function(){return V({trigger:"trigger-element-hover"})}))):P.value.focus?(G.add("focusin",(function(){return U({trigger:"trigger-element-focus"})})),G.add("focusout",(function(){return V({trigger:"trigger-element-blur"})}))):P.value.click?G.add("click",(function(e){F({e:e,trigger:"trigger-element-click"})})):P.value["context-menu"]&&G.add("contextmenu",(function(e){e.preventDefault(),2===e.button&&F({trigger:"context-menu"})})))})),(0,l.YP)((function(){return[e.overlayStyle,e.overlayInnerStyle,_.value]}),(function(){x(),L()}));var K=(0,l.f3)("updateScrollTop",(function(){}));return(0,l.YP)((function(){return[p.value,_.value]}),(function(){p.value&&_.value&&K&&(null===K||void 0===K||K(_.value))})),(0,l.YP)((function(){return e.placement}),(function(){j(),L()})),(0,l.YP)(b,(function(e){I&&(I.contentClicked.value=e)})),(0,l.YP)((function(){return p.value}),(function(e){e?(B(!0),g||($s(document,"click",W,!0),g=!0),E.value&&P.value.focus&&tc(E.value,"keydown",(function(e){"Escape"===e.code&&V({trigger:"keydown-esc"})}))):(B(!1),ec(document,"click",W,!0),g=!1,A.value=!1)})),(0,l.Ah)((function(){p.value&&(null===I||void 0===I||I.preventClosing(!1)),j(),ec(document,"click",W,!0),clearTimeout(r)})),(0,l.JJ)(Ry,{preventClosing:B,emitVisible:M,contentClicked:b,mouseInRange:A,onMouseLeave:Q,hasTrigger:P}),o({handleClose:V,updatePopper:L,getOverlay:function(){return _.value}}),{innerVisible:p,triggerEl:E,overlayEl:_,popperEl:w,prefixCls:O,overlayCls:N,hasTrigger:P,contentClicked:b,updatePopper:L,destroyPopper:j,getOverlayStyle:D,updateOverlayInnerStyle:x,emitVisible:M,onMouseEnter:H,onMouseLeave:Q}},render:function(){var e=this,t=this.prefixCls,n=this.innerVisible,r=this.destroyOnClose,o=this.hasTrigger,i=this.getOverlayStyle,a=this.onScroll,s=Of(this,"content"),c=this.hideEmptyPopup&&["",void 0,null].includes(s),u=n||!r?(0,l.wy)((0,l.Wm)("div",(0,l.dG)({class:[t,this.overlayClassName],ref:"popperEl",style:[c&&{visibility:"hidden",pointerEvents:"none"},{zIndex:this.zIndex},i()],onMousedown:function(){e.contentClicked=!0}},o.hover&&{onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave}),[(0,l.Wm)("div",(0,l.dG)({class:this.overlayCls,ref:"overlayEl"},a&&{onScroll:function(e){a({e:e})}}),[s,this.showArrow&&(0,l.Wm)("div",{class:"".concat(t,"__arrow")},null)])]),[[f.F8,n]]):null;return(0,l.Wm)(wy,{ref:"containerRef",forwardRef:function(t){return e.triggerEl=t},onContentMounted:function(){n&&(e.updatePopper(),e.updateOverlayInnerStyle())},onResize:function(){n&&e.updatePopper()},visible:n,attach:this.attach},{content:function(){return(0,l.Wm)(f.uT,{name:e.expandAnimation?"".concat(t,"--animation-expand"):"".concat(t,"--animation"),appear:!0,onEnter:e.updatePopper,onAfterLeave:e.destroyPopper},Oy(u)?u:{default:function(){return[u]}})},default:function(){return Rf(e,"default","triggerElement")}})}}),Dy=Hf(ky),xy=function(){var e=(0,d.iH)(0),t=(0,d.iH)(0),n=function(n){e.value=n.clientX,t.value=n.clientY};return Xs||((0,l.bv)((function(){window.addEventListener("mousemove",n,{passive:!0})})),(0,l.Ah)((function(){window.removeEventListener("mousemove",n)}))),{x:e,y:t}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ly(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var My=(0,l.aZ)({name:"TTooltip",props:jy(jy({},uv),cv),setup:function(e,t){var n=(0,d.iH)(null),r=(0,d.iH)(null),o=(0,d.BK)(e),i=o.visible,a=o.modelValue,s=Sy(i,a,e.defaultVisible,e.onVisibleChange,"visible"),c=v(s,2),f=c[0],p=c[1],h=(0,l.FN)(),g=(0,d.iH)(e.visible||e.defaultVisible),m=Os(),y=op(),A=ap(),b=xy(),E=b.x,_=(0,d.iH)(E.value);(0,l.bv)((function(){e.duration&&g.value&&(n.value=setTimeout((function(){g.value=!1,clearTimeout(n.value),n.value=null}),e.duration))}));var w=function(e,t){n.value&&"document"!==(null===t||void 0===t?void 0:t.trigger)||(e&&(_.value=E.value),p(e,t))},S=(0,l.Fl)((function(){return["".concat(m.value,"-tooltip"),u({},"".concat(m.value,"-tooltip--").concat(e.theme),e.theme),e.overlayClassName]})),C=(0,l.Fl)((function(){return jy(jy({},(null===h||void 0===h?void 0:h.vnode.props)||{}),{},{placement:"mouse"===e.placement?"bottom-left":e.placement,showArrow:"mouse"!==e.placement&&e.showArrow,content:function(){return y("content")},default:function(){return A("default","triggerElement")},overlayClassName:S.value,onVisibleChange:w})})),I=(0,l.Fl)((function(){if("mouse"!==e.placement||0===_.value)return e.overlayInnerStyle;var t=function(e){return{transform:"translateX(".concat(_.value-e.getBoundingClientRect().left,"px)")}};return e.overlayInnerStyle?function(n,r){return jy(jy({},t(n)),ce(e.overlayInnerStyle)?e.overlayInnerStyle(n,r):e.overlayInnerStyle)}:t}));(0,l.YP)((function(){return g.value}),(function(){n.value&&!g.value&&(clearTimeout(n.value),n.value=null)}));var O=function(){var e,t;null===(e=r.value)||void 0===e||null===(t=e.updatePopper)||void 0===t||t.call(e)};return t.expose({updatePopper:O}),function(){return(0,l.Wm)(Dy,(0,l.dG)({ref:r,visible:f.value},C.value,{overlayInnerStyle:I.value}),null)}}}),By=Hf(My);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vy(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Wy={separator:"",theme:"light",slots:{separator:""},maxItemWidth:void 0},Hy=(0,l.aZ)({name:"TBreadcrumbItem",props:Uy({},sv),setup:function(e,t){var n,r=t.slots,o=t.attrs,i=(0,d.iH)(),a=(0,l.f3)("tBreadcrumb",Wy),s=(0,d.iH)(null===a||void 0===a?void 0:a.theme),c=(0,d.iH)(!1),u=Os("breadcrumb__item"),f=Os("breadcrumb__separator"),p=Os("is-disabled"),h=Os("link"),g=Os("breadcrumb__inner"),v=Os("breadcrumb--text-overflow"),m=Tg({ChevronRightIcon:av}),y=m.ChevronRightIcon,A=(0,l.Fl)((function(){var t=null===a||void 0===a?void 0:a.maxItemWidth,n=e.maxWidth||t||"120";return{maxWidth:"".concat(n,"px")}}));(0,l.bv)((function(){c.value=lc(i.value)})),(0,l.Xn)((function(){c.value=lc(i.value)}));var b=null===a||void 0===a?void 0:a.separator,E=null===a||void 0===a||null===(n=a.slots)||void 0===n?void 0:n.separator,_=b||E||(0,l.Wm)(y,{color:"rgba(0,0,0,.3)"},null),w=(0,l.FN)(),S=w.proxy,C=function(t){if(!e.disabled){t.preventDefault(),e.href&&(window.location.href=e.href);var n=e.router||S.$root.$router;e.to&&n&&(e.replace?n.replace(e.to):n.push(e.to))}};return function(){var t=[u.value,s.value],n=[v.value];e.disabled&&n.push(p.value);var a={onClick:function(t){var n;e.disabled?t.stopPropagation():null===(n=e.onClick)||void 0===n||n.call(e,{e:t})}},d=(0,l.Wm)("span",(0,l.dG)({ref:i},{class:g.value,style:A.value}),[r["default"]()]),m=(0,l.Wm)("span",Uy({class:n},a),[d]);return!e.href&&!e.to||e.disabled||(n.push(h.value),m=(0,l.Wm)("a",(0,l.dG)({class:n,href:e.href,target:e.target},a,{onClick:C}),[d])),(0,l.Wm)("div",(0,l.dG)({class:t},o),[c.value?(0,l.Wm)(By,{content:function(){return null===r||void 0===r?void 0:r["default"]()}},Vy(m)?m:{default:function(){return[m]}}):m,(0,l.Wm)("span",{class:f.value},["function"===typeof _?_():_])])}}}),Qy=(0,l.aZ)({name:"TBreadcrumb",props:nv,setup:function(e,t){var n=t.slots,r=(0,d.BK)(e),o=r.separator,i=r.theme,a=r.maxItemWidth,s=Os("breadcrumb");(0,l.JJ)("tBreadcrumb",(0,d.qj)({separator:o,theme:i,slots:{separator:n.separator},maxItemWidth:a}));var c=op();return function(){var t=c("default");return e.options&&e.options.length&&(t=e.options.map((function(e,t){return(0,l.Wm)(Hy,(0,l.dG)(e,{key:t}),{default:function(){return[e["default"]||e.content]}})}))),(0,l.Wm)("div",{class:s.value},[t])}}}),Gy=Hf(Qy),Ky=Hf(Hy),qy={active:Boolean,content:{type:[String,Function],default:""},disabled:Boolean,divider:Boolean,value:{type:[String,Number,Object]},onClick:Function},zy=Symbol("dropdownProvider");
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xy=(0,l.aZ)({name:"TDropdownItem",props:Jy(Jy({},qy),{},{path:{type:String,default:""},hasChildren:{type:Boolean,default:!1},onHover:{type:Function}}),setup:function(e){var t=ap(),n=(0,d.iH)();tp(n);var r=Ts(),o=r.STATUS,i=Os("dropdown__item"),a=Os(),s=Tg({ChevronRightIcon:av}),c=s.ChevronRightIcon,f=(0,l.f3)(zy),p=f.handleMenuClick,h=function(){return e.hasChildren?(0,l.Wm)(c,{class:"".concat(i.value,"__item-icon")},null):null},g=function(t){if(t.stopPropagation(),!e.hasChildren&&!e.disabled){var n,r={value:e.value,path:e.path||"/".concat(e.value),content:e.content};null===(n=e.onClick)||void 0===n||n.call(e,r,{e:t}),p(r,{e:t})}},v=function(){var t;null===(t=e.onHover)||void 0===t||t.call(e,e.path)};return function(){var r,s=[i.value,(r={},u(r,"".concat(a.value,"-dropdown--suffix"),e.hasChildren),u(r,o.value.disabled,e.disabled),u(r,o.value.active,e.active),r)];return(0,l.Wm)("div",null,[(0,l.Wm)("div",{ref:n,class:s,onClick:g,onMouseover:v},[(0,l.Wm)("div",{class:"".concat(i.value,"-content")},[(0,l.Wm)("span",{class:"".concat(i.value,"-text")},[t("content","default")])]),h()]),e.divider?(0,l.Wm)(yh,null,null):null])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Zy(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function $y(e,t){if(null==e)return{};var n,r,o=Zy(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var eA=["from","to","direction"];function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rA(e,t){for(var n=nA({},e),r=0;r<t.length;r++){var o=t[r];delete n[o]}return n}function oA(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function iA(e){if("string"===typeof e)return e;if(Array.isArray(e))return e[0]&&"#"===e[0][0]&&e.unshift("90deg"),"linear-gradient( ".concat(e.join(",")," )");var t=e.from,n=e.to,r=e.direction,o=void 0===r?"to right":r,i=$y(e,eA),a=Object.keys(i);if(a.length){a=a.sort((function(e,t){return parseFloat(e.substr(0,e.length-1))-parseFloat(t.substr(0,t.length-1))}));var s=a.map((function(e){return"".concat(i[e]," ").concat(e)}));return"linear-gradient(".concat(o,", ").concat(s.join(","),")")}return"linear-gradient(".concat(o,", ").concat(t,", ").concat(n,")")}function aA(e){return bf("on-".concat(e))}function sA(e,t){var n="number"===typeof t;if(!e||0===e.length)return n?{length:0,characters:e}:0;for(var r=0,o=0;o<e.length;o++){var i=0;if(i=e.charCodeAt(o)>127||94===e.charCodeAt(o)?2:1,n&&r+i>t)return{length:r,characters:e.slice(0,o)};r+=i}return n?{length:r,characters:e}:r}function cA(e){return"number"===typeof e?"".concat(e,"px"):e}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var uA=(0,l.aZ)({name:"TDropdownMenu",props:{options:{type:Array,default:function(){return[]}},maxHeight:{type:Number,default:300},maxColumnWidth:{type:Number||String,default:100},minColumnWidth:{type:Number||String,default:10},onClick:Function},setup:function(e,t){var n=t.slots,r=(0,d.iH)(""),o=op(),i=Os("dropdown__menu"),a=(0,l.f3)(zy),s=a.maxHeight,c=a.maxColumnWidth,u=a.minColumnWidth,f=function(e){r.value=e},p=function(t,n,r){var o;null===r||void 0===r||r(t,n),null===(o=e.onClick)||void 0===o||o.call(e,t,n)},h=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o="".concat(t,"/").concat(e.value);return(!n||r.value!==o)&&0===r.value.indexOf(o)},g=function(e,t,n){var r=["".concat(i.value,"-column"),"narrow-scrollbar",{submenu__visible:t}];return(0,l.Wm)("div",{class:r,style:{maxHeight:"".concat(s,"px"),maxWidth:cA(c),minWidth:cA(u)}},[e.map((function(e,t){return(0,l.Wm)(Xy,{key:t,disabled:e.disabled,active:h(e,n)||e.active,value:e.value,content:e.content,divider:e.divider,hasChildren:e.children&&e.children.length>0,path:"".concat(n,"/").concat(e.value),maxColumnWidth:c,minColumnWidth:u,onHover:f,onClick:function(t,n){return p(t,n,e.onClick)}},null)}))])};return function(){var t=[],r=e.options,a="";if(n["default"])return(0,l.Wm)("div",{class:i.value},[(0,l.Wm)("div",{class:["".concat(i.value,"-column"),"narrow-scrollbar"],style:{maxHeight:"".concat(s,"px"),maxWidth:"".concat(c,"px"),minWidth:"".concat(u,"px")}},[o("default")])]);while(r&&r.length){var d=r.find((function(e){return h(e,a,!1)}));t.push(g(r,!!d,a)),d?(a="".concat(a,"/").concat(d.value),r=d.children||[]):r=[]}return(0,l.Wm)("div",{class:i.value},[t])}}}),lA={direction:{type:String,default:"right",validator:function(e){return["left","right"].includes(e)}},disabled:Boolean,hideAfterItemClick:{type:Boolean,default:!0},maxColumnWidth:{type:[String,Number],default:100},maxHeight:{type:Number,default:300},minColumnWidth:{type:[String,Number],default:10},options:{type:Array,default:function(){return[]}},placement:{type:String,default:"bottom-left",validator:function(e){return["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e)}},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return["hover","click","focus","context-menu"].includes(e)}},onClick:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dA(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pA=(0,l.aZ)({name:"TDropdown",props:lA,setup:function(e,t){var n=t.attrs,r=(t.slots,op()),o=Os("dropdown"),i=(0,d.iH)(null),a=function(t,n){var r;e.hideAfterItemClick&&i.value&&i.value.handleClose(),null===(r=e.onClick)||void 0===r||r.call(e,t,n)},s=(0,d.BK)(e),c=s.maxHeight,u=s.maxColumnWidth,f=s.minColumnWidth;return(0,l.JJ)(zy,(0,d.qj)({handleMenuClick:a,maxHeight:c,maxColumnWidth:u,minColumnWidth:f})),function(){var t,a=r("default"),s=r("dropdown"),c=fA(fA({},n),{},{disabled:e.disabled,placement:e.placement,trigger:e.trigger,overlayClassName:[o.value,null===(t=e.popupProps)||void 0===t?void 0:t.overlayClassName]});return(0,l.Wm)(Dy,(0,l.dG)(e.popupProps,c,{destroyOnClose:!0,ref:i,expandAnimation:!0}),{default:function(){return[a]},content:function(){return s||(0,l.Wm)(uA,{options:e.options,maxHeight:e.maxHeight,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth},null)}})}}}),hA=Hf(pA),gA=Hf(Xy),vA=Hf(uA);function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mA(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AA={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 3.54l.92.92L6.92 8l3.54 3.54-.92.92L5.08 8l4.46-4.46z",fillOpacity:.9}}]},bA=(0,l.aZ)({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-left",o.value])),s=(0,l.Fl)((()=>yA(yA({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(AA,c.value)}});function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EA(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wA={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 11.5a3.5 3.5 0 110-7 3.5 3.5 0 010 7zM8 13A5 5 0 108 3a5 5 0 000 10z",fillOpacity:.9}}]},SA=(0,l.aZ)({name:"RoundIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-round",o.value])),s=(0,l.Fl)((()=>_A(_A({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(wA,c.value)}});function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CA(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OA={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.46 9.54l-.92.92L8 6.92l-3.54 3.54-.92-.92L8 5.08l4.46 4.46z",fillOpacity:.9}}]},TA=(0,l.aZ)({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-up",o.value])),s=(0,l.Fl)((()=>IA(IA({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(OA,c.value)}});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RA(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PA={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.54 6.46l.92-.92L8 9.08l3.54-3.54.92.92L8 10.92 3.54 6.46z",fillOpacity:.9}}]},kA=(0,l.aZ)({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-down",o.value])),s=(0,l.Fl)((()=>NA(NA({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(PA,c.value)}}),DA={disabled:{type:[Boolean,Object]},layout:{type:String,default:"horizontal",validator:function(e){return!e||["horizontal","vertical"].includes(e)}},showCurrent:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},tips:{type:[Boolean,Object]},variant:{type:String,default:"text",validator:function(e){return!e||["text","outline"].includes(e)}},onChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xA(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jA=(0,l.aZ)({name:"TJumper",props:LA({},DA),setup:function(e){var t=Os("jumper"),n=Tg({ChevronLeftIcon:bA,RoundIcon:SA,ChevronRightIcon:av,ChevronUpIcon:TA,ChevronDownIcon:kA}),r=n.ChevronLeftIcon,o=n.RoundIcon,i=n.ChevronRightIcon,a=n.ChevronUpIcon,s=n.ChevronDownIcon,c=(0,l.Fl)((function(){return ee(e.tips)?e.tips:!0===e.tips?{prev:"上一页",current:"当前",next:"下一页"}:{}})),d=(0,l.Fl)((function(){return ee(e.disabled)?e.disabled:!0===e.disabled?{prev:!0,current:!0,next:!0}:{prev:!1,current:!1,next:!1}}));return function(){var n=[t.value,u({},"".concat(t.value,"--outline"),"outline"===e.variant)];return(0,l.Wm)("div",{class:n},[(0,l.Wm)(lp,{title:c.value.prev,variant:e.variant,size:e.size,shape:"square",onClick:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{e:t,trigger:"prev"})},icon:"horizontal"===e.layout?function(){return(0,l.Wm)(r,null,null)}:function(){return(0,l.Wm)(a,null,null)},class:"".concat(t.value,"__prev"),disabled:d.value.prev},null),e.showCurrent&&(0,l.Wm)(lp,{title:c.value.current,variant:e.variant,size:e.size,shape:"square",onClick:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{e:t,trigger:"current"})},icon:function(){return(0,l.Wm)(o,null,null)},class:"".concat(t.value,"__current"),disabled:d.value.current},null),(0,l.Wm)(lp,{title:c.value.next,variant:e.variant,size:e.size,shape:"square",onClick:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{e:t,trigger:"next"})},icon:"horizontal"===e.layout?function(){return(0,l.Wm)(i,null,null)}:function(){return(0,l.Wm)(s,null,null)},class:"".concat(t.value,"__next"),disabled:d.value.next},null)])}}}),MA=Hf(jA),BA={collapsed:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandMutex:Boolean,expandType:{type:String,default:"normal",validator:function(e){return!e||["normal","popup"].includes(e)}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return!e||["light","dark"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},width:{type:[String,Number,Array],default:"232px"},onChange:Function,onExpand:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function FA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VA(e,t,n){return t&&UA(e.prototype,t),n&&UA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var WA=function e(t,n,r){if(t)for(var o=0;o<t.children.length;++o){var i=t.children[o];if(i.value===n)return[].concat(c(r),[t.value]);var a=e(i,n,[].concat(c(r),[t.value]));if(a)return a}},HA=function e(t,n){if(!t)return[];for(var r=0;r<t.children.length;++r){var o=t.children[r];if(o.value===n)return t.children;var i=e(o,n);if(i)return i}},QA=function e(t,n){if(t.value===n)return t;if(t.children.length>0)for(var r=0,o=t.children.length;r<o;r++){var i=e(t.children[r],n);if(i)return i}},GA=function(){function e(t){FA(this,e),u(this,"data",null),u(this,"cache",new Set),u(this,"isMutex",(0,d.iH)(!1)),u(this,"expandValues",null);var n={value:null,parent:null,children:[]};this.data=n,this.isMutex=null===t||void 0===t?void 0:t.isMutex,this.expandValues=new Set(null===t||void 0===t?void 0:t.expandValues)}return VA(e,[{key:"add",value:function(e){var t=e.value,n=e.parent,r=e.vnode,o={value:t,parent:n,children:[],vnode:r};if(this.cache.forEach((function(t,n,r){e.value===t.parent&&(o.children.push(t),r["delete"](t))})),null==e.parent)this.data.children.push(o),o.parent=this.data;else if(this.data.children.length>0){var i=QA(this.data,n);i?i.children.push(o):this.cache.add(o)}else this.cache.add(o)}},{key:"select",value:function(e){var t=WA(this.data,e,[])||[];return t.push(e),t.filter((function(e){return null!=e}))}},{key:"expand",value:function(e){var t=this;if(this.expandValues.has(e))return this.expandValues["delete"](e),c(this.expandValues);if(this.expandValues.add(e),!this.isMutex.value)return c(this.expandValues);var n=HA(this.data,e)||[],r=new Set(n.filter((function(t){var n;return(null===(n=t.children)||void 0===n?void 0:n.length)>0&&t.value!==e})).map((function(e){return e.value})));return this.expandValues.forEach((function(e){var n=r.has(e);n&&t.expandValues["delete"](e)})),c(this.expandValues)}},{key:"getChild",value:function(e){var t=QA(this.data,e);return t?t.children:[]}}]),e}(),KA=new Set,qA={warn:function(e,t){console.warn("TDesign ".concat(e," Warn: ").concat(t))},warnOnce:function(e,t){var n="TDesign ".concat(e," Warn: ").concat(t);KA.has(n)||(KA.add(n),console.warn(n))},error:function(e,t){console.error("TDesign ".concat(e," Error: ").concat(t))},errorOnce:function(e,t){var n="TDesign ".concat(e," Error: ").concat(t);KA.has(n)||(KA.add(n),console.error(n))},info:function(e,t){console.info("TDesign ".concat(e," Info: ").concat(t))}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function zA(e,t,n,r){var o=(0,l.FN)(),i=o.emit,a=o.vnode,s=(0,d.iH)(),c=a.props||{},u=Object.prototype.hasOwnProperty.call(c,r)||Object.prototype.hasOwnProperty.call(c,wf(r));return u?[e,function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];c["onUpdate:".concat(r)]&&i.apply(void 0,["update:".concat(r),e].concat(o)),null===n||void 0===n||n.apply(void 0,[e].concat(o))}]:(s.value=t,[s,function(e){s.value=e;for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];null===n||void 0===n||n.apply(void 0,[e].concat(r))}])}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YA(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var XA=(0,l.aZ)({name:"TMenu",props:JA(JA({},BA),{},{onCollapsed:Function}),setup:function(e,t){var n=Os();(0,l.m0)((function(){t.slots.options&&qA.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")}));var r=(0,d.iH)(e.expandType),o=(0,l.Fl)((function(){return e.theme})),i=(0,l.Fl)((function(){return e.expandMutex})),a=(0,l.Fl)((function(){return["".concat(n.value,"-default-menu"),"".concat(n.value,"-menu--").concat(e.theme),u({},"".concat(n.value,"-is-collapsed"),e.collapsed)]})),s=(0,l.Fl)((function(){return["".concat(n.value,"-menu"),u({},"".concat(n.value,"-menu--scroll"),"popup"!==r.value),"narrow-scrollbar"]})),f=(0,l.Fl)((function(){var t=e.width,n=function(e){return"number"===typeof e?"".concat(e,"px"):e};return Array.isArray(t)?t.map((function(e){return n(e)})):[n(t),"64px"]})),p=(0,l.Fl)((function(){return{height:"100%",width:e.collapsed?f.value[1]:f.value[0]}})),h=(0,d.BK)(e),g=h.value,m=h.modelValue,y=h.expanded,A=Sy(g,m,e.defaultValue,e.onChange),b=v(A,2),E=b[0],_=b[1],w=zA(y,e.defaultExpanded,e.onExpand,"expanded"),S=v(w,2),C=S[0],I=S[1],O=(0,d.iH)([]);(0,l.m0)((function(){var t;r.value=e.collapsed?"popup":e.expandType,null===(t=e.onCollapsed)||void 0===t||t.call(e,{collapsed:e.collapsed})}));var T=new GA({isMutex:i,expandValues:C.value?c(C.value):[]});(0,l.JJ)("TdMenu",{activeValue:E,activeValues:O,expandValues:C,mode:r,theme:o,isHead:!1,vMenu:T,select:function(e){_(e)},open:function(e,t){if("normal"===r.value)I(T.expand(e));else if("add"===t)-1===C.value.indexOf(e)&&I([].concat(c(C.value),[e]));else if("remove"===t){var n=C.value.indexOf(e),o=c(C.value);o.splice(n,1),I(o)}}}),(0,l.YP)((function(){return e.expanded}),(function(e){T.expandValues=new Set(e)}));var R=function(e){O.value=T.select(e)};return(0,l.YP)(E,R),(0,l.bv)((function(){O.value=T.select(E.value)})),{styles:p,classPrefix:n,menuClass:a,innerClasses:s,activeValue:E,activeValues:O,expandValues:C}},render:function(){var e=Rf(this,"operations","options"),t=Of(this,"logo");return(0,l.Wm)("div",{class:this.menuClass,style:this.styles},[(0,l.Wm)("div",{class:"".concat(this.classPrefix,"-default-menu__inner")},[t&&(0,l.Wm)("div",{class:"".concat(this.classPrefix,"-menu__logo")},[t]),(0,l.Wm)("ul",{class:this.innerClasses},[Rf(this,"default","content")]),e&&(0,l.Wm)("div",{class:"".concat(this.classPrefix,"-menu__operations")},[e])])])}}),ZA={expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandType:{type:String,default:"normal",validator:function(e){return!e||["normal","popup"].includes(e)}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return!e||["light","dark"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function,onExpand:Function},$A={default:{type:Function},destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,label:{type:[String,Function]},panel:{type:[String,Function]},removable:Boolean,value:{type:[String,Number]},onRemove:Function},eb="t-display-none-element-refresh";function tb(){var e=(0,d.iH)(0);(0,l.JJ)(eb,e),(0,l.ic)((function(){e.value+=1}))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function nb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nb(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ob=(0,l.aZ)({name:"TTabPanel",props:rb({},$A),setup:function(e){var t=Os("tab-panel"),n=ap();tb();var r=(0,l.f3)("tabs");return function(){var o=e.value===r.value.value;return e.destroyOnHide&&!o?null:(0,l.wy)((0,l.Wm)("div",{class:t.value},[n("default","panel")]),[[f.F8,o]])}}}),ib=/\s/;function ab(e){var t=e.length;while(t--&&ib.test(e.charAt(t)));return t}var sb=ab,cb=sb,ub=/^\s+/;function lb(e){return e?e.slice(0,cb(e)+1).replace(ub,""):e}var db=lb,fb=db,pb=ee,hb=Tu,gb=NaN,vb=/^[-+]0x[0-9a-f]+$/i,mb=/^0b[01]+$/i,yb=/^0o[0-7]+$/i,Ab=parseInt;function bb(e){if("number"==typeof e)return e;if(hb(e))return gb;if(pb(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=pb(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=fb(e);var n=mb.test(e);return n||yb.test(e)?Ab(e.slice(2),n?2:8):vb.test(e)?gb:+e}var Eb=bb,_b=N,wb=function(){return _b.Date.now()},Sb=wb,Cb=ee,Ib=Sb,Ob=Eb,Tb="Expected a function",Rb=Math.max,Nb=Math.min;function Pb(e,t,n){var r,o,i,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(Tb);function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n),a}function h(e){return u=e,s=setTimeout(m,t),l?p(e):a}function g(e){var n=e-c,r=e-u,o=t-n;return d?Nb(o,i-r):o}function v(e){var n=e-c,r=e-u;return void 0===c||n>=t||n<0||d&&r>=i}function m(){var e=Ib();if(v(e))return y(e);s=setTimeout(m,g(e))}function y(e){return s=void 0,f&&r?p(e):(r=o=void 0,a)}function A(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0}function b(){return void 0===s?a:y(Ib())}function E(){var e=Ib(),n=v(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return h(c);if(d)return clearTimeout(s),s=setTimeout(m,t),p(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=Ob(t)||0,Cb(n)&&(l=!!n.leading,d="maxWait"in n,i=d?Rb(Ob(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),E.cancel=A,E.flush=b,E}var kb=Pb;function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lb={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z",fillOpacity:.9}}]},jb=(0,l.aZ)({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-add",o.value])),s=(0,l.Fl)((()=>xb(xb({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(Lb,c.value)}}),Mb={addable:Boolean,disabled:Boolean,dragSort:Boolean,list:{type:Array},placement:{type:String,default:"top",validator:function(e){return!e||["left","top","bottom","right"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return!e||["medium","large"].includes(e)}},theme:{type:String,default:"normal",validator:function(e){return!e||["normal","card"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onAdd:Function,onChange:Function,onDragSort:Function,onRemove:Function},Bb=function(e){return(null===e||void 0===e?void 0:e.offsetWidth)||0},Fb={calcScrollLeft:function(e,t){var n=e.navsContainer,r=e.navsWrap,o=e.rightOperations,i=Bb(o);if(!r||!n)return t;var a=Bb(n),s=Bb(r);return s<=a?0:t+a-i>s?s+i-a:t},calculateCanToLeft:function(e,t,n){if(["left","right"].includes(n.toLowerCase()))return!1;var r=e.navsContainer,o=e.navsWrap,i=e.leftOperations,a=e.toLeftBtn;if(!o||!r)return!1;var s=Bb(i),c=Bb(a);return t+Math.round(s-c)>0},calculateCanToRight:function(e,t,n){if(["left","right"].includes(n.toLowerCase()))return!1;var r=e.navsContainer,o=e.navsWrap,i=e.rightOperations,a=e.toRightBtn;if(!o||!r)return!1;var s=Bb(i),c=Bb(a);return t+Bb(r)-(s-c)-Bb(o)<-1},moveActiveTabIntoView:function(e,t){var n=e.activeTab,r=e.navsContainer,o=e.navsWrap,i=e.leftOperations,a=e.toLeftBtn,s=e.rightOperations,c=e.toRightBtn;if(!n)return t;var u=n.offsetLeft;if(!r)return t;var l=function(){var e=Bb(i),t=Bb(a);return 0===u?e-t:e},d=l(),f=t+d>u;if(f)return u-d;var p=n.offsetWidth;if(!r||!o)return t;var h=Bb(r),g=function(){var e=Bb(s),t=Bb(c),n=Bb(o);return Math.abs(u+p-n)<1?e-t:e},v=g(),m=t+h-v<u+p;return m?u+p-h+v:t},scrollToLeft:function(e,t){var n=e.navsContainer,r=e.leftOperations,o=e.toLeftBtn;if(!n)return 0;var i=Bb(r),a=Bb(o),s=Bb(n);return Math.max(-(i-a),t-s)},scrollToRight:function(e,t){var n=e.navsContainer,r=e.navsWrap,o=e.rightOperations,i=e.toRightBtn,a=Bb(o),s=Bb(i),c=Bb(n),u=Bb(r);return Math.min(t+c-a-s,u-c+a-s)}},Ub=(0,l.aZ)({name:"TTabNavItem",props:{index:Number,active:{type:Boolean},theme:Mb.theme,size:Mb.size,placement:Mb.placement,label:{type:null},disabled:$A.disabled,removable:$A.removable,value:$A.value,onClick:Function,onRemove:Function},setup:function(e){var t=(0,d.iH)();tp(t);var n=Os("tabs__nav-item"),r=Tg({CloseIcon:Ig}),o=r.CloseIcon,i=Os(),a=Ts(),s=a.STATUS,c=a.SIZE,f=function(t){var n=t.e;n.stopPropagation(),e.onRemove({e:n,value:e.value,index:e.index})},p=function(t){e.disabled||e.onClick(t)},h=(0,l.Fl)((function(){var t;return t={},u(t,n.value,!0),u(t,"".concat(i.value,"-tabs__nav--card"),"card"===e.theme),u(t,s.value.disabled,e.disabled),u(t,s.value.active,e.active),u(t,"".concat(i.value,"-is-left"),"left"===e.placement),u(t,"".concat(i.value,"-is-right"),"right"===e.placement),u(t,c.value.medium,"medium"===e.size),u(t,c.value.large,"large"===e.size),t})),g=function(){return(0,l.Wm)("div",{class:h.value,onClick:p,ref:t},[(0,l.Wm)("span",{class:"".concat(n.value,"-text-wrapper")},[e.label]),e.removable&&!e.disabled?(0,l.Wm)(o,{class:"remove-btn",onClick:f},null):null])},v=function(){var r;return(0,l.Wm)("div",{class:h.value,onClick:p},[(0,l.Wm)("div",{class:["".concat(n.value,"-wrapper"),(r={},u(r,s.value.disabled,e.disabled),u(r,s.value.active,e.active),r)],ref:t},[(0,l.Wm)("span",{class:"".concat(n.value,"-text-wrapper")},[e.label])]),e.removable&&!e.disabled?(0,l.Wm)(o,{class:"remove-btn",onClick:f},null):null])};return function(){return"card"===e.theme?g():v()}}}),Vb=(0,l.aZ)({props:{navs:{type:Array},placement:Mb.placement,value:Mb.value},setup:function(e){var t=Os("tabs"),n=Os(),r=(0,l.Fl)((function(){return["".concat(t.value,"__bar"),"".concat(n.value,"-is-").concat(e.placement)]})),o=(0,d.iH)(null),i=function(){for(var t,n,r=["left","right"].includes(e.placement.toLowerCase()),o=r?["height","top"]:["width","left"],i=v(o,2),a=i[0],s=i[1],c=0,l=0;l<e.navs.length;l++){var d,f;if(e.navs[l].props.value===e.value)break;c+=(null===(d=e.navs[l])||void 0===d||null===(f=d.el)||void 0===f?void 0:f["client".concat(oA(a))])||0}return e.navs[l]?(n={},u(n,s,"".concat(c,"px")),u(n,a,"".concat((null===(t=e.navs[l].el)||void 0===t?void 0:t["client".concat(oA(a))])||0,"px")),n):{}};return(0,l.bv)((function(){(0,l.Y3)((function(){o.value=i()}))})),(0,l.YP)([function(){return e.navs},function(){return e.value},function(){return e.placement}],(function(){(0,l.Y3)((function(){o.value=i()}))})),function(){return(0,l.Wm)("div",{class:r.value,style:o.value},null)}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Wb(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Hb(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}function Hb(e,t){if(e){if("string"===typeof e)return Qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qb(e,t):void 0}}function Qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gb=function(e,t){var n,r=Wb(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.getAttribute("draggable")&&t(o)}}catch(i){r.e(i)}finally{r.f()}},Kb=function(e,t){var n;return Gb(t,(function(t){t.contains(e)&&(n=t)})),n};function qb(e){var t,n=null,r=[],o=function(e){var n=e.target;t=n,n.style.opacity="0.5"},i=function(e){e.target.style.opacity=""},a=function(e){e.preventDefault()},s=function(e){var o=Kb(e.target,n.children);o&&o!==t&&(o.firstChild.style.outline="1px dashed #0052d9",r.includes(o)||r.push(o))},c=function(e){var t,n=e.target,o=Wb(r);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.contains(n)||(i.firstChild.style.outline="none")}}catch(a){o.e(a)}finally{o.f()}},u=function(r){r.preventDefault(),Gb(n.children,(function(e){e.firstChild.style.outline="none"}));var o=Kb(r.target,n.children);if(o&&o.parentNode!==t){var i=[].indexOf.call(n.children,t),a=[].indexOf.call(n.children,o);a>i&&(o=n.children[a+1]),n.insertBefore(t,o);var s="card"===e.theme?i:i-1,c="card"===e.theme?a:a-1;e.onDragSort({currentIndex:s,current:e.panels[s].value,targetIndex:c,target:e.panels[c].value})}};function d(e){n=e,n.addEventListener("dragstart",o,!1),n.addEventListener("dragend",i,!1),n.addEventListener("dragover",a,!1),n.addEventListener("dragenter",s,!1),document.addEventListener("dragleave",c,!1),document.addEventListener("mousemove",c,!1),n.addEventListener("drop",u,!1)}return(0,l.Ah)((function(){n.removeEventListener("dragstart",o),n.removeEventListener("dragend",i),n.removeEventListener("dragover",a),n.removeEventListener("dragenter",s),document.removeEventListener("dragleave",c),document.removeEventListener("mousemove",c),n.removeEventListener("drop",u)})),{setNavsWrap:d}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zb(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jb=Fb.calculateCanToLeft,Xb=Fb.calculateCanToRight,Zb=Fb.calcScrollLeft,$b=Fb.scrollToLeft,eE=Fb.scrollToRight,tE=Fb.moveActiveTabIntoView,nE=(0,l.aZ)(Yb(Yb({name:"TTabNav"},{resizeObserver:null}),{},{props:{theme:Mb.theme,panels:{type:Array,default:function(){return[]}},value:Mb.value,placement:Mb.placement,size:Mb.size,disabled:Mb.disabled,addable:Mb.addable,onChange:Mb.onChange,onAdd:Mb.onAdd,onRemove:Mb.onRemove,dragSort:Mb.dragSort,onDragSort:Mb.onDragSort},setup:function(e){var t=Os("tabs"),n=Tg({ChevronLeftIcon:bA,ChevronRightIcon:av,AddIcon:jb}),r=n.ChevronLeftIcon,o=n.ChevronRightIcon,i=n.AddIcon,a=Os(),s=Ts(),c=s.SIZE,p=(0,d.iH)(0),h=(0,d.iH)(!1),g=(0,d.iH)(!1),v=(0,d.iH)(),m=(0,d.iH)(),y=(0,d.iH)(),A=(0,d.iH)(),b=(0,d.iH)(),E=(0,d.iH)(),_=(0,d.iH)(),w=function(){return{navsContainer:v.value,navsWrap:m.value,leftOperations:y.value,toLeftBtn:A.value,rightOperations:b.value,toRightBtn:E.value}},S=(0,l.Fl)((function(){return["left","right"].includes(e.placement.toLowerCase())?{}:{transform:"translate3d(".concat(-p.value,"px, 0, 0)")}})),C=(0,l.Fl)((function(){return e.addable?{"min-height":"48px"}:null})),I=(0,l.Fl)((function(){var n;return n={},u(n,"".concat(t.value,"__btn"),!0),u(n,c.value.medium,"medium"===e.size),u(n,c.value.large,"large"===e.size),n})),O=(0,l.Fl)((function(){return Yb(u({},"".concat(t.value,"__btn--left"),!0),I.value)})),T=(0,l.Fl)((function(){return Yb(u({},"".concat(t.value,"__btn--right"),!0),I.value)})),R=(0,l.Fl)((function(){return Yb(u({},"".concat(t.value,"__add-btn"),!0),I.value)})),N=(0,l.Fl)((function(){var n;return n={},u(n,"".concat(t.value,"__nav-container"),!0),u(n,"".concat(t.value,"__nav--card"),"card"===e.theme),u(n,"".concat(a.value,"-is-").concat(e.placement),!0),u(n,"".concat(a.value,"-is-addable"),e.addable),n})),P=(0,l.Fl)((function(){var e;return e={},u(e,"".concat(t.value,"__nav-scroll"),!0),u(e,"".concat(a.value,"-is-scrollable"),h.value||g.value),e})),k=(0,l.Fl)((function(){return["".concat(t.value,"__nav-wrap"),"".concat(a.value,"-is-smooth"),u({},"".concat(a.value,"-is-vertical"),"left"===e.placement||"right"===e.placement)]})),D=function(){L(),x()};(0,l.YP)([p,function(){return e.placement},function(){return e.panels}],D),Lp(kb(D),v.value),(0,l.bv)(D);var x=function(){p.value=Zb(w(),p.value)},L=function(){h.value=Jb(w(),p.value,e.placement),g.value=Xb(w(),p.value,e.placement)},j=function(e){p.value="left"===e?$b(w(),p.value):eE(w(),p.value)},M=function(t){var n;null===(n=e.onAdd)||void 0===n||n.call(e,{e:t})},B=function(t,n){var r=n.value,o=n.disabled;if(o||e.value===r)return!1;e.onChange(r)},F=function(t){var n=t.e,r=t.value,o=t.index;e.onRemove({e:n,value:r,index:o})},U=function(t){(null===t||void 0===t?void 0:t.value)===e.value&&_.value!==t.$el&&(_.value=t.$el,p.value=tE(Yb({activeTab:_.value},w()),p.value))},V=qb(e),W=V.setNavsWrap;(0,l.bv)((function(){W(m.value)}));var H=(0,l.Fl)((function(){return e.panels.map((function(t,n){var r,o;return o=null!==t&&void 0!==t&&null!==(r=t.children)&&void 0!==r&&r.label?t.children.label():"function"===typeof t.label?t.label(l.h):t.label||"选项卡".concat(n+1),(0,l.Wm)(Ub,{ref:U,draggable:e.dragSort,key:t.value,index:n,theme:e.theme,size:e.size,placement:e.placement,label:o,active:t.value===e.value,disabled:e.disabled||t.disabled,removable:t.removable,value:t.value,onClick:function(e){return B(e,t)},onRemove:F},null)}))})),Q=function(){return[(0,l.Wm)("div",{ref:y,class:["".concat(t.value,"__operations"),"".concat(t.value,"__operations--left")]},[(0,l.Wm)(f.uT,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[h.value?(0,l.Wm)("div",{ref:A,class:O.value,onClick:function(){return j("left")}},[(0,l.Wm)(r,null,null)]):null]}})]),(0,l.Wm)("div",{ref:b,class:["".concat(t.value,"__operations"),"".concat(t.value,"__operations--right")]},[(0,l.Wm)(f.uT,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[g.value?(0,l.Wm)("div",{ref:E,class:T.value,onClick:function(){return j("right")}},[(0,l.Wm)(o,null,null)]):null]}}),e.addable?(0,l.Wm)("div",{class:R.value,onClick:M},[(0,l.Wm)(i,null,null)]):null])]},G=function(){return(0,l.Wm)("div",{class:N.value},[(0,l.Wm)("div",{class:P.value},[(0,l.Wm)("div",{ref:m,class:k.value,style:S.value},["card"!==e.theme&&(0,l.Wm)(Vb,{placement:e.placement,value:e.value,navs:H.value},null),H.value])])])};return function(){return(0,l.Wm)("div",{ref:v,class:["".concat(t.value,"__nav")],style:C.value},[Q(),G()])}}})),rE=(0,l.aZ)({name:"TTabs",props:Mb,setup:function(e){var t=Os("tabs"),n=Os(),r=op(),o=(0,d.BK)(e),i=o.value,a=o.modelValue,s=Sy(i,a,e.defaultValue||"",e.onChange),c=v(s,2),f=c[0],p=c[1];(0,l.JJ)("tabs",{value:f});var h=function(t){var n;null===(n=e.onAdd)||void 0===n||n.call(e,{e:t.e})},g=function(e){p(e)},m=function(t){var n=t.e,r=t.value,o=t.index;e.onRemove({value:r,index:o,e:n})},y=function(){var e=r("default");return e?(e=e.map((function(e){return e.children&&Array.isArray(e.children)?e.children:e})).flat().filter((function(e){return"TTabPanel"===e.type.name})),e):[]},A=function(){var t,r,o=(null!==(t=e.list)&&void 0!==t&&t.length?e.list:y())||[],i=o.map((function(e){var t=e;return e.props&&Object.keys(e.props).forEach((function(n){t[n]=e.props[n]})),t})),a={theme:e.theme,value:f.value,size:e.size,disabled:e.disabled,placement:e.placement,addable:e.addable,panels:i,dragSort:e.dragSort};return(0,l.Wm)("div",{class:(r={},u(r,"".concat(n.value,"-tabs__header"),!0),u(r,"".concat(n.value,"-is-").concat(e.placement),!0),r)},[(0,l.Wm)(nE,(0,l.dG)(a,{onDragSort:e.onDragSort,onChange:g,onAdd:h,onRemove:m}),null)])},b=function(){var t,r=y();return null!==(t=e.list)&&void 0!==t&&t.length?e.list.map((function(e){return(0,l.Wm)(ob,(0,l.dG)(e,{onRemove:m}),null)})):r&&r.length?(0,l.Wm)("div",{class:["".concat(n.value,"-tabs__content")]},[r]):void console.warn("Tdesign error: list or slots is empty")};return function(){return(0,l.Wm)("div",{class:[t.value]},["bottom"!==e.placement?[A(),b()]:[b(),A()]])}}}),oE=Hf(rE),iE=Hf(ob);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cE(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var uE=(0,l.aZ)({name:"THeadMenu",props:sE({},ZA),setup:function(e,t){var n=Os();(0,l.m0)((function(){t.slots.options&&qA.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")}));var r=(0,d.BK)(e),o=r.value,i=r.modelValue,a=r.expanded,s=Sy(o,i,e.defaultValue,e.onChange),u=v(s,2),f=u[0],p=u[1],h=zA(a,e.defaultExpanded,e.onExpand,"expanded"),g=v(h,2),m=g[0],y=g[1],A=(0,d.iH)([]),b=(0,l.Fl)((function(){return e.theme})),E=(0,l.Fl)((function(){return["".concat(n.value,"-menu"),"".concat(n.value,"-head-menu"),"".concat(n.value,"-menu--").concat(e.theme)]})),_=(0,d.iH)(e.expandType),w=(0,d.qj)([]),S=new GA({isMutex:!0,expandValues:m.value});(0,l.JJ)("TdMenu",{mode:_,theme:b,vMenu:S,isHead:!0,expandValues:m,activeValue:f,activeValues:A,select:function(e){p(e)},open:function(e,t){var n=c(m.value),r=n.indexOf(e);"popup"===_.value?"add"===t?-1===r&&n.push(e):"remove"===t&&n.splice(r,1):(n.splice(0,1),-1===r&&n.push(e)),y(n)}});var C=function(e){p(e)},I=function(e){var t=S.getChild(e);w.length=0,w.push.apply(w,c(t))};(0,l.YP)(m,(function(e){"normal"===_.value&&I(e[0])}));var O=function(e){A.value=S.select(e)};return(0,l.YP)(f,O),(0,l.YP)((function(){return e.expandType}),(function(e){_.value=e})),(0,l.bv)((function(){var e;A.value=S.select(f.value),(null===(e=m.value)||void 0===e?void 0:e.length)>0&&I(m.value[0])})),{classPrefix:n,mode:_,menuClass:E,expandValues:m,activeValue:f,activeValues:A,submenu:w,handleTabChange:C}},methods:{renderNormalSubmenu:function(){var e;return 0===this.submenu.length?null:(0,l.Wm)("ul",{class:["".concat(this.classPrefix,"-head-menu__submenu"),"".concat(this.classPrefix,"-submenu")]},[(0,l.Wm)(oE,{value:this.activeValue,onChange:this.handleTabChange},cE(e=this.submenu.map((function(e){var t;return(0,l.Wm)(iE,{value:e.value,label:null===(t=e.vnode()[0])||void 0===t?void 0:t.children},null)})))?e:{default:function(){return[e]}})])}},render:function(){var e=this.classPrefix,t=Rf(this,"operations","options"),n=Of(this,"logo");return(0,l.Wm)("div",{class:this.menuClass},[(0,l.Wm)("div",{class:"".concat(e,"-head-menu__inner")},[n&&(0,l.Wm)("div",{class:"".concat(e,"-menu__logo")},[n]),(0,l.Wm)("ul",{class:"".concat(e,"-menu")},[Rf(this,"default","content")]),t&&(0,l.Wm)("div",{class:"".concat(e,"-menu__operations")},[t])]),"normal"===this.mode&&this.renderNormalSubmenu()])}}),lE={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,icon:{type:Function},title:{type:[String,Function]},value:{type:[String,Number]}},dE=(0,l.aZ)({name:"TFakeArrow",props:{isActive:{type:Boolean},overlayClassName:{type:[String,Object,Array]},overlayStyle:{type:Object||String}},setup:function(e){var t=Os("fake-arrow"),n=(0,l.Fl)((function(){return[t.value,u({},"".concat(t.value,"--active"),e.isActive),e.overlayClassName]}));return{classes:n}},render:function(){return(0,l.Wm)("svg",{class:this.classes,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:this.overlayStyle},[(0,l.Wm)("path",{d:"M3.75 5.7998L7.99274 10.0425L12.2361 5.79921",stroke:"black","stroke-opacity":"0.9","stroke-width":"1.3"},null)])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fE(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hE=(0,l.aZ)({name:"TSubmenu",props:lE,setup:function(e,t){var n=Os(),r=(0,l.f3)("TdMenu"),o=r.theme,i=r.activeValues,a=r.expandValues,s=r.mode,c=r.isHead,f=r.open,p=(0,l.f3)("TdSubmenu",{}),h=p.setSubPopup,g=p.closeParentPopup,v=(0,d.iH)([]),m=(0,l.Fl)((function(){return i.value.indexOf(e.value)>-1})),y=(0,d.iH)(!1),A=(0,d.iH)(!1),b=(0,l.Fl)((function(){return"light"===o.value?"#E7E7E7":"#383838"})),E=(0,l.Fl)((function(){var t;return"popup"===s.value?y.value:!!a&&(null===(t=a.value)||void 0===t?void 0:t.includes(e.value))})),_=(0,d.iH)(!1),w=(0,d.iH)(),S=(0,d.iH)(),C=(0,d.iH)();tp(C,b);var I=(0,l.Fl)((function(){var t;return["".concat(n.value,"-submenu"),(t={},u(t,"".concat(n.value,"-is-disabled"),e.disabled),u(t,"".concat(n.value,"-is-opened"),E.value),t)]})),O=(0,l.Fl)((function(){return["".concat(n.value,"-menu__popup"),"".concat(n.value,"-menu__popup--").concat(o.value),"".concat(n.value,"-is-").concat(c?"horizontal":"vertical"),u({},"".concat(n.value,"-is-opened"),y.value),"narrow-scrollbar"]})),T=(0,l.Fl)((function(){var t;return["".concat(n.value,"-menu__item"),"".concat(n.value,"-menu__item-spacer"),"".concat(n.value,"-menu__item-spacer--").concat(c&&!_.value?"bottom":"right"),(t={},u(t,"".concat(n.value,"-is-disabled"),e.disabled),u(t,"".concat(n.value,"-is-opened"),E.value),u(t,"".concat(n.value,"-is-active"),m.value),t)]})),R=(0,l.Fl)((function(){return["".concat(n.value,"-menu__sub"),u({},"".concat(n.value,"-is-opened"),E.value)]})),N=(0,l.Fl)((function(){return[u({},"".concat(n.value,"-fake-arrow--active"),E.value)]})),P=function(e){"function"===typeof h&&h(e)},k=function(){e.disabled||setTimeout((function(){y.value||(f(e.value),(0,l.Y3)().then((function(){P(w.value)}))),y.value=!0}),0)},D=function(e){return null===e||void 0===e?void 0:e.classList.contains("".concat(n.value,"-menu__popup"))},x=function e(t){return!!t&&(D(t)||e(t.parentElement))},L=function(e){setTimeout((function(){var t=D(e.relatedTarget);A.value||t||(y.value=!1)}),0)},j=function(e){var t=e.toElement,n=e.relatedTarget,r=t||n;if(r!==S.value){var o=function(e){return e===C.value};while(null!==r&&r!==document&&!o(r))r=r.parentNode;A.value=!1,o(r)||(y.value=!1),null===g||void 0===g||g(e)}},M=function(){A.value=!0},B=function(){e.disabled||f(e.value)};(0,l.YP)(y,(function(t){r.open(e.value,t?"add":"remove")}));var F=(0,d.BK)(e),U=F.value;return(0,l.JJ)("TdSubmenu",(0,d.qj)({value:U,addMenuItem:function(e){v.value.push(e),p&&p.addMenuItem(e)},setSubPopup:function(e){S.value=e},closeParentPopup:function(e){var t=e.relatedTarget;x(t)||j(e)}})),(0,l.bv)((function(){var n;null===r||void 0===r||null===(n=r.vMenu)||void 0===n||n.add({value:e.value,parent:null===p||void 0===p?void 0:p.value,vnode:t.slots["default"]});var o=(0,l.FN)(),i=o.parent;while(i&&!/^t(head)?menu/i.test(null===(a=i)||void 0===a?void 0:a.type.name)){var a,s,c;if(/submenu/i.test(null===(s=i)||void 0===s?void 0:s.type.name)){_.value=!0;break}i=null===(c=i)||void 0===c?void 0:c.parent}})),{classPrefix:n,menuItems:v,mode:s,theme:o,isHead:c,isNested:_,classes:I,subClass:R,arrowClass:N,popupClass:O,submenuClass:T,submenuRef:C,popupWrapperRef:w,popupVisible:y,isCursorInPopup:A,handleEnterPopup:M,handleMouseEnter:k,handleMouseLeave:L,handleMouseLeavePopup:j,handleSubmenuItemClick:B}},methods:{renderPopup:function(e){var t=this,n="right-top";!this.isNested&&this.isHead&&(n="bottom-left");var r=this.isNested&&this.isHead?{marginLeft:"26px"}:u({},"margin-".concat(this.isHead?"top":"left"),"20px"),o=(0,l.Wm)("div",{ref:"popupWrapperRef",class:["".concat(this.classPrefix,"-menu__spacer"),"".concat(this.classPrefix,"-menu__spacer--").concat(!this.isNested&&this.isHead?"top":"left")],onMouseenter:this.handleEnterPopup,onMouseleave:this.handleMouseLeavePopup},[(0,l.Wm)("ul",{class:"".concat(this.classPrefix,"-menu__popup-wrapper narrow-scrollbar")},[Rf(this,"default","content")])]),i={content:function(){return o}},a=(0,l.Wm)(Dy,{overlayInnerClassName:c(this.popupClass),visible:this.popupVisible,placement:n,overlayInnerStyle:r},pE({default:function(){return[(0,l.Wm)("div",{ref:"submenuRef",class:t.submenuClass},[e])]}},i));return a},renderHeadSubmenu:function(){var e=Of(this,"icon"),t=[(0,l.Wm)("div",{ref:"submenuRef",class:this.submenuClass,onClick:this.handleSubmenuItemClick},[e,(0,l.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Of(this,"title",{silent:!0})])]),(0,l.Wm)("ul",{style:"opacity: 0; width: 0; height: 0; overflow: hidden"},[Rf(this,"default","content")])],n="popup"===this.mode&&this.isNested,r=[e,(0,l.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Of(this,"title",{silent:!0})]),(0,l.Wm)(dE,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(n?-90:0,"deg)")}},null)];return"normal"===this.mode?t:this.renderPopup(r)},renderSubmenu:function(){var e=this.$slots.content||this.$slots["default"],t=Of(this,"icon"),n=Rf(this,"default","content"),r=(0,l.FN)(),o=r.parent,i=44;while(o&&"TMenu"!==o.type.name)"TSubmenu"===o.type.name&&(i+=16),o=o.parent;var a="popup"===this.mode&&this.isNested,s=[(0,l.Wm)("div",{ref:"submenuRef",class:this.submenuClass,onClick:this.handleSubmenuItemClick},[t,(0,l.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Of(this,"title",{silent:!0})]),e&&(0,l.Wm)(dE,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(a?-90:0,"deg)")}},null)]),(0,l.Wm)("ul",{class:this.subClass,style:{"--padding-left":"".concat(i,"px")}},[n])],c=[t,(0,l.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Of(this,"title",{silent:!0})]),(0,l.Wm)(dE,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(a?-90:0,"deg)"),"margin-left":"auto"}},null)];return"normal"===this.mode?s:this.renderPopup(c)}},render:function(){var e=null,t={};return"popup"===this.mode&&(t={onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave}),Object.keys(this.$slots).length>0&&(e=this.isHead?this.renderHeadSubmenu():this.renderSubmenu()),(0,l.Wm)("li",(0,l.dG)({class:this.classes},t),[e])}}),gE={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,href:{type:String,default:""},icon:{type:Function},replace:Boolean,router:{type:Object},target:{type:String,validator:function(e){return!e||["_blank","_self","_parent","_top"].includes(e)}},to:{type:[String,Object]},value:{type:[String,Number]},onClick:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function vE(e,t){var n,r;"string"===typeof t&&(n=aA(t));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];"function"===typeof e.$props[n]?(r=e.$props)[n].apply(r,i):e.$emit.apply(e,[t].concat(i))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mE(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AE=(0,l.aZ)({name:"TMenuItem",props:yE({},gE),emits:["click"],setup:function(e,t){var n=Os(),r=(0,l.f3)("TdMenu"),o=(0,d.iH)();tp(o);var i=(0,l.f3)("TdSubmenu",null),a=(0,l.Fl)((function(){return r.activeValue.value===e.value})),s=(0,l.Fl)((function(){var o;return["".concat(n.value,"-menu__item"),(o={},u(o,"".concat(n.value,"-is-active"),a.value),u(o,"".concat(n.value,"-is-disabled"),e.disabled),u(o,"".concat(n.value,"-menu__item--plain"),!t.slots.icon&&!e.icon),u(o,"".concat(n.value,"-submenu__item"),!!i&&!r.isHead),o)]}));return(0,l.bv)((function(){var n;null===r||void 0===r||null===(n=r.vMenu)||void 0===n||n.add({value:e.value,parent:null===i||void 0===i?void 0:i.value,vnode:t.slots["default"]})})),{classPrefix:n,menu:r,active:a,classes:s,itemRef:o}},methods:{handleClick:function(){if(!this.disabled)if(this.menu.select(this.value),vE(this,"click"),this.href)window.open(this.href,this.target);else if(this.to){var e=this.router||this.$router,t=this.replace?"replace":"push";e[t](this.to)["catch"]((function(e){if("NavigationDuplicated"!==e.name&&!e.message.includes("Avoided redundant navigation to current location"))throw e}))}}},render:function(){return(0,l.Wm)("li",{ref:"itemRef",class:this.classes,onClick:this.handleClick},[Of(this,"icon"),(0,l.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[Rf(this,"default","content")])])}}),bE={title:{type:[String,Function]}},EE=(0,l.aZ)({name:"TMenuGroup",props:bE,setup:function(){var e=Os();return{classPrefix:e}},render:function(){var e=this.classPrefix;return(0,l.Wm)("div",{class:"".concat(e,"-menu-group")},[(0,l.Wm)("div",{class:"".concat(e,"-menu-group__title")},[this.title]),Of(this,"default")])}}),_E=Hf(XA),wE=Hf(uE),SE=Hf(hE),CE=Hf(AE),IE=Hf(EE),OE=Z,TE=On,RE="[object Number]";function NE(e){return"number"==typeof e||TE(e)&&OE(e)==RE}var PE=NE;function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kE(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xE={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.4 4.46l-.91-.92L7.03 8l4.46 4.46.92-.92L8.86 8l3.55-3.54zM4.8 4v8h1.3V4H4.8z",fillOpacity:.9}}]},LE=(0,l.aZ)({name:"PageFirstIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-page-first",o.value])),s=(0,l.Fl)((()=>DE(DE({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(xE,c.value)}});function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jE(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var BE={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.6 11.54l.91.92L8.97 8 4.51 3.54l-.92.92L7.14 8l-3.55 3.54zm7.6.46V4H9.9v8h1.3z",fillOpacity:.9}}]},FE=(0,l.aZ)({name:"PageLastIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-page-last",o.value])),s=(0,l.Fl)((()=>ME(ME({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(BE,c.value)}});function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UE(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var WE={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13.04 4.46l-.92-.92L7.66 8l4.46 4.46.92-.92L9.5 8l3.54-3.54z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8.04 4.46l-.92-.92L2.66 8l4.46 4.46.92-.92L4.5 8l3.54-3.54z",fillOpacity:.9}}]},HE=(0,l.aZ)({name:"ChevronLeftDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-left-double",o.value])),s=(0,l.Fl)((()=>VE(VE({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(WE,c.value)}});function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QE(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var KE={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.96 11.54l.92.92L8.34 8 3.88 3.54l-.92.92L6.5 8l-3.54 3.54zm5 0l.92.92L13.34 8 8.88 3.54l-.92.92L11.5 8l-3.54 3.54z",fillOpacity:.9}}]},qE=(0,l.aZ)({name:"ChevronRightDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-right-double",o.value])),s=(0,l.Fl)((()=>GE(GE({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(KE,c.value)}});function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zE(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JE={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 9a1 1 0 110-2 1 1 0 010 2zM7 8a1 1 0 102 0 1 1 0 00-2 0zM12 8a1 1 0 102 0 1 1 0 00-2 0z",fillOpacity:.9}}]},XE=(0,l.aZ)({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-ellipsis",o.value])),s=(0,l.Fl)((()=>YE(YE({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(JE,c.value)}});function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZE(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var e_={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.5 7.35h9v1.3h-9v-1.3z",fillOpacity:.9}}]},t_=(0,l.aZ)({name:"RemoveIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-remove",o.value])),s=(0,l.Fl)((()=>$E($E({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(e_,c.value)}});function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n_(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o_={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.88 8a2.88 2.88 0 11-5.76 0 2.88 2.88 0 015.76 0zm-1 0a1.88 1.88 0 10-3.76 0 1.88 1.88 0 003.76 0z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M1.12 8.23A7.72 7.72 0 008 12.5c2.9 0 5.54-1.63 6.88-4.27L15 8l-.12-.23A7.73 7.73 0 008 3.5a7.74 7.74 0 00-6.88 4.27L1 8l.12.23zM8 11.5A6.73 6.73 0 012.11 8 6.73 6.73 0 0113.9 8 6.74 6.74 0 018 11.5z",fillOpacity:.9}}]},i_=(0,l.aZ)({name:"BrowseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-browse",o.value])),s=(0,l.Fl)((()=>r_(r_({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(o_,c.value)}});function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a_(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c_={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.77 11.98l1.38 1.37.7-.7-9.7-9.7-.7.7 1.2 1.21a7.9 7.9 0 00-2.53 2.91L1 8l.12.23a7.72 7.72 0 009.65 3.75zM10 11.2A6.67 6.67 0 012.11 8c.56-1 1.34-1.83 2.26-2.43l1.08 1.09a2.88 2.88 0 003.9 3.9l.64.64zM6.21 7.42l2.37 2.37a1.88 1.88 0 01-2.37-2.37zM14.88 8.23L15 8l-.12-.23a7.73 7.73 0 00-9.35-3.86l.8.8A6.7 6.7 0 0113.9 8a6.87 6.87 0 01-2.02 2.26l.7.7a7.9 7.9 0 002.3-2.73z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M10.88 8c0 .37-.07.73-.2 1.06l-.82-.82.02-.24a1.88 1.88 0 00-2.12-1.86l-.82-.82A2.87 2.87 0 0110.88 8z",fillOpacity:.9}}]},u_=(0,l.aZ)({name:"BrowseOffIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-browse-off",o.value])),s=(0,l.Fl)((()=>s_(s_({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(c_,c.value)}});function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l_(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f_={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.67 4.95L8 7.29l2.33-2.34.7.7L8.7 8l2.34 2.35-.71.7L8 8.71l-2.33 2.34-.7-.7L7.3 8 4.96 5.65l.71-.7z",fillOpacity:.9}}]},p_=(0,l.aZ)({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-close-circle-filled",o.value])),s=(0,l.Fl)((()=>d_(d_({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(f_,c.value)}}),h_={align:{type:String,default:"left",validator:function(e){return!e||["left","center","right"].includes(e)}},allowInputOverMax:Boolean,autoWidth:Boolean,autocomplete:{type:String,default:void 0},autofocus:Boolean,clearable:Boolean,disabled:Boolean,format:{type:Function},inputClass:{type:[String,Object,Array]},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:Boolean,showClearIconOnEmpty:Boolean,showLimitNumber:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,default:"default",validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},type:{type:String,default:"text",validator:function(e){return!e||["text","number","url","tel","password","search","submit","hidden"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onValidate:Function,onWheel:Function},g_=function(){var e=Os();return(0,l.Fl)((function(){var t="".concat(e.value,"-form"),n="".concat(e.value,"-input"),r="".concat(e.value,"-is");return{form:t,label:"".concat(t,"__label"),labelTop:"".concat(t,"__label--top"),inline:"".concat(t,"-inline"),formItem:"".concat(t,"__item"),formItemWithHelp:"".concat(t,"__item-with-help"),formItemWithExtra:"".concat(t,"__item-with-extra"),controls:"".concat(t,"__controls"),controlsContent:"".concat(t,"__controls-content"),status:"".concat(t,"__status"),extra:"".concat(n,"__extra"),help:"".concat(n,"__help"),success:"".concat(r,"-success"),successBorder:"".concat(t,"--success-border"),error:"".concat(r,"-error"),warning:"".concat(r,"-warning")}}))},v_=function(e){return e["TO_BE_VALIDATED"]="not",e["SUCCESS"]="success",e["FAIL"]="fail",e}(v_||{}),m_=Symbol("FormProvide"),y_=Symbol("FormItemProvide");
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function A_(e,t){var n=(0,d.BK)(e),r=n.value,o=n.modelValue,i=(0,d.iH)(),a=(0,d.iH)(null),s=(0,d.iH)(),c=np(),u=Sy(r,o,e.defaultValue,e.onChange),f=v(u,2),p=f[0],h=f[1],g=(0,d.iH)(!1),m=(0,d.iH)(!1),y=(0,d.iH)(e.type),A=(0,d.iH)(null),b=(0,d.iH)(null),E=(0,d.iH)(""),_=(0,l.Fl)((function(){if(E.value){var e=E.value.split("/"),t=v(e,2),n=t[0],r=t[1];return Number(n)>Number(r)?"error":""}return""})),w=(0,l.Fl)((function(){return e.status?e.status:_.value})),C=(0,l.Fl)((function(){return(p.value&&!c.value&&e.clearable&&!e.readonly||e.showClearIconOnEmpty)&&g.value})),I=function(){var e;return null===(e=A.value)||void 0===e?void 0:e.focus()},O=function(){var e;return null===(e=A.value)||void 0===e?void 0:e.blur()},T=function(t){var n;i.value=p.value,e.disabled||e.readonly||(m.value=!0,null===(n=e.onFocus)||void 0===n||n.call(e,p.value,{e:t}))},R=function(t){var n,r=t.e;null===(n=e.onClear)||void 0===n||n.call(e,{e:r}),h("",{e:r})},N=function(e){s.value=e.target},P=function(){var e="password"===y.value?"text":"password";y.value=e},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=A.value;if(t){var n=String(e);t.value&&t.value!==n&&(t.value=n)}},D=function(t){var n=t.target,r=n.value;if(e.maxcharacter&&e.maxcharacter>0){var o=sA(r,e.maxcharacter);"object"===S(o)&&(e.allowInputOverMax||(r=o.characters),E.value="".concat(o.length,"/").concat(e.maxcharacter))}e.maxlength&&e.maxlength>0&&(e.allowInputOverMax||(r=r.substring(0,e.maxlength)),E.value="".concat(r.length,"/").concat(e.maxlength)),h(r,{e:t}),(0,l.Y3)((function(){return k(p.value)}))},x=function(e){var t=e.inputType&&"insertCompositionText"===e.inputType;e.isComposing||t||D(e)},L=function(){var e,t=s.value;if(!t||!t.tagName||null===(e=a.value)||void 0===e||!e.$el||!["path","svg"].includes(t.tagName))return!1;while(t){var n;if((null===(n=a.value)||void 0===n?void 0:n.$el)===t)return!0;t=t.parentNode}return!1},j=(0,l.f3)(y_,void 0),M=function(t){var n;(e.format&&(i.value=e.format(p.value)),m.value=!1,!L()&&e.allowTriggerBlur)&&(null===(n=e.onBlur)||void 0===n||n.call(e,p.value,{e:t}),null===j||void 0===j||j.handleBlur())},B=function(t){var n;D(t),null===(n=e.onCompositionend)||void 0===n||n.call(e,p.value,{e:t})},F=function(t){var n;null===(n=e.onCompositionstart)||void 0===n||n.call(e,p.value,{e:t})},U=function(e){var t;null===(t=A.value)||void 0===t||t.focus()};(0,l.YP)((function(){return e.autofocus}),(function(e){!0===e&&(0,l.Y3)((function(){var e;null===(e=A.value)||void 0===e||e.focus()}))}),{immediate:!0}),(0,l.YP)(p,(function(e){i.value=e}),{immediate:!0}),(0,l.YP)((function(){return e.type}),(function(e){y.value=e}),{immediate:!0}),(0,l.YP)(_,(function(){var t;null===(t=e.onValidate)||void 0===t||t.call(e,{error:_.value?"exceed-maximum":void 0})}));var V=function(){if(e.maxcharacter&&e.maxcharacter>0){var t=sA(String(p.value));E.value="".concat(t,"/").concat(e.maxcharacter)}e.maxlength&&e.maxlength>0&&(E.value="".concat(String(p.value).length,"/").concat(e.maxlength))};return(0,l.wF)((function(){V()})),t({inputRef:A,focus:I,blur:O}),{isHover:g,focused:m,renderType:y,showClear:C,inputRef:A,clearIconRef:a,inputValue:i,limitNumber:E,tStatus:w,emitFocus:T,formatAndEmitBlur:M,onHandleCompositionend:B,onHandleCompositionstart:F,onRootClick:U,emitPassword:P,handleInput:x,emitClear:R,onClearIconMousedown:N,innerValue:p,inputPreRef:b}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function b_(e,t,n){var r=function(t){if(!e.disabled){var r,o,i=t.code;if("Enter"===i||"NumpadEnter"===i)null===(r=e.onEnter)||void 0===r||r.call(e,n.value,{e:t});else null===(o=e.onKeydown)||void 0===o||o.call(e,n.value,{e:t})}},o=function(t){var r;e.disabled||null===(r=e.onKeyup)||void 0===r||r.call(e,n.value,{e:t})},i=function(t){var r;e.disabled||null===(r=e.onKeypress)||void 0===r||r.call(e,n.value,{e:t})},a=function(t){var n;if(!e.disabled){var r=t.clipboardData||window.clipboardData;null===(n=e.onPaste)||void 0===n||n.call(e,{e:t,pasteValue:null===r||void 0===r?void 0:r.getData("text/plain")})}},s=function(e){return t.value=e},c=function(t){var n;return null===(n=e.onWheel)||void 0===n?void 0:n.call(e,{e:t})},u=function(t){var n;s(!0),null===(n=e.onMouseenter)||void 0===n||n.call(e,{e:t})},l=function(t){var n;s(!1),null===(n=e.onMouseleave)||void 0===n||n.call(e,{e:t})};return{handleKeydown:r,handleKeyUp:o,handleKeypress:i,onHandlePaste:a,onHandleMousewheel:c,onInputMouseenter:u,onInputMouseleave:l}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function E_(e,t,n,r){var o=(0,d.iH)(!1),i=function(){if(t.value){var e=t.value.offsetWidth;0!==e&&(n.value.style.width="".concat(e,"px"))}},a=function(){(0,l.YP)((function(){return r.value+e.placeholder}),(function(){e.autoWidth&&(0,l.Y3)((function(){i()}))}),{immediate:!0})};(0,l.bv)((function(){o.value=!1,e.autoWidth&&a()}))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var __=["isHover","tStatus","inputRef","inputPreRef","renderType","showClear","focused","inputValue","innerValue","limitNumber"];function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w_(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C_(e){var t={};return Object.keys(e).forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=e[n])})),t}var I_=(0,l.aZ)({name:"TInput",props:S_(S_({},h_),{},{showInput:{type:Boolean,default:!0},keepWrapperWidth:{type:Boolean,default:!1},allowTriggerBlur:{type:Boolean,default:!0}}),setup:function(e,t){t.slots;var n=t.expose,r=Is("input"),o=r.globalConfig,i=Tg({BrowseIcon:i_,BrowseOffIcon:u_,CloseCircleFilledIcon:p_}),a=i.BrowseIcon,s=i.BrowseOffIcon,c=i.CloseCircleFilledIcon,d=np(),f=Os("input"),p=Os("input__wrap"),h=Os("input__tips"),g=Ts(),v=g.STATUS,m=g.SIZE,y=Os(),A=op(),b=A_(e,n),E=b.isHover,_=b.tStatus,w=b.inputRef,S=b.inputPreRef,C=b.renderType,I=b.showClear,O=b.focused,T=b.inputValue,R=b.innerValue,N=b.limitNumber,P=$y(b,__);E_(e,S,w,R);var k=b_(e,E,R),D=(0,l.Fl)((function(){var t;return null!==(t=e.placeholder)&&void 0!==t?t:o.value.placeholder})),x=(0,l.Fl)((function(){var t;return C_({autofocus:e.autofocus,disabled:d.value,readonly:e.readonly,placeholder:D.value,maxlength:!e.allowInputOverMax&&e.maxlength||void 0,name:e.name||void 0,type:C.value,autocomplete:null!==(t=e.autocomplete)&&void 0!==t?t:o.value.autocomplete||void 0,unselectable:e.readonly?"on":void 0})}));return function(){var t,n,r=A("prefixIcon"),o=A("suffixIcon"),i=A("passwordIcon"),g=A("label",{silent:!0}),b=A("suffix"),E=N.value&&e.showLimitNumber?(0,l.Wm)("div",{class:"".concat(y.value,"-input__limit-number")},[N.value]):null,L=g?(0,l.Wm)("div",{class:"".concat(f.value,"__prefix")},[g]):null,j=b||E?(0,l.Wm)("div",{class:"".concat(f.value,"__suffix")},[b,E]):null;"password"===e.type&&("password"===C.value?o=(0,l.Wm)(s,{class:"".concat(f.value,"__suffix-clear"),onClick:P.emitPassword},null):"text"===C.value&&(o=(0,l.Wm)(a,{class:"".concat(f.value,"__suffix-clear"),onClick:P.emitPassword},null))),I.value&&("password"===e.type?i=(0,l.Wm)(c,{ref:P.clearIconRef,class:"".concat(f.value,"__suffix-clear"),onClick:P.emitClear,onMousedown:P.onClearIconMousedown},null):o=(0,l.Wm)(c,{ref:P.clearIconRef,class:"".concat(f.value,"__suffix-clear"),onClick:P.emitClear,onMousedown:P.onClearIconMousedown},null));var M=[f.value,e.inputClass,(t={},u(t,m.value[e.size],"medium"!==e.size),u(t,v.value.disabled,d.value),u(t,v.value.focused,O.value),u(t,"".concat(y.value,"-is-").concat(_.value),_.value),u(t,"".concat(y.value,"-align-").concat(e.align),"left"!==e.align),u(t,"".concat(y.value,"-is-readonly"),e.readonly),u(t,"".concat(f.value,"--prefix"),r||L),u(t,"".concat(f.value,"--suffix"),o||j),u(t,"".concat(f.value,"--focused"),O.value),u(t,"".concat(f.value,"--auto-width"),e.autoWidth&&!e.keepWrapperWidth),t)],B=C_({onFocus:function(e){return P.emitFocus(e)},onBlur:P.formatAndEmitBlur,onKeydown:k.handleKeydown,onKeyup:k.handleKeyUp,onKeypress:k.handleKeypress,onPaste:k.onHandlePaste,onCompositionend:P.onHandleCompositionend,onCompositionstart:P.onHandleCompositionstart}),F=A("tips");return(0,l.Wm)("div",{class:p.value},[(0,l.Wm)("div",{class:M,onClick:P.onRootClick,onMouseenter:k.onInputMouseenter,onMouseleave:k.onInputMouseleave,onWheel:k.onHandleMousewheel},[r?(0,l.Wm)("span",{class:["".concat(f.value,"__prefix"),"".concat(f.value,"__prefix-icon")]},[r]):null,L,e.showInput&&(0,l.Wm)("input",(0,l.dG)({class:"".concat(f.value,"__inner")},x.value,B,{ref:w,value:null!==(n=T.value)&&void 0!==n?n:"",onInput:function(e){return P.handleInput(e)}}),null),e.autoWidth&&(0,l.Wm)("span",{ref:S,class:"".concat(y.value,"-input__input-pre")},[R.value||D.value]),j,i?(0,l.Wm)("span",{class:["".concat(f.value,"__suffix"),"".concat(f.value,"__suffix-icon"),"".concat(f.value,"__clear")]},[i]):null,o?(0,l.Wm)("span",{class:["".concat(f.value,"__suffix"),"".concat(f.value,"__suffix-icon"),u({},"".concat(f.value,"__clear"),I.value)]},[o]):null]),F&&(0,l.Wm)("div",{class:"".concat(h.value," ").concat(y.value,"-input__tips--").concat(e.status)},[F])])}}}),O_=(0,l.aZ)({name:"TInputGroup",props:{separate:{type:Boolean,default:!1}},setup:function(e){var t=Os("input-group"),n=op(),r=(0,l.Fl)((function(){return[t.value,u({},"".concat(t.value,"--separate"),e.separate)]}));return function(){return(0,l.Wm)("div",{class:r.value},[n("default")])}}}),T_=Hf(I_),R_=Hf(O_),N_={align:{type:String,validator:function(e){return!e||["left","center","right"].includes(e)}},autoWidth:Boolean,decimalPlaces:{type:Number,default:void 0},disabled:Boolean,format:{type:Function},inputProps:{type:Object},label:{type:[String,Function]},largeNumber:Boolean,max:{type:[String,Number],default:1/0},min:{type:[String,Number],default:-1/0},placeholder:{type:String,default:void 0},readonly:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},step:{type:[String,Number],default:1},suffix:{type:[String,Function]},theme:{type:String,default:"row",validator:function(e){return!e||["column","row","normal"].includes(e)}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function P_(){var e=Is(),t=e.classPrefix,n={small:"".concat(t.value,"-size-s"),medium:"".concat(t.value,"-size-m"),large:"".concat(t.value,"-size-l"),default:"",xs:"".concat(t.value,"-size-xs"),xl:"".concat(t.value,"-size-xl"),block:"".concat(t.value,"-size-full-width")},r={loading:"".concat(t.value,"-is-loading"),loadMore:"".concat(t.value,"-is-load-more"),disabled:"".concat(t.value,"-is-disabled"),focused:"".concat(t.value,"-is-focused"),success:"".concat(t.value,"-is-success"),error:"".concat(t.value,"-is-error"),warning:"".concat(t.value,"-is-warning"),selected:"".concat(t.value,"-is-selected"),active:"".concat(t.value,"-is-active"),checked:"".concat(t.value,"-is-checked"),current:"".concat(t.value,"-is-current"),hidden:"".concat(t.value,"-is-hidden"),visible:"".concat(t.value,"-is-visible"),expanded:"".concat(t.value,"-is-expanded"),indeterminate:"".concat(t.value,"-is-indeterminate")};return{classPrefix:t,sizeClassNames:n,statusClassNames:r,classNames:{size:n,status:r}}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function k_(e){return new Array(e).fill(0).join("")}function D_(e){if(!e)return!0;if("number"===typeof e)return Number.isNaN(e);var t=/^[0-9|e|E|-]+\.*[0-9|e|E|-]*$/.test(e);if(!t)return!1;for(var n=0,r=0,o=0,i=0,a=e.length;i<a;i++){if("."===e[i]&&(o+=1,o>1))return!1;if(/(e|E)+/.test(e[i])&&(n+=1,n>1))return!1;if("-"===e[i]&&(r+=1,r>2))return!1}return!0}function x_(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return-1!==e.indexOf(".")?(qA.error("InputNumber","num is not a integer number."),e):!e||"0"===e&&t?"":"0"===e?e:(t?e.replace(/0+$/,""):e.replace(/^0+/,""))||"0"}function L_(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=x_(e,n),o=x_(t,n),i=r.length>o.length,a=i?r:o,s=i?o:r,c=[],u=[],l=n?0:a.length-s.length,d=n?s.length:a.length,f=d-1;f>=0;f--){var p=f-l,h=Number(a[f])+(Number(s[p])||0)+(u[f]||0);h>=10&&(u[f-1]=1),c.unshift(String(h%10))}return u[-1]&&c.unshift("1"),n?c.concat(a.slice(d,a.length)).join(""):c.join("")}function j_(e,t){var n=e.split("."),r=v(n,2),o=r[0],i=void 0===o?"0":o,a=r[1],s=void 0===a?"0":a,c=t.split("."),u=v(c,2),l=u[0],d=void 0===l?"0":l,f=u[1],p=void 0===f?"0":f,h=L_(i,d);if("0"===s&&"0"===p)return h;var g=x_(s,!0),m=x_(p,!0),y=L_(g,m,!0),A=y.length;return A>g.length&&A>m.length?[x_(L_(h,"1")),x_(y.slice(1),!0)].filter((function(e){return e})).join("."):[x_(h),x_(y,!0)].filter((function(e){return e})).join(".")}function M_(e,t){var n=x_(e),r=x_(t);if(n.length===r.length){for(var o=0,i=n.length;o<i;o++){if(n[o]>r[o])return 1;if(n[o]<r[o])return-1}return 0}return n.length>r.length?1:-1}function B_(e,t){for(var n=e&&"0"!==e?e.replace(/0+$/,""):"0",r=t&&"0"!==t?t.replace(/0+$/,""):"0",o=Math.max(n.length,r.length),i=0,a=o;i<a;i++){if((n[i]||0)>(r[i]||0))return 1;if((n[i]||0)<(r[i]||0))return-1}return 0}function F_(e,t){var n=e.split("."),r=v(n,2),o=r[0],i=r[1],a=t.split("."),s=v(a,2),c=s[0],u=s[1],l=M_(o.replace("-",""),c.replace("-","")),d=o.includes("-"),f=c.includes("-");return d&&!f?-1:!d&&f?1:d&&f?0===l?0:l>0?-1:1:0===l?B_(i,u):l}function U_(e){return[-1/0,1/0].includes(Number(e))}function V_(e){return Number(e)<Number.MAX_SAFE_INTEGER&&Number(e)>Number.MIN_SAFE_INTEGER}function W_(e,t,n){var r=V_(e)&&V_(t)&&!n,o=U_(e)||U_(t);return r||o?Number(e)===Number(t)?0:Number(e)>Number(t)?1:-1:F_(String(e),String(t))}function H_(e,t,n){if(e===t)return"0";for(var r=n||{},o=r.decimal,i=r.stayZero,a=x_(e),s=x_(t),c=M_(a,s)>0,u=c?a:s,l=c?s:a,d=[],f=[],p=o?0:u.length-l.length,h=o?l.length:u.length,g=h-1;g>=0;g--){var v=g-p,m=Number(u[g])-(Number(l[v])||0)-(f[g]||0);m<0&&(f[g-1]=1,m+=10),d.unshift(String(m))}if(o)return d.concat(u.slice(h,u.length)).join("");var y=d.join("");return i||(y=y.replace(/^0+/,"")),x_(c?y:"-".concat(y))}function Q_(e,t){if(e===t)return"0";var n=W_(e,t,!0)>0,r=n?e:t,o=n?t:e,i=r.split("."),a=v(i,2),s=a[0],c=a[1],u=void 0===c?"0":c,l=o.split("."),d=v(l,2),f=d[0],p=d[1],h=void 0===p?"0":p,g=H_(s,f);if("0"===u&&"0"===h)return n?g:"-".concat(g);var m="",y=u;u.length<h.length&&(y="".concat(u).concat(k_(h.length-u.length))),B_(y,h)>=0?m=H_(y,h,{decimal:!0}):(u.length<h.length||"0"===u?(m=H_("1".concat(y),h,{stayZero:!0}),m=k_(h.length-m.length)+m):m=H_(u,h,{decimal:!0}),g=H_(g,"1"));var A=m?[g,m].join("."):g;return n?A:"-".concat(A)}function G_(e,t){var n="-"===e[0],r="-"===t[0];if(n&&!r){var o=j_(e.slice(1),t);return"-".concat(o)}return n&&r?Q_(t.slice(1),e.slice(1)):!n&&r?j_(e,t.slice(1)):Q_(e,t)}function K_(e,t){var n="-"===e[0],r="-"===t[0];if(n&&!r)return Q_(t,e.slice(1));if(n&&r){var o=j_(t.slice(1),e.slice(1));return"-".concat(o)}return!n&&r?Q_(e,t.slice(1)):j_(e,t)}function q_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return Number(e).toFixed(t);if("string"!==typeof e)return String(e);var r=e.split("."),o=v(r,2),i=o[0],a=o[1];if(!a)return t?[e,k_(t)].join("."):e;if(0===t)return Number(a[0])>=5?j_(i,"1"):i;var s=a.slice(0,t);return a.length<t?s+=k_(t-a.length):s=Number(a[t])>=5?j_(s,"1"):s,[i,s].join(".")}function z_(e){var t=e.split("e"),n=v(t,2),r=n[0],o=n[1],i=e.split("."),a=v(i,2),s=a[0],c=a[1],u=void 0===c?"":c,l=Number(o),d=u.split("e"),f=v(d,1),p=f[0];if(l>p.length){var h=k_(l-p.length);return r.replace(/(^0+|\.)/g,"")+h}var g=s.replace(/^0+/,"")+p.slice(0,l),m=p.slice(l);return m?[g,m].join("."):g}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Y_(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||(n&&Ls(e)?W_(e,t,n)<0:e<t)}function J_(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||(n&&Ls(e)?W_(e,t,n)>0:e>t)}function X_(e,t){if(void 0===e||null===e||""===e)return e;if("-"===e)return 0;if("."===e[e.length-1])return e.slice(0,-1);var n=(null===t||void 0===t?void 0:t.largeNumber)&&Ls(e),r=e;return(Ls(e)&&e.includes("e")||PE(e))&&(r=n?z_(e):Number(e)),void 0!==(null===t||void 0===t?void 0:t.decimalPlaces)&&(r=q_(r,t.decimalPlaces,t.largeNumber)),n||void 0!==(null===t||void 0===t?void 0:t.decimalPlaces)?r:Number(r)}function Z_(e,t){if(""!==e){var n=t.max,r=t.min,o=t.lastValue,i=t.largeNumber;return D_(e)?!i||!Ls(n)&&n!==1/0||!Ls(r)&&r!==-1/0?Math.max(Number(r),Math.min(Number(n),Number(e))):W_(n,e,i)<0?n:W_(r,e,i)>0?r:e:o}}function $_(e,t){var n,r;if(!e||!t)return(e||0)+(t||0);var o=(null===(n=e.toString().split(".")[1])||void 0===n?void 0:n.length)||0,i=(null===(r=t.toString().split(".")[1])||void 0===r?void 0:r.length)||0;if(!o||!i)return e+t;var a=e,s=t,c=Math.abs(o-i),u=Math.pow(10,Math.max(o,i));if(c>0){var l=Math.pow(10,c);o>i?(a=Number(e.toString().replace(".","")),s=Number(t.toString().replace(".",""))*l):(a=Number(e.toString().replace(".",""))*l,s=Number(t.toString().replace(".","")))}else a=Number(e.toString().replace(".","")),s=Number(t.toString().replace(".",""));return(a+s)/u}function ew(e,t){var n,r;if(!e||!t)return(e||0)-(t||0);var o=(null===(n=e.toString().split(".")[1])||void 0===n?void 0:n.length)||0,i=(null===(r=t.toString().split(".")[1])||void 0===r?void 0:r.length)||0,a=Math.pow(10,Math.max(o,i)),s=o>=i?o:i;return Number(((e*a-t*a)/a).toFixed(s))}function tw(e,t){return e<0&&t>0?ew(t,Math.abs(e)):e<0&&t<0?-1*$_(Math.abs(e),Math.abs(t)):e>0&&t<0?ew(e,Math.abs(t)):$_(e,t)}function nw(e,t){return e<0&&t>0?-1*$_(Math.abs(e),t):e<0&&t<0?ew(Math.abs(t),Math.abs(e)):e>0&&t<0?$_(e,Math.abs(t)):ew(e,t)}function rw(e){var t=e.op,n=e.step,r=e.lastValue,o=void 0===r?0:r,i=e.max,a=e.min,s=e.largeNumber;if(n<=0)return qA.error("InputNumber","step must be larger than 0."),o;var c,u=PE(n)?String(n):n;return"add"===t?c=s&&Ls(o)?K_(String(o),String(u)):tw(Number(o||0),Number(n)):"reduce"===t&&(c=s&&Ls(o)?G_(String(o),String(u)):nw(Number(o||0),Number(n))),void 0===o&&(c=Z_(c,{max:i,min:a,lastValue:o,largeNumber:s})),s?c:Number(c)}function ow(e){var t,n=e.largeNumber,r=e.value,o=e.max,i=e.min;if(void 0!==n)return n&&PE(r)&&qA.warn("InputNumber","largeNumber value must be a string."),t=W_(r,o,n)>0?"exceed-maximum":W_(r,i,n)<0?"below-minimum":void 0,t}function iw(e,t){if(!e&&"string"===typeof e)return!0;var n=t&&D_(e)||!Number.isNaN(Number(e));return!(!n&&!["-",".","e","E"].includes(e.slice(-1)))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function aw(e){var t=P_(),n=t.classPrefix,r=t.sizeClassNames,o=t.statusClassNames,i=(0,d.BK)(e),a=i.value,s=i.modelValue,c=i.max,f=i.min,p=Sy(a,s,e.defaultValue,e.onChange),h=v(p,2),g=h[0],m=h[1],y=(0,d.iH)(),A=(0,d.iH)(""),b=(0,d.iH)(),E=np(),_=(0,d.iH)(),w=(0,l.Fl)((function(){return E.value||!J_(g.value,e.min,e.largeNumber)})),S=(0,l.Fl)((function(){return E.value||!Y_(g.value,e.max,e.largeNumber)})),C=(0,l.Fl)((function(){var t;return["".concat(n.value,"-input-number"),r[e.size],(t={},u(t,o.disabled,E.value),u(t,"".concat(n.value,"-is-controls-right"),"column"===e.theme),u(t,"".concat(n.value,"-input-number--").concat(e.theme),e.theme),u(t,"".concat(n.value,"-input-number--auto-width"),e.autoWidth),t)]})),I=(0,l.Fl)((function(){return["".concat(n.value,"-input-number__decrease"),u({},o.disabled,w.value)]})),O=(0,l.Fl)((function(){return["".concat(n.value,"-input-number__increase"),u({},o.disabled,S.value)]})),T=function(t){var n,r;if(!t&&0!==t)return"";var o=String(t);return null!==(n=y.value)&&void 0!==n&&null!==(r=n.inputRef)&&void 0!==r&&r.contains(document.activeElement)||(o=String(X_(o,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber})),e.format&&(o=String(e.format(t,{fixedNumber:o})))),o};(0,l.YP)(g,(function(e){var t=[void 0,null].includes(e)?"":String(e);A.value=T(t)}),{immediate:!0}),(0,l.bv)((function(){A.value=T(g.value)})),(0,l.YP)([g,c,f],(function(){var t;if(![void 0,"",null].includes(g.value)){var n=ow({value:g.value,largeNumber:e.largeNumber,max:e.max,min:e.min});_.value=n,null===(t=e.onValidate)||void 0===t||t.call(e,{error:n})}}),{immediate:!0});var R=function(t){return rw({op:t,step:e.step,max:e.max,min:e.min,lastValue:g.value,largeNumber:e.largeNumber})},N=function(t){if(!w.value&&!e.readonly){var n=R("reduce");m(n,{type:"reduce",e:t})}},P=function(t){if(!S.value&&!e.readonly){var n=R("add");m(n,{type:"add",e:t})}},k=function(t,n){if(iw(t,e.largeNumber)){A.value=t;var r=e.largeNumber||!t?t:Number(t);r===g.value||["-",".","e","E"].includes(t.slice(-1))||m(r,{type:"input",e:n.e})}},D=function(t,n){var r;A.value=T(g.value);var o=X_(t,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber});o!==t&&String(o)!==t&&m(o,{type:"blur",e:n.e}),null===(r=e.onBlur)||void 0===r||r.call(e,o,n)},x=function(t,n){var r;A.value=g.value||0===g.value?String(g.value):"",null===(r=e.onFocus)||void 0===r||r.call(e,t,n)},L=function(t,n){var r,o=n.e,i={ArrowUp:P,ArrowDown:N},a=o.code||o.key;void 0!==i[a]&&i[a](o),null===(r=e.onKeydown)||void 0===r||r.call(e,t,n)},j=function(t,n){var r;null===(r=e.onKeyup)||void 0===r||r.call(e,t,n)},M=function(t,n){var r;null===(r=e.onKeypress)||void 0===r||r.call(e,t,n)},B=function(t,n){var r;A.value=T(t);var o=X_(t,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber});o!==t&&String(o)!==t&&m(o,{type:"enter",e:n.e}),null===(r=e.onEnter)||void 0===r||r.call(e,o,n)},F=function(){y.value.focus()},U=function(){y.value.blur()},V={onBlur:D,onFocus:x,onKeydown:L,onKeyup:j,onKeypress:M,onEnter:B,onClick:F};return{classPrefix:n,wrapClasses:C,reduceClasses:I,addClasses:O,displayValue:b,tDisabled:E,isError:_,listeners:V,userInput:A,tValue:g,inputRef:y,focus:F,blur:U,handleReduce:N,handleAdd:P,onInnerInputChange:k}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sw(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uw=(0,l.aZ)({name:"TInputNumber",props:N_,setup:function(e,t){var n=Tg({AddIcon:jb,RemoveIcon:t_,ChevronDownIcon:kA,ChevronUpIcon:TA}),r=n.AddIcon,o=n.RemoveIcon,i=n.ChevronDownIcon,a=n.ChevronUpIcon,s=aw(e),c=s.inputRef;return t.expose(cw({},s)),function(){var n="column"===e.theme?(0,l.Wm)(i,{size:e.size},null):(0,l.Wm)(o,{size:e.size},null),u="column"===e.theme?(0,l.Wm)(a,{size:e.size},null):(0,l.Wm)(r,{size:e.size},null),d=s.isError.value?"error":e.status;return(0,l.Wm)("div",{class:s.wrapClasses.value},["normal"!==e.theme&&(0,l.Wm)(lp,{class:s.reduceClasses.value,disabled:s.tDisabled.value,onClick:s.handleReduce,variant:"outline",shape:"square",icon:function(){return n}},null),(0,l.Wm)(T_,(0,l.dG)({ref:c,disabled:s.tDisabled.value,readonly:e.readonly,autocomplete:"off",placeholder:e.placeholder,unselectable:e.readonly?"on":"off",autoWidth:e.autoWidth,align:e.align||("row"===e.theme?"center":void 0),status:d,label:e.label,suffix:e.suffix},s.listeners,e.inputProps,{value:s.userInput.value,onChange:s.onInnerInputChange}),t.slots),"normal"!==e.theme&&(0,l.Wm)(lp,{class:s.addClasses.value,disabled:s.tDisabled.value,onClick:s.handleAdd,variant:"outline",shape:"square",icon:function(){return u}},null),e.tips&&(0,l.Wm)("div",{class:"".concat(s.classPrefix.value,"-input__tips ").concat(s.classPrefix.value,"-input__tips--").concat(d)},[e.tips])])}}}),lw=Hf(uw),dw=Kr,fw=Tu,pw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hw=/^\w*$/;function gw(e,t){if(dw(e))return!1;var n=S(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fw(e))||(hw.test(e)||!pw.test(e)||null!=t&&e in Object(t))}var vw=gw,mw=_n,yw="Expected a function";function Aw(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(yw);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Aw.Cache||mw),n}Aw.Cache=mw;var bw=Aw,Ew=bw,_w=500;function ww(e){var t=Ew(e,(function(e){return n.size===_w&&n.clear(),e})),n=t.cache;return t}var Sw=ww,Cw=Sw,Iw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ow=/\\(\\)?/g,Tw=Cw((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Iw,(function(e,n,r,o){t.push(r?o.replace(Ow,"$1"):n||e)})),t})),Rw=Tw,Nw=Kr,Pw=vw,kw=Rw,Dw=Uu;function xw(e,t){return Nw(e)?e:Pw(e,t)?[e]:kw(Dw(e))}var Lw=xw,jw=Tu,Mw=1/0;function Bw(e){if("string"==typeof e||jw(e))return e;var t=e+"";return"0"==t&&1/e==-Mw?"-0":t}var Fw=Bw,Uw=Lw,Vw=Fw;function Ww(e,t){t=Uw(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[Vw(t[n++])];return n&&n==r?e:void 0}var Hw=Ww,Qw=kr,Gw=Lw,Kw=Jr,qw=ee,zw=Fw;function Yw(e,t,n,r){if(!qw(e))return e;t=Gw(t,e);var o=-1,i=t.length,a=i-1,s=e;while(null!=s&&++o<i){var c=zw(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var l=s[c];u=r?r(l,c,s):void 0,void 0===u&&(u=qw(l)?l:Kw(t[o+1])?[]:{})}Qw(s,c,u),s=s[c]}return e}var Jw=Yw;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Xw(e,t){return null!=e&&t in Object(e)}var Zw=Xw,$w=Lw,eS=Qr,tS=Kr,nS=Jr,rS=Cn,oS=Fw;function iS(e,t,n){t=$w(t,e);var r=-1,o=t.length,i=!1;while(++r<o){var a=oS(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=null==e?0:e.length,!!o&&rS(o)&&nS(a,o)&&(tS(e)||eS(e)))}var aS=iS,sS=Zw,cS=aS;function uS(e,t){return null!=e&&cS(e,t,sS)}var lS=uS;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function dS(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var fS=dS,pS=D,hS=Qr,gS=Kr,vS=pS?pS.isConcatSpreadable:void 0;function mS(e){return gS(e)||hS(e)||!!(vS&&e&&e[vS])}var yS=mS,AS=fS,bS=yS;function ES(e,t,n,r,o){var i=-1,a=e.length;n||(n=bS),o||(o=[]);while(++i<a){var s=e[i];t>0&&n(s)?t>1?ES(s,t-1,n,r,o):AS(o,s):r||(o[o.length]=s)}return o}var _S=ES,wS=_S;function SS(e){var t=null==e?0:e.length;return t?wS(e,1):[]}var CS=SS,IS=CS,OS=ki,TS=zi;function RS(e){return TS(OS(e,void 0,IS),e+"")}var NS=RS,PS=Hw,kS=Jw,DS=Lw;function xS(e,t,n){var r=-1,o=t.length,i={};while(++r<o){var a=t[r],s=PS(e,a);n(s,a)&&kS(i,DS(a,e),s)}return i}var LS=xS,jS=LS,MS=lS;function BS(e,t){return jS(e,t,(function(t,n){return MS(e,n)}))}var FS=BS,US=FS,VS=NS,WS=VS((function(e,t){return null==e?{}:US(e,t)})),HS=WS,QS=li,GS=Cc,KS=eo;function qS(e){return KS(e)?QS(e):GS(e)}var zS=qS;function YS(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var JS=YS;function XS(){return[]}var ZS=XS,$S=JS,eC=ZS,tC=Object.prototype,nC=tC.propertyIsEnumerable,rC=Object.getOwnPropertySymbols,oC=rC?function(e){return null==e?[]:(e=Object(e),$S(rC(e),(function(t){return nC.call(e,t)})))}:eC,iC=oC,aC=fS,sC=Kr;function cC(e,t,n){var r=t(e);return sC(e)?r:aC(r,n(e))}var uC=cC,lC=uC,dC=iC,fC=zS;function pC(e){return lC(e,fC,dC)}var hC=pC;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function gC(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var vC=gC,mC=Zo,yC=zS;function AC(e,t){return e&&mC(t,yC(t),e)}var bC=AC,EC=Zo,_C=Si;function wC(e,t){return e&&EC(t,_C(t),e)}var SC=wC,CC=Zo,IC=iC;function OC(e,t){return CC(e,IC(e),t)}var TC=OC,RC=fS,NC=Ho,PC=iC,kC=ZS,DC=Object.getOwnPropertySymbols,xC=DC?function(e){var t=[];while(e)RC(t,PC(e)),e=NC(e);return t}:kC,LC=xC,jC=Zo,MC=LC;function BC(e,t){return jC(e,MC(e),t)}var FC=BC,UC=uC,VC=LC,WC=Si;function HC(e){return UC(e,WC,VC)}var QC=HC,GC=Object.prototype,KC=GC.hasOwnProperty;function qC(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&KC.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var zC=qC,YC=Po;function JC(e,t){var n=t?YC(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var XC=JC,ZC=/\w*$/;function $C(e){var t=new e.constructor(e.source,ZC.exec(e));return t.lastIndex=e.lastIndex,t}var eI=$C,tI=D,nI=tI?tI.prototype:void 0,rI=nI?nI.valueOf:void 0;function oI(e){return rI?Object(rI.call(e)):{}}var iI=oI,aI=Po,sI=XC,cI=eI,uI=iI,lI=xo,dI="[object Boolean]",fI="[object Date]",pI="[object Map]",hI="[object Number]",gI="[object RegExp]",vI="[object Set]",mI="[object String]",yI="[object Symbol]",AI="[object ArrayBuffer]",bI="[object DataView]",EI="[object Float32Array]",_I="[object Float64Array]",wI="[object Int8Array]",SI="[object Int16Array]",CI="[object Int32Array]",II="[object Uint8Array]",OI="[object Uint8ClampedArray]",TI="[object Uint16Array]",RI="[object Uint32Array]";function NI(e,t,n){var r=e.constructor;switch(t){case AI:return aI(e);case dI:case fI:return new r(+e);case bI:return sI(e,n);case EI:case _I:case wI:case SI:case CI:case II:case OI:case TI:case RI:return lI(e,n);case pI:return new r;case hI:case mI:return new r(e);case gI:return cI(e);case vI:return new r;case yI:return uI(e)}}var PI=NI,kI=su,DI=On,xI="[object Map]";function LI(e){return DI(e)&&kI(e)==xI}var jI=LI,MI=jI,BI=Rn,FI=hr.exports,UI=FI&&FI.isMap,VI=UI?BI(UI):MI,WI=VI,HI=su,QI=On,GI="[object Set]";function KI(e){return QI(e)&&HI(e)==GI}var qI=KI,zI=qI,YI=Rn,JI=hr.exports,XI=JI&&JI.isSet,ZI=XI?YI(XI):zI,$I=ZI,eO=So,tO=vC,nO=kr,rO=bC,oO=SC,iO=Co.exports,aO=jo,sO=TC,cO=FC,uO=hC,lO=QC,dO=su,fO=zC,pO=PI,hO=zo,gO=Kr,vO=Ln.exports,mO=WI,yO=ee,AO=$I,bO=zS,EO=Si,_O=1,wO=2,SO=4,CO="[object Arguments]",IO="[object Array]",OO="[object Boolean]",TO="[object Date]",RO="[object Error]",NO="[object Function]",PO="[object GeneratorFunction]",kO="[object Map]",DO="[object Number]",xO="[object Object]",LO="[object RegExp]",jO="[object Set]",MO="[object String]",BO="[object Symbol]",FO="[object WeakMap]",UO="[object ArrayBuffer]",VO="[object DataView]",WO="[object Float32Array]",HO="[object Float64Array]",QO="[object Int8Array]",GO="[object Int16Array]",KO="[object Int32Array]",qO="[object Uint8Array]",zO="[object Uint8ClampedArray]",YO="[object Uint16Array]",JO="[object Uint32Array]",XO={};function ZO(e,t,n,r,o,i){var a,s=t&_O,c=t&wO,u=t&SO;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!yO(e))return e;var l=gO(e);if(l){if(a=fO(e),!s)return aO(e,a)}else{var d=dO(e),f=d==NO||d==PO;if(vO(e))return iO(e,s);if(d==xO||d==CO||f&&!o){if(a=c||f?{}:hO(e),!s)return c?cO(e,oO(a,e)):sO(e,rO(a,e))}else{if(!XO[d])return o?e:{};a=pO(e,d,s)}}i||(i=new eO);var p=i.get(e);if(p)return p;i.set(e,a),AO(e)?e.forEach((function(r){a.add(ZO(r,t,n,r,e,i))})):mO(e)&&e.forEach((function(r,o){a.set(o,ZO(r,t,n,o,e,i))}));var h=u?c?lO:uO:c?EO:bO,g=l?void 0:h(e);return tO(g||e,(function(r,o){g&&(o=r,r=e[o]),nO(a,o,ZO(r,t,n,o,e,i))})),a}XO[CO]=XO[IO]=XO[UO]=XO[VO]=XO[OO]=XO[TO]=XO[WO]=XO[HO]=XO[QO]=XO[GO]=XO[KO]=XO[kO]=XO[DO]=XO[xO]=XO[LO]=XO[jO]=XO[MO]=XO[BO]=XO[qO]=XO[zO]=XO[YO]=XO[JO]=!0,XO[RO]=XO[NO]=XO[FO]=!1;var $O=ZO,eT=$O,tT=1,nT=4;function rT(e){return eT(e,tT|nT)}var oT=rT,iT=Hw;function aT(e,t,n){var r=null==e?void 0:iT(e,t);return void 0===r?n:r}var sT=aT,cT=n(4806),uT={allowInput:Boolean,autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,minCollapsedNum:{type:Number,default:0},multiple:Boolean,panel:{type:[String,Function]},placeholder:{type:String,default:""},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},readonly:Boolean,status:{type:String,default:"default",validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array,Date]},valueDisplay:{type:[String,Function]},onBlur:Function,onClear:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onPopupVisibleChange:Function,onTagChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lT(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fT=["status","clearable","disabled","label","placeholder","readonly","suffix","suffixIcon","onPaste","onMouseenter","onMouseleave"],pT={label:"label",value:"value"};function hT(e,t){var n=t||pT;return ee(e)?e[n.label]:e}function gT(e,t){var n,r=(0,d.BK)(e),o=r.value,i=r.keys,a=r.inputValue,s=Os(),c=(0,d.iH)(),f=zA(a,null!==(n=e.defaultInputValue)&&void 0!==n?n:"",e.onInputChange,"inputValue"),p=v(f,2),h=p[0],g=p[1],m=op(),y=np(),A=(0,l.Fl)((function(){return dT(dT({},HS(e,fT)),{},{disabled:y.value})})),b=function(t){var n,r;null===t||void 0===t||null===(n=t.e)||void 0===n||n.stopPropagation(),null===(r=e.onClear)||void 0===r||r.call(e,t),g("",{trigger:"clear"})},E=function(t,n){e.allowInput&&g(t,dT(dT({},n),{},{trigger:"input"}))},_=function(n){var r,a,c=m("valueDisplay"),d=n&&e.allowInput?h.value:hT(o.value,i.value),f=[c,m("label")],p=dT(dT({},A.value),{},{value:c?void 0:d,label:f.length?function(){return f}:void 0,autoWidth:e.autoWidth,readonly:!e.allowInput||e.readonly,placeholder:c?"":e.placeholder,suffixIcon:!y.value&&e.loading?function(){return(0,l.Wm)(Qf,{loading:!0,size:"small"},null)}:e.suffixIcon,showClearIconOnEmpty:Boolean(e.clearable&&(h.value||d)&&!y.value&&!e.readonly),allowTriggerBlur:e.allowInput&&!e.readonly},e.inputProps);return(0,l.Wm)(T_,(0,l.dG)({ref:"inputRef",style:null===(r=t.attrs)||void 0===r?void 0:r.style},dT({onChange:E,onClear:b,onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,o.value,dT(dT({},n),{},{inputValue:t}))},onEnter:function(t,n){var r;null===(r=e.onEnter)||void 0===r||r.call(e,o.value,dT(dT({},n),{},{inputValue:t}))},onFocus:function(t,r){var a;null===(a=e.onFocus)||void 0===a||a.call(e,o.value,dT(dT({},r),{},{inputValue:t})),!n&&g(hT(o.value,i.value),dT(dT({},r),{},{trigger:"input"}))}},p),{inputClass:(a={},u(a,"".concat(s.value,"-input--focused"),n),u(a,"".concat(s.value,"-is-focused"),n),a)}),t.slots)};return{inputRef:c,commonInputProps:A,onInnerClear:b,renderSelectSingle:_}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var vT={autoWidth:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:Boolean,dragSort:Boolean,excessTagsDisplayType:{type:String,default:"break-line",validator:function(e){return!e||["scroll","break-line"].includes(e)}},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number],default:""},label:{type:[String,Function]},max:{type:Number},minCollapsedNum:{type:Number,default:0},placeholder:{type:String,default:void 0},readonly:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,default:"default",validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClear:Function,onDragSort:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onRemove:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function mT(e){var t=(0,d.iH)(),n=(0,d.BK)(e),r=n.excessTagsDisplayType,o=n.readonly,i=n.disabled,a=(0,d.iH)(0),s=(0,d.iH)(),c=(0,d.iH)(),u=function(e){var t=e.children[0];s.value=t},f=function(){a.value=s.value.scrollWidth-s.value.clientWidth},p=function(e){var t;null===(t=s.value)||void 0===t||t.scroll({left:e,behavior:"smooth"})},h=function(){f(),p(a.value)},g=function(){p(0)},v=function(e){var t=e.e;if(!o.value&&!i.value&&s.value)if(t.deltaX>0){var n=Math.min(s.value.scrollLeft+120,a.value);p(n)}else{var r=Math.max(s.value.scrollLeft-120,0);p(r)}},m=function(){"scroll"===r.value&&(c.value=setTimeout((function(){h(),clearTimeout(c.value)}),100))},y=function(){"scroll"===r.value&&(p(0),clearTimeout(c.value))},A=function(){var e,n=null===(e=t.value)||void 0===e?void 0:e.$el;n&&u(n)},b=function(){clearTimeout(c.value)};return(0,l.bv)(A),(0,l.Ah)(b),{tagInputRef:t,scrollElement:s,scrollDistance:a,scrollTo:p,scrollToRight:h,scrollToLeft:g,updateScrollElement:u,updateScrollDistance:f,onWheel:v,scrollToRightOnEnter:m,scrollToLeftOnLeave:y}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var yT={closable:Boolean,content:{type:[String,Number,Function]},default:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(e){return["square","round","mark"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},theme:{type:String,default:"default",validator:function(e){return["default","primary","warning","danger","success"].includes(e)}},variant:{type:String,default:"dark",validator:function(e){return["dark","light","outline","light-outline"].includes(e)}},onClick:Function,onClose:Function},AT=(0,l.aZ)({name:"TTag",props:yT,setup:function(e){var t=Is("tag"),n=t.globalConfig,r=Os("tag"),o=Tg({CloseIcon:Ig}),i=o.CloseIcon,a=op(),s=ap(),c=Ts(),d=c.SIZE,f=(0,l.Fl)((function(){var t;return["".concat(r.value),"".concat(r.value,"--").concat(e.theme),"".concat(r.value,"--").concat(e.variant),(t={},u(t,"".concat(r.value,"--ellipsis"),e.maxWidth),u(t,"".concat(r.value,"--close"),e.closable),u(t,"".concat(r.value,"--disabled"),e.disabled),t),d.value[e.size],"square"!==e.shape&&"".concat(r.value,"--").concat(e.shape)]})),p=(0,l.Fl)((function(){return e.maxWidth?{maxWidth:"".concat(e.maxWidth,"px")}:{}})),h=function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,{e:t})},g=function(){if(!e.closable)return null;var t="".concat(r.value,"__icon-close");return n.value.closeIcon?(0,l.h)(n.value.closeIcon(l.h),{class:t}):(0,l.Wm)(i,{onClick:function(t){var n,r=t.e;return null===(n=e.onClose)||void 0===n?void 0:n.call(e,{e:r})},class:t},null)};return function(){var t=g(),n=s("default","content"),o=a("icon");return(0,l.Wm)("span",{class:f.value,style:p.value,onClick:h},[o,e.maxWidth?(0,l.Wm)("span",{style:p.value,class:"".concat(r.value,"--text")},[n]):n,t])}}}),bT={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Number,Function]},default:{type:[String,Number,Function]},disabled:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},onChange:Function,onClick:Function},ET=(0,l.aZ)({name:"TCheckTag",props:bT,setup:function(e){var t=Os("tag"),n=Ts(),r=n.SIZE,o=ap(),i=(0,d.BK)(e),a=i.checked,s=i.modelValue,c=Sy(a,s,e.defaultChecked,e.onChange,"checked"),f=v(c,2),p=f[0],h=f[1],g=(0,l.Fl)((function(){var n;return["".concat(t.value),"".concat(t.value,"--check"),"".concat(t.value,"--default"),r.value[e.size],(n={},u(n,"".concat(t.value,"--checked"),!e.disabled&&p.value),u(n,"".concat(t.value,"--disabled"),e.disabled),n)]})),m=function(t){var n;e.disabled||(null===(n=e.onClick)||void 0===n||n.call(e,{e:t}),h(!p.value))};return function(){var e=o("default","content");return(0,l.Wm)("span",{class:g.value,onClick:m},[e])}}}),_T=Hf(AT),wT=Hf(ET);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ST(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IT(e){var t=op(),n=Os(),r=(0,d.BK)(e),o=r.value,i=r.modelValue,a=r.onRemove,s=r.max,u=r.minCollapsedNum,f=r.size,p=r.disabled,h=r.readonly,g=r.tagProps,m=r.getDragProps,y=Sy(o,i,e.defaultValue||[],e.onChange),A=v(y,2),b=A[0],E=A[1],_=(0,d.iH)(),w=function(e){var t,n=c(b.value);n.splice(e.index,1),E(n,CT({trigger:"tag-remove"},e)),null===(t=a.value)||void 0===t||t.call(a,CT(CT({},e),{},{trigger:"tag-remove",value:n}))},S=function(e){E([],{trigger:"clear",e:e.e})},C=function(t,n){var r,o,i=t?String(t).trim():"";if(i){var a=s&&(null===(r=b.value)||void 0===r?void 0:r.length)>=s.value,c=b.value;a||(c=b.value instanceof Array?b.value.concat(String(i)):[i],E(c,{trigger:"enter",index:c.length-1,item:i,e:n.e})),null===e||void 0===e||null===(o=e.onEnter)||void 0===o||o.call(e,c,CT(CT({},n),{},{inputValue:t}))}},I=function(e,t){var n=t.e;if(b.value&&b.value.length){if(!_.value&&["Backspace","NumpadDelete"].includes(n.code)){var r,o=b.value.length-1,i=b.value[o],s="backspace";E(b.value.slice(0,-1),{e:n,index:o,item:i,trigger:s}),null===(r=a.value)||void 0===r||r.call(a,{e:n,index:o,item:i,trigger:s,value:b.value})}_.value=e}},O=function(e){var r=e.displayNode,o=e.label,i=u.value?b.value.slice(0,u.value):b.value,a=r?[r]:null===i||void 0===i?void 0:i.map((function(e,n){var r,o=t("tag",{params:{value:e}});return(0,l.Wm)(_T,(0,l.dG)({key:"".concat(e).concat(n),size:f.value,disabled:p.value,onClose:function(t){return w({e:t.e,item:e,index:n})},closable:!h.value&&!p.value},null===(r=m.value)||void 0===r?void 0:r.call(m,n,e),g.value),{default:function(){return[null!==o&&void 0!==o?o:e]}})}));if([null,void 0,""].includes(o)||a.unshift((0,l.Wm)("div",{class:"".concat(n.value,"-tag-input__prefix"),key:"label"},[o])),i.length!==b.value.length){var s=b.value.length-i.length,c=t("collapsedItems",{params:{value:b.value,count:b.value.length,collapsedTags:b.value.slice(u.value,b.value.length),collapsedSelectedItems:b.value.slice(u.value,b.value.length)}});a.push(null!==c&&void 0!==c?c:(0,l.Wm)(_T,{key:"more"},{default:function(){return["+",s]}}))}return a};return{tagValue:b,clearAll:S,onClose:w,onInnerEnter:C,onInputBackspaceKeyUp:I,renderLabel:O}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function OT(e){var t=e.disabled,n=e.readonly,r=e.onMouseenter,o=e.onMouseleave,i=(0,d.iH)(!1),a=function(e){n||t||(i.value=!0,null===r||void 0===r||r(e))},s=function(e){n||t||(i.value=!1,null===o||void 0===o||o(e))};return{isHover:i,addHover:a,cancelHover:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function TT(e){var t=e.sortOnDraggable,n=e.onDragSort,r=e.onDragOverCheck,o=(0,d.iH)(-1),i=(0,d.iH)(null),a=(0,d.iH)(null),s=(0,d.qj)({nodeX:0,nodeWidth:0,mouseX:0}),c=function(e,t,a){if(e.preventDefault(),o.value!==t&&-1!==o.value){var c=e.target;if(null===r||void 0===r||!r.targetClassNameRegExp||null!==r&&void 0!==r&&r.targetClassNameRegExp.test(c.className)){if(null!==r&&void 0!==r&&r.x&&c){if(!s.nodeWidth)return;var u=c.getBoundingClientRect(),l=u.x,d=u.width,f=l+d/2,p=e.clientX-(s.mouseX-s.nodeX),h=p+s.nodeWidth,g=!1;if(g=p>l&&p<l+d?p<f:h>f,!g)return}null===n||void 0===n||n({currentIndex:o.value,current:i,target:a,targetIndex:t}),o.value=t}}};if(!t)return{};function u(e,t,n){o.value=t,i.value=n;var a=e.target;if(r&&a){var c=a.getBoundingClientRect(),u=c.x,l=c.width;s.nodeX=u,s.nodeWidth=l,s.mouseX=e.clientX}}function l(){a.value=!0}function f(){a.value,a.value=!1,o.value=-1,i.value=null}function p(e,n){return t?{draggable:!0,onDragstart:function(t){u(t,e,n)},onDragover:function(t){c(t,e,n)},onDrop:function(){l()},onDragend:function(){f()}}:{}}return{onDragStart:u,onDragOver:c,onDrop:l,onDragEnd:f,getDragProps:p,dragging:-1!==o.value}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RT(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PT=function(){return{NAME_CLASS:Os("tag-input"),CLEAR_CLASS:Os("tag-input__suffix-clear"),BREAK_LINE_CLASS:Os("tag-input--break-line")}},kT=(0,l.aZ)({name:"TTagInput",props:NT({},vT),setup:function(e){var t=PT(),n=t.NAME_CLASS,r=t.CLEAR_CLASS,o=t.BREAK_LINE_CLASS,i=Tg({CloseCircleFilledIcon:p_}),a=i.CloseCircleFilledIcon,s=(0,d.BK)(e),c=s.inputValue,f=zA(c,e.defaultInputValue,e.onInputChange,"inputValue"),p=v(f,2),h=p[0],g=p[1],m=(0,d.BK)(e),y=m.excessTagsDisplayType,A=m.readonly,b=m.disabled,E=m.clearable,_=m.placeholder,w=OT({readonly:e.readonly,disabled:e.disabled,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave}),S=w.isHover,C=w.addHover,I=w.cancelHover,O=Is(),T=O.classPrefix,R=TT(NT(NT({},e),{},{sortOnDraggable:e.dragSort,onDragOverCheck:{x:!0,targetClassNameRegExp:new RegExp("^".concat(T,"-tag"))}})),N=R.getDragProps,P=mT(e),k=P.scrollToRight,D=P.onWheel,x=P.scrollToRightOnEnter,L=P.scrollToLeftOnLeave,j=P.tagInputRef,M=IT((0,d.qj)(NT(NT({},(0,d.BK)(e)),{},{getDragProps:N}))),B=M.tagValue,F=M.onInnerEnter,U=M.onInputBackspaceKeyUp,V=M.clearAll,W=M.renderLabel,H=M.onClose,Q=(0,l.Fl)((function(){return[n.value,u({},o.value,"break-line"===y.value)]})),G=(0,l.Fl)((function(){var e;return null!==(e=B.value)&&void 0!==e&&e.length?"":_.value})),K=(0,l.Fl)((function(){var e;return Boolean(!A.value&&!b.value&&E.value&&S.value&&((null===(e=B.value)||void 0===e?void 0:e.length)||h.value))})),q=function(e,t){var n,r;null===(n=t.e)||void 0===n||null===(r=n.preventDefault)||void 0===r||r.call(n),g("",{e:t.e,trigger:"enter"}),F(e,t),(0,l.Y3)((function(){k()}))},z=function(){j.value.focus()},Y=function(t){var n;V(t),g("",{e:t.e,trigger:"clear"}),null===(n=e.onClear)||void 0===n||n.call(e,t)};return{CLEAR_CLASS:r,CloseCircleFilledIcon:a,tagValue:B,tInputValue:h,isHover:S,tagInputPlaceholder:G,showClearIcon:K,tagInputRef:j,setTInputValue:g,addHover:C,cancelHover:I,onInputEnter:q,onInnerEnter:F,onInputBackspaceKeyUp:U,renderLabel:W,onWheel:D,scrollToRightOnEnter:x,scrollToLeftOnLeave:L,onClick:z,onClearClick:Y,onClose:H,classes:Q}},render:function(){var e,t,n=this,r=this.CloseCircleFilledIcon,o=this.showClearIcon?(0,l.Wm)(r,{class:this.CLEAR_CLASS,onClick:this.onClearClick},null):Of(this,"suffixIcon"),i=Of(this,"valueDisplay",{params:{value:this.tagValue,onClose:function(e,t){return n.onClose({index:e,item:t})}}}),a=Of(this,"label",{silent:!0});return(0,l.Wm)(T_,(0,l.dG)({ref:"tagInputRef",readonly:this.readonly,value:this.tInputValue,autoWidth:!0,size:this.size,disabled:this.disabled,label:function(){return n.renderLabel({displayNode:i,label:a})},class:this.classes,tips:this.tips,status:this.status,placeholder:this.tagInputPlaceholder,suffix:this.suffix,suffixIcon:function(){return o},showInput:!(null!==(e=this.inputProps)&&void 0!==e&&e.readonly)||!this.tagValue||!(null!==(t=this.tagValue)&&void 0!==t&&t.length),keepWrapperWidth:!this.autoWidth,onWheel:this.onWheel,onChange:function(e,t){n.setTInputValue(e,NT(NT({},t),{},{trigger:"input"}))},onPaste:this.onPaste,onEnter:this.onInputEnter,onKeyup:this.onInputBackspaceKeyUp,onMouseenter:function(e){n.addHover(e),n.scrollToRightOnEnter()},onMouseleave:function(e){n.cancelHover(e),n.scrollToLeftOnLeave()},onFocus:function(e,t){var r;null===(r=n.onFocus)||void 0===r||r.call(n,n.tagValue,{e:t.e,inputValue:e})},onBlur:function(e,t){var r;null===(r=n.onBlur)||void 0===r||r.call(n,n.tagValue,{e:t.e,inputValue:e})},onClick:this.onClick},this.inputProps),null)}}),DT=Hf(kT);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xT(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jT={label:"label",key:"key",children:"children"};function MT(e,t){var n=(0,d.BK)(e),r=n.inputValue,o=Os(),i=(0,d.iH)(),a=zA(r,e.defaultInputValue,e.onInputChange,"inputValue"),s=v(a,2),c=s[0],f=s[1],p=np(),h=(0,l.Fl)((function(){return LT(LT({},jT),e.keys)})),g=(0,l.Fl)((function(){return e.value instanceof Array?e.value.map((function(e){return ee(e)?e[h.value.label]:e})):ee(e.value)?[e.value[h.value.label]]:[e.value]})),m=(0,l.Fl)((function(){return g.value&&g.value.length?"":e.placeholder})),y=function(t,n){var r,o;"tag-remove"===n.trigger&&(null===(o=n.e)||void 0===o||o.stopPropagation());null===(r=e.onTagChange)||void 0===r||r.call(e,t,n)},A=function(n){var r=LT(LT({},n.commonInputProps),{},{tagProps:e.tagProps,label:e.label,autoWidth:e.autoWidth,readonly:e.readonly,placeholder:m.value,minCollapsedNum:e.minCollapsedNum,collapsedItems:e.collapsedItems,tag:e.tag,value:g.value,valueDisplay:e.valueDisplay,inputValue:c.value||"",inputProps:LT({readonly:!e.allowInput||e.readonly,inputClass:u({},"".concat(o.value,"-input--focused"),n.popupVisible)},e.inputProps),suffixIcon:!p.value&&e.loading?function(){return(0,l.Wm)(Qf,{loading:!0,size:"small"},null)}:e.suffixIcon},e.tagInputProps);return(0,l.Wm)(DT,(0,l.dG)({ref:"tagInputRef"},r,{onInputChange:function(e,t){"enter"!==(null===t||void 0===t?void 0:t.trigger)&&f(e,{trigger:t.trigger,e:t.e})},onChange:y,onClear:n.onInnerClear,onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,e.value,LT(LT({},n),{},{tagInputValue:t}))},onEnter:function(t,n){var r;null===(r=e.onEnter)||void 0===r||r.call(e,e.value,LT(LT({},n),{},{inputValue:c.value}))},onFocus:function(t,n){var r;null===(r=e.onFocus)||void 0===r||r.call(e,e.value,LT(LT({},n),{},{tagInputValue:t}))}}),t.slots)};return{tags:g,tPlaceholder:m,tagInputRef:i,renderSelectMultiple:A}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BT(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UT=1e3;function VT(e){var t=(0,d.BK)(e),n=t.popupProps,r=t.autoWidth,o=(0,d.iH)(!1),i=np(),a=function(e,t){var r=t.scrollHeight>t.offsetHeight?8:0,o=t.offsetWidth+r>=e.offsetWidth?t.offsetWidth:e.offsetWidth,i={};return n.value&&"object"===S(n.value.overlayInnerStyle)&&!n.value.overlayInnerStyle.width&&(i=n.value.overlayInnerStyle),FT({width:"".concat(Math.min(o,UT),"px")},i)},s=function(t,n){var r;i.value||e.readonly||(o.value=t,null===(r=e.onPopupVisibleChange)||void 0===r||r.call(e,t,n))},c=(0,l.Fl)((function(){var e,t={},o=(null===(e=n.value)||void 0===e?void 0:e.overlayInnerStyle)||{};return ce(o)||ee(o)&&o.width?t=o:r.value||(t=a),t}));return{tOverlayInnerStyle:c,innerPopupVisible:o,onInnerPopupVisibleChange:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WT(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QT=function(){return{NAME_CLASS:Os("select-input"),BASE_CLASS_BORDERLESS:Os("select-input--borderless"),BASE_CLASS_MULTIPLE:Os("select-input--multiple"),BASE_CLASS_POPUP_VISIBLE:Os("select-input--popup-visible"),BASE_CLASS_EMPTY:Os("select-input--empty")}},GT=(0,l.aZ)({name:"TSelectInput",props:HT({},uT),setup:function(e,t){var n=QT(),r=n.NAME_CLASS,o=n.BASE_CLASS_BORDERLESS,i=n.BASE_CLASS_MULTIPLE,a=n.BASE_CLASS_POPUP_VISIBLE,s=n.BASE_CLASS_EMPTY,c=Os(),f=(0,d.iH)(),p=(0,d.iH)(),h=(0,d.BK)(e),g=h.multiple,v=h.value,m=h.popupVisible,y=h.borderless,A=gT(e,t),b=A.commonInputProps,E=A.onInnerClear,_=A.renderSelectSingle,w=MT(e,t),S=w.renderSelectMultiple,C=VT(e),I=C.tOverlayInnerStyle,O=C.innerPopupVisible,T=C.onInnerPopupVisibleChange,R=(0,l.Fl)((function(){var e,t;return[r.value,(t={},u(t,o.value,y.value),u(t,i.value,g.value),u(t,a.value,null!==(e=m.value)&&void 0!==e?e:O.value),u(t,s.value,v.value instanceof Array?!v.value.length:!v.value),t)]}));return{classPrefix:c,NAME_CLASS:r,selectInputWrapRef:p,innerPopupVisible:O,commonInputProps:b,tOverlayInnerStyle:I,selectInputRef:f,popupClasses:R,onInnerClear:E,renderSelectSingle:_,renderSelectMultiple:S,onInnerPopupVisibleChange:T}},render:function(){var e,t,n=this,r={visible:null!==(e=this.popupVisible)&&void 0!==e?e:this.innerPopupVisible},o=(0,l.Wm)(Dy,(0,l.dG)({ref:"selectInputRef",class:this.popupClasses,trigger:(null===(t=this.popupProps)||void 0===t?void 0:t.trigger)||"click",placement:"bottom-left"},r,{content:this.panel,hideEmptyPopup:!0},HT(HT({onVisibleChange:this.onInnerPopupVisibleChange},this.popupProps),{},{overlayInnerStyle:this.tOverlayInnerStyle})),HT({default:function(){return[n.multiple?n.renderSelectMultiple({commonInputProps:n.commonInputProps,onInnerClear:n.onInnerClear,popupVisible:r.visible}):n.renderSelectSingle(r.visible)]}},HT(HT({},this.$slots),{},{content:this.$slots.panel})));return this.tips?(0,l.Wm)("div",{ref:"selectInputWrapRef",class:"".concat(this.NAME_CLASS,"__wrap")},[o,(0,l.Wm)("div",{class:"".concat(this.classPrefix,"-input__tips ").concat(this.classPrefix,"-input__tips--").concat(this.status||"normal")},[this.tips])]):o}}),KT=Hf(GT);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function qT(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var zT=qT,YT=Hw,JT=Wu;function XT(e,t){return t.length<2?e:YT(e,JT(t,0,-1))}var ZT=XT,$T=Lw,eR=zT,tR=ZT,nR=Fw;function rR(e,t){return t=$T(t,e),e=tR(e,t),null==e||delete e[nR(eR(t))]}var oR=rR,iR=ha;function aR(e){return iR(e)?void 0:e}var sR=aR,cR=wu,uR=$O,lR=oR,dR=Lw,fR=Zo,pR=sR,hR=NS,gR=QC,vR=1,mR=2,yR=4,AR=hR((function(e,t){var n={};if(null==e)return n;var r=!1;t=cR(t,(function(t){return t=dR(t,e),r||(r=t.length>1),t})),fR(e,gR(e),n),r&&(n=uR(n,vR|mR|yR,pR));var o=t.length;while(o--)lR(n,t[o]);return n})),bR=AR,ER={checkAll:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,label:{type:String,default:""},value:{type:[String,Number]}},_R={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},name:{type:String,default:""},readonly:Boolean,value:{type:[String,Number]},onChange:Function},wR=Symbol("CheckboxGroupProvide");
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SR(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var IR=(0,l.aZ)({name:"TCheckbox",props:CR(CR({},_R),{},{needRipple:Boolean,stopLabelTrigger:Boolean}),setup:function(e){var t=(0,d.iH)();e.needRipple&&tp(t);var n=(0,d.BK)(e),r=n.checked,o=n.modelValue,i=Sy(r,o,e.defaultChecked,e.onChange,"checked"),a=v(i,2),s=a[0],c=a[1],f=(0,l.f3)(wR,void 0),p=(0,l.Fl)((function(){return e.disabled||!(null===f||void 0===f||!f.disabled)})),h=np(p),g=(0,l.Fl)((function(){return e.name||(null===f||void 0===f?void 0:f.name)})),m=(0,l.Fl)((function(){return e.checkAll?null===f||void 0===f?void 0:f.isCheckAll:f?!!f.checkedMap[e.value]:s.value})),y=(0,l.Fl)((function(){return h?h.value:!(e.checkAll||m.value||null===f||void 0===f||!f.maxExceeded)||(void 0!==e.disabled?e.disabled:!(null===f||void 0===f||!f.disabled))})),A=(0,l.Fl)((function(){return e.checkAll?null===f||void 0===f?void 0:f.indeterminate:e.indeterminate})),b=Os(),E=Os("checkbox"),_=(0,l.Fl)((function(){var e;return["".concat(E.value),(e={},u(e,"".concat(b.value,"-is-checked"),m.value),u(e,"".concat(b.value,"-is-disabled"),y.value),u(e,"".concat(b.value,"-is-indeterminate"),A.value),e)]})),w=function(t){var n=!m.value;c(n,{e:t}),f&&f.handleCheckboxChange&&f.onCheckedChange({checked:n,checkAll:e.checkAll,e:t,option:e})},S=ap(),C=function(t){e.stopLabelTrigger&&t.preventDefault()};return function(){return(0,l.Wm)("label",{class:_.value,ref:"labelRef"},[(0,l.Wm)("input",{type:"checkbox",class:"".concat(E.value,"__former"),disabled:y.value,readonly:e.readonly,indeterminate:e.indeterminate,name:g.value,value:e.value,checked:m.value,onChange:w},null),(0,l.Wm)("span",{class:"".concat(E.value,"__input")},null),(0,l.Wm)("span",{class:"".concat(E.value,"__label"),onClick:C},[S("default","label")])])}}}),OR="__lodash_hash_undefined__";function TR(e){return this.__data__.set(e,OR),this}var RR=TR;function NR(e){return this.__data__.has(e)}var PR=NR,kR=_n,DR=RR,xR=PR;function LR(e){var t=-1,n=null==e?0:e.length;this.__data__=new kR;while(++t<n)this.add(e[t])}LR.prototype.add=LR.prototype.push=DR,LR.prototype.has=xR;var jR=LR;function MR(e,t,n,r){var o=e.length,i=n+(r?1:-1);while(r?i--:++i<o)if(t(e[i],i,e))return i;return-1}var BR=MR;function FR(e){return e!==e}var UR=FR;function VR(e,t,n){var r=n-1,o=e.length;while(++r<o)if(e[r]===t)return r;return-1}var WR=VR,HR=BR,QR=UR,GR=WR;function KR(e,t,n){return t===t?GR(e,t,n):HR(e,QR,n)}var qR=KR,zR=qR;function YR(e,t){var n=null==e?0:e.length;return!!n&&zR(e,t,0)>-1}var JR=YR;function XR(e,t,n){var r=-1,o=null==e?0:e.length;while(++r<o)if(n(t,e[r]))return!0;return!1}var ZR=XR;function $R(e,t){return e.has(t)}var eN=$R,tN=jR,nN=JR,rN=ZR,oN=wu,iN=Rn,aN=eN,sN=Math.min;function cN(e,t,n){var r=n?rN:nN,o=e[0].length,i=e.length,a=i,s=Array(i),c=1/0,u=[];while(a--){var l=e[a];a&&t&&(l=oN(l,iN(t))),c=sN(l.length,c),s[a]=!n&&(t||o>=120&&l.length>=120)?new tN(a&&l):void 0}l=e[0];var d=-1,f=s[0];e:while(++d<o&&u.length<c){var p=l[d],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?aN(f,h):r(u,h,n))){a=i;while(--a){var g=s[a];if(!(g?aN(g,h):r(e[a],h,n)))continue e}f&&f.push(h),u.push(p)}}return u}var uN=cN,lN=Zi;function dN(e){return lN(e)?e:[]}var fN=dN,pN=wu,hN=uN,gN=ra,vN=fN,mN=gN((function(e){var t=pN(e,vN);return t.length&&t[0]===e[0]?hN(t):[]})),yN=mN,AN={disabled:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array,default:function(){return[]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bN(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _N(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var wN=(0,l.aZ)({name:"TCheckboxGroup",props:AN,setup:function(e){var t=Os("checkbox-group"),n=op(),r=Array.isArray,o=(0,d.BK)(e),i=o.value,a=o.modelValue,s=Sy(i,a,e.defaultValue,e.onChange),u=v(s,2),f=u[0],p=u[1],h=(0,l.Fl)((function(){var e={};return r(f.value)&&f.value.forEach((function(t){e[t]=!0})),e})),g=(0,d.iH)([]),m=(0,l.Fl)((function(){if(!r(f.value))return 0;var e=g.value.map((function(e){return e.value})),t=yN(f.value,e);return t.length})),y=(0,l.Fl)((function(){var e=g.value.filter((function(e){return e.disabled||e.checkAll})).length;return(!r(f.value)||f.value.length===g.value.length-e)&&m.value===g.value.length-e})),A=(0,l.Fl)((function(){return!y.value&&m.value<g.value.length&&0!==m.value})),b=(0,l.Fl)((function(){return void 0!==e.max&&f.value.length===e.max}));(0,l.m0)((function(){if(!e.options)return[];g.value=e.options.map((function(t){var n={};return"object"!==S(t)?n={label:String(t),value:t}:(n=EN({},t),n.disabled=void 0===n.disabled?e.disabled:n.disabled),n}))}));var E=function(){for(var e=new Set,t=0,n=g.value.length;t<n;t++){var r=g.value[t];if(!r.checkAll&&(!r.disabled&&(e.add(r.value),b.value)))break}return c(e)},_=function(e,t){var n=e?E():[];p(n,{e:t.e,type:e?"check":"uncheck",current:void 0,option:void 0})},w=function(e){var t=e.option.value;if(r(f.value)){var n=c(f.value);if(e.checked)n.push(t);else{var o=n.indexOf(t);n.splice(o,1)}p(n,{e:e.e,current:e.option.value,option:e.option,type:e.checked?"check":"uncheck"})}else console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(S(f.value)))},C=function(e){var t=e.checked,n=e.checkAll,r=e.e;n?_(t,{e:r}):w(e)},I=bh(),O=function(){var e=I("Checkbox"),t=[];return null===e||void 0===e||e.forEach((function(e){var n=e.props;""!==(null===n||void 0===n?void 0:n["check-all"])&&!0!==(null===n||void 0===n?void 0:n["check-all"])||(n.checkAll=!0),n&&t.push(n)})),t},T=function(e){return"function"===typeof e.label?e.label(l.h):e.label},R=(0,d.BK)(e),N=R.name,P=R.disabled;return(0,l.JJ)(wR,(0,d.qj)({name:N,isCheckAll:y,checkedMap:h,maxExceeded:b,disabled:P,indeterminate:A,handleCheckboxChange:w,onCheckedChange:C})),function(){var r,o=null;if(null!==(r=e.options)&&void 0!==r&&r.length){var i;o=null===(i=g.value)||void 0===i?void 0:i.map((function(e,t){var n;return(0,l.Wm)(IR,(0,l.dG)({key:"".concat(e.value).concat(t)},e,{checked:h.value[e.value]}),_N(n=T(e))?n:{default:function(){return[n]}})}))}else{var a=n("default");g.value=O(),o=a}return(0,l.Wm)("div",{class:t.value},[o])}}}),SN=Hf(IR),CN=Hf(wN);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function IN(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ON(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}function ON(e,t){if(e){if("string"===typeof e)return TN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TN(e,t):void 0}}function TN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var RN=Symbol("selectProvide"),NN=function(e,t){var n,r=IN(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.value===e)return null===o||void 0===o?void 0:o.label}}catch(i){r.e(i)}finally{r.f()}return e},PN=function(e,t){var n,r=[],o=IN(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=NN(i,t);a&&r.push(a)}}catch(s){o.e(s)}finally{o.f()}return r},kN=function(e,t){var n=oT(e),r=n.indexOf(t);return r<0?n.push(t):n.splice(r,1),{value:n,isCheck:r<0}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DN(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var jN=(0,l.aZ)({name:"TOption",props:xN(xN({},ER),{},{createAble:Boolean,multiple:Boolean,index:Number,rowIndex:Number,trs:Map,scrollType:String,isVirtual:Boolean,bufferSize:Number,checkAll:Boolean}),emits:["row-mounted"],setup:function(e,t){var n=(0,l.f3)(RN),r=np(),o=((0,d.iH)(null),(0,l.Fl)((function(){return r.value||e.multiple&&n.value.max<=n.value.selectValue.length&&0!==n.value.max}))),i=ap(),a=Os("select"),s=Ts(),c=s.STATUS,f=s.SIZE,p=(0,d.iH)(),h=(0,d.iH)(!1),g=(0,l.Fl)((function(){return!(!n.value.isCheckAll||e.disabled)||(e.multiple?n.value.selectValue.includes(e.value):n.value.selectValue===e.value)})),v=(0,l.Fl)((function(){return!!e.checkAll&&n.value.indeterminate})),m=(0,l.Fl)((function(){var t;return["".concat(a.value,"-option"),[f.value[n.value.size]],(t={},u(t,c.value.disabled,o.value),u(t,c.value.selected,g.value),u(t,"".concat(a.value,"-option__hover"),(h.value||n.value.hoverIndex===e.index)&&!o.value&&!g.value),t)]})),y=(0,l.Fl)((function(){return e.label||e.value})),A=function(t){if(!e.multiple&&!e.disabled){var r,o;if(t.stopPropagation(),e.createAble)if(null===(r=(o=n.value).handleCreate)||void 0===r||r.call(o,e.value),n.value.multiple)return n.value.selectValue.push(e.value),void n.value.handleValueChange(n.value.selectValue,{selectedOptions:n.value.getSelectedOptions(),trigger:"check",e:t});n.value.handleValueChange(e.value,{selectedOptions:n.value.getSelectedOptions(e.value),trigger:"check",e:t}),n.value.handlePopupVisibleChange(!1,{e:t})}},b=function(t,r){if(e.checkAll)n.value.onCheckAllChange(t);else{var o=kN(n.value.selectValue,e.value);n.value.handleValueChange(o.value,{selectedOptions:n.value.getSelectedOptions(o.value),trigger:t?"check":"uncheck",e:r.e}),n.value.reserveKeyword||n.value.handlerInputChange("")}};return(0,l.bv)((function(){var n=e.trs,r=e.rowIndex,o=e.isVirtual;o&&(n.set(r,p.value),t.emit("row-mounted"))})),(0,l.Jd)((function(){if(e.isVirtual){var t=e.trs,n=e.rowIndex;t["delete"](n)}})),tp(p),function(){var t=i("default","content")||y.value;return(0,l.Wm)("li",{ref:p,class:m.value,title:"".concat(y.value),onMouseenter:function(){return h.value=!0},onMouseleave:function(){return h.value=!1},onClick:A},[n&&e.multiple?(0,l.Wm)(SN,{checked:g.value,disabled:o.value&&!g.value,onChange:b,indeterminate:v.value},LN(t)?t:{default:function(){return[t]}}):(0,l.Wm)("span",null,[t])])}}}),MN={divider:{type:Boolean,default:!0},label:{type:String,default:""}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BN(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UN=(0,l.aZ)({name:"TOptionGroup",props:FN({},MN),setup:function(e){var t=(0,l.f3)(RN),n=Os("select-option-group"),r=Ts(),o=r.SIZE,i=op(),a=(0,l.Fl)((function(){return[n.value,o.value[t.value.size],u({},"".concat(n.value,"__divider"),e.divider)]}));return function(){return(0,l.Wm)("li",{class:a.value},[(0,l.Wm)("div",{class:"".concat(n.value,"__header")},[e.label]),i("default")])}}}),VN={autoWidth:Boolean,bordered:{type:Boolean,default:!0},borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},creatable:Boolean,disabled:Boolean,empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},loading:Boolean,loadingText:{type:[String,Function]},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:Boolean,reserveKeyword:Boolean,scroll:{type:Object},selectInputProps:{type:Object},showArrow:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:[String,Function]},valueType:{type:String,default:"value",validator:function(e){return!e||["value","object"].includes(e)}},onBlur:Function,onChange:Function,onClear:Function,onCreate:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function,onVisibleChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WN(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QN=function(e){var t=e.data,n=e.container,r=e.fixedHeight,o=void 0!==r&&r,i=e.lineHeight,a=void 0===i?30:i,s=e.bufferSize,c=void 0===s?20:s,u=e.threshold,f=void 0===u?100:u,p=(0,d.qj)({visibleData:[],cachedHeight:[],cachedScrollY:[]}),h=(0,l.Fl)((function(){return t.value.length>f})),g=(0,d.iH)(0),v=new Map,m=0,y=0,A=0,b=0,E=0,_=0,w=function(){t.value.forEach((function(e,t){e.$index=t,o&&(p.cachedScrollY[t]=t*a)})),o||(p.cachedScrollY[t.value.length-1]=void 0)};w();var S=(0,l.Fl)((function(){var e=p.cachedHeight,n=e.length;if(n){var r=e.reduce((function(e,t){return e+t||a}),0);if(e.length===t.value.length)return r;var o=r/e.length;return r+(t.value.length-e.length)*o}return h.value?t.value.length*a:0})),C=(0,l.Fl)((function(){var e=p.visibleData,t=e[0];return t?1===e.length?0:p.cachedScrollY[t.$index]:0})),I=function(){_=Math.min(E+m+2*c,t.value.length),p.visibleData=t.value.slice(E,_)},O=function(){var e,r=v.get(A);if(r){var o=null===r||void 0===r||null===(e=r.getBoundingClientRect())||void 0===e?void 0:e.height;p.cachedScrollY[A]=n.value.scrollTop-b,p.cachedHeight[A]=o;for(var i=A+1;i<=p.visibleData[p.visibleData.length-1].$index;i++){var a=v.get(i),s=(null===a||void 0===a?void 0:a.getBoundingClientRect())||{},c=s.height;p.cachedHeight[i]=c;var u=p.cachedScrollY[i-1]+p.cachedHeight[i-1];p.cachedScrollY.splice(i,1,u)}for(var d=A-1;d>=p.visibleData[0].$index;d--){var f=v.get(d),h=(null===f||void 0===f?void 0:f.getBoundingClientRect())||{},g=h.height;p.cachedHeight[d]=g;var m=p.cachedScrollY[d+1]-p.cachedHeight[d];p.cachedScrollY.splice(d,1,m)}if(p.cachedScrollY[0]>0){for(var w=p.cachedScrollY[0],S=Math.min(_,t.value.length),C=0;C<S;C++)p.cachedScrollY.splice(C,1,p.cachedScrollY[C]-w);var I=p.cachedScrollY[A-1]?p.cachedScrollY[A-1]+b:b;n.value.scrollTop=I,y=I}if(p.cachedScrollY[E]<0){var O=p.cachedHeight.slice(0,Math.max(0,A)).reduce((function(e,t){return e+t}),0)+b;n.value.scrollTop=O,y=O,0===O&&(A=0,b=0)}(0,l.Y3)((function(){var e=n.value,t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;if(t+o===r)for(var i=_-1;i>=E;i--)i===_-1?p.cachedScrollY.splice(i,1,r.value-p.cachedHeight[i]):p.cachedScrollY.splice(i,1,p.cachedScrollY[i+1]-p.cachedHeight[i])}))}},T=function(){if(h.value){var e=n.value.scrollTop,r=e-y;y=e,r+=b;var o=A;if(r){if(r>=0){while(o<t.value.length&&r>(p.cachedHeight[o]||a))p.cachedHeight[o]||(p.cachedHeight[o]=a),r-=p.cachedHeight[o],o++;o>=t.value.length?(A=t.value.length-1,b=0):(A=o,b=r);var i=n.value,s=i.clientHeight,u=i.scrollHeight;e+s===u&&(A=t.value.length-m+1),E<=A-c&&(E=Math.min(t.value.length-m,A-c),E<0&&(E=0))}else{while(r<0)o--,p.cachedHeight[o]||(p.cachedHeight[o]=a),r+=p.cachedHeight[o];o<0?(A=0,b=0):(A=o,b=r),O(),E>A-c&&(E=Math.max(0,A-c))}I()}}};!o&&(0,l.YP)(g,O,{flush:"post"});var R=function(){h.value&&g.value++};(0,l.YP)(t,(function(){w(),p.visibleData=[],p.cachedScrollY=[],p.cachedHeight=[],y=0,A=0,b=0,E=0,v.clear(),t.value.length<=f?p.visibleData=t.value:I(),n.value&&(n.value.scrollTop=0)}));var N=!1,P=function(){N&&(m=Math.ceil(n.value.offsetHeight/a),I())};return(0,l.bv)((function(){if(window&&window.IntersectionObserver){var e=new window.IntersectionObserver((function(t){var r=t[0];(r.isIntersecting||r.intersectionRatio)&&(N=!0,h.value&&P(),e.unobserve(n.value))}));n.value&&e.observe(n.value)}})),HN(HN({trs:v,scrollHeight:S},(0,d.BK)(p)),{},{translateY:C,handleScroll:T,handleRowMounted:R,refreshContainer:P,fixedHeight:o,calculateScrollY:O})},GN=function(e){var t,n,r,o,i,a=(0,l.Fl)((function(){var t,n,r;return"virtual"===(null===(t=e.scroll)||void 0===t?void 0:t.type)&&(null===(n=e.options.value)||void 0===n?void 0:n.length)>((null===(r=e.scroll)||void 0===r?void 0:r.threshold)||100)})),s="virtual"===(null===(t=e.scroll)||void 0===t?void 0:t.type)?QN({container:e.popupContentRef,data:e.options,fixedHeight:(null===(n=e.scroll)||void 0===n?void 0:n.isFixedRowHeight)||!1,lineHeight:(null===(r=e.scroll)||void 0===r?void 0:r.rowHeight)||28,bufferSize:(null===(o=e.scroll)||void 0===o?void 0:o.bufferSize)||20,threshold:(null===(i=e.scroll)||void 0===i?void 0:i.threshold)||100}):{},c=s.trs,u=void 0===c?null:c,d=s.visibleData,f=void 0===d?null:d,p=s.handleScroll,h=void 0===p?null:p,g=s.scrollHeight,v=void 0===g?null:g,m=s.translateY,y=void 0===m?null:m,A=s.handleRowMounted,b=void 0===A?null:A,E=-1,_=function(e){if(a.value){var t=e.target,n=t.scrollTop;Math.abs(E-n)>5?(h(),E=n):E=-1}};(0,l.bv)((function(){var t;a.value&&(null===(t=e.popupContentRef.value)||void 0===t||t.addEventListener("scroll",_))})),(0,l.Jd)((function(){var t;a.value&&(null===(t=e.popupContentRef.value)||void 0===t||t.removeEventListener("scroll",_))}));var w=(0,l.Fl)((function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(v.value,"px)"),"-ms-transform":"translate(0, ".concat(v.value,"px)"),"-moz-transform":"translate(0, ".concat(v.value,"px)"),"-webkit-transform":"translate(0, ".concat(v.value,"px)")}})),S=(0,l.Fl)((function(){return{transform:"translate(0, ".concat(y.value,"px)"),"-ms-transform":"translate(0, ".concat(y.value,"px)"),"-moz-transform":"translate(0, ".concat(y.value,"px)"),"-webkit-transform":"translate(0, ".concat(y.value,"px)")}}));return{trs:u,scrollHeight:v,translateY:y,visibleData:f,handleRowMounted:b,isVirtual:a,cursorStyle:w,panelStyle:S}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KN(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zN(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var YN=(0,l.aZ)({name:"TSelectPanel",props:{inputValue:VN.inputValue,panelTopContent:VN.panelTopContent,panelBottomContent:VN.panelBottomContent,empty:VN.empty,creatable:VN.creatable,loading:VN.loading,loadingText:VN.loadingText,multiple:VN.multiple,filterable:VN.filterable,filter:VN.filter,options:{type:Array,default:function(){return[]}},scroll:VN.scroll},setup:function(e,t){var n=t.expose,r=Os("select"),o=op(),i=ip(),a=Is("select"),s=a.t,c=a.globalConfig,u=(0,l.f3)(RN),f=(0,d.iH)(null),p=(0,l.Fl)((function(){return u.value.popupContentRef.value})),h=(0,l.Fl)((function(){return e.creatable&&e.filterable&&e.inputValue})),g=(0,l.Fl)((function(){if(!e.inputValue||!e.filterable&&!ce(e.filter))return e.options;var t=function(t){var n;return ce(e.filter)?e.filter("".concat(e.inputValue),t):(null===(n=t.label)||void 0===n?void 0:n.indexOf("".concat(e.inputValue)))>-1},n=[];return e.options.forEach((function(e){e.group&&e.children&&n.push(qN(qN({},e),{},{children:e.children.filter(t)})),t(e)&&n.push(e)})),n})),v=GN({scroll:e.scroll,popupContentRef:p,options:g}),m=v.trs,y=(v.scrollHeight,v.translateY,v.visibleData),A=v.handleRowMounted,b=v.isVirtual,E=v.panelStyle,_=v.cursorStyle,w=(0,l.Fl)((function(){return!g.value.length})),S=function(){return(0,l.Wm)("ul",{class:["".concat(r.value,"__create-option"),"".concat(r.value,"__list")]},[(0,l.Wm)(jN,{value:e.inputValue,label:"".concat(e.inputValue),createAble:!0,class:"".concat(r.value,"__create-option--special")},null)])},C=function t(n){return(0,l.Wm)("ul",{class:"".concat(r.value,"__list")},[n.map((function(n,r){var o,i,a;return n.group?(0,l.Wm)(UN,{label:n.group,divider:n.divider},zN(a=t(n.children))?a:{default:function(){return[a]}}):(0,l.Wm)(jN,(0,l.dG)(bR(n,"$index"),b.value?{rowIndex:n.$index,trs:m,scrollType:null===(o=e.scroll)||void 0===o?void 0:o.type,isVirtual:b.value,bufferSize:null===(i=e.scroll)||void 0===i?void 0:i.bufferSize,key:"".concat(n.$index||"","_").concat(r)}:{key:r},{multiple:e.multiple,onRowMounted:A}),n.slots)}))])},I=(0,l.Fl)((function(){return{small:"s",medium:"m",large:"l"}[u.value.size]}));n({innerRef:f});var O=function(t,n){return(0,l.Wm)("div",{ref:f,class:["".concat(r.value,"__dropdown-inner"),"".concat(r.value,"__dropdown-inner--size-").concat(I.value)],onClick:function(e){return e.stopPropagation()},style:null===n||void 0===n?void 0:n.value},[o("panelTopContent"),h.value&&S(),e.loading&&i("loadingText",{defaultNode:(0,l.Wm)("div",{class:"".concat(r.value,"__loading-tips")},[s(c.value.loadingText)])}),!e.loading&&w.value&&!h.value&&i("empty",{defaultNode:(0,l.Wm)("div",{class:"".concat(r.value,"__empty")},[s(c.value.empty)])}),!w.value&&!e.loading&&C(t.value),o("panelBottomContent")])};return b.value?function(){return(0,l.Wm)("div",null,[(0,l.Wm)("div",{style:_.value},null),O(y,E)])}:function(){return O(g)}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function JN(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=XN(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}function XN(e,t){if(e){if("string"===typeof e)return ZN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZN(e,t):void 0}}function ZN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$N(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tP=function(e,t){var n=bh(),r=(0,l.Fl)((function(){var r=0,o=e.options.map((function(e){var n=function(e){var n=t.value,o=n.value,i=n.label,a=eP(eP({},e),{},{index:r,label:sT(e,i),value:sT(e,o)});return r++,a};return e.group&&e.children?eP(eP({},e),{},{children:e.children.map((function(e){return n(e)}))}):n(e)})),i=n("Option"),a=n("OptionGroup");if(Kr(a)){var s,c=JN(a);try{for(c.s();!(s=c.n()).done;){var u,l,d,f=s.value,p=eP(eP({group:null===(u=f.props)||void 0===u?void 0:u.label},f.props),{},{children:[]}),h=f.children["default"]();if(Kr(h)&&null!==(l=h[0])&&void 0!==l&&l.children){var g,v=JN(null===h||void 0===h||null===(d=h[0])||void 0===d?void 0:d.children);try{for(v.s();!(g=v.n()).done;){var m=g.value;p.children.push(eP(eP({},m.props),{},{slots:m.children,index:r})),r++}}catch(E){v.e(E)}finally{v.f()}o.push(p)}}}catch(E){c.e(E)}finally{c.f()}}if(Kr(i)){var y,A=JN(i);try{for(A.s();!(y=A.n()).done;){var b=y.value;o.push(eP(eP({},b.props),{},{slots:b.children,index:r})),r++}}catch(E){A.e(E)}finally{A.f()}}return o})),o=(0,l.Fl)((function(){var e=[],t=function t(n){var r,o=JN(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.group?t(i.children):e.push(i)}}catch(a){o.e(a)}finally{o.f()}};return t(r.value),e})),i=(0,l.Fl)((function(){var e=new Map;return o.value.forEach((function(t){e.set(t.value,t)})),e}));return{options:r,optionsMap:i,optionsList:o}},nP=["slots","expose"],rP=["overlayClassName"];function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oP(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aP=(0,l.aZ)({name:"TSelect",props:iP({},VN),setup:function(e,t){var n=t.slots,r=(t.expose,$y(t,nP),Os()),o=np(),i=op(),a=Os("select"),s=Is("select"),c=s.globalConfig,f=s.t,p=(0,d.BK)(e),h=p.popupVisible,g=p.inputValue,m=p.modelValue,y=p.value,A=Sy(y,m,e.defaultValue,e.onChange),b=v(A,2),E=b[0],_=b[1],w=(0,d.iH)(null),S=(0,d.iH)(null),C=(0,l.Fl)((function(){var t,n;return{label:(null===(t=e.keys)||void 0===t?void 0:t.label)||"label",value:(null===(n=e.keys)||void 0===n?void 0:n.value)||"value"}})),I=tP(e,C),O=I.options,T=I.optionsMap,R=I.optionsList,N=(0,l.Fl)((function(){return"object"===e.valueType?e.multiple?E.value.map((function(e){return e[C.value.value]})):E.value[C.value.value]:E.value})),P=function(t,n){if("object"===e.valueType){var r=C.value,o=r.value,i=r.label,a=function(e){var t,n=T.value.get(e);return t={},u(t,o,sT(n,o)),u(t,i,sT(n,i)),t};t=e.multiple?t.map((function(e){return a(e)})):a(t)}t!==E.value&&_(t,{selectedOptions:J(t),trigger:n.trigger,e:n.e})},k=zA(g,e.defaultInputValue,e.onInputChange,"inputValue"),D=v(k,2),x=D[0],L=D[1],j=zA(h,!1,(function(t,n){var r,o;null===(r=e.onPopupVisibleChange)||void 0===r||r.call(e,t,n),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t)}),"popupVisible"),M=v(j,2),B=M[0],F=M[1],U=(0,l.Fl)((function(){var t;return null!==(t=!e.multiple&&B.value&&NN(N.value,R.value)||e.placeholder)&&void 0!==t?t:f(c.value.placeholder)})),V=(0,l.Fl)((function(){return e.multiple?PN(N.value,R.value):NN(N.value,R.value)})),W=(0,l.Fl)((function(){return e.multiple&&Kr(N.value)?N.value.map((function(e){var t;return{value:e,label:null===(t=T.value.get(e))||void 0===t?void 0:t.label}})):N.value})),H=(0,l.Fl)((function(){return Boolean(e.filterable||c.value.filterable||ce(e.filter))})),Q=function(t,n){var r;n&&n.stopPropagation();var o=oT(N.value),i=o[t];o.splice(t,1),P(o,{selectedOptions:J(o),trigger:"tag-remove",e:n}),null===(r=e.onRemove)||void 0===r||r.call(e,{value:i,data:T.value.get(i),e:n})},G=function(){var t;x.value&&(null===(t=e.onCreate)||void 0===t||t.call(e,x.value),L(""))},K=(0,d.iH)(-1),q=function(t){var n,r,o=R.value.length,i=K.value;switch(t.code){case"ArrowUp":t.preventDefault(),-1===K.value?i=0:0===K.value?i=o-1:i--,null!==(n=R.value[i])&&void 0!==n&&n.disabled&&i--,K.value=i;break;case"ArrowDown":t.preventDefault(),-1===K.value||K.value===o-1?i=0:i++,null!==(r=R.value[i])&&void 0!==r&&r.disabled&&i++,K.value=i;break;case"Enter":if(-1===K.value)break;if(!B.value){F(!0,{e:t});break}if(e.multiple){var a;if(-1===K.value)return;var s=null===(a=R.value[K.value])||void 0===a?void 0:a.value;if(!s)return;var c=kN(N.value,s);P(c.value,{selectedOptions:J(c.value),trigger:c.isCheck?"check":"uncheck",e:t})}else P(R.value[K.value].value,{selectedOptions:J(R.value[K.value].value),trigger:"check",e:t}),F(!1,{e:t});break;case"Escape":F(!1,{e:t});break}},z=(0,l.Fl)((function(){var e;return null===(e=S.value)||void 0===e?void 0:e.selectInputRef.getOverlay()})),Y=(0,l.Fl)((function(){return R.value.filter((function(e){return!e.disabled&&!e["check-all"]&&!e.checkAll}))})),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.value;return R.value.filter((function(t){if(!t.checkAll)return Array.isArray(e)?e.includes(t.value):e===t.value}))},X=function(t){if(e.multiple){var n=t?Y.value.map((function(e){return e.value})):[];P(n,{selectedOptions:J(n),trigger:t?"check":"clear"})}},Z=(0,l.Fl)((function(){var e=Y.value.map((function(e){return e.value})),t=(0,cT.intersection)(N.value,e);return t.length})),$=(0,l.Fl)((function(){return Z.value===Y.value.length})),ee=(0,l.Fl)((function(){return!$.value&&0!==Z.value})),te=(0,l.Fl)((function(){return{max:e.max,multiple:e.multiple,hoverIndex:K.value,selectValue:N.value,reserveKeyword:e.reserveKeyword,handleValueChange:P,handlerInputChange:L,handlePopupVisibleChange:F,handleCreate:G,size:e.size,popupContentRef:z,indeterminate:ee.value,isCheckAll:$.value,onCheckAllChange:X,getSelectedOptions:J}}));(0,l.JJ)(RN,te);var ne=function(){!e.multiple&&Kr(E.value)&&_(void 0),e.multiple&&!Kr(E.value)&&_([])},re=kb((function(t){var n;null===(n=e.onSearch)||void 0===n||n.call(e,"".concat(t))}),300);(0,l.YP)(E,(function(){ne()}),{immediate:!0}),(0,l.YP)((function(){return e.multiple}),(function(){ne()})),(0,l.YP)(B,(function(e){e&&(K.value=-1)}));var oe=function(e){var t,n;if(w.value){var o=null===(t=w.value)||void 0===t||null===(n=t.innerRef)||void 0===n?void 0:n.querySelector(".".concat(r.value,"-is-selected"));(0,l.Y3)((function(){if(o&&e){var t=getComputedStyle(o),n=t.paddingBottom,r=getComputedStyle(e),i=r.marginBottom,a=parseInt(n,10)+parseInt(i,10),s=o.offsetTop-e.offsetTop-(e.clientHeight-o.clientHeight)+a;e.scrollTop=s}}))}};return(0,l.JJ)("updateScrollTop",oe),function(){var t=e.popupProps||{},r=t.overlayClassName,s=$y(t,rP);return(0,l.Wm)("div",{class:"".concat(a.value,"__wrap")},[(0,l.Wm)(KT,(0,l.dG)({autoWidth:e.autoWidth,readonly:e.readonly,borderless:e.borderless||!e.bordered,multiple:e.multiple,clearable:e.clearable,loading:e.loading,status:e.status,tips:e.tips,minCollapsedNum:e.minCollapsedNum},{ref:S,class:a.value,value:V.value,disabled:o.value,popupVisible:B.value,inputValue:B.value?x.value:"",placeholder:"".concat(U.value),allowInput:H.value,"collapsed-items":e.collapsedItems,inputProps:iP(iP({size:e.size},e.inputProps),{},{onkeydown:q}),tagInputProps:iP({size:e.size},e.tagInputProps),onTagChange:function(e,t){Q(t.index)},tagProps:iP({},e.tagProps),popupProps:iP({overlayClassName:["".concat(a.value,"__dropdown"),r]},s),label:function(){return i("prefixIcon")},suffixIcon:function(){return e.showArrow&&(0,l.Wm)(dE,{overlayClassName:"".concat(a.value,"__right-icon"),isActive:B.value},null)},valueDisplay:function(){return i("valueDisplay",{params:{value:W.value,onClose:function(e){return Q(e)}}})},onPopupVisibleChange:function(e,t){F(e,t)},onInputChange:function(e){B.value&&(L(e),re("".concat(e)))},onClear:function(t){var n,r=t.e;P(e.multiple?[]:void 0,{selectedOptions:J(e.multiple?[]:void 0),trigger:"clear",e:r}),null===(n=e.onClear)||void 0===n||n.call(e,{e:r})},onEnter:function(t,n){var r,o=n.e;null===(r=e.onEnter)||void 0===r||r.call(e,{inputValue:"".concat(x.value),e:o,value:N.value}),G()},onBlur:function(t,n){var r,o=n.e;null===(r=e.onBlur)||void 0===r||r.call(e,{e:o,value:N.value})},onFocus:function(t,n){var r,o=n.e;null===(r=e.onFocus)||void 0===r||r.call(e,{e:o,value:N.value})}},e.selectInputProps),{panel:function(){return(0,l.Wm)(YN,(0,l.dG)({ref:w},HS(e,["size","multiple","empty","loading","loadingText","filterable","creatable","panelTopContent","panelBottomContent","filter","scroll"]),{options:O.value,inputValue:x.value}),n)},collapsedItems:n.collapsedItems})])}}}),sP=Hf(aP),cP=Hf(jN),uP=Hf(UN),lP={append:{type:[String,Function]},prepend:{type:[String,Function]}},dP=(0,l.aZ)({name:"TInputAdornment",inheritAttrs:!1,props:lP,setup:function(e,t){var n=t.slots,r=Os("input-adornment"),o=op(),i=function(e,t,o){var i;return i=n[t]?n[t](null):"string"===typeof o?o:"function"===typeof o?o(e):null,i?(0,l.Wm)("span",{class:"".concat(r.value,"__").concat(t)},[i]):i};return function(){var t,n=i(l.h,"prepend",e.prepend),a=i(l.h,"append",e.append),s=o("default")||[null],c=[r.value,(t={},u(t,"".concat(r.value,"--prepend"),n),u(t,"".concat(r.value,"--append"),a),t)];return n||a?(0,l.Wm)("div",{class:c},[n,s[0],a]):s[0]}}}),fP=Hf(dP),pP={current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:1},disabled:Boolean,foldedMaxPageBtn:{type:Number,default:5},maxPageBtn:{type:Number,default:10},pageEllipsisMode:{type:String,default:"mid",validator:function(e){return!e||["mid","both-ends"].includes(e)}},pageSize:{type:Number,default:void 0},defaultPageSize:{type:Number,default:10},pageSizeOptions:{type:Array,default:function(){return[5,10,20,50]}},showFirstAndLastPageBtn:Boolean,showJumper:Boolean,showPageNumber:{type:Boolean,default:!0},showPageSize:{type:Boolean,default:!0},showPreviousAndNextBtn:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium"].includes(e)}},theme:{type:String,default:"default",validator:function(e){return!e||["default","simple"].includes(e)}},total:{type:Number,default:0},totalContent:{type:[Boolean,Function],default:!0},onChange:Function,onCurrentChange:Function,onPageSizeChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function hP(e,t,n,r){var o=Ts(),i=o.SIZE,a=o.STATUS,s=(0,l.Fl)((function(){var t=Math.ceil(e.total/n.value);return t>0?t:1})),c=(0,l.Fl)((function(){return["".concat(r.value),i.value[e.size],u({},a.value.disabled,e.disabled)]})),d=(0,l.Fl)((function(){return["".concat(r.value,"__total")]})),f=(0,l.Fl)((function(){return["".concat(r.value,"__select")]})),p=(0,l.Fl)((function(){return["".concat(r.value,"__btn"),"".concat(r.value,"__btn-prev"),u({},a.value.disabled,e.disabled||1===t.value)]})),h=(0,l.Fl)((function(){return["".concat(r.value,"__btn"),"".concat(r.value,"__btn-next"),u({},a.value.disabled,e.disabled||t.value===s.value)]})),g=(0,l.Fl)((function(){return["".concat(r.value,"__pager")]})),v=(0,l.Fl)((function(){return["".concat(r.value,"__number"),"".concat(r.value,"__number--more"),u({},a.value.disabled,e.disabled)]})),m=(0,l.Fl)((function(){return["".concat(r.value,"__jump")]})),y=(0,l.Fl)((function(){return["".concat(r.value,"__input")]})),A=(0,l.Fl)((function(){return["".concat(r.value,"__select")]})),b=function(n){var o;return["".concat(r.value,"__number"),(o={},u(o,a.value.disabled,e.disabled),u(o,a.value.current,t.value===n),o)]};return{pageCount:s,paginationClass:c,totalClass:d,sizerClass:f,preBtnClass:p,nextBtnClass:h,btnWrapClass:g,btnMoreClass:v,jumperClass:m,jumperInputClass:y,simpleClass:A,getButtonClass:b}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function gP(e,t,n){var r=(0,d.iH)(!1),o=(0,d.iH)(!1),i=(0,l.Fl)((function(){return Math.ceil((e.foldedMaxPageBtn-1)/2)})),a=(0,l.Fl)((function(){return Math.ceil((e.foldedMaxPageBtn-1)/2)})),s=(0,l.Fl)((function(){return 2+i.value<n.value})),c=(0,l.Fl)((function(){return t.value-1-a.value>n.value}));return{prevMore:r,nextMore:o,curPageLeftCount:i,curPageRightCount:a,isPrevMoreShow:s,isNextMoreShow:c}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var vP=PE;function mP(e){return vP(e)&&e!=+e}var yP=mP,AP=["pageCount"];function bP(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var EP=1,_P=(0,l.aZ)({name:"TPagination",props:pP,setup:function(e){var t=(0,d.BK)(e),n=t.modelValue,r=t.pageSize,o=t.current,i=op(),a=Sy(o,n,e.defaultCurrent,e.onCurrentChange,"current"),s=v(a,2),c=s[0],u=s[1],f=zA(r,e.defaultPageSize,e.onPageSizeChange,"pageSize"),p=v(f,2),h=p[0],g=p[1],m=Is("pagination"),y=m.t,A=m.globalConfig,b=Os("pagination"),E=Tg({PageFirstIcon:LE,PageLastIcon:FE,ChevronLeftIcon:bA,ChevronRightIcon:av,ChevronLeftDoubleIcon:HE,ChevronRightDoubleIcon:qE,EllipsisIcon:XE}),_=E.PageFirstIcon,w=E.PageLastIcon,C=E.ChevronLeftIcon,I=E.ChevronRightIcon,O=E.ChevronLeftDoubleIcon,T=E.ChevronRightDoubleIcon,R=E.EllipsisIcon,N=hP(e,c,h,b),P=N.pageCount,k=$y(N,AP),D=gP(e,P,c),x=D.prevMore,L=D.isPrevMoreShow,j=D.curPageLeftCount,M=D.nextMore,B=D.isNextMoreShow,F=D.curPageRightCount,U=(0,d.iH)(c.value),V=(0,l.Fl)((function(){return P.value>e.maxPageBtn})),W=((0,l.Fl)((function(){for(var e=[],t=1;t<=P.value;t++)e.push({value:t,label:"".concat(t,"/").concat(P.value)});return e})),(0,l.Fl)((function(){var t=e.pageSizeOptions,n=t.map((function(e){return"object"===S(e)?e:{label:y(A.value.itemsPerPage,{size:e}),value:Number(e)}}));return n.sort((function(e,t){return e.value-t.value}))}))),H=(0,l.Fl)((function(){return"mid"===e.pageEllipsisMode})),Q=(0,l.Fl)((function(){var t,n,r=[];if(V.value)if(L.value&&B.value)t=c.value-j.value,n=c.value+F.value;else{var o=H.value?2:1,i=H.value?P.value-1:P.value;t=L.value?P.value-e.foldedMaxPageBtn+1:o,n=L.value?i:e.foldedMaxPageBtn}else t=1,n=P.value;for(var a=t;a<=n;a++)r.push(a);return r}));(0,l.YP)((function(){return P.value}),(function(){c.value>P.value&&(c.value=1)})),(0,l.YP)((function(){return c.value}),(function(e){return U.value=e}));var G=function(t,n){if(!e.disabled){var r=t;if(t<EP?r=EP:t>P.value&&(r=P.value),c.value!==r){var o,i=c.value,a={current:r,previous:i,pageSize:h.value};if(!1!==n)null===(o=e.onChange)||void 0===o||o.call(e,a);u(r,a)}}},K=function(t){var n={prevPage:function(){return G(c.value-1)},nextPage:function(){return G(c.value+1)},prevMorePage:function(){return G(c.value-e.foldedMaxPageBtn)},nextMorePage:function(){return G(c.value+e.foldedMaxPageBtn)}};n[t]()},q=function(t){var n;if(!e.disabled){var r=parseInt(t,10),o=1;r>0&&(o=Math.ceil(e.total/r));var i=!1;c.value>o&&(i=!0);var a={current:i?o:c.value,previous:c.value,pageSize:r};null===(n=e.onChange)||void 0===n||n.call(e,a),g(r,a),i&&G(o,!1)}},z=function(e){var t=Math.trunc(+e);yP(t)||(U.value=t,G(t))};return function(){var t,n=e.total,r=e.pageSizeOptions,o=e.size,a=e.disabled,s=e.showPageSize;if(P.value<1)return null;var u=(0,l.Wm)("div",{class:k.jumperClass.value},[y(A.value.jumpTo),(0,l.Wm)(fP,{append:"/ ".concat(P.value," ").concat(y(A.value.page))},{default:function(){return[(0,l.Wm)(lw,{class:k.jumperInputClass.value,modelValue:U.value,"onUpdate:modelValue":function(e){return U.value=e},onBlur:z,onEnter:z,max:P.value,min:EP,size:o,disabled:a,theme:"normal",placeholder:""},null)]}})]);return(0,l.Wm)("div",{class:k.paginationClass.value},[i("totalContent",(0,l.Wm)("div",{class:k.totalClass.value},[y(A.value.total,{total:n})])),s&&r.length>0&&(0,l.Wm)(sP,{size:o,value:h,disabled:a,class:k.sizerClass.value,autoWidth:!0,onChange:q},bP(t=W.value.map((function(e,t){return(0,l.Wm)(cP,{value:e.value,label:e.label,key:t},null)})))?t:{default:function(){return[t]}}),e.showFirstAndLastPageBtn?(0,l.Wm)("div",{class:k.preBtnClass.value,onClick:function(){return G(1)},disabled:e.disabled||e.current===EP},[(0,l.Wm)(_,null,null)]):null,e.showPreviousAndNextBtn?(0,l.Wm)("div",{class:k.preBtnClass.value,onClick:function(){return K("prevPage")},disabled:a||c.value===EP},[(0,l.Wm)(C,null,null)]):null,e.showPageNumber&&"default"===e.theme?(0,l.Wm)("ul",{class:k.btnWrapClass.value},[V.value&&H.value&&(0,l.Wm)("li",{class:k.getButtonClass(1),onClick:function(){return G(EP)}},[EP]),V.value&&L.value&&H.value?(0,l.Wm)("li",{class:k.btnMoreClass.value,onClick:function(){return K("prevMorePage")},onMouseOver:function(){return x.value=!0},onMouseOut:function(){return x.value=!1}},[x.value?(0,l.Wm)(O,null,null):(0,l.Wm)(R,null,null)]):null,Q.value.map((function(e){return(0,l.Wm)("li",{class:k.getButtonClass(e),key:e,onClick:function(){return G(e)}},[e])})),V.value&&B.value&&H.value?(0,l.Wm)("li",{class:k.btnMoreClass.value,onClick:function(){return K("nextMorePage")},onMouseOver:function(){return M.value=!0},onMouseOut:function(){return M.value=!1}},[M.value?(0,l.Wm)(T,null,null):(0,l.Wm)(R,null,null)]):null,V.value&&H.value?(0,l.Wm)("li",{class:k.getButtonClass(P.value),onClick:function(){return G(P.value)}},[P.value]):null]):null,"simple"===e.theme&&u,e.showPreviousAndNextBtn?(0,l.Wm)("div",{class:k.nextBtnClass.value,onClick:function(){return K("nextPage")},disabled:a||c.value===P.value},[(0,l.Wm)(I,null,null)]):null,e.showFirstAndLastPageBtn?(0,l.Wm)("div",{class:k.nextBtnClass.value,onClick:function(){return G(P.value)},disabled:a||c.value===P.value},[(0,l.Wm)(w,null,null)]):null,"default"===e.theme&&e.showJumper&&u])}}}),wP=Hf(_P),SP={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number]},layout:{type:String,default:"horizontal",validator:function(e){return!e||["horizontal","vertical"].includes(e)}},options:{type:Array},readonly:Boolean,separator:{type:String,default:"line",validator:function(e){return!e||["line","dashed","arrow"].includes(e)}},sequence:{type:String,default:"positive",validator:function(e){return!e||["positive","reverse"].includes(e)}},theme:{type:String,default:"default",validator:function(e){return!e||["default","dot"].includes(e)}},onChange:Function},CP={content:{type:[String,Function],default:""},default:{type:[String,Function]},extra:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(e){return!e||["default","process","finish","error"].includes(e)}},title:{type:[String,Function],default:""},value:{type:[String,Number]}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IP(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TP=(0,l.aZ)({name:"TSteps",props:OP({},SP),setup:function(e){var t=Os("steps"),n=(0,d.BK)(e),r=n.current,o=n.modelValue,i=Sy(r,o,e.defaultCurrent,e.onChange,"current"),a=v(i,2),s=a[0],c=a[1];(0,l.JJ)("StepsState",(0,d.qj)({current:s,setCurrent:c})),(0,l.JJ)("StepsProps",e);var u=(0,d.iH)({});(0,l.m0)((function(){var t;e.options&&(null===(t=e.options)||void 0===t||t.forEach((function(e,t){void 0!==e.value&&(u.value[e.value]=t)})))}));var f=function(t,n){if(t.status&&"default"!==t.status)return t.status;if("FINISH"===s.value)return"finish";if(void 0===t.value){if("positive"===e.sequence&&n<s.value)return"finish";if("reverse"===e.sequence&&n>s.value)return"finish"}if(void 0!==t.value){var r=u.value[s.value];if(void 0===r)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if("positive"===e.sequence&&n<r)return"finish";if("reverse"===e.sequence&&n>r)return"finish"}var o=void 0===t.value?n:t.value;return o===s.value?"process":"default"},p=bh(),h=function(t){var n=[];return null===t||void 0===t||t.forEach((function(t){var r=(null===t||void 0===t?void 0:t.props)||{},o=null===t||void 0===t?void 0:t.children;if(r||o){if(o&&ee(o))for(var i in o)i in CP&&!r[i]&&(r[i]=o[i]);"reverse"===e.sequence?n.unshift(r):n.push(r)}})),n},g=function(){var t,n;if(null!==(t=e.options)&&void 0!==t&&t.length)n="reverse"===e.sequence?e.options.slice().reverse():e.options;else{var r=p("StepItem");n=h(r)}return n},m=function(){var t=g();return t.map((function(n,r){var o="reverse"===e.sequence?t.length-r-1:r;return(0,l.Wm)((0,l.up)("t-step-item"),(0,l.dG)(n,{index:o,status:f(n,r),key:n.value||r}),null)}))},y=function(){var t=e.theme,n=g();return n.forEach((function(e){void 0!==(null===e||void 0===e?void 0:e.icon)&&(t="default")})),t},A=(0,l.Fl)((function(){return[t.value,"".concat(t.value,"--").concat(e.layout),"".concat(t.value,"--").concat(y(),"-anchor"),"".concat(t.value,"--").concat(e.sequence),"".concat(t.value,"--").concat(e.separator,"-separator")]}));return function(){return(0,l.Wm)("div",{class:A.value},[m()])}}});function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PP={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.43 9.92l6.23-6.22.92.92-7.15 7.14L1.97 7.3l.92-.92 3.54 3.54z",fillOpacity:.9}}]},kP=(0,l.aZ)({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-check",o.value])),s=(0,l.Fl)((()=>NP(NP({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(PP,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DP(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LP=(0,l.aZ)({name:"TStepItem",props:xP(xP({},CP),{},{index:Number}),setup:function(e){var t=(0,l.f3)("StepsState",void 0),n=(0,l.f3)("StepsProps",void 0),r=Is("steps"),o=r.globalConfig,i=Tg({CheckIcon:kP,CloseIcon:Ig}),a=i.CheckIcon,s=i.CloseIcon,c=(0,l.Fl)((function(){return"process"!==e.status&&!(null!==n&&void 0!==n&&n.readonly)})),d=function(n){if(c.value){var r=void 0===e.value?e.index:e.value;t.setCurrent(r,t.current,{e:n})}},f=Os("steps-item"),p=(0,l.Fl)((function(){return u({},"".concat(f.value,"--").concat(e.status),e.status)})),h=(0,l.Fl)((function(){return[f.value,p.value]})),g=(0,l.Fl)((function(){return["".concat(f.value,"__icon"),p.value]})),v=op(),m=ap(),y=function(){var t;if("default"===n.theme){var r="";switch(e.status){case"finish":r=(0,l.Wm)(a,null,null);break;case"error":r=ce(o.value.errorIcon)?o.value.errorIcon(l.h):(0,l.Wm)(s,null,null);break;default:r=String(e.index+1);break}t=(0,l.Wm)("span",{class:"".concat(f.value,"__icon--number")},[r])}return v("icon",t)};return function(){return(0,l.Wm)("div",{class:h.value},[(0,l.Wm)("div",{class:"".concat(f.value,"__inner ").concat(c.value?"".concat(f.value,"--clickable"):""),onClick:d},[(0,l.Wm)("div",{class:g.value},[y()]),(0,l.Wm)("div",{class:"".concat(f.value,"__content")},[(0,l.Wm)("div",{class:"".concat(f.value,"__title")},[v("title")]),(0,l.Wm)("div",{class:"".concat(f.value,"__description")},[m("default","content")]),(0,l.Wm)("div",{class:"".concat(f.value,"__extra")},[v("extra")])])])])}}}),jP=Hf(TP),MP=Hf(LP);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function BP(e){var t=e.value,n=e.multiple,r=e.treeStore,o=e.showAllLevels;if(n||!t)return"";if(Array.isArray(t))return"";var i=r&&r.getNodes(t);if(!i||!i.length)return t;var a=i&&i[0].getPath();return a&&a.length?o?a.map((function(e){return e.label})).join(" / "):a[a.length-1].label:t}function FP(e){var t=e.value,n=e.multiple,r=e.treeStore,o=e.showAllLevels;if(!n)return[];if(n&&!Array.isArray(t))return[];var i=r&&r.getNodes(t);return i?t.map((function(e){var t=r.getNodes(e);return o?VP(t[0]):t[0].label})).filter((function(e){return!!e})):[]}function UP(e){var t=[];return e.forEach((function(e){t[e.level]?t[e.level].push(e):t[e.level]=[e]})),t}function VP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return null===e||void 0===e?void 0:e.getPath().map((function(e){return e.label})).join(t)}var WP=function(e){var t=[];return Array.isArray(e)?e.length>0&&"object"===S(e[0])?t=e.map((function(e){return e.value})):e.length&&(t=e):e&&(t="object"===S(e)?[e.value]:[e]),t},HP=function(e,t,n){return"single"===t?e:n?e.map((function(e){return e[e.length-1]})):e[e.length-1]};function QP(e){return!("number"===typeof e&&!isNaN(e))&&Eu(e)}function GP(e,t){var n=t.multiple,r=t.showAllLevels;return n&&!Array.isArray(e)||!n&&Array.isArray(e)&&!r}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function KP(e,t,n){var r=n.disabled;return["".concat(e,"-cascader__icon"),u({},t.disabled,r)]}function qP(e,t,n){var r,o=n.checkStrictly,i=n.multiple,a=n.value,s=n.max,c=!o&&e.expanded&&(!i||!e.isLeaf())||o&&e.expanded,l=e.isLeaf(),d=e.disabled||i&&a.length>=s&&0!==s,f=e.checked||i&&!o&&e.expanded&&!l;return[(r={},u(r,t.selected,!d&&f),u(r,t.expanded,!d&&c),u(r,t.disabled,d),r)]}function zP(e,t,n,r,o){var i,a=o.size;return["".concat(e,"-cascader__item")].concat(c(qP(t,r,o)),[n[a],(i={},u(i,"".concat(e,"-cascader__item--with-icon"),!!t.children),u(i,"".concat(e,"-cascader__item--leaf"),t.isLeaf()),i)])}function YP(e,t,n,r){return["".concat(e,"-cascader__item-icon"),"".concat(e,"-icon")].concat(c(qP(t,n,r)))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function JP(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var XP={node:{type:Object,default:function(){return{}}},cascaderContext:{type:Object},onChange:Function,onClick:Function,onMouseenter:Function},ZP=(0,l.aZ)({name:"TCascaderItem",props:XP,setup:function(e){var t=(0,d.iH)();tp(t);var n=Os("cascader__item"),r=Os(),o=Tg({ChevronRightIcon:av}),i=o.ChevronRightIcon,a=Ts(),s=a.STATUS,c=a.SIZE,u=(0,l.Fl)((function(){return zP(r.value,e.node,c.value,s.value,e.cascaderContext)})),f=(0,l.Fl)((function(){return YP(r.value,e.node,s.value,e.cascaderContext)}));function p(e,t){var r=t.inputVal,o=r?VP(e):e.label;if(r){for(var i=o.split(r),a=[],s=0;s<i.length;s++){if(a.push((0,l.Wm)("span",{key:s},[i[s]])),s===i.length-1)break;a.push((0,l.Wm)("span",{key:"".concat(s,"filter"),class:"".concat(n.value,"-label--filter")},[r]))}return a}return o}function h(e,t){var r=p(e,t),o=(0,l.Wm)("span",{title:t.inputVal?VP(e):e.label,class:["".concat(n.value,"-label"),"".concat(n.value,"-label--ellipsis")],role:"label"},[r]);return o}function g(t,n){var r=n.checkProps,o=n.value,i=n.max,a=n.inputVal,s=p(t,n);return(0,l.Wm)(SN,(0,l.dG)({checked:t.checked,indeterminate:t.indeterminate,disabled:t.isDisabled()||o.length>=i&&0!==i,name:String(t.value),stopLabelTrigger:!0,title:a?VP(t):t.label,onChange:function(){e.onChange()}},r),JP(s)?s:{default:function(){return[s]}})}return function(){var n=e.cascaderContext,r=e.node;return(0,l.Wm)("li",{ref:t,class:u.value,onClick:function(t){t.stopPropagation(),e.onClick()},onMouseenter:function(t){t.stopPropagation(),e.onMouseenter()}},[n.multiple?g(r,n):h(r,n),r.children&&(r.loading?(0,l.Wm)(Qf,{class:f.value,size:"small"},null):(0,l.Wm)(i,{class:f.value},null))])}}}),$P={checkProps:{type:Object},checkStrictly:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:Boolean,empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},keys:{type:Object},lazy:{type:Boolean,default:!0},load:{type:Function},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},readonly:Boolean,selectInputProps:{type:Object},showAllLevels:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["large","medium","small"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},trigger:{type:String,default:"click",validator:function(e){return!e||["click","hover"].includes(e)}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return!e||["onlyLeaf","parentFirst","all"].includes(e)}},valueType:{type:String,default:"single",validator:function(e){return!e||["single","full"].includes(e)}},onBlur:Function,onChange:Function,onFocus:Function,onPopupVisibleChange:Function,onRemove:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function ek(e,t,n,r){var o=r.checkStrictly,i=r.multiple,a=r.treeStore,s=r.setVisible,c=r.setValue,u=r.setTreeNodes,l=r.setExpend,d=r.value,f=r.max,p=r.valueType,h=n.disabled||i&&d.length>=f&&0!==f;if(!h){if(e===t&&!n.isLeaf()){var g=n.setExpanded(!0);a.refreshNodes(),a.replaceExpanded(g);var m=a.getNodes().filter((function(e){return e.visible}));u(m),i&&l(g)}if(!i&&(n.isLeaf()||o)&&"click"===t){a.resetChecked();var y=n.setChecked(!n.checked),A=v(y,1),b=A[0];c("single"===p?b:n.getPath().map((function(e){return e.value})),"check",n.getModel()),o||s(!1,{})}}}function tk(e,t){var n=t.disabled,r=t.max,o=t.inputVal,i=t.multiple,a=t.setVisible,s=t.setValue,c=t.treeNodes,u=t.treeStore,l=t.valueType;if(e&&!n&&!e.disabled){var d=e.setChecked(!e.isChecked());if(PE(r)&&r<0&&console.warn("TDesign Warn:","max should > 0"),!(d.length>r&&PE(r)&&r>0)){if(0===d.length){var f=u.getExpanded();setTimeout((function(){u.replaceExpanded(f),u.refreshNodes()}),0)}i||a(!1,{});var p=c.every((function(e){return d.indexOf(e.value)>-1}));o&&p&&a(!1,{});var h="single"===l?d:d.map((function(e){return u.getNode(e).getPath().map((function(e){return e.value}))}));s(h,"check",e.getModel())}}}function nk(e){var t=e.setVisible,n=e.multiple,r=e.setExpend,o=e.setValue;t(!1,{}),n&&r([]),o(n?[]:"","clear")}function rk(e,t,n){var r=e.disabled,o=e.setValue,i=e.value,a=e.valueType,s=e.treeStore;if(!r){var c=oT(i),u=c.splice(t,1),l=s.getNodes(u[0])[0];o(c,"uncheck",l.getModel());var d=l.setChecked(!l.isChecked()),f="single"===a?d:d.map((function(e){return s.getNode(e).getPath().map((function(e){return e.value}))}));o(f,"uncheck",l.getModel()),ce(n)&&n({value:d,node:l})}}var ok=function(e,t,n,r){if(t){var o=[];if(e){var i=function(t){if(t.isLeaf()){if(ce(r))return r("".concat(e),t);var n=VP(t,"");return n.indexOf("".concat(e))>-1}};o=t.nodes.filter(i)}else o=t.getNodes().filter((function(e){return e.visible}));n(o)}},ik=function(e,t,n){var r=WP(t);if(e){if(Array.isArray(r)&&0===n.length){var o=new Map,i=v(r,1),a=i[0];if(a){o.set(a,!0);var s=e.getNode(a);if(!s)return void e.refreshNodes();s.getParents().forEach((function(e){o.set(e.value,!0)}));var c=Array.from(o.keys());e.replaceExpanded(c)}else e.resetExpanded()}e.getExpanded()&&n.length&&e.replaceExpanded(n),e.refreshNodes()}},ak=(0,l.aZ)({name:"TCascaderSubPanel",props:{empty:$P.empty,trigger:$P.trigger,onChange:$P.onChange,loading:$P.loading,loadingText:$P.loadingText,cascaderContext:{type:Object}},setup:function(e){var t=ip(),n=Os("cascader"),r=Is("cascader"),o=r.globalConfig,i=(r.t,(0,l.Fl)((function(){return UP(e.cascaderContext.treeNodes)}))),a=function(t,n){var r=e.trigger,o=e.cascaderContext;ek(r,n,t,o)},s=function(t){return(0,l.Wm)(ZP,{key:t.value,node:t,cascaderContext:e.cascaderContext,onClick:function(){a(t,"click")},onMouseenter:function(){a(t,"hover")},onChange:function(){tk(t,e.cascaderContext)}},null)},c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";return(0,l.Wm)("ul",{class:["".concat(n.value,"__menu"),"narrow-scrollbar",(t={},u(t,"".concat(n.value,"__menu--segment"),o),u(t,"".concat(n.value,"__menu--filter"),r),t)],key:i},[e.map((function(e){return s(e)}))])},d=function(){var t=e.cascaderContext,r=t.inputVal,o=t.treeNodes;return r?c(o,!0):i.value.map((function(e,t){return c(e,!1,t!==i.value.length-1,"".concat(n.value,"__menu").concat(t))}))};return function(){var r;return r=e.loading?t("loadingText",(0,l.Wm)("div",{class:"".concat(n.value,"__panel--empty")},[o.value.loadingText])):i.value.length?d():t("empty",(0,l.Wm)("div",{class:"".concat(n.value,"__panel--empty")},[o.value.empty])),(0,l.Wm)("div",{class:["".concat(n.value,"__panel"),u({},"".concat(n.value,"--normal"),i.value.length&&!e.loading)]},[r])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function sk(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var ck=sk,uk=jR,lk=ck,dk=eN,fk=1,pk=2;function hk(e,t,n,r,o,i){var a=n&fk,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,p=n&pk?new uk:void 0;i.set(e,t),i.set(t,e);while(++d<s){var h=e[d],g=t[d];if(r)var v=a?r(g,h,d,t,e,i):r(h,g,d,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!lk(t,(function(e,t){if(!dk(p,t)&&(h===e||o(h,e,n,r,i)))return p.push(t)}))){f=!1;break}}else if(h!==g&&!o(h,g,n,r,i)){f=!1;break}}return i["delete"](e),i["delete"](t),f}var gk=hk;function vk(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var mk=vk;function yk(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ak=yk,bk=D,Ek=To,_k=Qe,wk=gk,Sk=mk,Ck=Ak,Ik=1,Ok=2,Tk="[object Boolean]",Rk="[object Date]",Nk="[object Error]",Pk="[object Map]",kk="[object Number]",Dk="[object RegExp]",xk="[object Set]",Lk="[object String]",jk="[object Symbol]",Mk="[object ArrayBuffer]",Bk="[object DataView]",Fk=bk?bk.prototype:void 0,Uk=Fk?Fk.valueOf:void 0;function Vk(e,t,n,r,o,i,a){switch(n){case Bk:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mk:return!(e.byteLength!=t.byteLength||!i(new Ek(e),new Ek(t)));case Tk:case Rk:case kk:return _k(+e,+t);case Nk:return e.name==t.name&&e.message==t.message;case Dk:case Lk:return e==t+"";case Pk:var s=Sk;case xk:var c=r&Ik;if(s||(s=Ck),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=Ok,a.set(e,t);var l=wk(s(e),s(t),r,o,i,a);return a["delete"](e),l;case jk:if(Uk)return Uk.call(e)==Uk.call(t)}return!1}var Wk=Vk,Hk=hC,Qk=1,Gk=Object.prototype,Kk=Gk.hasOwnProperty;function qk(e,t,n,r,o,i){var a=n&Qk,s=Hk(e),c=s.length,u=Hk(t),l=u.length;if(c!=l&&!a)return!1;var d=c;while(d--){var f=s[d];if(!(a?f in t:Kk.call(t,f)))return!1}var p=i.get(e),h=i.get(t);if(p&&h)return p==t&&h==e;var g=!0;i.set(e,t),i.set(t,e);var v=a;while(++d<c){f=s[d];var m=e[f],y=t[f];if(r)var A=a?r(y,m,f,t,e,i):r(m,y,f,e,t,i);if(!(void 0===A?m===y||o(m,y,n,r,i):A)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(g=!1)}return i["delete"](e),i["delete"](t),g}var zk=qk,Yk=So,Jk=gk,Xk=Wk,Zk=zk,$k=su,eD=Kr,tD=Ln.exports,nD=br,rD=1,oD="[object Arguments]",iD="[object Array]",aD="[object Object]",sD=Object.prototype,cD=sD.hasOwnProperty;function uD(e,t,n,r,o,i){var a=eD(e),s=eD(t),c=a?iD:$k(e),u=s?iD:$k(t);c=c==oD?aD:c,u=u==oD?aD:u;var l=c==aD,d=u==aD,f=c==u;if(f&&tD(e)){if(!tD(t))return!1;a=!0,l=!1}if(f&&!l)return i||(i=new Yk),a||nD(e)?Jk(e,t,n,r,o,i):Xk(e,t,c,n,r,o,i);if(!(n&rD)){var p=l&&cD.call(e,"__wrapped__"),h=d&&cD.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,v=h?t.value():t;return i||(i=new Yk),o(g,v,n,r,i)}}return!!f&&(i||(i=new Yk),Zk(e,t,n,r,o,i))}var lD=uD,dD=lD,fD=On;function pD(e,t,n,r,o){return e===t||(null==e||null==t||!fD(e)&&!fD(t)?e!==e&&t!==t:dD(e,t,n,r,pD,o))}var hD=pD,gD=jR,vD=JR,mD=ZR,yD=wu,AD=Rn,bD=eN,ED=200;function _D(e,t,n,r){var o=-1,i=vD,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=yD(t,AD(n))),r?(i=mD,a=!1):t.length>=ED&&(i=bD,a=!1,t=new gD(t));e:while(++o<s){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,a&&d===d){var f=u;while(f--)if(t[f]===d)continue e;c.push(l)}else i(t,d,r)||c.push(l)}return c}var wD=_D;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SD(e){return null==e}var CD=SD;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ID(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TD(e){var t=HS(e,["value","label","data","actived","expanded","checked","indeterminate","loading"]);return t}function RD(e){var t=TD(e),n=OD(OD({},t),{},{getLevel:function(){return e.getLevel()},getIndex:function(){return e.getIndex()},isFirst:function(){return e.isFirst()},isLast:function(){return e.isLast()},isLeaf:function(){return e.isLeaf()},insertBefore:function(t){return e.insertBefore(t)},insertAfter:function(t){return e.insertAfter(t)},appendData:function(t){return e.append(t)},getPath:function(){var t=e.getPath();return t.map((function(e){return e.getModel()}))},getParent:function(){var t;return null===(t=e.parent)||void 0===t?void 0:t.getModel()},getParents:function(){var t=e.getParents();return t.map((function(e){return e.getModel()}))},getRoot:function(){var t=e.getRoot();return null===t||void 0===t?void 0:t.getModel()},getSiblings:function(){var t=e.getSiblings();return t.map((function(e){return e.getModel()}))},getChildren:function(t){var n=!1,r=e.children;if(Array.isArray(r))if(r.length>0)if(t){var o=e.walk();o.shift(),n=o.map((function(e){return e.getModel()}))}else n=r.map((function(e){return e.getModel()}));else n=!1;else"boolean"===typeof r&&(n=r);return n},remove:function(t){if(t){var n=e.tree,r=n.getNode(t);if(r){var o=r.getParents(),i=o.map((function(e){return e.value}));i.indexOf(e.value)<0?qA.warnOnce("Tree","`".concat(t,"` is not a childNode of current node")):r.remove()}else qA.warnOnce("Tree","`".concat(t,"` is not exist"))}else e.remove()},setData:function(t){var n=bR(t,["children","value","label"]),r=e.tree.config.keys,o=t[(null===r||void 0===r?void 0:r.value)||"value"],i=t[(null===r||void 0===r?void 0:r.label)||"label"];void 0!==o&&(n.value=o),void 0!==i&&(n.label=i),Object.assign(e.data,n),Object.assign(e,n)}});return n}function ND(e,t){var n=TD(t);Object.assign(e,n)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var PD=Uu,kD=0;function DD(e){var t=++kD;return PD(e)+t}var xD=DD;function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MD=Object.prototype.hasOwnProperty,BD={expandMutex:!1,activable:!1,checkable:!1,disabled:!1,draggable:!1,loading:!1},FD=function(){function e(t,n,r){FA(this,e),u(this,"tree",void 0),u(this,"value",void 0),u(this,"label",void 0),u(this,"data",void 0),u(this,"parent",void 0),u(this,"children",void 0),u(this,"model",void 0),u(this,"vmIsLeaf",void 0),u(this,"vmIsFirst",void 0),u(this,"vmIsLast",void 0),u(this,"vmIsRest",void 0),u(this,"vmIsLocked",void 0),u(this,"expanded",void 0),u(this,"expandMutex",void 0),u(this,"actived",void 0),u(this,"activable",void 0),u(this,"checkable",void 0),u(this,"vmCheckable",void 0),u(this,"checked",void 0),u(this,"indeterminate",void 0),u(this,"disabled",void 0),u(this,"draggable",void 0),u(this,"visible",void 0),u(this,"level",void 0),u(this,"loading",void 0),this.data=n,this.tree=t;var o=t.config||{},i=o.prefix||"t",a=sT(t,"config.keys")||{},s=a.children||"children",c=a.label||"label",l=a.value||"value";this.model=null,this.children=null,this.vmCheckable=!1,this.vmIsLeaf=!1,this.vmIsFirst=!1,this.vmIsLast=!1,this.vmIsRest=!0,this.vmIsLocked=!1;var d=jD(jD({},BD),{},{actived:!1,expanded:!1,checked:!1},n),f=d[s];this.set(d),this.label=d[c]||"",this.value=CD(d[l])?xD(i):d[l],this.tree.nodeMap.set(this.value,this),this.parent=r&&r instanceof e?r:null,!0===f&&(this.children=f),this.level=0,this.visible=!0,this.actived=d.actived,this.initActived(),this.expanded=d.expanded,this.initExpanded(),this.checked=d.checked,this.initChecked(),this.update(),t.reflow(this),Array.isArray(f)?this.append(f):!0!==f||o.lazy||this.loadChildren(),this.checked=!1,this.indeterminate=!1,this.updateChecked()}return VA(e,[{key:"initChecked",value:function(){var e=this.tree,t=this.value,n=this.parent,r=e.config.checkStrictly,o=this.checked;o=null===n||void 0===n?void 0:n.isChecked(),o&&!r&&e.checkedMap.set(t,!0),this.checked=o}},{key:"initExpanded",value:function(){var e=this.tree,t=this.expanded,n=e.config;"number"===typeof n.expandLevel&&this.getLevel()<n.expandLevel&&(e.expandedMap.set(this.value,!0),t=!0),n.expandAll&&(t=!0),!0===this.children&&n.lazy&&(t=!1),t?e.expandedMap.set(this.value,!0):e.expandedMap["delete"](this.value),this.expanded=t}},{key:"initActived",value:function(){var e=this.tree,t=this.actived;t&&e.activedMap.set(this.value,!0)}},{key:"append",value:function(t){var n=this,r=[];if(Array.isArray(t)?r.push.apply(r,c(t)):r.push(t),!(r.length<=0)){Array.isArray(this.children)||(this.children=[]);var o=this.children,i=this.tree;r.forEach((function(t){var r=null;t instanceof e?(r=t,r.appendTo(n.tree,n)):(r=new e(n.tree,t,n),o.push(r))})),i.reflow(this),this.updateRelated()}}},{key:"appendTo",value:function(t,n,r){var o=this,i=n,a=-1;"number"===typeof r&&(a=r);var s=(null===i||void 0===i?void 0:i.getParents())||[],c=s.some((function(e){return e===o}));if(c)throw new Error("无法将父节点插入到子节点");if(Array.isArray(null===i||void 0===i?void 0:i.children)){var u=null===i||void 0===i?void 0:i.children[a];if(u&&u===this)return}var l=null;if(i instanceof e?(Array.isArray(null===i||void 0===i?void 0:i.children)||(i.children=[]),l=n.children):l=t.children,!Array.isArray(l))throw new Error("无法插入到目标位置，可插入的节点列表不存在");var d=l.length,f=this.getIndex();if(this.remove(),"number"===typeof r){var p=r;if(i===this.parent){var h=l.length;h<d&&f<=p&&(p-=1)}l.splice(p,0,this)}else l.push(this);this.parent=i;var g=this.walk();g.forEach((function(e){var n=e;n.tree=t,t.nodeMap.set(n.value,n),n.expanded&&t.expandedMap.set(n.value,!0)}));var v=(null===i||void 0===i?void 0:i.walk())||t.children.map((function(e){return e.walk()})).flat();v.forEach((function(e){e.update(),e.updateChecked()})),t.reflow()}},{key:"insert",value:function(t,n){var r=this.tree,o=this.parent,i=this.getSiblings(),a=null;t instanceof e?(a=t,a.appendTo(r,o,n)):t&&(a=new e(r,t,o),"number"===typeof n&&i.splice(n,0,a),i.forEach((function(e){e.update()}))),r.reflow()}},{key:"insertBefore",value:function(e){var t=this.getIndex();this.insert(e,t)}},{key:"insertAfter",value:function(e){var t=this.getIndex();this.insert(e,t+1)}},{key:"remove",value:function(){var e=this.tree,t=this.walk(),n=this.getSiblings(),r=this.getIndex();Array.isArray(n)&&n.splice(r,1),t.forEach((function(e){e.clean()})),n.forEach((function(e){e.update()})),this.updateParents(),e.reflow()}},{key:"clean",value:function(){var e=this.tree,t=this.value;e.activedMap["delete"](t),e.checkedMap["delete"](t),e.expandedMap["delete"](t),e.nodeMap["delete"](t)}},{key:"loadChildren",value:function(){var e=Oh(Ph.mark((function e(){var t,n;return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=sT(this,"tree.config")||{},!0!==this.children||this.loading){e.next=13;break}if("function"!==typeof t.load){e.next=13;break}return this.loading=!0,this.update(),n=[],e.next=8,t.load(this);case 8:n=e.sent,this.tree.emit("load",{node:this,data:n}),this.loading=!1,Array.isArray(n)&&n.length>0?this.append(n):this.children=!1,this.update();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e){var t=this,n=this.tree,r=Object.keys(e);r.forEach((function(n){(MD.call(BD,n)||"label"===n)&&(t[n]=e[n])})),n.updated(this)}},{key:"getParent",value:function(){return this.parent}},{key:"getParents",value:function(){var e=[],t=this.parent;while(t)e.push(t),t=t.parent;return e}},{key:"getSiblings",value:function(){var e=this.parent,t=this.tree,n=[];return e?Array.isArray(e.children)&&(n=e.children):t&&(n=t.children),n}},{key:"getRoot",value:function(){var e=this.getParents();return e[e.length-1]||null}},{key:"getIndex",value:function(){var e=this.getSiblings();return e.indexOf(this)}},{key:"getPath",value:function(){var e=this.getParents();return e.unshift(this),e.reverse()}},{key:"getLevel",value:function(){var e=this.getParents();return e.length}},{key:"isRest",value:function(){var e=this.tree,t=e.config,n=e.filterMap,r=!0;if("function"===typeof t.filter){var o=this.getModel();r=t.filter(o)}return r?n.set(this.value,!0):n.get(this.value)&&n["delete"](this.value),r}},{key:"isVisible",value:function(){var e=this.tree.nodeMap,t=!0;if(this.vmIsLocked)return!0;if(e.get(this.value)){var n=this.isRest(),r=!0,o=this.getParents();o.length>0&&(r=o.every((function(e){return e.isExpanded()}))),t=r&&n}else t=!1;return t}},{key:"isDisabled",value:function(){if(this.vmIsLocked)return!0;var e=sT(this,"tree.config.disabled");return!(!e&&!this.disabled)}},{key:"isDraggable",value:function(){return!(!sT(this,"tree.config.draggable")&&!this.draggable)}},{key:"isExpandMutex",value:function(){return!(!sT(this,"tree.config.expandMutex")&&!this.expandMutex)}},{key:"isActivable",value:function(){return!(!sT(this,"tree.config.activable")&&!this.activable)}},{key:"isCheckable",value:function(){return!(!sT(this,"tree.config.checkable")&&!this.checkable)}},{key:"isActived",value:function(e){var t=this.tree,n=this.value,r=e||t.activedMap;return!(!t.nodeMap.get(n)||!r.get(n))}},{key:"isExpanded",value:function(e){var t=this.tree,n=this.value,r=this.vmIsLocked;if(r)return!0;var o=e||t.expandedMap;return!(!t.nodeMap.get(n)||!o.get(n))}},{key:"isChecked",value:function(e){var t=this.children,n=this.tree,r=n.config.checkStrictly,o=!1,i=e||n.checkedMap;if(n.nodeMap.get(this.value))if(i.get(this.value))o=!0;else if(Array.isArray(t)&&t.length>0&&!r)o=t.every((function(e){var t=e.isChecked(i);return t}));else if(!r){var a=this.getParents();o=a.some((function(e){return i.get(e.value)}))}return!!o}},{key:"isIndeterminate",value:function(){var e=this.children,t=this.tree,n=t.config.checkStrictly;if(n)return!1;var r=!1;if(Array.isArray(e)){var o=null;r=e.some((function(e){return!!e.isIndeterminate()||(null===o&&(o=e.isChecked()),o!==e.isChecked())}))}return r}},{key:"isFirst",value:function(){var e=this.getSiblings();return e[0]===this}},{key:"isLast",value:function(){var e=this.getSiblings();return e[e.length-1]===this}},{key:"isLeaf",value:function(){var e=!1;return e=Array.isArray(this.children)?this.children.length<=0:!this.children,e}},{key:"lock",value:function(e){this.vmIsLocked=e,this.expanded=this.isExpanded(),this.visible=this.isVisible()}},{key:"afterExpanded",value:function(){this.update(),this.expanded&&!0===this.children&&this.loadChildren()}},{key:"toggleExpanded",value:function(){return this.setExpanded(!this.isExpanded())}},{key:"setExpanded",value:function(e,t){var n=this.tree,r=jD({directly:!1},t),o=n.expandedMap;if(r.directly||(o=new Map(n.expandedMap)),e){var i=[];i.push(this),sT(n,"config.expandParent")&&this.getParents().forEach((function(e){i.push(e)})),i.forEach((function(e){var t,r=!1;e.parent?r=e.parent.isExpandMutex():r=null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.expandMutex;if(r){var i=e.getSiblings();i.forEach((function(e){o["delete"](e.value)}))}o.set(e.value,!0)}))}else o["delete"](this.value);return r.directly&&(this.afterExpanded(),this.update(),this.updateChildren()),n.getExpanded(o)}},{key:"toggleActived",value:function(){return this.setActived(!this.isActived())}},{key:"setActived",value:function(e,t){var n=this.tree,r=jD({directly:!1},t),o=n.config||{},i=n.activedMap;return r.directly||(i=new Map(n.activedMap)),this.isActivable()&&(e?(o.activeMultiple||i.clear(),i.set(this.value,!0)):i["delete"](this.value)),r.directly&&this.update(),n.getActived(i)}},{key:"toggleChecked",value:function(){return this.setChecked(!this.isChecked())}},{key:"setChecked",value:function(e,t){var n=this.tree,r=n.config||{},o=jD({directly:!1},t),i=n.checkedMap;if(o.directly||(i=new Map(n.checkedMap)),this.isCheckable()&&e!==this.isChecked())if(r.checkStrictly)e?i.set(this.value,!0):i["delete"](this.value);else{var a=this.walk();a.forEach((function(t){e?i.set(t.value,!0):i["delete"](t.value)}));var s=this.getParents();s.forEach((function(e){i["delete"](e.value)}))}if(o.directly)if(r.checkStrictly)this.updateChecked();else{var c=n.getRelatedNodes([this.value]);c.forEach((function(e){e.updateChecked()}))}return n.getChecked(i)}},{key:"update",value:function(){this.level=this.getLevel(),this.actived=this.isActived(),this.expanded=this.isExpanded(),this.vmCheckable=this.isCheckable(),this.visible=this.isVisible(),this.vmIsRest=this.isRest(),this.vmIsFirst=this.isFirst(),this.vmIsLast=this.isLast(),this.vmIsLeaf=this.isLeaf(),this.tree.updated(this)}},{key:"updateChecked",value:function(e){var t=this.tree;this.vmCheckable=this.isCheckable(),!this.vmCheckable||this.disabled&&!e||(this.checked=this.isChecked(),this.checked&&t.checkedMap.set(this.value,!0),this.indeterminate=this.isIndeterminate(),t.updated(this))}},{key:"updateChildren",value:function(){var e=this.children;Array.isArray(e)&&e.forEach((function(e){e.update(),e.updateChecked(),e.updateChildren()}))}},{key:"updateParents",value:function(){var e=this.parent;e&&(e.update(),e.updateChecked(),e.updateParents())}},{key:"updateRelated",value:function(){var e=this.tree,t=e.getRelatedNodes([this.value]);t.forEach((function(e){e.update(),e.updateChecked()})),e.reflow()}},{key:"walk",value:function(){var e=this.children,t=[];return t.push(this),Array.isArray(e)&&e.length>0&&e.forEach((function(e){t=t.concat(e.walk())})),t}},{key:"getModel",value:function(){var e=this.model;return e||(e=RD(this),this.model=e),ND(e,this),e}}]),e}(),UD=wD,VD=_S,WD=ra,HD=Zi,QD=WD((function(e,t){return HD(e)?UD(e,VD(t,1,HD,!0)):[]})),GD=QD;function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zD=function(){function e(t){FA(this,e),u(this,"children",void 0),u(this,"nodes",void 0),u(this,"nodeMap",void 0),u(this,"config",void 0),u(this,"activedMap",void 0),u(this,"updatedMap",void 0),u(this,"checkedMap",void 0),u(this,"expandedMap",void 0),u(this,"filterMap",void 0),u(this,"updateTimer",void 0),u(this,"shouldReflow",void 0),u(this,"prevFilter",void 0),u(this,"nullNodeModel",void 0);var n=qD({prefix:"t",keys:{},expandAll:!1,expandLevel:0,expandMutex:!1,expandParent:!1,activable:!1,activeMultiple:!1,checkable:!1,checkStrictly:!1,disabled:!1,draggable:!1,load:null,lazy:!1,valueMode:"onlyLeaf",filter:null,onLoad:null,onReflow:null,onUpdate:null,allowFoldNodeOnFilter:!1},t);this.config=n,this.nodes=[],this.children=[],this.nodeMap=new Map,this.activedMap=new Map,this.expandedMap=new Map,this.checkedMap=new Map,this.updatedMap=new Map,this.filterMap=new Map,this.prevFilter=null,this.updateTimer=null,this.shouldReflow=!1,this.initNullNodeModel()}return VA(e,[{key:"initNullNodeModel",value:function(){var e=new FD(this,{value:"",label:"",children:[]});this.nullNodeModel=e.getModel(),e.remove()}},{key:"setConfig",value:function(e){var t=this,n=!1;Object.keys(e).forEach((function(r){var o=e[r];o!==t.config[r]&&(n=!0,t.config[r]=o)})),n&&this.refreshState()}},{key:"getChildren",value:function(){return this.children}},{key:"getNode",value:function(e){var t=null;return"string"===typeof e||"number"===typeof e?t=this.nodeMap.get(e):e instanceof FD&&(t=this.nodeMap.get(e.value)),t}},{key:"getIndex",value:function(e){return this.nodes.indexOf(e)}},{key:"getParent",value:function(e){var t=null,n=this.getNode(e);return n&&(t=n.getParent()),t}},{key:"getParents",value:function(e){var t=this.getNode(e),n=[];return t&&(n=t.getParents()),n}},{key:"getNodeIndex",value:function(e){var t=this.getNode(e),n=-1;return t&&(n=t.getIndex()),n}},{key:"getNodes",value:function(e,t){var n=[],r="";if("string"===typeof e||"number"===typeof e?r=e:e instanceof FD&&(r=e.value),r){var o=this.getNode(r);o&&(n=o.walk())}else n=this.nodes.slice(0);if(t){var i=qD({filter:null,level:1/0},t);"number"===typeof i.level&&i.level!==1/0&&(n=n.filter((function(e){return e.level<=i.level}))),"function"===typeof i.filter&&(n=n.filter((function(e){var t=e.getModel();return i.filter(t)}))),ha(i.props)&&(n=n.filter((function(e){var t=Object.keys(i.props).every((function(t){var n=e[t]===i.props[t];return n}));return t})))}return n}},{key:"append",value:function(e){var t=this;e.forEach((function(e){var n=new FD(t,e);t.children.push(n)})),this.reflow()}},{key:"reload",value:function(e){this.expandedMap.clear(),this.checkedMap.clear(),this.activedMap.clear(),this.filterMap.clear(),this.removeAll(),this.append(e)}},{key:"parseNodeData",value:function(e,t){var n="",r=null,o=null;"string"===typeof e||"number"===typeof e?(n=e,o=t,r=this.getNode(n)):e instanceof FD?(r=e,o=t):o=e;var i={node:r,data:o};return i}},{key:"appendNodes",value:function(e,t){var n=this.parseNodeData(e,t);n.data&&(n.node?(n.data instanceof FD?n.data.appendTo(this,n.node):Array.isArray(n.data)?n.node.append(n.data):n.node.append([n.data]),n.node.updateRelated()):n.data instanceof FD?n.data.appendTo(this):Array.isArray(n.data)?this.append(n.data):this.append([n.data]))}},{key:"insertBefore",value:function(e,t){var n=this.getNode(e);n&&n.insertBefore(t)}},{key:"insertAfter",value:function(e,t){var n=this.getNode(e);n&&n.insertAfter(t)}},{key:"refreshNodes",value:function(){var e=this.children,t=this.nodes;t.length=0,e.forEach((function(e){var n=e.walk();Array.prototype.push.apply(t,n)}))}},{key:"refreshState",value:function(){var e=this.nodes;e.forEach((function(e){e.update(),e.updateChecked()}))}},{key:"reflow",value:function(e){this.shouldReflow=!0,this.updated(e)}},{key:"updated",value:function(e){var t=this;null!==e&&void 0!==e&&e.value&&this.updatedMap.set(e.value,!0),this.updateTimer||(this.updateTimer=+setTimeout((function(){var e;clearTimeout(t.updateTimer),t.updateTimer=null,t.shouldReflow&&(t.refreshNodes(),t.emit("reflow")),null!==(e=t.config)&&void 0!==e&&e.allowFoldNodeOnFilter||t.lockFilterPathNodes();var n=Array.from(t.updatedMap.keys());if(n.length>0){var r=n.map((function(e){return t.getNode(e)}));t.emit("update",{nodes:r,map:t.updatedMap})}else t.shouldReflow&&t.emit("update",{nodes:[],map:t.updatedMap});t.shouldReflow=!1,t.updatedMap.clear()})))}},{key:"getActived",value:function(e){var t=e||this.activedMap;return Array.from(t.keys())}},{key:"getActivedNodes",value:function(e){var t=this.getNodes(e);return t=t.filter((function(e){return e.isActived()})),t}},{key:"replaceActived",value:function(e){this.resetActived(),this.setActived(e)}},{key:"setActived",value:function(e){var t=this,n=this.config.activeMultiple,r=e.slice(0);n||(r.length=1),r.forEach((function(e){t.activedMap.set(e,!0);var n=t.getNode(e);n&&n.update()}))}},{key:"resetActived",value:function(){var e=this.getActived();this.activedMap.clear();var t=this.getRelatedNodes(e);t.forEach((function(e){e.update()}))}},{key:"getExpanded",value:function(e){var t=e||this.expandedMap;return Array.from(t.keys())}},{key:"replaceExpanded",value:function(e){var t=this.getExpanded(),n=GD(e,t),r=GD(t,e);this.setExpandedDirectly(r,!1),this.updateExpanded(r),this.setExpanded(n)}},{key:"setExpanded",value:function(e){this.setExpandedDirectly(e),this.updateExpanded(e)}},{key:"setExpandedDirectly",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){if(n){t.expandedMap.set(e,!0);var r=t.getNode(e);r&&r.afterExpanded()}else t.expandedMap["delete"](e)}))}},{key:"resetExpanded",value:function(){var e=this.getExpanded();this.expandedMap.clear(),this.updateExpanded(e)}},{key:"updateExpanded",value:function(e){var t=this.getRelatedNodes(e,{withParents:!1});t.forEach((function(e){e.update()}))}},{key:"getChecked",value:function(e){var t=this.nodes,n=this.config,r=n.valueMode,o=n.checkStrictly,i=[],a=e||this.checkedMap;return t.forEach((function(e){e.isChecked(a)&&("parentFirst"!==r||o?("onlyLeaf"!==r||o||e.isLeaf())&&i.push(e.value):e.parent&&e.parent.isChecked(a)||i.push(e.value))})),i}},{key:"getCheckedNodes",value:function(e){var t=this.getNodes(e);return t=t.filter((function(e){return e.isChecked()})),t}},{key:"replaceChecked",value:function(e){this.resetChecked(),this.setChecked(e,!0)}},{key:"setChecked",value:function(e,t){var n=this,r=this.config,o=r.valueMode,i=r.checkStrictly,a=r.checkable;if(a&&(e.forEach((function(e){var r=n.getNode(e);if(r)if("parentFirst"!==o||i)n.checkedMap.set(e,!0),r.updateChecked(t);else{var a=r.walk();a.forEach((function(e){n.checkedMap.set(e.value,!0)}))}})),!i)){var s=this.getChecked(),c=this.getRelatedNodes(s);c.forEach((function(e){e.updateChecked()}))}}},{key:"resetChecked",value:function(){var e=this.getChecked(),t=this.getRelatedNodes(e);this.checkedMap.clear(),t.forEach((function(e){e.updateChecked()}))}},{key:"updateAll",value:function(){var e=this.getNodes();e.forEach((function(e){e.update()}))}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.remove()}},{key:"removeAll",value:function(){var e=this.getNodes();e.forEach((function(e){e.remove()}))}},{key:"getRelatedNodes",value:function(e,t){var n=this,r=qD({withParents:!0},t),o=new Map;e.forEach((function(e){if(!o.get(e)){var t=n.getNode(e);if(t){var i=t.getParents(),a=t.walk(),s=[];s=r.withParents?i.concat(a):a,s.forEach((function(e){o.set(e.value,e)}))}}}));var i=Array.from(o.values());return i}},{key:"emit",value:function(e,t){var n=this.config||{},r=bf("on-".concat(e)),o=n[r];"function"===typeof o&&o(t)}},{key:"lockFilterPathNodes",value:function(){var e=this,t=this.config,n=this.getNodes();this.prevFilter&&n.forEach((function(e){e.lock(!1)}));var r=t.filter;if(r&&"function"===typeof r&&!r(this.nullNodeModel)){this.prevFilter=t.filter;var o=new Map;n.reverse().forEach((function(e){var t=e,n=t.getParent();t.vmIsRest&&(n&&(n.expanded=!0),t.visible=!0),(t.vmIsRest||o.get(t.value))&&n&&!n.vmIsRest&&o.set(n.value,!0)}));var i=Array.from(o.keys());i.forEach((function(t){var n=e.getNode(t);n&&n.lock(!0)}))}}}]),e}(),YD=hD;function JD(e,t){return YD(e,t)}var XD=JD;function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZD(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ex=function(e,t,n,r){var o=(0,d.qj)({treeStore:null,inputVal:null,scopeVal:void 0,treeNodes:[],expend:[]});return{statusContext:o,cascaderContext:(0,l.Fl)((function(){var i=e.size,a=e.checkStrictly,s=e.lazy,c=e.multiple,u=e.filterable,l=e.clearable,d=e.checkProps,f=e.max,p=e.disabled,h=e.showAllLevels,g=e.minCollapsedNum,v=e.valueType;return $D($D({value:o.scopeVal,size:i,checkStrictly:a,lazy:s,multiple:c,filterable:u,clearable:l,checkProps:d,max:f,disabled:p,showAllLevels:h,minCollapsedNum:g,valueType:v,visible:n.value},o),{},{setTreeNodes:function(e){o.treeNodes=e},setValue:function(e,n,r){XD(e,o.scopeVal)||t(e,{source:n,node:r})},setVisible:r,setInputVal:function(e){o.inputVal=e},setExpend:function(e){o.expend=e}})}))}},tx=function(e){var t=np(),n=(0,d.BK)(e),r=n.value,o=n.modelValue,i=n.popupVisible,a=Sy(r,o,e.defaultValue,e.onChange),s=v(a,2),c=s[0],u=s[1],f=zA(i,!1,e.onPopupVisibleChange,"popupVisible"),p=v(f,2),h=p[0],g=p[1],m=ex(e,u,h,g),y=m.cascaderContext,A=m.statusContext,b=(0,l.Fl)((function(){return Boolean(e.filterable||ce(e.filter))})),E=function(){var t=y.value,n=t.inputVal,r=t.treeStore,o=t.setTreeNodes;ok(n,r,o,e.filter)},_=function(){var e=y.value,t=e.value,n=e.treeStore,r=A.expend;ik(n,t,r),n.replaceChecked(WP(t))};return(0,l.YP)((function(){return e.options}),(function(){var t=e.options,n=e.keys,r=void 0===n?{}:n,o=e.checkStrictly,i=e.lazy,a=e.load,s=e.valueMode,c=A.treeStore;if(t.length||c){if(c){if(XD(c.config.options,t))return;c.reload(t),c.refreshNodes()}else{var u=new zD({keys:$D($D({},r),{},{children:"string"===typeof r.children?r.children:"children"}),checkable:!0,expandMutex:!0,expandParent:!0,lazy:i,load:a,valueMode:s,checkStrictly:o,onLoad:function(){(0,l.Y3)((function(){u.refreshNodes(),E()}))}});u.append(t),A.treeStore=u}_(),E()}}),{immediate:!0}),(0,l.YP)((function(){var t=e.checkStrictly,n=e.lazy,r=e.load,o=e.valueMode;return JSON.stringify({valueMode:o,checkStrictly:t,lazy:n,load:r})}),(function(){var n=A.treeStore;if(n){var r=e.checkStrictly,o=e.lazy,i=e.load,a=e.valueMode,s={checkStrictly:r,disabled:t,load:i,lazy:o,valueMode:a};n.setConfig(s)}}),{immediate:!0}),(0,l.YP)(c,(function(){var e=y.value,t=e.setValue,n=e.multiple,r=e.valueType;GP(c.value,y.value)?t(n?[]:"","invalid-value"):A.scopeVal=n?[]:"",QP(c)||(A.scopeVal=HP(c.value,r,n)),A.treeStore&&(_(),E())}),{immediate:!0}),(0,l.YP)((function(){return h.value&&b.value}),(function(e){var t=y.value.setInputVal;e&&t("")})),(0,l.YP)((function(){return A.inputVal}),(function(){E()})),{cascaderContext:y,isFilterable:b}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function nx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nx(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ox=(0,l.aZ)({name:"TCascader",props:rx({},$P),setup:function(e,t){var n=t.slots,r=np(),o=Os("cascader"),i=Os(),a=Ts(),s=a.STATUS,c=Os("cascader__popup"),u=Is("cascader"),d=u.globalConfig,f=tx(e),p=f.cascaderContext,h=f.isFilterable,g=(0,l.Fl)((function(){return e.multiple?FP(p.value):BP(p.value)})),v=(0,l.Fl)((function(){return UP(p.value.treeNodes)})),m=(0,l.Fl)((function(){var t;return p.value.visible&&!e.multiple&&BP(p.value)||(null!==(t=e.placeholder)&&void 0!==t?t:d.value.placeholder)})),y=function(){var e=p.value,t=e.visible,n=e.disabled;return(0,l.Wm)(dE,{overlayClassName:KP(i.value,s.value,p.value),isActive:t,disabled:n},null)};return function(){var t,i=p.value,a=i.setVisible,s=i.visible,u=i.inputVal,d=i.setInputVal;return(0,l.Wm)(KT,(0,l.dG)({class:o.value,value:g.value,inputValue:s?u:"",popupVisible:s,keys:e.keys,allowInput:h.value,"min-collapsed-num":e.minCollapsedNum,"collapsed-items":e.collapsedItems,readonly:e.readonly,disabled:e.disabled,clearable:e.clearable,placeholder:m.value,multiple:e.multiple,loading:e.loading,status:e.status,tips:e.tips,suffixIcon:function(){return y()},popupProps:rx(rx({},e.popupProps),{},{overlayInnerStyle:v.value.length&&!e.loading?{width:"auto"}:"",overlayInnerClassName:[c.value,null===(t=e.popupProps)||void 0===t?void 0:t.overlayClassName]}),inputProps:rx({size:e.size},e.inputProps),tagInputProps:rx({size:e.size},e.tagInputProps),tagProps:rx({},e.tagProps),onInputChange:function(t,n){var r,o;h.value&&(d("".concat(t)),null===e||void 0===e||null===(r=e.selectInputProps)||void 0===r||null===(o=r.onInputChange)||void 0===o||o.call(r,t,n))},onTagChange:function(t,n){var r,o;"enter"!==n.trigger&&(rk(p.value,n.index,e.onRemove),null===e||void 0===e||null===(r=e.selectInputProps)||void 0===r||null===(o=r.onTagChange)||void 0===o||o.call(r,t,n))},onPopupVisibleChange:function(t,n){var o,i;r.value||(a(t,n),null===e||void 0===e||null===(o=e.selectInputProps)||void 0===o||null===(i=o.onPopupVisibleChange)||void 0===i||i.call(o,t,n))},onBlur:function(t,n){var r,o,i;null===(r=e.onBlur)||void 0===r||r.call(e,{value:p.value.value,e:n.e}),null===e||void 0===e||null===(o=e.selectInputProps)||void 0===o||null===(i=o.onBlur)||void 0===i||i.call(o,t,n)},onFocus:function(t,n){var r,o,i;null===(r=e.onFocus)||void 0===r||r.call(e,{value:p.value.value,e:n.e}),null===e||void 0===e||null===(o=e.selectInputProps)||void 0===o||null===(i=o.onFocus)||void 0===i||i.call(o,t,n)},onClear:function(t){var n,r;nk(p.value),null===e||void 0===e||null===(n=e.selectInputProps)||void 0===n||null===(r=n.onClear)||void 0===r||r.call(n,t)}},bR(e.selectInputProps,["onTagChange","onInputChange","onPopupVisibleChange","onBlur","onFocus","onClear"])),{panel:function(){return(0,l.Wm)(ak,{empty:e.empty,visible:s,trigger:e.trigger,loading:e.loading,loadingText:e.loadingText,cascaderContext:p.value},{empty:n.empty,loadingText:n.loadingText})},collapsedItems:n.collapsedItems})}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ix(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sx=(0,l.aZ)({name:"TCascaderPanel",props:ax({},$P),setup:function(e,t){var n=t.slots,r=tx(e),o=r.cascaderContext;return function(){return(0,l.Wm)(ak,{trigger:e.trigger,cascaderContext:o.value,empty:e.empty},{empty:n.empty})}}}),cx=Hf(ox),ux=Hf(sx),lx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",s="day",c="week",u="month",l="quarter",d="year",f="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,u),i=n-o<0,a=t.clone().add(r+(i?-1:1),u);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:c,d:s,D:f,h:a,m:i,s:o,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},A="en",b={};b[A]=v;var E=function(e){return e instanceof I},_=function e(t,n,r){var o;if(!t)return A;if("string"==typeof t){var i=t.toLowerCase();b[i]&&(o=i),n&&(b[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var s=t.name;b[s]=t,o=s}return!r&&o&&(A=o),o||!r&&A},w=function(e,t){if(E(e))return e.clone();var n="object"==S(t)?t:{};return n.date=e,n.args=arguments,new I(n)},C=y;C.l=_,C.i=E,C.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function v(e){this.$L=_(e.locale,null,!0),this.parse(e)}var m=v.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return C},m.isValid=function(){return!(this.$d.toString()===p)},m.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return w(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<w(e)},m.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,r=!!C.u(t)||t,l=C.p(e),p=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},h=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?p(1,0):p(31,11);case u:return r?p(1,v):p(0,v+1);case c:var A=this.$locale().weekStart||0,b=(g<A?g+7:g)-A;return p(r?m-b:m+(6-b),v);case s:case f:return h(y+"Hours",0);case a:return h(y+"Minutes",1);case i:return h(y+"Seconds",2);case o:return h(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var n,c=C.p(e),l="set"+(this.$u?"UTC":""),p=(n={},n[s]=l+"Date",n[f]=l+"Date",n[u]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[i]=l+"Minutes",n[o]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],h=c===s?this.$D+(t-this.$W):t;if(c===u||c===d){var g=this.clone().set(f,1);g.$d[p](h),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[C.p(e)]()},m.add=function(r,l){var f,p=this;r=Number(r);var h=C.p(l),g=function(e){var t=w(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(h===u)return this.set(u,this.$M+r);if(h===d)return this.set(d,this.$y+r);if(h===s)return g(1);if(h===c)return g(7);var v=(f={},f[i]=t,f[a]=n,f[o]=e,f)[h]||1,m=this.$d.getTime()+r*v;return C.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),i=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},d=function(e){return C.s(i%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:C.s(s+1,2,"0"),MMM:l(n.monthsShort,s,u,3),MMMM:l(u,s),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,c,2),ddd:l(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:C.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,a,!0),A:f(i,a,!1),m:String(a),mm:C.s(a,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:o};return r.replace(g,(function(e,t){return t||h[e]||o.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,f,p){var h,g=C.p(f),v=w(r),m=(v.utcOffset()-this.utcOffset())*t,y=this-v,A=C.m(this,v);return A=(h={},h[d]=A/12,h[u]=A,h[l]=A/3,h[c]=(y-m)/6048e5,h[s]=(y-m)/864e5,h[a]=y/n,h[i]=y/t,h[o]=y/e,h)[g]||y,p?A:C.a(A)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},m.clone=function(){return C.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},v}(),O=I.prototype;return w.prototype=O,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",s],["$M",u],["$y",d],["$D",f]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,I,w),e.$i=!0),w},w.locale=_,w.isDayjs=E,w.unix=function(e){return w(1e3*e)},w.en=b[A],w.Ls=b,w.p={},w}))})(lx,lx.exports);var dx=lx.exports;function fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function px(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fx(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hx={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10 3H6V1.5H5V3H3a1 1 0 00-1 1v9a1 1 0 001 1h10a1 1 0 001-1V4a1 1 0 00-1-1h-2V1.5h-1V3zM5 5h1V4h4v1h1V4h2v2H3V4h2v1zM3 7h10v6H3V7z",fillOpacity:.9}}]},gx=(0,l.aZ)({name:"CalendarIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-calendar",o.value])),s=(0,l.Fl)((()=>px(px({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(hx,c.value)}}),vx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,i={},a=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,r=i.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=l(e,!1)}],a:[o,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[o,function(e){var t=i.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function f(n){var r,o;r=n,o=i&&i.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,c=0;c<s;c+=1){var u=a[c],l=d[u],f=l&&l[0],p=l&&l[1];a[c]=p?{regex:f,parser:p}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var o=a[n];if("string"==typeof o)r+=o.length;else{var i=o.regex,c=o.parser,u=e.slice(r),l=i.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var s=a[1];if("string"==typeof s){var c=!0===a[2],u=!0===a[3],l=c||u,d=a[2];u&&(d=a[2]),i=this.$locale(),!c&&d&&(i=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=f(t)(e),o=r.year,i=r.month,a=r.day,s=r.hours,c=r.minutes,u=r.seconds,l=r.milliseconds,d=r.zone,p=new Date,h=a||(o||i?1:p.getDate()),g=o||p.getFullYear(),v=0;o&&!i||(v=i>0?i-1:p.getMonth());var m=s||0,y=c||0,A=u||0,b=l||0;return d?new Date(Date.UTC(g,v,h,m,y,A,b+60*d.offset*1e3)):n?new Date(Date.UTC(g,v,h,m,y,A,b)):new Date(g,v,h,m,y,A,b)}catch(e){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),l&&t!=this.format(s)&&(this.$d=new Date("")),i={}}else if(s instanceof Array)for(var p=s.length,h=1;h<=p;h+=1){a[1]=s[h-1];var g=n.apply(this,a);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}h===p&&(this.$d=new Date(""))}else o.call(this,e)}}}))})(vx,vx.exports);var mx=vx.exports,yx=Eb,Ax=1/0,bx=17976931348623157e292;function Ex(e){if(!e)return 0===e?e:0;if(e=yx(e),e===Ax||e===-Ax){var t=e<0?-1:1;return t*bx}return e===e?e:0}var _x=Ex,wx=_x;function Sx(e){var t=wx(e),n=t%1;return t===t?n?t-n:t:0}var Cx=Sx;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}var Ox={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){return function(e,t,n){t.prototype.isBetween=function(e,t,r,o){var i=n(e),a=n(t),s="("===(o=o||"()")[0],c=")"===o[1];return(s?this.isAfter(i,r):!this.isBefore(i,r))&&(c?this.isBefore(a,r):!this.isAfter(a,r))||(s?this.isBefore(i,r):!this.isAfter(i,r))&&(c?this.isAfter(a,r):!this.isBefore(a,r))}}}))})(Ox,Ox.exports);var Tx=Ox.exports,Rx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}))})(Rx,Rx.exports);var Nx=Rx.exports,Px={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){return function(e,t,n){var r=t.prototype,o=function(e){return e&&(e.indexOf?e:e.s)},i=function(e,t,n,r,i){var a=e.name?e:e.$locale(),s=o(a[t]),c=o(a[n]),u=s||c.map((function(e){return e.slice(0,r)}));if(!i)return u;var l=a.weekStart;return u.map((function(e,t){return u[(t+(l||0))%7]}))},a=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):i(e,"months")},monthsShort:function(t){return t?t.format("MMM"):i(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):i(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):i(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):i(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return i(a(),"months")},n.monthsShort=function(){return i(a(),"monthsShort","months",3)},n.weekdays=function(e){return i(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return i(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return i(a(),"weekdaysMin","weekdays",2,e)}}}))})(Px,Px.exports);var kx=Px.exports,Dx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e="week",t="year";return function(n,r,o){var i=r.prototype;i.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=o(this).startOf(t).add(1,t).date(r),a=o(this).endOf(e);if(i.isBefore(a))return 1}var s=o(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),c=this.diff(s,e,!0);return c<0?o(this).startOf("week").week():Math.ceil(c)},i.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}))})(Dx,Dx.exports);var xx=Dx.exports,Lx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e="month",t="quarter";return function(n,r){var o=r.prototype;o.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var i=o.add;o.add=function(n,r){return n=Number(n),this.$utils().p(r)===t?this.add(3*n,e):i.bind(this)(n,r)};var a=o.startOf;o.startOf=function(n,r){var o=this.$utils(),i=!!o.u(r)||r;if(o.p(n)===t){var s=this.quarter()-1;return i?this.month(3*s).startOf(e).startOf("day"):this.month(3*s+2).endOf(e).endOf("day")}return a.bind(this)(n,r)}}}))})(Lx,Lx.exports);var jx=Lx.exports,Mx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e="day";return function(t,n,r){var o=function(t){return t.add(4-t.isoWeekday(),e)},i=n.prototype;i.isoWeekYear=function(){return o(this).year()},i.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var n,i,a,s,c=o(this),u=(n=this.isoWeekYear(),i=this.$u,a=(i?r.utc:r)().year(n).startOf("year"),s=4-a.isoWeekday(),a.isoWeekday()>4&&(s+=7),a.add(s,e));return c.diff(u,"week")+1},i.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var a=i.startOf;i.startOf=function(e,t){var n=this.$utils(),r=!!n.u(t)||t;return"isoweek"===n.p(e)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(e,t)}}}))})(Mx,Mx.exports);var Bx=Mx.exports,Fx={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(0,(function(){return function(e,t,n){var r=t.prototype,o=r.format;n.en.ordinal=function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},r.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return o.bind(this)(e);var r=this.$utils(),i=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return o.bind(this)(i)}}}))})(Fx,Fx.exports);var Ux=Fx.exports,Vx=Wu,Wx=ba,Hx=Cx,Qx=Math.ceil,Gx=Math.max;function Kx(e,t,n){t=(n?Wx(e,t,n):void 0===t)?1:Gx(Hx(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];var o=0,i=0,a=Array(Qx(r/t));while(o<r)a[i++]=Vx(e,o,o+=t);return a}var qx=Kx;function zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zx(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jx(e){return e?e[0].toUpperCase().concat(e.substring(1,e.length)):e}function Xx(e){var t=e.year,n=e.month;return new Date(t,n,1)}function Zx(e){var t=e.year,n=e.month;return new Date(t,n+1,0).getDate()}function $x(e){var t=e.year,n=e.month;return new Date(t,n,Zx({year:t,month:n}))}function eL(e,t){return e.getFullYear()===t.getFullYear()}function tL(e,t){return eL(e,t)&&dx(e).quarter()===dx(t).quarter()}function nL(e,t){return eL(e,t)&&e.getMonth()===t.getMonth()}function rL(e,t){return nL(e,t)&&dx(e).week()===dx(t).week()}function oL(e,t){return nL(e,t)&&e.getDate()===t.getDate()}function iL(e,t){var n=e.getTime(),r=t.getTime();return n<r?-1:n>r?1:0}function aL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"date",r={isSameYear:eL,isSameQuarter:tL,isSameMonth:nL,isSameWeek:rL,isSameDate:oL};return r["isSame".concat(Jx(n))](e,t)}function sL(e,t,n){return t&&-1===iL(e,t)||n&&1===iL(e,n)}function cL(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)}function uL(e,t){return dx(e).subtract(t,"month").toDate()}function lL(e,t){return dx(e).add(t,"month").toDate()}function dL(e,t){var n=e.year,r=e.month,o=t.firstDayOfWeek,i=t.showWeekOfYear,a=void 0!==i&&i,s=t.disableDate,c=void 0===s?function(){return!1}:s,u=t.minDate,l=t.maxDate,d=Xx({year:n,month:r}),f=$x({year:n,month:r}),p=Zx({year:n,month:r}),h=[],g=1,v=cL();for(g;g<=p;g++){var m=new Date(n,r,g);h.push({text:g,active:!1,value:m,disabled:"function"===typeof c&&c(m)||sL(m,u,l),now:aL(v,m),firstDayOfMonth:1===g,lastDayOfMonth:g===p,type:"current-month"})}if(d.getDay()!==o){d.setDate(0);while(1)if(h.unshift({text:d.getDate().toString(),active:!1,value:new Date(d),disabled:"function"===typeof c&&c(d)||sL(d,u,l),additional:!0,type:"prev-month"}),d.setDate(d.getDate()-1),d.getDay()===Math.abs(o+6)%7)break}var y=42;while(h.length<y)f.setDate(f.getDate()+1),h.push({text:f.getDate(),active:!1,value:new Date(f),disabled:"function"===typeof c&&c(f)||sL(f,u,l),additional:!0,type:"next-month"});var A=qx(h,7);return a&&A.forEach((function(e){e.unshift(Yx(Yx({},e[0]),{},{active:!1,value:e[0].value,text:dx(e[0].value).week()}))})),A}function fL(e,t){for(var n=t.disableDate,r=void 0===n?function(){return!1}:n,o=t.minDate,i=t.maxDate,a=t.quarterLocal,s=[],c=cL(),u=1;u<=4;u++){var l=dx(new Date(e,0)).quarter(u).toDate();s.push({value:l,now:aL(l,c,"quarter"),disabled:"function"===typeof r&&r(l)||sL(l,o,i),active:!1,text:a[u-1]})}return qx(s,4)}function pL(e,t){for(var n=t.disableDate,r=void 0===n?function(){return!1}:n,o=t.minDate,i=t.maxDate,a=10*parseInt((e/10).toString(),10),s=a+9,c=[],u=cL(),l=a;l<=s;l++){for(var d=new Date(l,1),f=0,p=0,h=0;h<12;h++){var g=new Date(l,h);"function"===typeof r&&r(g)&&(f+=1),sL(g,o,i)&&(p+=1)}c.push({value:d,now:aL(d,u,"year"),disabled:12===f||12===p,active:!1,text:"".concat(d.getFullYear())})}return qx(c,3)}function hL(e,t){for(var n=t.disableDate,r=void 0===n?function(){return!1}:n,o=t.minDate,i=t.maxDate,a=t.monthLocal,s=[],c=cL(),u=0;u<=11;u++){for(var l=new Date(e,u),d=0,f=0,p=Zx({year:e,month:u}),h=1;h<=p;h++){var g=new Date(e,u,h);"function"===typeof r&&r(g)&&(d+=1),sL(g,o,i)&&(f+=1)}s.push({value:l,now:aL(l,c,"month"),disabled:d===p||f===p,active:!1,text:a[l.getMonth()]})}return qx(s,3)}function gL(e,t){var n=Ix({},t),r=n.start,o=n.end,i=n.hoverStart,a=n.hoverEnd,s=n.type,c=void 0===s?"date":s,u=n.isRange,l=void 0!==u&&u;return"week"===c?e:l?e.map((function(e){return e.map((function(e){var t=e,n=e.value,s=r&&aL(r,n,c),u=i&&aL(i,n,c),l=o&&aL(o,n,c),d=a&&aL(a,n,c);return t.active=(s||l)&&!t.additional,r&&o&&(t.highlight=dx(n).isBetween(r,o,c,"[]")&&!t.additional,t.startOfRange=s,t.endOfRange=l),i&&a&&(t.hoverHighlight=dx(n).isBetween(i,a,c,"[]")&&!t.additional,t.hoverStartOfRange=u,t.hoverEndOfRange=d),t}))})):e.map((function(e){return e.map((function(e){var t=e;return t.active=r&&aL(e.value,r,c)&&!t.additional,t}))}))}function vL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/(a\s)?h{1,2}:m{1,2}(:s{1,2})?(\sa)?/i);return t?t[0]:null}function mL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/[ap]m/i)||[""],n=/\d{1,2}:\d{1,2}(:\d{1,2})?(:\d{1,3})?/,r=e.match(n)||["0:0:0:0"],o=r[0].split(":"),i=v(o,4),a=i[0],s=void 0===a?0:a,c=i[1],u=void 0===c?0:c,l=i[2],d=void 0===l?0:l,f=i[3],p=void 0===f?0:f;return{hours:+s,minutes:+u,seconds:+d,milliseconds:+p,meridiem:t[0]}}dx.extend(Bx),dx.extend(Nx),dx.extend(kx),dx.extend(xx),dx.extend(jx),dx.extend(Ux),dx.extend(mx),dx.extend(Tx);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var yL="HH:mm:ss";function AL(e,t,n){if(""===e)return dx();var r=e;if(/[w|W]/g.test(t)){"string"!==typeof r&&(r=dx(r).format(t));for(var o=r.split(/[-/.]/)[0],i=r.split(/[-/.]/)[1],a=t.split(/[-/.]/)[1],s=dx(o,"YYYY").startOf("year"),c=0;c<=52;c+=1){var u=s.add(c,"week");if("start"===n&&(u=u.subtract(5,"day")),u.format(a)===i)return u}}if(/Q/g.test(t)){"string"!==typeof r&&(r=dx(r).format(t));for(var l=r.split(/[-/.]/)[0],d=r.split(/[-/.]/)[1],f=t.split(/[-/.]/)[1],p=dx(l,"YYYY").startOf("year"),h=0;h<=52;h+=1){var g=p.add(h,"quarter");if(g.format(f)===d)return g}}var v=dx(r,t).isValid()?dx(r,t):dx(r);return v.isValid()?v:dx()}function bL(e){var t=e.newDate,n=e.format;if(!t||!Array.isArray(t))return[];var r=t.map((function(e){return e&&AL(e,n)}));return r[0]&&r[1]&&r[0].toDate().getTime()>r[1].toDate().getTime()&&(r=[r[1],r[0]]),r.some((function(e){return e&&!e.isValid()}))?(qA.error("DatePicker","请检查 format、value 格式是否有效.\nformat: '".concat(n,"' value: '").concat(t,"'")),[]):r.map((function(e){return e&&e.format(n)}))}function EL(e){var t=e.newDate,n=e.format;if(!t)return"";var r=AL(t,n);return r.isValid()?r.format(n):(qA.error("DatePicker","请检查 format、value 格式是否有效.\nformat: '".concat(n,"' value: '").concat(t,"'")),"")}function _L(e,t){return Array.isArray(e)?"time-stamp"===t?e.every((function(e){return dx(e).isValid()})):e.every((function(e){return dx(e,t).isValid()||dx(e).isValid()})):"time-stamp"===t?dx(e).isValid():dx(e,t).isValid()||dx(e).isValid()}function wL(e,t){var n,r=t.format;return n=Array.isArray(e)?bL({newDate:e,format:r}):EL({newDate:e,format:r}),n}function SL(e,t){var n;return n=Array.isArray(e)?e.map((function(e){return dx(e||new Date((new Date).setHours(0,0,0,0))).format(t)})):dx(e||new Date((new Date).setHours(0,0,0,0))).format(t),n}function CL(e){var t=e.mode,n=void 0===t?"date":t,r=e.format,o=e.enableTimePicker;return"year"===n?{format:r||"YYYY",timeFormat:yL}:"month"===n?{format:r||"YYYY-MM",timeFormat:yL}:"quarter"===n?{format:r||"YYYY-[Q]Q",timeFormat:yL}:"week"===n?{format:r||"YYYY-wo",timeFormat:yL}:"date"===n?{format:r||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),timeFormat:vL(r||"YYYY-MM-DD".concat(o?" HH:mm:ss":""))||yL}:(qA.error("DatePicker","Invalid mode: ".concat(n)),{})}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function IL(e){var t=(0,d.BK)(e),n=t.value,r=t.modelValue,o=Sy(n,r,e.defaultValue,e.onChange),i=v(o,2),a=i[0],s=i[1],c=(0,l.Fl)((function(){return CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})}));e.enableTimePicker&&(vL(c.value.format)||console.error("format: ".concat(c.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss")));var u=(0,d.iH)(SL(a.value,c.value.timeFormat)),f=(0,d.iH)(dx(a.value).month()||(new Date).getMonth()),p=(0,d.iH)(dx(a.value).year()||(new Date).getFullYear()),h=(0,d.iH)(wL(a.value,{format:c.value.format}));return(0,l.m0)((function(){a.value?_L(a.value,c.value.format)&&(h.value=wL(a.value,{format:c.value.format}),u.value=SL(a.value,c.value.timeFormat)):h.value=""})),{year:p,month:f,value:a,time:u,cacheValue:h,onChange:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OL(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RL(e){var t=Os("date-picker"),n=Is("datePicker"),r=n.globalConfig,o=Tg({CalendarIcon:gx}),i=o.CalendarIcon,a=np(),s=(0,d.iH)(),c=IL(e),f=c.value,p=c.onChange,h=c.time,g=c.month,v=c.year,m=c.cacheValue,y=(0,l.Fl)((function(){return CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})})),A=(0,d.iH)(!1),b=(0,d.iH)(!1),E=(0,d.iH)(wL(f.value,{format:y.value.format})),_=(0,l.Fl)((function(){return TL(TL({},e.inputProps),{},{ref:s,prefixIcon:e.prefixIcon,readonly:!e.allowInput,placeholder:e.placeholder||r.value.placeholder[e.mode],suffixIcon:e.suffixIcon||function(){return(0,l.Wm)(i,null,null)},class:[u({},"".concat(t.value,"__input--placeholder"),b.value)],onClear:function(e){var t;null===e||void 0===e||null===(t=e.e)||void 0===t||t.stopPropagation(),A.value=!1,null===p||void 0===p||p("",{dayjsValue:dx(),trigger:"clear"})},onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,e:n.e})},onFocus:function(t,n){var r,o=n.e;null===(r=e.onFocus)||void 0===r||r.call(e,{value:f.value,e:o})},onChange:function(e){if(E.value=e,_L(e,y.value.format)){var t=dx(e).month(),n=dx(e).year(),r=SL(e,y.value.timeFormat);!Number.isNaN(n)&&(v.value=n),!Number.isNaN(t)&&(g.value=t),!Number.isNaN(r)&&(h.value=r)}},onEnter:function(e){(_L(e,y.value.format)||_L(f.value,y.value.format))&&(A.value=!1,_L(e,y.value.format)?null===p||void 0===p||p(wL(e,{format:y.value.format}),{dayjsValue:AL(e,y.value.format),trigger:"enter"}):_L(f.value,y.value.format)?E.value=wL(f.value,{format:y.value.format}):E.value="")}})})),w=(0,l.Fl)((function(){var n,r,o;return TL(TL({expandAnimation:!0},e.popupProps),{},{disabled:a.value,overlayInnerStyle:null!==(n=null===(r=e.popupProps)||void 0===r?void 0:r.overlayInnerStyle)&&void 0!==n?n:{width:"auto"},overlayClassName:[null===(o=e.popupProps)||void 0===o?void 0:o.overlayClassName,"".concat(t.value,"__panel-container")],onVisibleChange:function(e,t){a.value||("trigger-element-click"!==t.trigger?(e||(b.value=!1,E.value=wL(f.value,{format:y.value.format})),A.value=e):A.value=!0)}})}));return(0,l.m0)((function(){f.value?_L(f.value,y.value.format)&&(E.value=wL(f.value,{format:y.value.format})):E.value=""})),{year:v,month:g,value:f,time:h,inputValue:E,popupVisible:A,inputProps:_,popupProps:w,inputRef:s,cacheValue:m,isHoverCell:b,onChange:p}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var NL={allowInput:Boolean,clearable:Boolean,disableDate:{type:[Object,Array,Function]},disabled:Boolean,enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return!e||[1,2,3,4,5,6,7].includes(e)}},format:{type:String,default:void 0},inputProps:{type:Object},mode:{type:String,default:"date",validator:function(e){return!e||["year","quarter","month","week","date"].includes(e)}},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return!e||["left","top","right","bottom"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Array,Date],default:void 0},modelValue:{type:[String,Number,Array,Date],default:void 0},defaultValue:{type:[String,Number,Array,Date],default:""},onBlur:Function,onChange:Function,onFocus:Function,onPick:Function},PL=(0,l.aZ)({name:"TDatePickerHeader",props:{mode:{type:String,default:"date"},year:Number,month:Number,onMonthChange:Function,onYearChange:Function,onJumperClick:Function},setup:function(e){var t=Is("classPrefix"),n=t.classPrefix,r=Os("date-picker__header"),o=Is("datePicker"),i=o.globalConfig,a=(0,d.iH)(p(e.year)),s="date"===e.mode||"week"===e.mode,u=(0,l.Fl)((function(){var t;return(null===(t=a.value.find((function(t){return t.value-e.year<=9&&t.value-e.year>=0})))||void 0===t?void 0:t.value)||e.year})),f=(0,l.Fl)((function(){return i.value.months.map((function(e,t){return{label:e,value:t}}))}));function p(t){var n=[];if("year"===e.mode)for(var r=t%10,o=t-r-100,i=t-r+100,a=o;a<=i;a+=10)n.push({label:"".concat(a," - ").concat(a+9),value:a+r});else{n.push({label:"".concat(t),value:t});for(var s=1;s<=10;s++)n.push({label:"".concat(t+s),value:t+s}),n.unshift({label:"".concat(t-s),value:t-s})}return n}function h(t,n){var r=[];if("year"===e.mode){var o=t%10;if("add"===n)for(var i=t-o+10;i<=t-o+50;i+=10)r.push({label:"".concat(i," - ").concat(i+9),value:i});else for(var a=t-o-1;a>t-o-50;a-=10)r.unshift({label:"".concat(a-9," - ").concat(a),value:a})}else if("add"===n)for(var s=t+1;s<=t+10;s++)r.push({label:"".concat(s),value:s});else for(var c=t-1;c>t-10;c--)r.unshift({label:"".concat(c),value:c});return r}var g={year:{prev:i.value.preDecade,current:i.value.now,next:i.value.nextDecade},month:{prev:i.value.preYear,current:i.value.now,next:i.value.nextYear},date:{prev:i.value.preMonth,current:i.value.now,next:i.value.nextMonth}};function v(e){var t=e.e;0===t.target.scrollTop?m(t):t.target.scrollTop===t.target.scrollHeight-t.target.clientHeight&&y(t)}function m(e){var t;null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e);var n=a.value[0].value,r=h(n,"reduce");a.value=[].concat(c(r),c(a.value))}function y(e){var t;null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e);var n=a.value.slice(-1)[0].value,r=h(n,"add");a.value=[].concat(c(a.value),c(r))}return function(){return(0,l.Wm)("div",{class:r.value},[(0,l.Wm)("div",{class:"".concat(r.value,"-controller")},[s&&(0,l.Wm)(aP,{class:"".concat(r.value,"-controller-month"),value:e.month,options:f.value,onChange:function(t){var n;return null===(n=e.onMonthChange)||void 0===n?void 0:n.call(e,t)},popupProps:{attach:function(e){return e.parentNode},overlayClassName:"".concat(r.value,"-controller-month-popup")}},null),(0,l.Wm)(aP,{class:"".concat(r.value,"-controller-year"),value:"year"===e.mode?u.value:e.year,options:a.value,onChange:function(t){var n;return null===(n=e.onYearChange)||void 0===n?void 0:n.call(e,t)},popupProps:{onScroll:v,attach:function(e){return e.parentNode},overlayClassName:"".concat(r.value,"-controller-year-popup")},panelTopContent:function(){return(0,l.Wm)("div",{class:"".concat(n.value,"-select-option"),onClick:m},[(0,l.Uk)("...")])},panelBottomContent:function(){return(0,l.Wm)("div",{class:"".concat(n.value,"-select-option"),onClick:y},[(0,l.Uk)("...")])}},null)]),(0,l.Wm)(MA,{tips:g[e.mode],size:"small",onChange:e.onJumperClick},null)])}}}),kL=(0,l.aZ)({name:"TDatePickerCell",props:{time:String,text:[String,Number],value:Date,active:Boolean,highlight:Boolean,disabled:Boolean,startOfRange:Boolean,endOfRange:Boolean,hoverHighlight:Boolean,hoverStartOfRange:Boolean,hoverEndOfRange:Boolean,additional:Boolean,now:Boolean,firstDayOfMonth:Boolean,lastDayOfMonth:Boolean,onClick:Function,onMouseEnter:Function},setup:function(e){var t=Os("date-picker__cell"),n=(0,l.Fl)((function(){var n;return[t.value,(n={},u(n,"".concat(t.value,"--now"),e.now),u(n,"".concat(t.value,"--active"),e.active),u(n,"".concat(t.value,"--disabled"),e.disabled),u(n,"".concat(t.value,"--highlight"),e.highlight),u(n,"".concat(t.value,"--hover-highlight"),e.hoverHighlight),u(n,"".concat(t.value,"--active-start"),e.startOfRange),u(n,"".concat(t.value,"--active-end"),e.endOfRange),u(n,"".concat(t.value,"--hover-start"),e.hoverStartOfRange),u(n,"".concat(t.value,"--hover-end"),e.hoverEndOfRange),u(n,"".concat(t.value,"--additional"),e.additional),u(n,"".concat(t.value,"--first-day-of-month"),e.firstDayOfMonth),u(n,"".concat(t.value,"--last-day-of-month"),e.lastDayOfMonth),n)]}));function r(t){var n;if(!e.disabled){if(e.time){var r=mL(e.time),o=r.hours,i=r.minutes,a=r.seconds,s=r.milliseconds,c=r.meridiem,u=o;/am/i.test(c)&&12===u&&(u-=12),/pm/i.test(c)&&u<12&&(u+=12),e.value.setHours(u),e.value.setMinutes(i),e.value.setSeconds(a),e.value.setMilliseconds(s)}null===(n=e.onClick)||void 0===n||n.call(e,e.value,{e:t})}}function o(){var t;if(!e.disabled){if(e.time){var n=mL(e.time),r=n.hours,o=n.minutes,i=n.seconds,a=n.milliseconds,s=n.meridiem,c=r;/am/i.test(s)&&12===c&&(c-=12),/pm/i.test(s)&&c<12&&(c+=12),e.value.setHours(c),e.value.setMinutes(o),e.value.setSeconds(i),e.value.setMilliseconds(a)}null===(t=e.onMouseEnter)||void 0===t||t.call(e,e.value)}}return function(){return(0,l.Wm)("td",{class:n.value,onClick:r,onMouseenter:o},[(0,l.Wm)("div",{class:"".concat(t.value,"-inner")},[e.text])])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LL=(0,l.aZ)({name:"TDatePickerTable",props:{mode:{type:String,default:"date"},value:[String,Number,Array,Date],format:String,firstDayOfWeek:Number,data:Array,time:String,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function},setup:function(e){var t=Os("date-picker__table"),n=Is("datePicker"),r=n.globalConfig,o=r.value,i=o.weekdays,a=o.weekAbbreviation,s=(0,l.Fl)((function(){var t=[],n=e.firstDayOfWeek-1,r=i.length;while(t.length<r)t.push(i[n]),n=(n+r+1)%r;return"week"===e.mode&&t.unshift(a),t})),c=(0,l.Fl)((function(){return"date"===e.mode||"week"===e.mode})),d=function(n,r,o){if("week"!==e.mode)return{};if(Array.isArray(n)){var i;if(!n.length)return{};var a=n.map((function(e){return AL(e,r)})),s=v(a,2),c=s[0],l=s[1],d=c.year(),f=c.week(),p=l&&l.year(),h=l&&l.week(),g=AL(o,r),m=g.year(),y=g.week(),A=m===d&&y===f||m===p&&y===h,b=m>=d&&m<=p&&y>f&&y<h;return i={},u(i,"".concat(t.value,"-").concat(e.mode,"-row--active"),A),u(i,"".concat(t.value,"-").concat(e.mode,"-row--range"),b),i}return u({},"".concat(t.value,"-").concat(e.mode,"-row--active"),AL(n,r).week()===AL(o,r).week())};return function(){return(0,l.Wm)("div",{class:t.value,onMouseleave:function(t){var n;return null===(n=e.onCellMouseLeave)||void 0===n?void 0:n.call(e,{e:t})}},[(0,l.Wm)("table",null,[c.value&&(0,l.Wm)("thead",null,[(0,l.Wm)("tr",null,[s.value.map((function(e,t){return(0,l.Wm)("th",{key:t},[e])}))])]),(0,l.Wm)("tbody",null,[e.data.map((function(n,r){return(0,l.Wm)("tr",{key:r,class:xL(u({},"".concat(t.value,"-").concat(e.mode,"-row"),!0),d(e.value,e.format,n[0].value))},[n.map((function(t,n){return(0,l.Wm)(kL,(0,l.dG)(t,{key:n,time:e.time,onClick:e.onCellClick,onMouseEnter:e.onCellMouseEnter}),null)}))])}))])])])}}}),jL="am",ML="pm",BL=[jL,ML],FL=[void 0,void 0],UL=[1,1,1],VL="HH:mm:ss",WL=function(e){return e["hour"]="hour",e["minute"]="minute",e["second"]="second",e["milliSecond"]="millisecond",e["meridiem"]="meridiem",e}(WL||{}),HL=/(a\s+|A\s+)?(h+|H+)?:?(m+)?:?(s+)?:?(S+)?(\s+a|\s+A)?/,QL=/[h]{1}/,GL={allowInput:Boolean,clearable:Boolean,disabled:Boolean,disableTime:{type:Function},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},inputProps:{type:Object},placeholder:{type:String,default:void 0},popupProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},steps:{type:Array,default:function(){return[1,1,1]}},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onBlur:Function,onChange:Function,onClose:Function,onFocus:Function,onInput:Function,onOpen:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function KL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KL(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zL={type:Boolean,default:!0,validator:function(e){return"boolean"===typeof e}},YL=function(){return{disabled:qL(qL({},zL),{default:!1}),isFocus:qL(qL({},zL),{default:!1}),value:{type:String,default:""},format:{type:String,default:"HH:mm:ss"},steps:qL({type:Array},{default:[1,1,1]}),isShowPanel:qL(qL({},zL),{default:!1}),hideDisabledTime:qL({},GL.hideDisabledTime),disableTime:{type:Function},isFooterDisplay:qL({},zL)}},JL=function(){return{format:{type:String,default:"HH:mm:ss"},cols:{type:Array,default:function(){return[WL.hour,WL.minute,WL.second]}},value:{type:String,default:""},range:{type:Array,default:function(){return[]}},steps:qL({type:Array},{default:[1,1,1]}),hideDisabledTime:qL({},GL.hideDisabledTime),disableTime:{type:Function},localeMeridiems:{type:Array}}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function XL(e){return function(t){return null==t?void 0:t[e]}}var ZL=XL;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function $L(e,t){return dx(e,t).format(t)===e}function ej(e,t){return dx(e,t).format(t)}function tj(e,t,n){return n<=1?t:e.sort((function(e,n){return Math.abs(t+1-e)-Math.abs(t+1-n)}))[0]}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var nj=Math.ceil,rj=Math.max;function oj(e,t,n,r){var o=-1,i=rj(nj((t-e)/(n||1)),0),a=Array(i);while(i--)a[r?i:++o]=e,e+=n;return a}var ij=oj,aj=ij,sj=ba,cj=_x;function uj(e){return function(t,n,r){return r&&"number"!=typeof r&&sj(t,n,r)&&(n=r=void 0),t=cj(t),void 0===n?(n=t,t=0):n=cj(n),r=void 0===r?t<n?1:-1:cj(r),aj(t,n,r,e)}}var lj=uj,dj=lj,fj=dj(),pj=fj,hj=9007199254740991,gj=Math.floor;function vj(e,t){var n="";if(!e||t<1||t>hj)return n;do{t%2&&(n+=e),t=gj(t/2),t&&(e+=e)}while(t);return n}var mj=vj,yj=ZL,Aj=yj("length"),bj=Aj,Ej="\\ud800-\\udfff",_j="\\u0300-\\u036f",wj="\\ufe20-\\ufe2f",Sj="\\u20d0-\\u20ff",Cj=_j+wj+Sj,Ij="\\ufe0e\\ufe0f",Oj="["+Ej+"]",Tj="["+Cj+"]",Rj="\\ud83c[\\udffb-\\udfff]",Nj="(?:"+Tj+"|"+Rj+")",Pj="[^"+Ej+"]",kj="(?:\\ud83c[\\udde6-\\uddff]){2}",Dj="[\\ud800-\\udbff][\\udc00-\\udfff]",xj="\\u200d",Lj=Nj+"?",jj="["+Ij+"]?",Mj="(?:"+xj+"(?:"+[Pj,kj,Dj].join("|")+")"+jj+Lj+")*",Bj=jj+Lj+Mj,Fj="(?:"+[Pj+Tj+"?",Tj,kj,Dj,Oj].join("|")+")",Uj=RegExp(Rj+"(?="+Rj+")|"+Fj+Bj,"g");function Vj(e){var t=Uj.lastIndex=0;while(Uj.test(e))++t;return t}var Wj=Vj,Hj=bj,Qj=tl,Gj=Wj;function Kj(e){return Qj(e)?Gj(e):Hj(e)}var qj=Kj,zj=mj,Yj=Mu,Jj=Gu,Xj=tl,Zj=qj,$j=Nl,eM=Math.ceil;function tM(e,t){t=void 0===t?" ":Yj(t);var n=t.length;if(n<2)return n?zj(t,e):t;var r=zj(t,eM(e/Zj(t)));return Xj(t)?Jj($j(r),0,e).join(""):r.slice(0,e)}var nM=tM,rM=nM,oM=qj,iM=Cx,aM=Uu;function sM(e,t,n){e=aM(e),t=iM(t);var r=t?oM(e):0;return t&&r<t?rM(t-r,n)+e:e}var cM=sM;function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}dx.extend(mx);var dM=[WL.hour,WL.minute,WL.second,WL.milliSecond],fM={top:15,bottom:21},pM=(0,l.aZ)({name:"TTimePickerPanelCol",props:lM(lM({},JL()),{},{position:String,triggerScroll:Boolean,onChange:Function,resetTriggerScroll:Function}),setup:function(e){var t=(0,d.BK)(e),n=t.steps,r=t.value,o=t.format,i=t.position,a=t.triggerScroll,s=Is("timePicker"),c=s.globalConfig,f=Is(),p=f.classPrefix,h=(0,d.iH)([]),g=(0,d.iH)(),m=(0,d.iH)(null),y=(0,d.qj)({0:null,1:null,2:null,3:null,4:null,5:null}),A=(0,l.Fl)((function(){var e=!!n.value.filter((function(e){return e>1})).length;return r.value?dx(r.value,o.value):e?dx().hour(0).minute(0).second(0):dx()})),b=(0,l.Fl)((function(){return"".concat(p.value,"-time-picker__panel")}));(0,l.YP)((function(){return A.value}),(function(){A.value&&T(!0)})),(0,l.YP)((function(){return a.value}),(function(){a.value&&T(!0)})),(0,l.bv)((function(){var e=o.value.match(HL),t=v(e,7),n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],c=t[6],u=WL.meridiem,l=WL.hour,d=WL.minute,f=WL.second,p=WL.milliSecond,g=[n&&u,r&&l,i&&d,a&&f,s&&p,c&&u].filter((function(e){return!!e}));h.value=g}));var E=function(){var e,t=null===(e=m.value)||void 0===e?void 0:e.querySelector("div");return t?{offsetHeight:t.offsetHeight,margin:parseInt(getComputedStyle(t).marginTop,10)}:{offsetHeight:0,margin:0}},_=function(t,n){var r=dM.indexOf(t);if(-1!==r){var o,a,s,c=[A.value.hour(),A.value.minute(),A.value.second()];return c[r]=Number(n),!(null!==(o=e.disableTime)&&void 0!==o&&null!==(a=o.call.apply(o,[e].concat(c,[{partial:i.value||"start"}])))&&void 0!==a&&null!==(s=a[t])&&void 0!==s&&s.includes(Number(n)))}return!0},w=function(t){var r=0;if(dM.includes(t)){var a=dM.indexOf(t),s=n.value[a]||1;r=t===WL.hour?QL.test(o.value)?11:23:t===WL.milliSecond?999:59;var c=pj(0,r+1,Number(s)).map((function(e){return cM(String(e),2,"0")}))||[];return e.hideDisabledTime&&e.disableTime?c.filter((function(n){var r,o,s,c=[A.value.hour(),A.value.minute(),A.value.second()];return c[a]=Number(n),!(null!==(r=e.disableTime)&&void 0!==r&&null!==(o=r.call.apply(r,[e].concat(c,[{partial:i.value||"start"}])))&&void 0!==o&&null!==(s=o[t])&&void 0!==s&&s.includes(Number(n)))})):c}return BL},S=function(e,t){e===WL.hour&&/[h]{1}/.test(o.value)&&(t%=12);var n=w(e).indexOf(cM(String(t),2,"0")),r=E(),i=r.offsetHeight,a=r.margin,s=i+a,c=Math.abs(Math.max(0,n)*s);return c},C=function(t,i){var a,s,c,u,l=null===(a=y[i])||void 0===a?void 0:a.scrollTop,d=E(),f=d.offsetHeight,p=d.margin,g=f+p,v=Math.abs(Math.round(l/g+.5)),m=BL[Math.min(v-1,1)].toLowerCase();if(Number.isNaN(v)&&(v=1),dM.includes(t)){var b=59;t===WL.hour?b=/[h]{1}/.test(o.value)?11:23:t===WL.milliSecond&&(b=999);var C=dM.indexOf(t),I=pj(0,b+1,Number(n.value[C])||1);c=tj(I,Number(w(t)[Math.min(v-1,b+1,I.length-1)]),Number(n.value[C])||1),Number.isNaN(c)&&(c=I[I.length-1]),t===WL.hour&&h.value.includes(WL.meridiem)&&A.value.hour()>=12&&(c=Number(c)+12)}else c=m;var O=S(t,c);if(dx(A.value).isValid()&&(!r.value||dx(r.value,o.value,!0).isValid())){if(dM.includes(t)){var T,R;_(t,c)&&(u=null===(T=(R=A.value)[t])||void 0===T?void 0:T.call(R,c).format(o.value))}else{var N=A.value.hour();u=m===jL&&N>=12?A.value.hour(N-12).format(o.value):m===ML&&N<12?A.value.hour(N+12).format(o.value):A.value.format(o.value)}if(u!==r.value&&(null===(s=e.onChange)||void 0===s||s.call(e,u)),O!==l){var P,k=y[h.value.indexOf(t)];if(!k||k.scrollTop===O)return;null===(P=k.scrollTo)||void 0===P||P.call(k,{top:O,behavior:"smooth"})}}},I=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"auto",i=S(e,t),a=y[n];a&&a.scrollTop!==i&&_(e,t)&&(null===(r=a.scrollTo)||void 0===r||r.call(a,{top:i,behavior:o}))},O=function(t,n,r){if(_(t,n))if(dM.includes(t))t===WL.hour&&A.value.format("a")===ML&&h.value.includes(WL.meridiem)&&(n=Number(n)+12),I(t,n,r,"smooth");else{var i=A.value.hour();n===jL&&i>=12?e.onChange(A.value.hour(i-12).format(o.value)):n===ML&&i<12&&e.onChange(A.value.hour(i+12).format(o.value))}},T=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=r.value&&!t?"smooth":"auto",i=!!n.value.filter((function(e){return e>1})).length;(0,l.Y3)((function(){h.value.forEach((function(e,t){var n,a,s;!i||i&&r.value?I(e,dM.includes(e)?null===(n=(a=A.value)[e])||void 0===n?void 0:n.call(a):A.value.format("a"),t,o):I(e,null===(s=w(e))||void 0===s?void 0:s[0],t,o)}))})),e.resetTriggerScroll()},R=function(e,t){var n,r,i;if(e===WL.meridiem){var a=A.value.format("a");return a===t}return i=null===(n=(r=A.value)[e])||void 0===n?void 0:n.call(r),e===WL.hour&&/[h]{1}/.test(o.value)&&(i%=12),i===Number(t)};return function(){var e,t,n,r;return(0,l.Wm)("div",{class:"".concat(b.value,"-body"),ref:g},[(0,l.Wm)("div",{class:"".concat(b.value,"-body-active-mask"),ref:m},[null===(e=(t=h.value).map)||void 0===e?void 0:e.call(t,(function(e,t){return(0,l.Wm)("div",{key:"".concat(e,"_").concat(t)},null)}))]),null===(n=(r=h.value).map)||void 0===n?void 0:n.call(r,(function(e,t){return(0,l.Wm)("ul",{key:"".concat(e,"_").concat(t),ref:function(e){return y[t]=e},class:"".concat(b.value,"-body-scroll"),onScroll:kb((function(){return C(e,t)}),50),style:{"--timePickerPanelOffsetTop":fM.top,"--timePickerPanelOffsetBottom":fM.bottom}},[w(e).map((function(n){var r;return(0,l.Wm)("li",{key:n,class:["".concat(b.value,"-body-scroll-item"),(r={},u(r,"".concat(p.value,"-is-disabled"),!_(e,n)),u(r,"".concat(p.value,"-is-current"),R(e,n)),r)],onClick:function(){return O(e,n,t)}},[dM.includes(e)?QL.test(o.value)&&"00"===n?"12":n:c.value[n===jL?"anteMeridiem":"postMeridiem"]])}))])}))])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}dx.extend(mx);var vM=(0,l.aZ)({name:"TimePickerPanel",props:gM(gM({},YL()),{},{isFooterDisplay:Boolean,handleConfirmClick:Function,onChange:Function}),setup:function(e){var t=Os("time-picker__panel"),n=(0,d.BK)(e),r=n.steps,o=n.isFooterDisplay,i=n.isShowPanel,a=(0,d.iH)(!1),s=(0,d.iH)(),c=Is("timePicker"),u=c.globalConfig,f=(0,l.Fl)((function(){return!!r.value.filter((function(e){return e>1})).length})),p=(0,l.Fl)((function(){var t=f.value;return e.value?dx(e.value,e.format):t?dx().hour(0).minute(0).second(0):dx()})),h=function(){(0,l.Y3)((function(){a.value=!0}))},g=function(){a.value=!1};return(0,l.bv)((function(){h()})),(0,l.YP)((function(){return i.value}),(function(){h()})),function(){return(0,l.Wm)("div",{class:t.value},[(0,l.Wm)("div",{class:"".concat(t.value,"-section-body")},[(0,l.Wm)(pM,(0,l.dG)(e,{ref:s,format:e.format||VL,steps:e.steps||UL,value:e.value,triggerScroll:a.value,onChange:e.onChange,resetTriggerScroll:g}),null)]),o.value?(0,l.Wm)("div",{class:"".concat(t.value,"-section-footer")},[(0,l.Wm)(up,{theme:"primary",variant:"base",onClick:function(){return e.handleConfirmClick(p.value)},size:"small"},{default:function(){return[u.value.confirm]}}),f.value?null:(0,l.Wm)(up,{theme:"primary",variant:"text",size:"small",onClick:function(){return e.onChange(dx().format(e.format))}},{default:function(){return[u.value.now]}})]):null])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function mM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AM=(0,l.aZ)({name:"TPanelContent",props:{mode:String,format:String,enableTimePicker:Boolean,timePickerProps:{type:Object,default:function(){return{}}},year:Number,month:Number,tableData:Array,time:String,firstDayOfWeek:Number,partial:String,popupVisible:Boolean,onYearChange:Function,onMonthChange:Function,onJumperClick:Function,onCellMouseEnter:Function,onCellClick:Function,onCellMouseLeave:Function,onTimePickerChange:Function,value:[String,Number,Array,Date]},setup:function(e){var t=Os("date-picker__panel"),n=CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),r=n.timeFormat,o="00:00:00";return function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-content")},[(0,l.Wm)("div",{class:"".concat(t.value,"-").concat(e.mode)},[(0,l.Wm)(PL,{mode:e.mode,year:e.year,month:e.month,onMonthChange:function(t){var n;return null===(n=e.onMonthChange)||void 0===n?void 0:n.call(e,t,{partial:e.partial})},onYearChange:function(t){var n;return null===(n=e.onYearChange)||void 0===n?void 0:n.call(e,t,{partial:e.partial})},onJumperClick:function(t){var n,r=t.trigger;return null===(n=e.onJumperClick)||void 0===n?void 0:n.call(e,{trigger:r,partial:e.partial})}},null),(0,l.Wm)(LL,{mode:e.mode,data:e.tableData,time:e.time,value:e.value,format:e.format,firstDayOfWeek:e.firstDayOfWeek,onCellClick:function(t,n){var r,o=n.e;return null===(r=e.onCellClick)||void 0===r?void 0:r.call(e,t,{e:o,partial:e.partial})},onCellMouseEnter:function(t){var n;return null===(n=e.onCellMouseEnter)||void 0===n?void 0:n.call(e,t,{partial:e.partial})},onCellMouseLeave:e.onCellMouseLeave},null)]),e.enableTimePicker&&(0,l.Wm)("div",{class:"".concat(t.value,"-time")},[(0,l.Wm)("div",{class:"".concat(t.value,"-time-viewer")},[e.time||o]),(0,l.Wm)(vM,yM({key:e.partial,isShowPanel:e.popupVisible,format:r,value:e.time||o,onChange:e.onTimePickerChange},e.timePickerProps),null)])])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function bM(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var EM=(0,l.aZ)({name:"TDatePickerTable",props:{enableTimePicker:Boolean,presetsPlacement:String,presets:Object,selectedValue:[Date,String,Number],onPresetClick:Function,onConfirmClick:Function},setup:function(e){var t=Os("date-picker__footer"),n=Os("date-picker__presets"),r=Is("datePicker"),o=r.t,i=r.globalConfig,a=(0,l.Fl)((function(){return[t.value,"".concat(t.value,"--").concat(e.presetsPlacement)]}));return function(){var t;return(0,l.Wm)("div",{class:a.value},[(0,l.Wm)("div",{class:n.value},[e.presets&&Object.keys(e.presets).map((function(t){return(0,l.Wm)(lp,{key:t,size:"small",variant:"text",onClick:function(n){var r;return null===(r=e.onPresetClick)||void 0===r?void 0:r.call(e,e.presets[t],{e:n})}},bM(t)?t:{default:function(){return[t]}})}))]),e.enableTimePicker&&(0,l.Wm)(lp,{disabled:!e.selectedValue,size:"small",theme:"primary",onClick:function(t){var n;return null===(n=e.onConfirmClick)||void 0===n?void 0:n.call(e,{e:t})}},bM(t=o(i.value.confirm))?t:{default:function(){return[t]}})])}}}),_M=(0,l.aZ)({name:"TExtraContent",props:{presets:Object,enableTimePicker:Boolean,presetsPlacement:String,onPresetClick:Function,onConfirmClick:Function,selectedValue:[String,Number,Array,Date]},setup:function(e){var t=(0,l.Fl)((function(){return e.enableTimePicker||e.presets}));return function(){return t.value?(0,l.Wm)(EM,{presets:e.presets,onPresetClick:e.onPresetClick,enableTimePicker:e.enableTimePicker,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement,selectedValue:e.selectedValue},null):null}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function wM(e){var t,n=Is("datePicker"),r=n.globalConfig,o={minDate:e.minDate,maxDate:e.maxDate,disableDate:e.disableDate,firstDayOfWeek:null!==(t=e.firstDayOfWeek)&&void 0!==t?t:r.value.firstDayOfWeek,monthLocal:r.value.months,quarterLocal:r.value.quarters,showWeekOfYear:"week"===e.mode},i=[];return"date"===e.mode||"week"===e.mode?i=dL({year:e.year,month:e.month},o):"quarter"===e.mode?i=fL(e.year,o):"month"===e.mode?i=hL(e.year,o):"year"===e.mode&&(i=pL(e.year,o)),gL(i,{start:e.start,end:e.end,hoverStart:e.hoverStart,hoverEnd:e.hoverEnd,type:e.mode,isRange:e.isRange})}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SM(e){return{disableDate:function(t){return!CM({disableDate:e.disableDate,format:e.format,mode:e.mode,value:t})},minDate:ee(e.disableDate)&&"before"in e.disableDate?new Date(e.disableDate.before):e.start,maxDate:ee(e.disableDate)&&"after"in e.disableDate?new Date(e.disableDate.after):e.end}}function CM(e){if(!e.disableDate)return!0;var t=!0;if("function"===typeof e.disableDate)return!e.disableDate(e.value);if(Array.isArray(e.disableDate)){var n=!1,r=e.disableDate.map((function(t){return dx(t,e.format)}));return r.forEach((function(t){t.isSame(dx(e.value))&&(n=!0)})),!n}if(e.disableDate.from&&e.disableDate.to){var o=dx(new Date(e.disableDate.from)),i=dx(new Date(e.disableDate.to));return!dx(e.value).isBetween(o,i,e.mode,"[]")}var a=e.disableDate.before?new Date(e.disableDate.before):null,s=e.disableDate.after?new Date(e.disableDate.after):null;if(s&&a){var c=dx(new Date(a)),u=dx(new Date(s));t=dx(e.value).isBetween(c,u,e.mode,"[]")}else if(a){var l=dx(new Date(a));t=!dx(e.value).isBefore(l,e.mode)}else if(s){var d=dx(new Date(s));t=!dx(e.value).isAfter(d,e.mode)}return t}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TM=(0,l.aZ)({name:"TSinglePanel",props:{disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:[String,Number,Array,Date],timePickerProps:Object,presets:Object,enableTimePicker:Boolean,firstDayOfWeek:Number,year:Number,month:Number,time:String,popupVisible:Boolean,onPanelClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var t=Os("date-picker__panel"),n=Is("datePicker"),r=n.globalConfig,o=CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),i=o.format,a=(0,l.Fl)((function(){return SM({format:i,mode:e.mode,disableDate:e.disableDate})})),s=(0,l.Fl)((function(){return wM(OM({year:e.year,month:e.month,mode:e.mode,start:e.value?AL(e.value,i).toDate():void 0,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},a.value))})),c=(0,l.Fl)((function(){return{format:i,value:e.value,mode:e.mode,year:e.year,month:e.month,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,tableData:s.value,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,time:e.time,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}})),d=(0,l.Fl)((function(){return{presets:e.presets,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,selectedValue:e.value}}));return function(){return(0,l.Wm)("div",{class:[t.value,u({},"".concat(t.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(t){var n;return null===(n=e.onPanelClick)||void 0===n?void 0:n.call(e,{e:t})}},[["top","left"].includes(e.presetsPlacement)?(0,l.Wm)(_M,d.value,null):null,(0,l.Wm)(AM,c.value,null),["bottom","right"].includes(e.presetsPlacement)?(0,l.Wm)(_M,d.value,null):null])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PM=(0,l.aZ)({name:"TDatePicker",props:NM({},NL),setup:function(e){var t=Os("date-picker"),n=RL(e),r=n.inputValue,o=n.popupVisible,i=n.inputProps,a=n.popupProps,s=n.isHoverCell,c=n.cacheValue,u=n.value,d=n.year,f=n.month,p=n.time,h=n.inputRef,g=n.onChange,v=np(),m=(0,l.Fl)((function(){return CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})}));function y(e){s.value=!0,r.value=wL(e,{format:m.value.format})}function A(){s.value=!1,r.value=wL(c.value,{format:m.value.format})}function b(t){var n;s.value=!1,"date"===e.mode&&(d.value=t.getFullYear(),f.value=t.getMonth()),e.enableTimePicker?c.value=wL(t,{format:m.value.format}):(null===g||void 0===g||g(wL(t,{format:m.value.format}),{dayjsValue:AL(t,m.value.format),trigger:"pick"}),o.value=!1),null===(n=e.onPick)||void 0===n||n.call(e,t)}function E(t){var n=t.trigger,r={date:1,week:1,month:12,quarter:12,year:120},o=r[e.mode]||0,i=new Date(d.value,f.value),a=null;"prev"===n?a=uL(i,o):"current"===n?a=new Date:"next"===n&&(a=lL(i,o));var s=a.getFullYear(),c=a.getMonth();d.value=s,f.value=c}function _(t){var n;p.value=t;var o=mL(t),i=o.hours,a=o.minutes,s=o.seconds,c=o.milliseconds,u=o.meridiem,l=i;/am/i.test(u)&&12===l&&(l-=12),/pm/i.test(u)&&l<12&&(l+=12);var d=dx(r.value,m.value.format).isValid()?dx(r.value,m.value.format):dx(),f=d.hour(l).minute(a).second(s).millisecond(c).toDate();r.value=wL(f,{format:m.value.format}),null===(n=e.onPick)||void 0===n||n.call(e,f)}function w(){var e=wL(r.value,{format:m.value.format});e?null===g||void 0===g||g(wL(r.value,{format:m.value.format}),{dayjsValue:AL(r.value,m.value.format),trigger:"confirm"}):r.value=wL(u.value,{format:m.value.format}),o.value=!1}function S(e){var t="function"===typeof e?e():e;null===g||void 0===g||g(wL(t,{format:m.value.format}),{dayjsValue:AL(t,m.value.format),trigger:"preset"}),o.value=!1}function C(e){d.value=e}function I(e){f.value=e}(0,l.YP)(o,(function(e){e&&(d.value=AL(u.value,m.value.format).year(),f.value=AL(u.value,m.value.format).month(),p.value=SL(u.value,m.value.timeFormat),u.value&&(c.value=wL(u.value,{format:m.value.format})))}));var O=(0,l.Fl)((function(){return{value:c.value,year:d.value,month:f.value,format:m.value.format,mode:e.mode,presets:e.presets,time:p.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:o.value,onCellClick:b,onCellMouseEnter:y,onCellMouseLeave:A,onJumperClick:E,onConfirmClick:w,onPresetClick:S,onYearChange:C,onMonthChange:I,onTimePickerChange:_,onPanelClick:function(){var e,t;return null===(e=h.value)||void 0===e||null===(t=e.focus)||void 0===t?void 0:t.call(e)}}}));return function(){return(0,l.Wm)("div",{class:t.value},[(0,l.Wm)(KT,{disabled:v.value,value:r.value,status:e.status,tips:e.tips,clearable:e.clearable,popupProps:a.value,inputProps:i.value,popupVisible:o.value,panel:function(){return(0,l.Wm)(TM,O.value,null)}},null)])}}}),kM={onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LM=(0,l.aZ)({name:"TDatePickerPanel",props:xM({value:NL.value,defaultValue:NL.defaultValue,modelValue:NL.modelValue,disabled:NL.disabled,disableDate:NL.disableDate,enableTimePicker:NL.enableTimePicker,firstDayOfWeek:NL.firstDayOfWeek,format:NL.format,mode:NL.mode,presets:NL.presets,presetsPlacement:NL.presetsPlacement,timePickerProps:NL.timePickerProps},kM),setup:function(e){var t=IL(e),n=t.cacheValue,r=t.value,o=t.year,i=t.month,a=t.time,s=t.onChange,c=(0,l.Fl)((function(){return CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})}));function u(t,r){var a,u=r.e;null===(a=e.onCellClick)||void 0===a||a.call(e,{date:t,e:u}),"date"===e.mode&&(o.value=t.getFullYear(),i.value=t.getMonth()),e.enableTimePicker?n.value=wL(t,{format:c.value.format}):null===s||void 0===s||s(wL(t,{format:c.value.format}),{dayjsValue:AL(t,c.value.format),trigger:"pick"})}function d(t){var n=t.trigger,a={prev:"arrow-previous",next:"arrow-next"},s={date:1,week:1,month:12,quarter:12,year:120},c=s[e.mode]||0,u=new Date(o.value,i.value),l=null;"prev"===n?l=uL(u,c):"current"===n?l=new Date:"next"===n&&(l=lL(u,c));var d,f,p=l.getFullYear(),h=l.getMonth();o.value!==p&&(null===(d=e.onYearChange)||void 0===d||d.call(e,{year:p,date:dx(r.value).toDate(),trigger:"current"===n?"today":"year-".concat(a[n])}));i.value!==h&&(null===(f=e.onMonthChange)||void 0===f||f.call(e,{month:h,date:dx(r.value).toDate(),trigger:"current"===n?"today":"month-".concat(a[n])}));o.value=p,i.value=h}function f(t){var o;a.value=t;var i=mL(t),s=i.hours,u=i.minutes,l=i.seconds,d=i.milliseconds,f=i.meridiem,p=s;/am/i.test(f)&&12===p&&(p-=12),/pm/i.test(f)&&p<12&&(p+=12);var h=dx(n.value,c.value.format).isValid()?dx(n.value,c.value.format):dx(),g=h.hour(p).minute(u).second(l).millisecond(d).toDate();n.value=wL(g,{format:c.value.format}),null===(o=e.onTimeChange)||void 0===o||o.call(e,{time:t,date:dx(r.value).toDate(),trigger:"time-hour"})}function p(t){var r,o=t.e;null===s||void 0===s||s(wL(n.value,{format:c.value.format}),{dayjsValue:AL(n.value,c.value.format),trigger:"confirm"}),null===(r=e.onConfirm)||void 0===r||r.call(e,{date:dx(n.value).toDate(),e:o})}function h(t,n){var r,o=n.e,i=n.preset,a="function"===typeof t?t():t;null===s||void 0===s||s(wL(a,{format:c.value.format}),{dayjsValue:AL(a,c.value.format),trigger:"preset"}),null===(r=e.onPresetClick)||void 0===r||r.call(e,{e:o,preset:i})}function g(t){var n;o.value=t,null===(n=e.onYearChange)||void 0===n||n.call(e,{year:o.value,date:dx(r.value).toDate(),trigger:"year-select"})}function v(t){var n;i.value=t,null===(n=e.onMonthChange)||void 0===n||n.call(e,{month:i.value,date:dx(r.value).toDate(),trigger:"month-select"})}var m=(0,l.Fl)((function(){return{value:n.value,year:o.value,month:i.value,mode:e.mode,format:c.value.format,presets:e.presets,time:a.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,panelClick:e.onPanelClick,onCellClick:u,onJumperClick:d,onConfirmClick:p,onPresetClick:h,onYearChange:g,onMonthChange:v,onTimePickerChange:f}}));return function(){return(0,l.Wm)(TM,m.value,null)}}}),jM={allowInput:Boolean,clearable:Boolean,disableDate:{type:[Object,Array,Function]},disabled:Boolean,enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return!e||[1,2,3,4,5,6,7].includes(e)}},format:{type:String,default:""},mode:{type:String,default:"date",validator:function(e){return!e||["year","quarter","month","week","date"].includes(e)}},panelPreselection:{type:Boolean,default:!0},placeholder:{type:[String,Array]},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return!e||["left","top","right","bottom"].includes(e)}},rangeInputProps:{type:Object},separator:{type:String,default:""},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onBlur:Function,onChange:Function,onFocus:Function,onInput:Function,onPick:Function},MM={activeIndex:{type:Number},clearable:Boolean,disabled:Boolean,format:{type:[Array,Function]},inputProps:{type:[Object,Array]},label:{type:[String,Function]},placeholder:{type:[String,Array]},prefixIcon:{type:Function},readonly:Boolean,separator:{type:[String,Function],default:"-"},showClearIconOnEmpty:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onEnter:Function,onFocus:Function,onMouseenter:Function,onMouseleave:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UM(e){return Array.isArray(e)?e:[e,e]}var VM=(0,l.aZ)({name:"TRangeInput",props:MM,setup:function(e,t){t.slots;var n=t.expose,r=(0,d.BK)(e),o=r.value,i=r.modelValue,a=Ts(),s=a.STATUS,c=a.SIZE,f=Os(),p=np(),h=Os("range-input"),g=Tg({CloseCircleFilledIcon:p_}),m=g.CloseCircleFilledIcon,y=op(),A=(0,d.iH)(!1),b=(0,d.iH)(!1),E=(0,l.Fl)((function(){return UM(e.format)})),_=(0,l.Fl)((function(){return UM(e.inputProps)})),w=(0,l.Fl)((function(){return UM(e.placeholder)})),S=Sy(o,i,e.defaultValue,e.onChange),C=v(S,2),I=C[0],O=C[1],T=(0,l.Fl)((function(){var t;return(e.clearable&&(null===(t=e.value)||void 0===t?void 0:t.length)&&!p.value||e.showClearIconOnEmpty)&&b.value})),R=y("label"),N=y("prefixIcon"),P=y("suffix"),k=y("suffixIcon"),D={firstInputRef:(0,d.iH)(),secondInputRef:(0,d.iH)()};function x(t){var n;null===(n=e.onClear)||void 0===n||n.call(e,t),O(["",""],FM(FM({},t),{},{trigger:"clear",position:"all"}))}function L(t,n){var r;null===(r=e.onEnter)||void 0===r||r.call(e,t,n)}function j(t,n){var r;A.value=!0,null===(r=e.onFocus)||void 0===r||r.call(e,t,n)}function M(t,n){var r;A.value=!1,null===(r=e.onBlur)||void 0===r||r.call(e,t,n)}function B(t){var n;b.value=!0,null===e||void 0===e||null===(n=e.onMouseenter)||void 0===n||n.call(e,{e:t})}function F(t){var n;b.value=!1,null===e||void 0===e||null===(n=e.onMouseleave)||void 0===n||n.call(e,{e:t})}return n({firstInputElement:D.firstInputRef.value,secondInputElement:D.secondInputRef.value,focus:function(e){var t,n=e||{},r=n.position,o=void 0===r?"first":r;null===(t=D["".concat(o,"InputRef")].value)||void 0===t||t.focus()},blur:function(e){var t,n=e||{},r=n.position,o=void 0===r?"first":r;null===(t=D["".concat(o,"InputRef")].value)||void 0===t||t.blur()},select:function(e){var t,n=e||{},r=n.position,o=void 0===r?"first":r;null===(t=D["".concat(o,"InputRef")].value)||void 0===t||t.select()}}),function(){var t,n,r;return(0,l.Wm)("div",{class:[h.value,(t={},u(t,c.value[e.size],"medium"!==e.size),u(t,s.value.disabled,p.value),u(t,s.value.focused,A.value),u(t,"".concat(h.value,"--prefix"),N||R),u(t,"".concat(h.value,"--suffix"),P||k),t)],onMouseenter:B,onMouseleave:F},[(0,l.Wm)("div",{class:"".concat(h.value,"__inner")},[N,R?(0,l.Wm)("div",{class:"".concat(f.value,"-input__prefix")},[R]):null,(0,l.Wm)(T_,(0,l.dG)({ref:D.firstInputRef,class:"".concat(h.value,"__inner-left"),inputClass:u({},"".concat(f.value,"-is-focused"),0===e.activeIndex),placeholder:w.value[0],disabled:p.value,readonly:e.readonly,format:E.value[0],value:null===(n=I.value)||void 0===n?void 0:n[0],onClick:function(t){var n,r=t.e;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:r,position:"first"})},onClear:function(){return O([],{position:"first",trigger:"input"})},onEnter:function(e,t){var n,r=t.e;return L([e,null===(n=I.value)||void 0===n?void 0:n[1]],{e:r,position:"first"})},onFocus:function(e,t){var n,r=t.e;return j([e,null===(n=I.value)||void 0===n?void 0:n[1]],{e:r,position:"first"})},onBlur:function(e,t){var n,r=t.e;return M([e,null===(n=I.value)||void 0===n?void 0:n[1]],{e:r,position:"first"})},onChange:function(e,t){var n,r=t.e;return O([e,null===(n=I.value)||void 0===n?void 0:n[1]],{e:r,position:"first",trigger:"input"})}},_.value[0]),null),(0,l.Wm)("div",{class:"".concat(h.value,"__inner-separator")},[e.separator]),(0,l.Wm)(T_,(0,l.dG)({ref:D.secondInputRef,class:"".concat(h.value,"__inner-right"),inputClass:u({},"".concat(f.value,"-is-focused"),1===e.activeIndex),placeholder:w.value[1],disabled:p.value,readonly:e.readonly,format:E.value[1],value:null===(r=I.value)||void 0===r?void 0:r[1],onClick:function(t){var n,r=t.e;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:r,position:"second"})},onClear:function(){return O([],{position:"second",trigger:"input"})},onEnter:function(e,t){var n,r=t.e;return L([null===(n=I.value)||void 0===n?void 0:n[0],e],{e:r,position:"second"})},onFocus:function(e,t){var n,r=t.e;return j([null===(n=I.value)||void 0===n?void 0:n[0],e],{e:r,position:"second"})},onBlur:function(e,t){var n,r=t.e;return M([null===(n=I.value)||void 0===n?void 0:n[0],e],{e:r,position:"second"})},onChange:function(e,t){var n,r=t.e;return O([null===(n=I.value)||void 0===n?void 0:n[0],e],{e:r,position:"second",trigger:"input"})}},_.value[1]),null),P?(0,l.Wm)("div",{class:"".concat(h.value,"__suffix")},[P]):null,k&&(0,l.Wm)("span",{class:"".concat(h.value,"__suffix ").concat(h.value,"__suffix-icon")},[T.value?(0,l.Wm)(m,{class:"".concat(h.value,"__suffix-clear"),onClick:x},null):k])]),e.tips&&(0,l.Wm)("div",{class:"".concat(h.value,"__tips")},[e.tips])])}}}),WM={autoWidth:Boolean,disabled:Boolean,inputValue:{type:Array,default:void 0},defaultInputValue:{type:Array},panel:{type:Function},popupProps:{type:Object},popupVisible:Boolean,rangeInputProps:{type:Object},readonly:Boolean,status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},tips:{type:[String,Function]},onInputChange:Function,onPopupVisibleChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GM=(0,l.aZ)({name:"TRangeInputPopup",props:WM,setup:function(e){var t=Os("range-input-popup"),n=VT(e),r=n.tOverlayInnerStyle,o=n.innerPopupVisible,i=n.onInnerPopupVisibleChange,a=(0,l.Fl)((function(){return[t.value,u({},"".concat(t.value,"--visible"),e.popupVisible||o.value)]}));return function(){return(0,l.Wm)("div",{class:a.value},[(0,l.Wm)(Dy,(0,l.dG)({hideEmptyPopup:!0,content:e.panel,trigger:"click",placement:"bottom-left",disabled:e.disabled,visible:e.popupVisible||o.value},QM({overlayInnerStyle:r.value,onVisibleChange:i},e.popupProps)),{default:function(){return[(0,l.Wm)(VM,QM({value:e.inputValue,onChange:e.onInputChange,disabled:e.disabled,status:e.status,tips:e.tips},e.rangeInputProps),null)]}})])}}}),KM=Hf(VM),qM=Hf(GM);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zM(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JM=(0,l.aZ)({name:"TRangePanel",props:{hoverValue:Array,activeIndex:Number,isFirstValueSelected:Boolean,disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:Array,timePickerProps:Object,presets:Object,popupVisible:Boolean,enableTimePicker:Boolean,panelPreselection:Boolean,firstDayOfWeek:Number,year:Array,month:Array,time:Array,onClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var t=Os("date-range-picker__panel"),n=Is("datePicker"),r=n.globalConfig,o=CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),i=o.format,a=!e.panelPreselection&&2===e.value.length,s=(0,l.Fl)((function(){return SM({format:i,mode:e.mode,disableDate:e.disableDate,start:e.isFirstValueSelected&&1===e.activeIndex?new Date(AL(e.value[0],i,"start").toDate().setHours(0,0,0)):void 0,end:e.isFirstValueSelected&&0===e.activeIndex?new Date(AL(e.value[1],i).toDate().setHours(23,59,59)):void 0})})),c=(0,l.Fl)((function(){return wM(YM({isRange:!0,start:e.value[0]?AL(e.value[0],i).toDate():void 0,end:e.value[1]?AL(e.value[1],i).toDate():void 0,hoverStart:!a&&e.hoverValue[0]?AL(e.hoverValue[0],i).toDate():void 0,hoverEnd:!a&&e.hoverValue[1]?AL(e.hoverValue[1],i).toDate():void 0,year:e.year[0],month:e.month[0],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},s.value))})),d=(0,l.Fl)((function(){return wM(YM({isRange:!0,start:e.value[0]?AL(e.value[0],i).toDate():void 0,end:e.value[1]?AL(e.value[1],i).toDate():void 0,hoverStart:!a&&e.hoverValue[0]?AL(e.hoverValue[0],i).toDate():void 0,hoverEnd:!a&&e.hoverValue[1]?AL(e.hoverValue[1],i).toDate():void 0,year:e.year[1],month:e.month[1],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},s.value))})),f=(0,l.Fl)((function(){return{format:i,mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}}));return function(){return(0,l.Wm)("div",{class:[t.value,u({},"".concat(t.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(t){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}},[["top","left"].includes(e.presetsPlacement)?(0,l.Wm)(_M,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null,(0,l.Wm)("div",{class:"".concat(t.value,"-content-wrapper")},[e.enableTimePicker?(0,l.Wm)(AM,(0,l.dG)({key:"start",partial:e.activeIndex?"end":"start",year:e.activeIndex?e.year[1]:e.year[0],month:e.activeIndex?e.month[1]:e.month[0],time:e.activeIndex?e.time[1]:e.time[0],value:e.value,tableData:e.activeIndex?d.value:c.value},f.value),null):[(0,l.Wm)(AM,(0,l.dG)({key:"startPanel",partial:"start",year:e.year[0],month:e.month[0],time:e.time[0],value:e.value,tableData:c.value},f.value),null),(0,l.Wm)(AM,(0,l.dG)({key:"endPanel",partial:"end",year:e.year[1],month:e.month[1],time:e.time[1],value:e.value,tableData:d.value},f.value),null)]]),["bottom","right"].includes(e.presetsPlacement)?(0,l.Wm)(_M,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null])}}});function XM(e){var t=e.value,n=e.mode,r=void 0===n?"date":n,o=e.format,i=e.timeFormat,a=void 0===i?"HH:mm:ss":i,s=e.enableTimePicker,c={year:[dx().year(),dx().year()],month:[dx().month(),dx().month()],time:[dx().format(a),dx().format(a)]};return"year"===r?c.year[1]+=10:"month"===r||"quarter"===r?c.year[1]+=1:"date"!==r&&"week"!==r||s||(c.month[1]+=1),t&&Array.isArray(t)&&t.length?{year:t.map((function(e){return AL(e,o).year()})),month:t.map((function(e){return AL(e,o).month()})),time:t.map((function(e){return AL(e,o).format(a)}))}:c}function ZM(e){var t=(0,d.BK)(e),n=t.value,r=t.modelValue,o=Sy(n,r,e.defaultValue,e.onChange),i=v(o,2),a=i[0],s=i[1],c=(0,l.Fl)((function(){return CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})}));e.enableTimePicker&&(vL(c.value.format)||console.error("format: ".concat(c.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss"))),Array.isArray(a.value)?_L(a.value,c.value.format)||console.error("value: ".concat(a.value," is invalid dateTime! Check whether the value is consistent with format: ").concat(c.value.format)):console.error("typeof value: ".concat(a.value," must be Array!"));var u=(0,d.iH)(!1),f=(0,d.iH)(XM({value:a.value,mode:e.mode,format:c.value.format,timeFormat:c.value.timeFormat}).time),p=(0,d.iH)(XM({value:a.value,mode:e.mode,format:c.value.format,enableTimePicker:e.enableTimePicker}).month),h=(0,d.iH)(XM({value:a.value,mode:e.mode,format:c.value.format}).year),g=(0,d.iH)(wL(a.value,{format:c.value.format}));return(0,l.m0)((function(){a.value?_L(a.value,c.value.format)&&(g.value=wL(a.value,{format:c.value.format}),f.value=SL(a.value,c.value.timeFormat)):g.value=[]})),{year:h,month:p,value:a,time:f,isFirstValueSelected:u,cacheValue:g,onChange:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tB={first:"start",second:"end"};function nB(e){var t=Os("date-range-picker"),n=Is("datePicker"),r=n.globalConfig,o=Tg({CalendarIcon:gx}),i=o.CalendarIcon,a=(0,d.iH)(!1),s=(0,d.iH)(),c=ZM(e),f=c.value,p=c.onChange,h=c.time,g=c.month,v=c.year,m=c.cacheValue,y=c.isFirstValueSelected,A=(0,l.Fl)((function(){return CL({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})})),b=(0,d.iH)(!1),E=(0,d.iH)(!1),_=(0,d.iH)(0),w=(0,d.iH)(wL(e.value,{format:A.value.format})),S=(0,l.Fl)((function(){return eB(eB({},e.rangeInputProps),{},{ref:s,clearable:e.clearable,prefixIcon:e.prefixIcon,readonly:!e.allowInput,separator:e.separator,placeholder:e.placeholder||r.value.placeholder[e.mode],activeIndex:b.value?_.value:void 0,suffixIcon:e.suffixIcon||function(){return(0,l.Wm)(i,null,null)},class:u({},"".concat(t.value,"__input--placeholder"),E.value),onClick:function(e){var t=e.position;_.value="first"===t?0:1},onClear:function(e){var t=e.e;t.stopPropagation(),b.value=!1,null===p||void 0===p||p([],{dayjsValue:[],trigger:"clear"})},onBlur:function(t,n){var r,o=n.e,i=n.position;null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,partial:tB[i],e:o})},onFocus:function(t,n){var r,o=n.e,i=n.position;null===(r=e.onFocus)||void 0===r||r.call(e,{value:t,partial:tB[i],e:o}),_.value="first"===i?0:1},onChange:function(e,t){t.e,t.position;if(w.value=e,_L(e,A.value.format)){var n=[],r=[],o=[];e.forEach((function(e,t){n.push(dx(e).year()||v.value[t]),r.push(dx(e).month()||g.value[t]),o.push(dx(e).format(A.value.timeFormat)||h.value[t])})),v.value=n,g.value=r,h.value=o}},onEnter:function(e){(_L(e,A.value.format)||_L(f.value,A.value.format))&&(b.value=!1,_L(e,A.value.format)?null===p||void 0===p||p(wL(e,{format:A.value.format}),{dayjsValue:e.map((function(e){return AL(e,A.value.format)})),trigger:"enter"}):_L(f.value,A.value.format)?w.value=wL(f.value,{format:A.value.format}):w.value=[])}})})),C=(0,l.Fl)((function(){var n,r,o;return eB(eB({expandAnimation:!0},e.popupProps),{},{overlayInnerStyle:null!==(n=null===(r=e.popupProps)||void 0===r?void 0:r.overlayInnerStyle)&&void 0!==n?n:{width:"auto"},overlayClassName:[null===(o=e.popupProps)||void 0===o?void 0:o.overlayClassName,"".concat(t.value,"__panel-container")],onVisibleChange:function(e,t){if("trigger-element-click"===t.trigger){var n={0:"first",1:"second"};return s.value.focus({position:n[_.value]}),void(b.value=!0)}b.value=e}})}));return(0,l.m0)((function(){f.value?_L(f.value,A.value.format)&&(w.value=wL(f.value,{format:A.value.format})):w.value=[]})),(0,l.m0)((function(){if(a.value){var e={0:"first",1:"second"};s.value.focus({position:e[_.value]})}else a.value=!0})),{year:v,month:g,value:f,time:h,inputValue:w,popupVisible:b,rangeInputProps:S,popupProps:C,isHoverCell:E,activeIndex:_,isFirstValueSelected:y,cacheValue:m,onChange:p}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function rB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rB(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iB=(0,l.aZ)({name:"TDateRangePicker",props:oB({},jM),setup:function(e){var t=Os("date-range-picker"),n=nB(e),r=n.inputValue,o=n.popupVisible,i=n.rangeInputProps,a=n.popupProps,s=n.value,u=n.year,f=n.month,p=n.time,h=n.cacheValue,g=n.activeIndex,v=n.isHoverCell,m=n.isFirstValueSelected,y=n.onChange,A=np(),b=(0,l.Fl)((function(){return CL({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format})})),E=(0,d.iH)(!1);function _(e){v.value=!0;var t=c(r.value);t[g.value]=wL(e,{format:b.value.format}),r.value=t}function w(){v.value=!1,r.value=h.value}function S(t,n){var i,a=n.e,s=n.partial;null===(i=e.onPick)||void 0===i||i.call(e,t,{e:a,partial:g.value?"end":"start"}),v.value=!1,E.value=!0;var u=c(r.value);if(u[g.value]=wL(t,{format:b.value.format}),h.value=u,r.value=u,"date"===e.mode){var l="start"===s?0:1,d=dx(t).month()!==f.value[l];d&&(0===g.value&&(f.value=[dx(t).month(),Math.min(dx(t).month()+1,11)]),1===g.value&&(f.value=[Math.max(dx(t).month()-1,0),dx(t).month()]))}if(!e.enableTimePicker){var p=u.findIndex((function(e){return!e||!_L(e,b.value.format)}));if(-1===p&&2===u.length&&(!m.value&&AL(u[0],b.value.format).isAfter(AL(u[1],b.value.format))?(u[g.value?0:1]="",h.value=u,r.value=u):null===y||void 0===y||y(wL(u,{format:b.value.format}),{dayjsValue:u.map((function(e){return AL(e,b.value.format)})),trigger:"pick"})),m.value)o.value=!1;else{var A=p;-1===A&&(A=g.value?0:1),g.value=A,m.value=!0}}}function C(t){var n=t.trigger,r=t.partial,o="start"===r?0:1,i={date:1,week:1,month:12,quarter:12,year:120},a=i[e.mode]||0,s=new Date(u.value[o],f.value[o]),l=null;"prev"===n?l=uL(s,a):"current"===n?l=new Date:"next"===n&&(l=lL(s,a));var d=c(u.value);d[o]=l.getFullYear();var p=c(f.value);p[o]=l.getMonth(),0===o&&(d[1]=Math.max(d[0],d[1]),d[0]===d[1]&&(p[1]=Math.max(p[0],p[1]))),1===o&&(d[0]=Math.min(d[0],d[1]),d[0]===d[1]&&(p[0]=Math.min(p[0],p[1]))),u.value=d,f.value=p}function I(e){var t=mL(e),n=t.hours,o=t.minutes,i=t.seconds,a=t.milliseconds,s=t.meridiem,l=c(r.value),d=r.value[g.value],v=dx(d,b.value.format).isValid()?dx(d,b.value.format):dx().year(u.value[g.value]).month(f.value[g.value]),m=n;/am/i.test(s)&&12===m&&(m-=12),/pm/i.test(s)&&m<12&&(m+=12);var y=v.hour(m).minute(o).second(i).millisecond(a).toDate();l[g.value]=y;var A=c(p.value);A[g.value]=e,p.value=A,E.value=!0,r.value=wL(l,{format:b.value.format}),h.value=wL(l,{format:b.value.format})}function O(){var e=c(r.value),t=e.findIndex((function(e){return!e||!_L(e,b.value.format)}));if(-1===t&&2===e.length&&(!m.value&&AL(e[0],b.value.format).isAfter(AL(e[1],b.value.format))?(e[g.value?0:1]="",h.value=e,r.value=e):null===y||void 0===y||y(wL(e,{format:b.value.format}),{dayjsValue:e.map((function(e){return AL(e,b.value.format)})),trigger:"confirm"})),m.value)o.value=!1;else{var n=t;-1===n&&(n=g.value?0:1),g.value=n,m.value=!0}}function T(e){var t=e;"function"===typeof e&&(t=e()),Array.isArray(t)?(null===y||void 0===y||y(wL(t,{format:b.value.format}),{dayjsValue:t.map((function(e){return AL(e,b.value.format)})),trigger:"preset"}),o.value=!1):console.error("preset: ".concat(e," 预设值必须是数组!"))}function R(t,n){var r=n.partial,o="start"===r?0:1;e.enableTimePicker&&(o=g.value);var i=c(u.value);i[o]=t,0===o&&(i[1]=Math.max(i[0],i[1])),1===o&&(i[0]=Math.min(i[0],i[1])),u.value=i}function N(t,n){var r=n.partial,o="start"===r?0:1;e.enableTimePicker&&(o=g.value);var i=c(f.value);i[o]=t,u[0]===u[1]&&(0===o&&(i[1]=Math.max(i[0],i[1])),1===o&&(i[0]=Math.min(i[0],i[1]))),f.value=i}(0,l.YP)(o,(function(t){if(t)if(E.value=!1,h.value=wL(s.value||[],{format:b.value.format}),p.value=SL(s.value||[dx().format(b.value.timeFormat),dx().format(b.value.timeFormat)],b.value.timeFormat),s.value.length)if(2!==s.value.length||e.enableTimePicker)u.value=s.value.map((function(e){return AL(e||new Date,b.value.format).year()})),f.value=s.value.map((function(e){return AL(e||new Date,b.value.format).month()}));else{var n=s.value.map((function(e){return AL(e||new Date,b.value.format).month()}));u.value[0]===u.value[1]&&n[0]===n[1]&&(11===n[0]?n[0]-=1:n[1]+=1),f.value=n}else u.value=XM({value:s.value,mode:e.mode,format:b.value.format}).year,f.value=XM({value:s.value,mode:e.mode,format:b.value.format,enableTimePicker:e.enableTimePicker}).month;else v.value=!1,m.value=!1,r.value=wL(s.value,{format:b.value.format})}));var P=(0,l.Fl)((function(){return{hoverValue:v.value?r.value:[],value:E.value?h.value:s.value,isFirstValueSelected:m.value,activeIndex:g.value,year:u.value,month:f.value,format:b.value.format,mode:e.mode,presets:e.presets,time:p.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:o.value,panelPreselection:e.panelPreselection,onCellClick:S,onCellMouseEnter:_,onCellMouseLeave:w,onJumperClick:C,onConfirmClick:O,onPresetClick:T,onYearChange:R,onMonthChange:N,onTimePickerChange:I}}));return function(){return(0,l.Wm)("div",{class:t.value},[(0,l.Wm)(qM,{disabled:A.value,status:e.status,tips:e.tips,inputValue:r.value,popupProps:a.value,rangeInputProps:i.value,popupVisible:o.value,panel:function(){return(0,l.Wm)(JM,P.value,null)}},null)])}}}),aB={onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sB(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uB=(0,l.aZ)({name:"TDateRangePickerPanel",props:cB({value:jM.value,defaultValue:jM.defaultValue,modelValue:jM.modelValue,disabled:jM.disabled,disableDate:jM.disableDate,enableTimePicker:jM.enableTimePicker,firstDayOfWeek:jM.firstDayOfWeek,format:jM.format,mode:jM.mode,presets:jM.presets,presetsPlacement:jM.presetsPlacement,timePickerProps:jM.timePickerProps,panelPreselection:jM.panelPreselection},aB),setup:function(e){var t=ZM(e),n=t.value,r=t.year,o=t.month,i=t.time,a=t.cacheValue,s=t.isFirstValueSelected,u=t.onChange,f=(0,l.Fl)((function(){return CL({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format})})),p=(0,d.iH)(!1),h=(0,d.iH)(!1),g=(0,d.iH)([]),v=(0,l.Fl)((function(){return s.value?1:0}));function m(e){h.value=!0;var t=c(g.value);t[v.value]=wL(e,{format:f.value.format}),g.value=t}function y(){h.value=!1,g.value=a.value}function A(t,r){var o,i=r.e;null===(o=e.onCellClick)||void 0===o||o.call(e,{e:i,partial:v.value?"end":"start",date:n.value.map((function(e){return dx(e).toDate()}))}),h.value=!1,p.value=!0;var l=c(a.value);l[v.value]=wL(t,{format:f.value.format}),a.value=l,e.enableTimePicker||(2===l.length&&s.value?(null===u||void 0===u||u(wL(l,{format:f.value.format}),{dayjsValue:l.map((function(e){return AL(e,f.value.format)})),trigger:"pick"}),s.value=!1):s.value=!0)}function b(t){var i=t.trigger,a=t.partial,s="start"===a?0:1,u={prev:"arrow-previous",next:"arrow-next"},l={date:1,month:12,year:120},d=l[e.mode]||0,f=new Date(r.value[s],o.value[s]),p=null;"prev"===i?p=uL(f,d):"current"===i?p=new Date:"next"===i&&(p=lL(f,d));var h=c(r.value);h[s]=p.getFullYear();var g,v,m=c(o.value);(m[s]=p.getMonth(),0===s&&(h[1]=Math.max(h[0],h[1]),h[0]===h[1]&&(m[1]=Math.max(m[0],m[1]))),1===s&&(h[0]=Math.min(h[0],h[1]),h[0]===h[1]&&(m[0]=Math.min(m[0],m[1]))),r.value.some((function(e){return!h.includes(e)})))&&(null===(g=e.onYearChange)||void 0===g||g.call(e,{partial:a,year:h[s],date:n.value.map((function(e){return dx(e).toDate()})),trigger:"current"===i?"today":"year-".concat(u[i])}));o.value.some((function(e){return!m.includes(e)}))&&(null===(v=e.onMonthChange)||void 0===v||v.call(e,{partial:a,month:m[s],date:n.value.map((function(e){return dx(e).toDate()})),trigger:"current"===i?"today":"month-".concat(u[i])}));r.value=h,o.value=m}function E(t){var s,u=mL(t),l=u.hours,d=u.minutes,h=u.seconds,g=u.milliseconds,m=u.meridiem,y=c(a.value),A=a.value[v.value],b=dx(A,f.value.format).isValid()?dx(A,f.value.format):dx().year(r.value[v.value]).month(o.value[v.value]),E=l;/am/i.test(m)&&12===E&&(E-=12),/pm/i.test(m)&&E<12&&(E+=12);var _=b.hour(E).minute(d).second(h).millisecond(g).toDate();y[v.value]=_;var w=c(i.value);w[v.value]=t,i.value=w,p.value=!0,a.value=wL(y,{format:f.value.format}),null===(s=e.onTimeChange)||void 0===s||s.call(e,{time:t,date:n.value.map((function(e){return AL(e,f.value.format).toDate()})),partial:v.value?"end":"start",trigger:"time-hour"})}function _(t){var i,l=t.e,d=c(a.value);2===d.length&&s.value?(null===u||void 0===u||u(wL(d,{format:f.value.format}),{dayjsValue:d.map((function(e){return AL(e,f.value.format)})),trigger:"confirm"}),r.value=d.map((function(e){return dx(e,f.value.format).year()})),o.value=d.map((function(e){return dx(e,f.value.format).month()})),s.value=!1):s.value=!0,null===(i=e.onConfirm)||void 0===i||i.call(e,{date:n.value.map((function(e){return dx(e).toDate()})),e:l})}function w(e){var t=e;"function"===typeof e&&(t=e()),Array.isArray(t)?null===u||void 0===u||u(wL(t,{format:f.value.format}),{dayjsValue:t.map((function(e){return AL(e,f.value.format)})),trigger:"preset"}):console.error("preset: ".concat(e," 预设值必须是数组!"))}function S(t,o){var i,a=o.partial,s="start"===a?0:1;e.enableTimePicker&&(s=v.value);var u=c(r.value);u[s]=t,0===s&&(u[1]=Math.max(u[0],u[1])),1===s&&(u[0]=Math.min(u[0],u[1])),r.value=u,null===(i=e.onYearChange)||void 0===i||i.call(e,{partial:a,year:u[s],date:n.value.map((function(e){return dx(e).toDate()})),trigger:"year-select"})}function C(t,i){var a,s=i.partial,u="start"===s?0:1;e.enableTimePicker&&(u=v.value);var l=c(o.value);l[u]=t,r[0]===r[1]&&(0===u&&(l[1]=Math.max(l[0],l[1])),1===u&&(l[0]=Math.min(l[0],l[1]))),o.value=l,null===(a=e.onMonthChange)||void 0===a||a.call(e,{partial:s,month:l[u],date:n.value.map((function(e){return dx(e).toDate()})),trigger:"month-select"})}var I=(0,l.Fl)((function(){return{hoverValue:h.value?g.value:[],value:p.value?a.value:n.value,activeIndex:v.value,year:r.value,month:o.value,mode:e.mode,format:f.value.format,presets:e.presets,time:i.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,panelPreselection:e.panelPreselection,panelClick:e.onPanelClick,onCellClick:A,onCellMouseEnter:m,onCellMouseLeave:y,onJumperClick:b,onConfirmClick:_,onPresetClick:w,onYearChange:S,onMonthChange:C,onTimePickerChange:E}}));return function(){return(0,l.Wm)(JM,I.value,null)}}}),lB=Hf(PM),dB=Hf(LM),fB=Hf(iB),pB=Hf(uB),hB=Z,gB=On,vB="[object Boolean]";function mB(e){return!0===e||!1===e||gB(e)&&hB(e)==vB}var yB=mB,AB={colon:Boolean,data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:void 0},errorMessage:{type:Object},formControlledComponents:{type:Array},labelAlign:{type:String,default:"right",validator:function(e){return!e||["left","right","top"].includes(e)}},labelWidth:{type:[String,Number],default:"100px"},layout:{type:String,default:"vertical",validator:function(e){return!e||["vertical","inline"].includes(e)}},preventSubmitDefault:{type:Boolean,default:!0},requiredMark:{type:Boolean,default:void 0},resetType:{type:String,default:"empty",validator:function(e){return!e||["empty","initial"].includes(e)}},rules:{type:Object},scrollToFirstError:{type:String,default:"",validator:function(e){return!e||["","smooth","auto"].includes(e)}},showErrorMessage:{type:Boolean,default:!0},statusIcon:{type:[Boolean,Function],default:void 0},submitWithWarningMessage:Boolean,onReset:Function,onSubmit:Function,onValidate:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _B=(0,l.aZ)({name:"TForm",props:EB({},AB),setup:function(e,t){var n=t.expose,r=op(),o=(0,d.BK)(e),i=o.disabled;(0,l.JJ)("formDisabled",{disabled:i});var a=(0,d.iH)(null),s=(0,d.iH)([]),c=(0,d.BK)(e),f=c.showErrorMessage,p=c.labelWidth,h=c.labelAlign,g=c.data,m=c.colon,y=c.requiredMark,A=c.rules,b=c.errorMessage,E=c.resetType;(0,l.JJ)(m_,(0,d.qj)({showErrorMessage:f,labelWidth:p,labelAlign:h,data:g,colon:m,requiredMark:y,rules:A,errorMessage:b,resetType:E,children:s,renderContent:r}));var _=Os("form"),w=g_(),S=(0,l.Fl)((function(){return[w.value.form,u({},"".concat(_.value,"-inline"),"inline"===e.layout)]})),C=Os("form-item__"),I=function(t){if(yB(t))return"";var n=Object.keys(t),r=v(n,1),o=r[0];e.scrollToFirstError&&O(".".concat(C.value+o));var i=t[o];return Kr(i)?i.filter((function(e){return!e.result}))[0].message:""},O=function(t){var n,r=null===(n=a.value)||void 0===n?void 0:n.querySelector(t),o=e.scrollToFirstError;o&&r&&r.scrollIntoView({behavior:o})},T=function(e,t){return!t||!Array.isArray(t)||-1!==t.indexOf("".concat(e))},R=function(e){var t=e.reduce((function(e,t){return Object.assign(e||{},t)}),{});return Object.keys(t).forEach((function(e){!0===t[e]&&delete t[e]})),!!Eu(t)||t},N=function(){var t=Oh(Ph.mark((function t(n){var r,o,i,a,c,u,l,d,f,p;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=n||{},i=o.fields,a=o.trigger,c=void 0===a?"all":a,u=o.showErrorMessage,l=s.value.filter((function(e){return ce(e.validate)&&T(String(e.name),i)})).map((function(e){return e.validate(c,u)})),t.next=4,Promise.all(l);case 4:return d=t.sent,f=R(d),p=I(f),null===(r=e.onValidate)||void 0===r||r.call(e,{validateResult:f,firstError:p}),t.abrupt("return",f);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=Oh(Ph.mark((function e(t){var n,r,o,i,a,c;return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t||{},r=n.fields,o=n.trigger,i=void 0===o?"all":o,a=s.value.filter((function(e){return ce(e.validateOnly)&&T(String(e.name),r)})).map((function(e){return e.validateOnly(i)})),e.next=4,Promise.all(a);case 4:return c=e.sent,e.abrupt("return",R(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(0,d.iH)(),D=function(t){e.preventSubmitDefault&&t&&(t.preventDefault(),t.stopPropagation()),N(k.value).then((function(n){var r;null===(r=e.onSubmit)||void 0===r||r.call(e,{validateResult:n,firstError:I(n),e:t})})),k.value=void 0},x=function(){var e=Oh(Ph.mark((function e(t){return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:k.value=t,dc(a.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=(0,d.iH)(),j=function(t){var n;e.preventSubmitDefault&&t&&(t.preventDefault(),t.stopPropagation()),s.value.filter((function(e){var t;return ce(e.resetField)&&T(String(e.name),null===(t=L.value)||void 0===t?void 0:t.fields)})).forEach((function(e){var t;return e.resetField(null===(t=L.value)||void 0===t?void 0:t.type)})),L.value=void 0,null===(n=e.onReset)||void 0===n||n.call(e,{e:t})},M=function(e){L.value=e,a.value.reset()},B=function(e){s.value.forEach((function(t){ce(t.resetHandler)&&T(String(t.name),e)&&t.resetHandler()}))},F=function(e){var t=Object.keys(e);if(t.length){var n=s.value.filter((function(e){return ce(e.setValidateMessage)&&t.includes("".concat(e.name))})).map((function(t){return t.setValidateMessage(e[t.name])}));Promise.all(n)}};return n({validate:N,submit:x,reset:M,clearValidate:B,setValidateMessage:F,validateOnly:P}),function(){return(0,l.Wm)("form",{ref:a,class:S.value,onSubmit:function(e){return D(e)},onReset:function(e){return j(e)}},[r("default")])}}}),wB=Jw;function SB(e,t,n){return null==e?e:wB(e,t,n)}var CB=SB,IB={exports:{}},OB={exports:{}};(function(e,t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"],e.exports["default"]=t["default"]})(OB,OB.exports);OB.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=h;var n=r(OB.exports);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return s(e)||a(e,t)||u(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){o=!0,i=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function s(e){if(Array.isArray(e))return e}function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function f(e){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(e)}function p(e,t){for(var n=[],r=Math.min(e.length,t.length),o=0;o<r;o++)n.push([e[o],t[o]]);return n}function h(e,t){if(t="string"===typeof t?(0,n["default"])({format:t},d):(0,n["default"])(t,d),"string"===typeof e&&f(t.format)){var r,i=t.delimiters.find((function(e){return-1!==t.format.indexOf(e)})),a=t.strictMode?i:t.delimiters.find((function(t){return-1!==e.indexOf(t)})),s=p(e.split(a),t.format.toLowerCase().split(i)),u={},l=c(s);try{for(l.s();!(r=l.n()).done;){var h=o(r.value,2),g=h[0],v=h[1];if(g.length!==v.length)return!1;u[v.charAt(0)]=g}}catch(m){l.e(m)}finally{l.f()}return new Date("".concat(u.m,"/").concat(u.d,"/").concat(u.y)).getDate()===+u.d}return!t.strictMode&&("[object Date]"===Object.prototype.toString.call(e)&&isFinite(e))}e.exports=t["default"],e.exports["default"]=t["default"]})(IB,IB.exports);var TB=w(IB.exports),RB={exports:{}},NB={exports:{}};(function(e,t){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t="string"===typeof e||e instanceof String;if(!t){var r=n(e);throw null===e?r="null":"object"===r&&(r=e.constructor.name),new TypeError("Expected a string but received a ".concat(r))}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"],e.exports["default"]=t["default"]})(NB,NB.exports);NB.exports;var PB={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var n=r(NB.exports);function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var r,i;(0,n["default"])(e),"object"===o(t)?(r=t.min||0,i=t.max):(r=arguments[1],i=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=r&&("undefined"===typeof i||a<=i)}e.exports=t["default"],e.exports["default"]=t["default"]})(PB,PB.exports);PB.exports;var kB={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=o(NB.exports),r=o(OB.exports);function o(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function a(e,t){(0,n["default"])(e),t=(0,r["default"])(t,i),t.allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var o=e.split("."),a=o[o.length-1];if(t.require_tld){if(o.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}return!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&o.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))}e.exports=t["default"],e.exports["default"]=t["default"]})(kB,kB.exports);kB.exports;var DB={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var n=r(NB.exports);function r(e){return e&&e.__esModule?e:{default:e}}var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(o,"[.]){3}").concat(o),a=new RegExp("^".concat(i,"$")),s="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(i,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(i,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(i,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(i,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(i,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(i,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(i,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n["default"])(e),t=String(t),!t)return u(e,4)||u(e,6);if("4"===t){if(!a.test(e))return!1;var r=e.split(".").sort((function(e,t){return e-t}));return r[3]<=255}return"6"===t&&!!c.test(e)}e.exports=t["default"],e.exports["default"]=t["default"]})(DB,DB.exports);DB.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=m;var n=s(NB.exports),r=s(OB.exports),o=s(PB.exports),i=s(kB.exports),a=s(DB.exports);function s(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,g=254;function v(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;var n=/[\.";<>]/.test(t);if(n){if(t===e)return!1;var r=t.split('"').length===t.split('\\"').length;if(!r)return!1}return!0}function m(e,t){if((0,n["default"])(e),t=(0,r["default"])(t,c),t.require_display_name||t.allow_display_name){var s=e.match(u);if(s){var m=s[1];if(e=e.replace(m,"").replace(/(^<|>$)/g,""),m.endsWith(" ")&&(m=m.substr(0,m.length-1)),!v(m))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>g)return!1;var y=e.split("@"),A=y.pop(),b=A.toLowerCase();if(t.host_blacklist.includes(b))return!1;var E=y.join("@");if(t.domain_specific_validation&&("gmail.com"===b||"googlemail.com"===b)){E=E.toLowerCase();var _=E.split("+")[0];if(!(0,o["default"])(_.replace(/\./g,""),{min:6,max:30}))return!1;for(var w=_.split("."),S=0;S<w.length;S++)if(!d.test(w[S]))return!1}if(!1===t.ignore_max_length&&(!(0,o["default"])(E,{max:64})||!(0,o["default"])(A,{max:254})))return!1;if(!(0,i["default"])(A,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,a["default"])(A)){if(!A.startsWith("[")||!A.endsWith("]"))return!1;var C=A.substr(1,A.length-2);if(0===C.length||!(0,a["default"])(C))return!1}}if('"'===E[0])return E=E.slice(1,E.length-1),t.allow_utf8_local_part?h.test(E):f.test(E);for(var I=t.allow_utf8_local_part?p:l,O=E.split("."),T=0;T<O.length;T++)if(!I.test(O[T]))return!1;return!t.blacklisted_chars||-1===E.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))}e.exports=t["default"],e.exports["default"]=t["default"]})(RB,RB.exports);var xB=w(RB.exports),LB={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=m;var n=a(NB.exports),r=a(kB.exports),o=a(DB.exports),i=a(OB.exports);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return f(e)||d(e,t)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){o=!0,i=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function f(e){if(Array.isArray(e))return e}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},h=/^\[([^\]]+)\](?::([0-9]+))?$/;function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||g(r)&&r.test(e))return!0}return!1}function m(e,t){if((0,n["default"])(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if(t=(0,i["default"])(t,p),t.validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var a,c,u,l,d,f,g,m;if(g=e.split("#"),e=g.shift(),g=e.split("?"),e=g.shift(),g=e.split("://"),g.length>1){if(a=g.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(a))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;g[0]=e.substr(2)}}if(e=g.join("://"),""===e)return!1;if(g=e.split("/"),e=g.shift(),""===e&&!t.require_host)return!0;if(g=e.split("@"),g.length>1){if(t.disallow_auth)return!1;if(""===g[0])return!1;if(c=g.shift(),c.indexOf(":")>=0&&c.split(":").length>2)return!1;var y=c.split(":"),A=s(y,2),b=A[0],E=A[1];if(""===b&&""===E)return!1}l=g.join("@"),f=null,m=null;var _=l.match(h);if(_?(u="",m=_[1],f=_[2]||null):(g=l.split(":"),u=g.shift(),g.length&&(f=g.join(":"))),null!==f&&f.length>0){if(d=parseInt(f,10),!/^[0-9]+$/.test(f)||d<=0||d>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?v(u,t.host_whitelist):!!((0,o["default"])(u)||(0,r["default"])(u,t)||m&&(0,o["default"])(m,6))&&(u=u||m,!t.host_blacklist||!v(u,t.host_blacklist))}e.exports=t["default"],e.exports["default"]=t["default"]})(LB,LB.exports);var jB=w(LB.exports);function MB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MB(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FB(e){var t=Object.prototype.toString.call(e),n={Date:"[object Date]"};return t!==n.Date&&("object"===S(e)?Eu(e):["",void 0,null].includes(e))}var UB={date:TB,url:jB,email:xB,required:function(e){return!FB(e)},whitespace:function(e){return!(/^\s+$/.test(e)||""===e)},boolean:function(e){return"boolean"===typeof e},max:function(e,t){return PE(e)?e<=t:sA(e)<=t},min:function(e,t){return PE(e)?e>=t:sA(e)>=t},len:function(e,t){return sA(e)===t},number:function(e){return PE(e)},enum:function(e,t){return t.includes(e)},idcard:function(e){return/^(\d{18,18}|\d{15,15}|\d{17,17}x)$/i.test(e)},telnumber:function(e){return/^1[3-9]\d{9}$/.test(e)},pattern:function(e,t){return t.test(e)},validator:function(e,t){return t(e)}};function VB(e,t){return WB.apply(this,arguments)}function WB(){return WB=Oh(Ph.mark((function e(t,n){var r,o,i,a,s,c,u;return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={result:!0},o=Object.keys(n),s=0;case 3:if(!(s<o.length)){e.next=15;break}if(c=o[s],n.required||!FB(t)||n.validator){e.next=7;break}return e.abrupt("return",r);case 7:if(u=UB[c],!u||!n[c]){e.next=12;break}return i=!0===n[c]?void 0:n[c],a=u,e.abrupt("break",15);case 12:s++,e.next=3;break;case 15:if(!a){e.next=23;break}return e.next=18,a(t,i);case 18:if(r=e.sent,"boolean"!==typeof r){e.next=21;break}return e.abrupt("return",BB(BB({},n),{},{result:r}));case 21:if("object"!==S(r)){e.next=23;break}return e.abrupt("return",r);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)}))),WB.apply(this,arguments)}function HB(e,t){return QB.apply(this,arguments)}function QB(){return QB=Oh(Ph.mark((function e(t,n){var r,o;return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.map((function(e){return VB(t,e)})),e.next=3,Promise.all(r);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),QB.apply(this,arguments)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var GB={for:{type:String,default:""},help:{type:[String,Function]},label:{type:[String,Function],default:""},labelAlign:{type:String,validator:function(e){return!e||["left","right","top"].includes(e)}},labelWidth:{type:[String,Number]},name:{type:[String,Number]},requiredMark:{type:Boolean,default:void 0},rules:{type:Array},showErrorMessage:{type:Boolean,default:void 0},statusIcon:{type:[Boolean,Function],default:void 0},successBorder:Boolean},KB=Zo,qB=ps,zB=Si,YB=qB((function(e,t,n,r){KB(t,zB(t),e,r)})),JB=YB,XB=Z,ZB=On,$B=ha,eF="[object DOMException]",tF="[object Error]";function nF(e){if(!ZB(e))return!1;var t=XB(e);return t==tF||t==eF||"string"==typeof e.message&&"string"==typeof e.name&&!$B(e)}var rF=nF,oF=Ti,iF=ra,aF=rF,sF=iF((function(e,t){try{return oF(e,void 0,t)}catch(n){return aF(n)?n:new Error(n)}})),cF=sF,uF=wu;function lF(e,t){return uF(t,(function(t){return e[t]}))}var dF=lF,fF=Qe,pF=Object.prototype,hF=pF.hasOwnProperty;function gF(e,t,n,r){return void 0===e||fF(e,pF[n])&&!hF.call(r,n)?t:e}var vF=gF,mF={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function yF(e){return"\\"+mF[e]}var AF=yF,bF=/<%=([\s\S]+?)%>/g,EF=bF,_F=Hl,wF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},SF=_F(wF),CF=SF,IF=CF,OF=Uu,TF=/[&<>"']/g,RF=RegExp(TF.source);function NF(e){return e=OF(e),e&&RF.test(e)?e.replace(TF,IF):e}var PF=NF,kF=/<%-([\s\S]+?)%>/g,DF=kF,xF=/<%([\s\S]+?)%>/g,LF=xF,jF=PF,MF=DF,BF=LF,FF=EF,UF={escape:MF,evaluate:BF,interpolate:FF,variable:"",imports:{_:{escape:jF}}},VF=UF,WF=JB,HF=cF,QF=dF,GF=vF,KF=AF,qF=rF,zF=ba,YF=zS,JF=EF,XF=VF,ZF=Uu,$F="Invalid `variable` option passed into `_.template`",eU=/\b__p \+= '';/g,tU=/\b(__p \+=) '' \+/g,nU=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rU=/[()=,{}\[\]\/\s]/,oU=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,iU=/($^)/,aU=/['\n\r\u2028\u2029\\]/g,sU=Object.prototype,cU=sU.hasOwnProperty;function uU(e,t,n){var r=XF.imports._.templateSettings||XF;n&&zF(e,t,n)&&(t=void 0),e=ZF(e),t=WF({},t,r,GF);var o,i,a=WF({},t.imports,r.imports,GF),s=YF(a),c=QF(a,s),u=0,l=t.interpolate||iU,d="__p += '",f=RegExp((t.escape||iU).source+"|"+l.source+"|"+(l===JF?oU:iU).source+"|"+(t.evaluate||iU).source+"|$","g"),p=cU.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(f,(function(t,n,r,a,s,c){return r||(r=a),d+=e.slice(u,c).replace(aU,KF),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(i=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var h=cU.call(t,"variable")&&t.variable;if(h){if(rU.test(h))throw new Error($F)}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(eU,""):d).replace(tU,"$1").replace(nU,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=HF((function(){return Function(s,p+"return "+d).apply(void 0,c)}));if(g.source=d,qF(g))throw g;return g}var lU=uU;function dU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pU=(0,l.aZ)({name:"TFormItem",props:fU({},GB),setup:function(e,t){var n=t.slots,r=op(),o=g_(),i=Is("form"),a=i.globalConfig,s=Tg({CheckCircleFilledIcon:hg,CloseCircleFilledIcon:p_,ErrorCircleFilledIcon:yg}),c=s.CheckCircleFilledIcon,f=s.CloseCircleFilledIcon,p=s.ErrorCircleFilledIcon,h=(0,l.f3)(m_,void 0),g=Os("form-item__"),v=(0,l.Fl)((function(){var t=e.requiredMark;if("boolean"===typeof t)return t;var n=void 0===(null===h||void 0===h?void 0:h.requiredMark)?a.value.requiredMark:null===h||void 0===h?void 0:h.requiredMark,r=B.value.filter((function(e){return e.required})).length>0;return Boolean(n&&r)})),m=(0,l.Fl)((function(){return n.label||e.label})),y=(0,l.Fl)((function(){return!(null===h||void 0===h||!h.colon||!m.value)})),A=Os("form__label"),b=(0,l.Fl)((function(){return CD(e.labelAlign)?null===h||void 0===h?void 0:h.labelAlign:e.labelAlign})),E=(0,l.Fl)((function(){return CD(e.labelWidth)?null===h||void 0===h?void 0:h.labelWidth:e.labelWidth})),_=(0,l.Fl)((function(){var e;return[o.value.label,(e={},u(e,"".concat(A.value,"--required"),v.value),u(e,"".concat(A.value,"--colon"),y.value),u(e,"".concat(A.value,"--top"),m.value&&("top"===b.value||!E.value)),u(e,"".concat(A.value,"--left"),"left"===b.value&&E.value),u(e,"".concat(A.value,"--right"),"right"===b.value&&E.value),e)]})),w=function(){if(0!==Number(E.value)){var t={};return E.value&&"top"!==b.value&&(t="number"===typeof E.value?{width:"".concat(E.value,"px")}:{width:E.value}),(0,l.Wm)("div",{class:_.value,style:t},[(0,l.Wm)("label",{for:e["for"]},[r("label")])])}},S=function(){var e=function(e){return(0,l.Wm)("span",{class:o.value.status},[(0,l.Wm)(e,null,null)])},t=R.value;if(P.value===v_.SUCCESS)return e(c);if(null!==t&&void 0!==t&&t[0]){var n=t[0].type||"error",r={error:f,warning:p}[n]||c;return e(r)}return null},C=function(){var t=e.statusIcon;if(!1!==t){var n=r("statusIcon",{defaultNode:S()});if(n)return(0,l.Wm)("span",{class:o.value.status},[n]);if(!1!==n)return n=null===h||void 0===h?void 0:h.renderContent("statusIcon",{defaultNode:S()}),n||void 0}},I=(0,l.Fl)((function(){if(!Y.value)return"";if(P.value===v_.SUCCESS)return e.successBorder?[o.value.success,o.value.successBorder].join(" "):o.value.success;if(R.value.length){var t=R.value[0].type||"error";return"error"===t?o.value.error:o.value.warning}})),O=(0,l.Fl)((function(){return[o.value.controls,I.value]})),T=(0,l.Fl)((function(){var e={};return E.value&&"top"!==b.value&&(e="number"===typeof E.value?{marginLeft:"".concat(E.value,"px")}:{marginLeft:E.value}),e})),R=(0,d.iH)([]),N=(0,d.iH)([]),P=(0,d.iH)(v_.TO_BE_VALIDATED),k=(0,d.iH)(!1),D=(0,d.iH)(!1),x=function(){D.value=!1,R.value=[],N.value=[],P.value=v_.TO_BE_VALIDATED},L=function(){var t,n=Object.prototype.toString.call(sT(null===h||void 0===h?void 0:h.data,e.name));return"[object String]"===n&&(t=""),"[object Array]"===n&&(t=[]),"[object Object]"===n&&(t={}),t},j=function(){var t=Oh(Ph.mark((function t(){var n,r=arguments;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:null===h||void 0===h?void 0:h.resetType,e.name){t.next=3;break}return t.abrupt("return");case 3:return"empty"===n?CB(null===h||void 0===h?void 0:h.data,e.name,L()):"initial"===n&&CB(null===h||void 0===h?void 0:h.data,e.name,Q.value),t.next=6,(0,l.Y3)();case 6:k.value?D.value=!0:x();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=(0,l.Fl)((function(){var e;return null!==(e=null===h||void 0===h?void 0:h.errorMessage)&&void 0!==e?e:a.value.errorMessage})),B=(0,l.Fl)((function(){var t;if(null!==(t=e.rules)&&void 0!==t&&t.length)return e.rules;if(!e.name)return[];var n="".concat(e.name).lastIndexOf(".")||-1,r="".concat(e.name).slice(n+1);return sT(null===h||void 0===h?void 0:h.rules,e.name)||sT(null===h||void 0===h?void 0:h.rules,r)||[]})),F=function(){var t=Oh(Ph.mark((function t(n){var r,o;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o={successList:[],errorList:[],rules:[],resultList:[],allowSetValue:!1},o.rules="all"===n?B.value:B.value.filter((function(e){return(e.trigger||"change")===n})),!B.value.length||null!==(r=o.rules)&&void 0!==r&&r.length){t.next=4;break}return t.abrupt("return",o);case 4:return o.allowSetValue=!0,t.next=7,HB(H.value,o.rules);case 7:return o.resultList=t.sent,o.errorList=o.resultList.filter((function(e){return!0!==e.result})).map((function(t){return Object.keys(t).forEach((function(n){if(!t.message&&M.value[n]){var r=lU(M.value[n]),o="string"===typeof e.label?e.label:e.name;t.message=r({name:o,validate:t[n]})}})),t})),o.successList=o.resultList.filter((function(e){return!0===e.result&&e.message&&"success"===e.type})),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Oh(Ph.mark((function t(n,r){var o,i,a,s,c,l;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return k.value=!0,z.value=r,t.next=4,F(n);case 4:return o=t.sent,i=o.successList,a=o.errorList,s=o.rules,c=o.resultList,l=o.allowSetValue,l&&(N.value=i,R.value=a),s.length?P.value=a.length?v_.FAIL:v_.SUCCESS:P.value=v_.TO_BE_VALIDATED,D.value&&x(),k.value=!1,t.abrupt("return",u({},e.name,0===a.length||c));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),V=function(){var t=Oh(Ph.mark((function t(n){var r,o,i;return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F(n);case 2:return r=t.sent,o=r.errorList,i=r.resultList,t.abrupt("return",u({},e.name,0===o.length||i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(e){(e||Array.isArray(e))&&(0===e.length&&(R.value=[],P.value=v_.SUCCESS),R.value=e.map((function(e){return fU(fU({},e),{},{result:!1})})),P.value=v_.FAIL)},H=(0,l.Fl)((function(){return(null===h||void 0===h?void 0:h.data)&&sT(null===h||void 0===h?void 0:h.data,e.name)})),Q=(0,d.iH)(void 0),G=(0,d.BK)(e),K=G.name,q=(0,d.qj)({name:K,resetHandler:x,resetField:j,validate:U,validateOnly:V,setValidateMessage:W});(0,l.bv)((function(){Q.value=oT(H.value),null===h||void 0===h||h.children.push(q)})),(0,l.Jd)((function(){h&&(h.children=null===h||void 0===h?void 0:h.children.filter((function(e){return e!==q})))})),(0,l.YP)(H,Oh(Ph.mark((function e(){return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U("change");case 2:case"end":return e.stop()}}),e)}))),{deep:!0});var z=(0,d.iH)(void 0),Y=(0,l.Fl)((function(){return"boolean"===typeof z.value?z.value:"boolean"===typeof e.showErrorMessage?e.showErrorMessage:null===h||void 0===h?void 0:h.showErrorMessage})),J=(0,l.Fl)((function(){var t;return[o.value.formItem,g.value+(e.name||""),(t={},u(t,o.value.formItemWithHelp,X.value),u(t,o.value.formItemWithExtra,Z.value),t)]})),X=(0,l.Fl)((function(){var e=r("help");return e?(0,l.Wm)("div",{class:o.value.help},[e]):null})),Z=(0,l.Fl)((function(){var e,t=function(e){return(0,l.Wm)("div",{class:o.value.extra},[e])},n=R.value;return Y.value&&null!==n&&void 0!==n&&null!==(e=n[0])&&void 0!==e&&e.message?t(n[0].message):N.value.length?t(N.value[0].message):null})),$=function(){var e=Oh(Ph.mark((function e(){return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U("blur");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.JJ)(y_,{handleBlur:$}),function(){return(0,l.Wm)("div",{class:J.value},[w(),(0,l.Wm)("div",{class:O.value,style:T.value},[(0,l.Wm)("div",{class:o.value.controlsContent},[r("default"),C()]),[X.value,Z.value]])])}}}),hU=Hf(_B),gU=Hf(pU),vU={allowUncheck:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},label:{type:[String,Function]},name:{type:String,default:""},value:{type:[String,Number,Boolean],default:void 0},onChange:Function,onClick:Function},mU=Symbol("RadioGroupProvide"),yU=Symbol("RadioButtonProvide");
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EU(e){var t={};return Object.keys(e).forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=e[n])})),t}var _U=(0,l.aZ)({name:"TRadio",inheritAttrs:!1,props:bU({},vU),setup:function(e,t){var n=t.attrs,r=(0,d.BK)(e),o=r.checked,i=r.modelValue,a=Sy(o,i,e.defaultChecked,e.onChange,"checked"),s=v(a,2),f=s[0],p=s[1],h=(0,l.Fl)((function(){return g?e.value===g.value:f.value})),g=(0,l.f3)(mU,void 0),m=function(t){if(null!==g&&void 0!==g&&g.setValue)g.setValue(e.value,{e:t});else{var n=t.target.checked;p(n,{e:t})}},y=function(t){var n;t.stopPropagation(),null===(n=e.onClick)||void 0===n||n.call(e,{e:t}),h.value&&e.allowUncheck&&(g?g.setValue(void 0,{e:t}):p(!1,{e:t}))},A=(0,l.Fl)((function(){return EU({focus:n.onFocus,blur:n.onBlur,keydown:n.onKeydown,keyup:n.onKeyup,keypresss:n.onKeypresss})})),b=(0,l.Fl)((function(){var e=[].concat(c(Object.keys(A.value)),["input","change"]).map((function(e){return"on".concat(e[0].toUpperCase()).concat(e.slice(1))}));return rA(n,e)})),E=(0,l.Fl)((function(){return null===g||void 0===g?void 0:g.disabled})),_=np(E),w=(0,l.Fl)((function(){return{name:g?g.name:e.name,checked:h.value,disabled:_.value,value:e.value}})),S=Ts(),C=S.STATUS,I=(0,l.f3)(yU,void 0),O=Os("radio-button"),T=Os("radio"),R=(0,l.Fl)((function(){return I?O.value:T.value})),N=(0,l.Fl)((function(){var e;return["".concat(R.value),(e={},u(e,C.value.checked,w.value.checked),u(e,C.value.disabled,w.value.disabled),e)]})),P=ap();return function(){return(0,l.Wm)("label",(0,l.dG)({class:N.value},b.value),[(0,l.Wm)("input",(0,l.dG)({type:"radio",class:"".concat(R.value,"__former")},A.value,w.value,{onChange:m,onClick:y}),null),(0,l.Wm)("span",{class:"".concat(R.value,"__input")},null),(0,l.Wm)("span",{class:"".concat(R.value,"__label")},[P("default","label")])])}}}),wU={disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:void 0},variant:{type:String,default:"outline",validator:function(e){return["outline","primary-filled","default-filled"].includes(e)}},onChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var IU=(0,l.aZ)({name:"TRadioGroup",props:CU({},wU),setup:function(e){var t=(0,d.BK)(e),n=t.value,r=t.modelValue,o=Sy(n,r,e.defaultValue,e.onChange),i=v(o,2),a=i[0],s=i[1],c=(0,d.iH)(),f=Os("radio-button"),p=Ts(),h=p.STATUS,g=p.SIZE,m=(0,l.Fl)((function(){return".".concat(f.value,".").concat(h.value.checked)})),y=(0,d.iH)({width:"0px",left:"0px"}),A=function(){var e=document.createElement("div");e.setAttribute("style","position: absolute; visibility: hidden;"),e.appendChild(c.value.cloneNode(!0)),document.body.appendChild(e);var t=e.querySelector(m.value),n=t.offsetWidth,r=t.offsetLeft;y.value={width:"".concat(n,"px"),left:"".concat(r,"px")},document.body.removeChild(e)},b=function(){if("outline"!==e.variant){var t=c.value.querySelector(m.value);if(t){var n=t.offsetWidth,r=t.offsetLeft;n?y.value={width:"".concat(n,"px"),left:"".concat(r,"px")}:A()}else y.value={width:"0px",left:"0px"}}};(0,l.YP)(a,Oh(Ph.mark((function e(){return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Y3)();case 2:b();case 3:case"end":return e.stop()}}),e)})))),(0,l.bv)((function(){b()}));var E=(0,d.BK)(e),_=E.name,w=E.disabled;(0,l.JJ)(mU,(0,d.qj)({name:_,disabled:w,value:a,setValue:s}));var S=Os("radio-group"),C=ip(),I=function(){if(e.variant.includes("filled")&&!CD(a.value))return(0,l.Wm)("div",{style:y.value,class:"".concat(S.value,"__bg-block")},null)},O=function(){var t;return null===(t=e.options)||void 0===t?void 0:t.map((function(t){var n=t;return(PE(t)||Ls(t))&&(n={value:t,label:t.toString()}),(0,l.Wm)(_U,{key:"radio-group-options-".concat(n.value,"-").concat(Math.random()),name:e.name,checked:a.value===n.value,disabled:"disabled"in n?n.disabled:e.disabled,value:n.value},{default:function(){return["function"===typeof n.label?n.label(l.h):n.label]}})}))},T=(0,l.Fl)((function(){var t;return["".concat(S.value),g.value[e.size],(t={},u(t,"".concat(S.value,"__outline"),"outline"===e.variant),u(t,"".concat(S.value,"--filled"),e.variant.includes("filled")),u(t,"".concat(S.value,"--primary-filled"),"primary-filled"===e.variant),t)]}));return function(){return(0,l.Wm)("div",{ref:c,class:T.value},[C("default")||O(),I()])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function OU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RU(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var NU=(0,l.aZ)({name:"TRadioButton",inheritAttrs:!1,props:TU({},vU),setup:function(e,t){var n=t.attrs;(0,l.JJ)(yU,(0,d.qj)({}));var r=(0,l.Fl)((function(){var t=TU(TU({},e),rA(n,Object.keys(n).filter((function(e){return e.startsWith("on")}))));return t})),o=ip();return function(){var e;return(0,l.Wm)(_U,r.value,RU(e=o("default"))?e:{default:function(){return[e]}})}}}),PU=Hf(_U),kU=Hf(IU),DU=Hf(NU),xU={disabled:Boolean,inputNumberProps:{type:[Boolean,Object],default:!1},label:{type:[String,Boolean,Function],default:!1},layout:{type:String,default:"horizontal",validator:function(e){return["vertical","horizontal"].includes(e)}},marks:{type:[Object,Array]},max:{type:Number,default:100},min:{type:Number,default:0},range:Boolean,step:{type:Number,default:1},showStep:{type:Boolean,default:!1},modelValue:{type:[Number,Array],default:void 0},tooltipProps:{type:Object},value:{type:[Number,Array],default:void 0},defaultValue:{type:[Number,Array]},onChange:Function},LU=function(e,t){return t?{top:"calc(".concat(100-e,"% - 1px)")}:{left:"".concat(e,"%")}},jU=function(e,t){return"first"===t?e instanceof Array?e[0]:e:e instanceof Array?e[1]:0},MU=function(e,t){if(!1===Boolean(e))return String(t);if("string"===typeof e){var n=String(t);try{var r=/\${value}%/g,o=r.test(e);if(!o)throw n=e,new Error;n=e.replace(r,String(t))}catch(i){console.warn("fail to parse label prop, please pass string such as '${value}%'")}return n}return function(){return e}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function BU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UU={visible:!1,trigger:"hover",showArrow:!0,overlayInnerStyle:void 0,overlayClassName:void 0,attach:"body",theme:"default"},VU=function(e){var t=(0,d.iH)(),n=(0,l.Fl)({get:function(){return!1===!e.value.tooltipProps},set:function(e){return e}}),r=(0,d.iH)(FU({},UU)),o=function(e){n.value&&(r.value.visible=e)},i=(0,l.Fl)((function(){var t=e.value,n=t.vertical,o=t.tooltipProps,i=t.label,a=t.value,s=n?"right":"top",c=MU(i,a);return o instanceof Object?(null!==o&&void 0!==o&&o.placement||(r.value.placement=s),FU(FU(FU({},r.value),o),{},{content:c})):FU(FU({},r.value),{},{placement:s,content:c})}));return{tooltipRef:t,tooltipProps:i,toggleTooltip:o,showTooltip:n}},WU=Symbol("sliderProps"),HU=(0,l.aZ)({name:"TSliderButton",props:{value:{type:[Number],default:0},vertical:{type:Boolean,default:!1},tooltipProps:{type:[Boolean,Object],default:!0},label:{type:[String,Boolean,Function],default:!1}},emits:["input"],setup:function(e,t){var n=Os("slider__button"),r=(0,l.Fl)((function(){return e})),o=VU(r),i=o.tooltipRef,a=o.tooltipProps,s=o.toggleTooltip,c=o.showTooltip,f=(0,l.f3)(WU),p=(0,d.iH)(),h=(0,d.qj)({dragging:!1,isClick:!1,startX:0,startY:0,startPos:0,newPos:null}),g=(0,l.Fl)((function(){return Number(f.max)-Number(f.min)})),v=(0,l.Fl)((function(){return"".concat((e.value-f.min)/g.value*100,"%")})),m=(0,l.Fl)((function(){return f.step})),y=(0,l.Fl)((function(){return e.vertical?{bottom:v.value}:{left:v.value}}));(0,l.m0)((function(){f.toggleDragging(h.dragging)}));var A=function(e){var n=e;if(null!==n&&!Number.isNaN(n)){n>100?n=100:n<0&&(n=0);var r=100*m.value/g.value,o=Math.round(n/r),a=o*r*g.value*.01;a+=f.min,a=Number(parseFloat("".concat(a)).toFixed(f.precision)),t.emit("input",a),(0,l.Y3)((function(){var e,t;i.value&&(null===(e=(t=i.value).updatePopper)||void 0===e||e.call(t))}))}},b=function(){p.value.focus(),s(!0)},E=function(){h.dragging||s(!1)},_=function(t){h.dragging=!0,h.isClick=!0;var n=t.type,r=t.clientY,o=t.clientX;if("touchstart"===n){var i=t.touches,a=[i[0].clientY,i[0].clientX];r=a[0],o=a[1]}e.vertical?h.startY=r:h.startX=o,h.startPos=parseFloat(v.value),h.newPos=h.startPos},w=function(t){var n=t;if(h.dragging){h.isClick=!1,null!==f&&void 0!==f&&f.resetSize&&"function"===typeof(null===f||void 0===f?void 0:f.resetSize)&&f.resetSize();var r=0,o=f.sliderSize;r=e.vertical?h.startY-n.clientY:n.clientX-h.startX,r=r/o*100,h.newPos=h.startPos+r,A(h.newPos)}},S=function e(){h.dragging&&(setTimeout((function(){h.dragging=!1,s(!1),h.isClick||A(h.newPos)}),0),window.removeEventListener("mousemove",w),window.removeEventListener("touchmove",w),window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("contextmenu",e))};function C(e){f.disabled||(e.preventDefault(),_(e),window.addEventListener("mousemove",w),window.addEventListener("mouseup",S),window.addEventListener("touchmove",w),window.addEventListener("touchend",S),window.addEventListener("contextmenu",S))}var I=function(e){if(!f.disabled){var t=m.value/g.value*100;"sub"===e&&(t=-t),h.newPos=parseFloat(v.value)+t,A(h.newPos)}},O=function(e){var t=e.code;e.preventDefault(),"ArrowDown"!==t&&"ArrowLeft"!==t||I("sub"),"ArrowUp"!==t&&"ArrowRight"!==t||I("add")};return t.expose({setPosition:A}),function(){return(0,l.Wm)("div",{ref:p,class:"".concat(n.value,"-wrapper"),style:y.value,tabindex:"0","show-tooltip":c.value,disabled:f.disabled,onmouseenter:b,onmouseleave:E,onmousedown:C,onTouchstart:C,onfocus:b,onblur:E,onKeydown:O},[c.value?(0,l.Wm)(By,(0,l.dG)({ref:i,disabled:!c.value},a.value),{default:function(){return[(0,l.Wm)("div",{class:[n.value,u({},"".concat(n.value,"--dragging"),h.dragging)]},null)]}}):(0,l.Wm)("div",{class:[n.value,u({},"".concat(n.value,"--dragging"),h.dragging)]},null)])}}}),QU=(0,l.aZ)({name:"TSliderMark",props:{mark:{type:[Object,Array,String,Number]},point:{type:Number},onClickMarkPoint:{type:Function,default:function(){}}},setup:function(e){var t=Os("slider__mark"),n=function(t){var n;t.stopPropagation(),null===e||void 0===e||null===(n=e.onClickMarkPoint)||void 0===n||n.call(e,e.point)};return function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-text"),onClick:n},[e.mark])}}}),GU=function(e){var t=e.value.prefixName,n=(0,l.Fl)((function(){var t=e.value;if(!t.marks)return[];var n=[];if(Array.isArray(t.marks)){var r=oT(t.marks).sort((function(e,t){return e-t})),o=Math.max.apply(Math,c(r).concat([t.max])),i=Math.min.apply(Math,c(r).concat([t.min]));i<t.min&&qA.errorOnce("TSlider","marks min value should >= props min"),o>t.max&&qA.errorOnce("TSlider","marks max value should <= props max"),r.forEach((function(e){n.push({point:e,position:(e-i)/(o-i)*100,mark:e})}))}else Object.keys(t.marks).map(parseFloat).sort((function(e,t){return e-t})).filter((function(e){return e<=t.max&&e>=t.min})).forEach((function(e){var r={point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]};n.push(r)}));return n})),r=function(r){if(n.value.length)return(0,l.Wm)("div",null,[(0,l.Wm)("div",null,[n.value.map((function(n,r){return(0,l.Wm)("div",{class:"".concat(t,"__stop ").concat(t,"__mark-stop"),style:LU(n.position,e.value.vertical),key:r},null)}))]),(0,l.Wm)("div",{class:"".concat(t,"__mark")},[n.value.map((function(t,n){return(0,l.Wm)(QU,{mark:t.mark,point:t.point,key:n,style:LU(t.position,e.value.vertical),onClickMarkPoint:r},null)}))])])};return r};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function KU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zU={decimalPlaces:0,format:void 0,placeholder:"",theme:"column"},YU=function(e){var t=e.value.prefixName,n=(0,l.Fl)((function(){var t=qU({},zU),n=e.value;if("boolean"!==typeof n.inputNumberProps){var r,o=null===(r=n.inputNumberProps)||void 0===r?void 0:r.theme;t=qU(qU({},t),n.inputNumberProps),["column","row","normal"].includes(o)&&(t.theme=o)}return t})),r=(0,l.Fl)((function(){return["".concat(t,"__input"),{"is-vertical":e.value.vertical}]})),o=function(t,o){var i=function(e){void 0===e||isNaN(e)||o(e)};return(0,l.Wm)(lw,(0,l.dG)(n.value,{class:r.value,value:t,step:e.value.step,onChange:i,disabled:e.value.disabled,min:e.value.min,max:e.value.max}),null)};return o};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function JU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JU(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZU=(0,l.aZ)({name:"TSlider",model:{prop:"value",event:"change"},props:XU({},xU),setup:function(e,t){var n=np(),r=Os("slider"),o=Ts(),i=o.STATUS,a=(0,d.BK)(e),s=a.value,f=a.modelValue,p=Sy(s,f,e.defaultValue,e.onChange),h=v(p,2),g=h[0],m=h[1],y=(0,d.iH)(),A=(0,d.iH)(),b=(0,d.iH)(),E=(0,d.iH)(),_=(0,d.iH)(jU(g.value,"first")),w=(0,d.iH)(jU(g.value,"second")),S=(0,d.iH)(!1),C=(0,d.iH)(1),I=(0,l.Fl)((function(){return"vertical"===e.layout})),O=(0,l.Fl)((function(){return["".concat(r.value,"__container"),{"is-vertical":I.value}]})),T=(0,l.Fl)((function(){var t;return["".concat(r.value),(t={"is-vertical":I.value},u(t,"".concat(r.value,"--with-input"),e.inputNumberProps),u(t,"".concat(r.value,"--vertical"),I.value),u(t,i.value.disabled,n.value),t)]})),R=(0,l.Fl)((function(){return["".concat(r.value,"__rail"),{"show-input":e.inputNumberProps,disabled:n.value}]})),N=(0,l.Fl)((function(){return I.value?{height:"100%"}:{}})),P=(0,l.Fl)((function(){var t=e.range?"".concat(100*(D.value-e.min)/k.value,"%"):"0%",n=e.range?x.value-D.value:_.value-e.min,r="".concat(100*n/k.value,"%");return I.value?{height:r,bottom:t}:{width:r,left:t}})),k=(0,l.Fl)((function(){return e.max-e.min})),D=(0,l.Fl)((function(){return Math.min(_.value,w.value)})),x=(0,l.Fl)((function(){return Math.max(_.value,w.value)})),L=(0,l.Fl)((function(){if(!e.showStep||e.min>e.max)return[];if(0===e.step)return console.warn("[Element Warn][Slider]step should not be 0."),[];for(var t=k.value/e.step,n=100*e.step/k.value,r=[],o=1;o<t;o++)r.push(o*n);if(e.range){var i=r.filter((function(t){return t<100*(D.value-e.min)/k.value||e.step>100*(x.value-e.max)/k.value}));return i}return r.filter((function(t){return t>100*(_.value-e.min)/k.value}))})),j=(0,l.Fl)((function(){var t=[e.min,e.max,e.step].map((function(e){var t="".concat(e).split(".");return t[1]?t[1].length:0}));return Math.max.apply(null,t)})),M=function(t){var n=[e.min,e.max],r=n[0],o=n[1];if(!(r>o)){if(e.range&&Array.isArray(t)){var i=[Math.min.apply(Math,c(t)),Math.max.apply(Math,c(t))],a=i[0],s=i[1];a>o&&(a=_.value),a<r&&(a=r),s<r&&(s=w.value),s>o&&(s=o);var u=[a,s];return _.value=u[0],w.value=u[1],[a,s]}var l=t;return l<r&&(l=r),l>o&&(l=o),l}console.warn("[Slider] max should be greater than min.")},B=function(t){var n=t;void 0===n&&(n=e.range?[_.value,w.value]:_.value);var r=M(n);m(r)},F=function(){A.value&&(C.value=A.value["client".concat(I.value?"Height":"Width")])},U=(0,d.iH)(!1),V=function(){var t;e.range?(Array.isArray(g.value)?(_.value=Math.max(e.min||0,g.value[0]),w.value=Math.min(e.max||100,g.value[1])):(_.value=e.min||0,w.value=e.max||100),t="".concat(_.value,"-").concat(w.value)):("number"!==typeof g.value?_.value=e.min:_.value=Math.min(e.max,Math.max(e.min,g.value)),t=String(_.value)),y.value&&y.value.setAttribute("aria-valuetext",t),F(),window.addEventListener("resize",F)},W=function(t){var n,r=t*k.value/100;(r=e.min+r,e.range||!b.value)?(n=Math.abs(D.value-r)<Math.abs(x.value-r)?_.value<w.value?"button1":"button2":_.value>w.value?"button1":"button2","button1"===n&&b.value&&b.value.setPosition(t),"button2"===n&&E.value&&E.value.setPosition(t)):b.value.setPosition(t)},H=function(e){if(!n.value&&!S.value&&A.value){F();var t=0;if(I.value){var r=A.value.getBoundingClientRect().bottom;t=(r-e.clientY)/C.value*100,W(t)}else{var o=A.value.getBoundingClientRect().left;t=(e.clientX-o)/C.value*100,W(t)}}},Q=function(e){if(!n.value&&!S.value){F();var t=Number(e/k.value*100);W(t),B(e)}};(0,l.YP)((function(){return g.value}),(function(t){if(!0!==S.value)if(Array.isArray(t)&&e.range){var n=v(t,2);_.value=n[0],w.value=n[1]}else _.value=t})),(0,l.YP)([_,w,S],(function(t,n){t[0]!==n[0]&&(e.range?B([D.value,x.value]):B(_.value)),t[1]!==n[1]&&e.range&&B([D.value,x.value]),t[2]!==n[2]&&!1===t[2]&&V()})),(0,l.bv)((function(){V(),U.value=!0})),(0,l.Jd)((function(){window.removeEventListener("resize",F)}));var G=(0,l.Fl)((function(){return{max:e.max,min:e.min,marks:e.marks,vertical:I.value,prefixName:r.value}})),K=GU(G),q=(0,l.Fl)((function(){return{max:e.max,min:e.min,inputNumberProps:e.inputNumberProps,step:e.step,prefixName:r.value,vertical:I.value,disabled:n.value}})),z=YU(q),Y=function(){var t=_.value,n=function(e){_.value=e},o=w.value,i=function(e){w.value=e};return(0,l.Wm)("div",{class:["".concat(r.value,"__input-container"),{"is-vertical":I.value}]},[z(t,n),e.range&&(0,l.Wm)("div",{class:"".concat(r.value,"__center-line")},null),e.range&&z(o,i)])},J=function(e){S.value=e},X=(0,d.BK)(e),Z=X.min,$=X.max,ee=X.step;return(0,l.JJ)(WU,(0,d.qj)({min:Z,max:$,step:ee,dragging:S,toggleDragging:J,precision:j,disabled:n,resetSize:F,sliderSize:C})),function(){return(0,l.Wm)("div",{class:O.value,ref:y},[(0,l.Wm)("div",{class:T.value,role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.layout,"aria-disabled":n.value,"tooltip-props":e.tooltipProps},[(0,l.Wm)("div",{class:R.value,style:N.value,onClick:H,ref:A},[(0,l.Wm)("div",{class:"".concat(r.value,"__track"),style:P.value},null),(0,l.Wm)(HU,{vertical:I.value,value:_.value,ref:b,disabled:n.value,"tooltip-props":e.tooltipProps,label:e.label,onInput:function(e){_.value=e}},null),e.range&&(0,l.Wm)(HU,{vertical:I.value,value:w.value,ref:E,disabled:n.value,label:e.label,"tooltip-props":e.tooltipProps,onInput:function(e){w.value=e}},null),e.showStep&&(0,l.Wm)("div",null,[L.value.map((function(e,t){return(0,l.Wm)("div",{class:"".concat(r.value,"__stop"),key:t,style:LU(e,I.value)},null)}))]),K(Q)])]),U.value&&e.inputNumberProps&&Y()])}}}),$U=Hf(ZU),eV=Hf(HU),tV={customValue:{type:Array},disabled:Boolean,label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},modelValue:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:!1},onChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function nV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nV(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oV,iV=(0,l.aZ)({name:"TSwitch",props:rV({},tV),setup:function(e,t){var n=t.slots,r=np(),o=Os("switch"),i=Ts(),a=i.STATUS,s=i.SIZE,c=(0,d.BK)(e),f=c.value,p=c.modelValue,h=Sy(f,p,e.defaultValue,e.onChange),g=v(h,2),m=g[0],y=g[1],A=(0,l.Fl)((function(){return!(e.customValue&&e.customValue.length>0)||e.customValue[0]})),b=(0,l.Fl)((function(){return!!(e.customValue&&e.customValue.length>1)&&e.customValue[1]}));function E(){var e=m.value===A.value?b.value:A.value;y(e)}function _(){r.value||e.loading||E()}var w=(0,l.Fl)((function(){var t;return["".concat(o.value),s.value[e.size],(t={},u(t,a.value.disabled,r.value),u(t,a.value.loading,e.loading),u(t,a.value.checked,m.value===A.value||e.modelValue===A.value),t)]})),S=(0,l.Fl)((function(){var t;return["".concat(o.value,"__handle"),(t={},u(t,a.value.disabled,r.value),u(t,a.value.loading,e.loading),t)]})),C=(0,l.Fl)((function(){return["".concat(o.value,"__content"),s.value[e.size],u({},a.value.disabled,r.value)]}));(0,l.YP)(m,(function(t){if(e.customValue&&e.customValue.length&&!e.customValue.includes(t))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))}),{immediate:!0});var I=(0,l.Fl)((function(){if("function"===typeof e.label)return e.label(l.h,{value:m.value});if("string"===typeof e.label)return e.label;if(Array.isArray(e.label)&&e.label.length){var t=m.value===A.value?e.label[0]:e.label[1];if(!t)return;if("string"===typeof t)return t;if("function"===typeof t)return t(l.h)}return n.label?n.label({value:m.value}):null}));return function(){var t,n;return e.loading?n=(0,l.Wm)(Qf,{size:"small"},null):I.value&&(t=I.value),(0,l.Wm)("div",{class:w.value,disabled:r.value,onClick:_},[(0,l.Wm)("span",{class:S.value},[n]),(0,l.Wm)("div",{class:C.value},[t])])}}}),aV=Hf(iV),sV={autofocus:Boolean,autosize:{type:[Boolean,Object],default:!1},disabled:Boolean,maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},readonly:Boolean,status:{type:String,validator:function(e){return["success","warning","error"].includes(e)}},tips:{type:[String,Function]},value:{type:[String,Number]},modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function},cV="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",uV=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function lV(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=uV.map((function(e){return"".concat(e,":").concat(t.getPropertyValue(e))})).join(";");return{sizingStyle:i,paddingSize:r,borderSize:o,boxSizing:n}}function dV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;oV||(oV=document.createElement("textarea"),document.body.appendChild(oV));var r=lV(e),o=r.paddingSize,i=r.borderSize,a=r.boxSizing,s=r.sizingStyle;oV.setAttribute("style","".concat(s,";").concat(cV)),oV.value=e.value||e.placeholder||"";var c=oV.scrollHeight,u={};"border-box"===a?c+=i:"content-box"===a&&(c-=o),oV.value="";var l=oV.scrollHeight-o;if(null!==t){var d=l*t;"border-box"===a&&(d=d+o+i),c=Math.max(d,c),u.minHeight="".concat(d,"px")}if(null!==n){var f=l*n;"border-box"===a&&(f=f+o+i),c=Math.min(f,c)}return u.height="".concat(c,"px"),oV.parentNode&&oV.parentNode.removeChild(oV),oV=null,u}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function fV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fV(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hV(e){var t={};return Object.keys(e).forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=e[n])})),t}var gV=(0,l.aZ)({name:"TTextarea",inheritAttrs:!1,props:pV({},sV),setup:function(e,t){var n=t.attrs,r=t.expose,o=Os(),i=Os("textarea"),a=(0,l.Fl)((function(){return"".concat(i.value,"__tips")})),s=(0,l.Fl)((function(){return"".concat(i.value,"__limit")})),c=(0,d.BK)(e),f=c.value,p=c.modelValue,h=Sy(f,p,e.defaultValue,e.onChange),g=v(h,2),m=g[0],y=g[1],A=np(),b=(0,d.iH)({}),E=(0,l.Fl)((function(){var e=n.style;return[e,b.value]})),_=(0,d.iH)(),w=(0,d.iH)(!1),C=function(){var e;return null===(e=_.value)||void 0===e?void 0:e.focus()},I=function(){var e;return null===(e=_.value)||void 0===e?void 0:e.blur()},O=function(){var t,r;if(!0===e.autosize)(0,l.Y3)((function(){b.value=dV(_.value)}));else if("object"===S(e.autosize)){var o=e.autosize,i=o.minRows,a=o.maxRows;b.value=dV(_.value,i,a)}else n.rows?b.value={height:"auto",minHeight:"auto"}:n.style&&null!==(t=_.value)&&void 0!==t&&null!==(r=t.style)&&void 0!==r&&r.height&&(b.value={height:_.value.style.height})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=_.value,n=String(e);t&&t.value!==n&&(t.value=n,m.value=n)},R=function(t){var n=t.target,r=n.value;if(e.maxcharacter&&e.maxcharacter>=0){var o=sA(r,e.maxcharacter);r="object"===S(o)&&o.characters}y(r,{e:t}),(0,l.Y3)((function(){return T(r)})),O()},N=function(e){e.isComposing||"insertCompositionText"===e.inputType||R(e)},P=function(e){R(e)},k=function(t,n){var r;if(!A.value){var o="on".concat(t[0].toUpperCase()).concat(t.slice(1));null===(r=e[o])||void 0===r||r.call(e,m.value,{e:n})}},D=function(e){k("keydown",e)},x=function(e){k("keyup",e)},L=function(e){k("keypress",e)},j=function(t){var n;O(),A.value||(w.value=!0,null===(n=e.onFocus)||void 0===n||n.call(e,m.value,{e:t}))},M=(0,l.f3)(y_,void 0),B=function(t){var n;O(),w.value=!1,null===(n=e.onBlur)||void 0===n||n.call(e,m.value,{e:t}),null===M||void 0===M||M.handleBlur()},F=(0,l.Fl)((function(){var t;return[i.value,(t={},u(t,"".concat(o.value,"-is-disabled"),A.value),u(t,"".concat(o.value,"-is-readonly"),e.readonly),t)]})),U=(0,l.Fl)((function(){return hV({autofocus:e.autofocus,disabled:A.value,readonly:e.readonly,placeholder:e.placeholder,maxlength:e.maxlength||void 0,name:e.name||void 0})})),V=(0,l.Fl)((function(){var e=sA(String(m.value||""));return"object"===S(e)?e.length:e}));(0,l.YP)((function(){return m.value}),(function(){return O()})),(0,l.YP)(_,(function(e){e&&O()})),(0,l.YP)((function(){return e.autofocus}),(function(e){e&&_.value.focus()})),r({focus:C,blur:I}),(0,l.bv)((function(){O()}));var W=op();return function(){var t,r=hV({onFocus:j,onBlur:B,onKeydown:D,onKeyup:x,onKeypress:L}),c=Ts(),d=c.STATUS,f=(0,l.Fl)((function(){var t;return["".concat(i.value,"__inner"),(t={},u(t,"".concat(o.value,"-is-").concat(e.status),e.status),u(t,d.value.disabled,A.value),u(t,d.value.focused,w.value),u(t,"".concat(o.value,"-resize-none"),e.maxlength),t),"narrow-scrollbar"]})),p=W("tips");return(0,l.Wm)("div",(0,l.dG)({class:F.value},rA(n,["style"])),[(0,l.Wm)("textarea",(0,l.dG)({onInput:N,onCompositionend:P,ref:_,value:m.value,style:E.value,class:f.value},r,U.value),null),e.maxcharacter&&(0,l.Wm)("span",{class:s.value},["".concat(V.value,"/").concat(e.maxcharacter)]),!e.maxcharacter&&e.maxlength?(0,l.Wm)("span",{class:s.value},["".concat(m.value?null===(t=String(m.value))||void 0===t?void 0:t.length:0,"/").concat(e.maxlength)]):null,p&&(0,l.Wm)("div",{class:"".concat(a.value," ").concat(i.value,"__tips--").concat(e.status||"normal")},[p])])}}}),vV=Hf(gV);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function mV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mV(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AV="TTransfer";function bV(e){return Array.isArray(e)?{source:e[0],target:e[1]}:{source:e,target:e}}function EV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isTreeMode,o=void 0!==r&&r,i=n.include,a=void 0===i||i;if(o){var s=[];if(e)for(var c=0;c<e.length;c++){var u=e[c],l=t.includes(u.value);if(a||!l)if(u.children&&u.children.length>0){var d=EV(u.children,t,{isTreeMode:o,include:a});s=s.concat(d)}else(a&&l||!a&&!l)&&s.push(u.value)}return s}return e.filter((function(e){if(!e)return!1;var n=t.includes(e.value);return(a&&n||!a&&!n)&&!e.disabled})).map((function(e){return e.value}))}function _V(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.map((function(e,r){var o,i=(null===t||void 0===t?void 0:t.label)||"label",a=(null===t||void 0===t?void 0:t.value)||"value";if(void 0===e[i])throw new Error("".concat(i," is not in DataOption ").concat(JSON.stringify(e)));if(void 0===e[a])throw new Error("".concat(a," is not in DataOption ").concat(JSON.stringify(e)));var s={label:e[i],value:e[a],key:"key__value_".concat(e[a],"_index_").concat(r),disabled:null!==(o=e.disabled)&&void 0!==o&&o,data:e};return n&&e.children&&(s.children=_V(e.children,t,!0)),s}));return r}function wV(e,t,n){return!!t.includes(e.value)&&n}function SV(e,t,n){var r;return e?t.includes(e.value)?n:null!==(r=e.children)&&void 0!==r&&r.length?e.children.some((function(e){return SV(e,t,n)})):!n:!n}function CV(e,t,n,r){e.forEach((function(e){var o;wV(e,n,r)?(o=oT(e),t.push(o)):SV(e,n,r)&&(o=yV({},e),delete o.children,t.push(o),e.children&&(o.children=[],CV(e.children,o.children,n,r),0===o.children.length&&delete o.children))}))}function IV(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r)return n?t.map((function(t){return e.find((function(e){return e.value===t}))})).filter((function(e){return!!e})):e.filter((function(e){var n=t.includes(e.value);return!n}));var o=[];return CV(e,o,t,n),o}function OV(e){var t=0;return e.forEach((function(e){e.children&&e.children.length>0?t+=OV(e.children):t+=1})),t}function TV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TV(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NV={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.71-3.54-3.53zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},PV=(0,l.aZ)({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-search",o.value])),s=(0,l.Fl)((()=>RV(RV({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(NV,c.value)}}),kV=(0,l.aZ)({name:"TTransferSearch",props:{value:{type:String,default:""},search:{type:[Boolean,Object],default:!1},placeholder:{type:String,default:""},onChange:Function},setup:function(e){var t=Os(),n=Tg({SearchIcon:PV}),r=n.SearchIcon,o=function(t,n){var r;null===(r=e.onChange)||void 0===r||r.call(e,{value:t,e:n.e})},i="object"===S(e.search)?e.search:{clearable:!0};return function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__search-wrapper")},[(0,l.Wm)(T_,(0,l.dG)(i,{defaultValue:e.value,onChange:o,placeholder:e.placeholder}),{default:function(){return[(0,l.Wm)(r,{slot:"suffix-icon"},null)]}})])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DV(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LV(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var jV={checkboxProps:{type:Object,default:function(){return{}}},dataSource:{type:Array,default:function(){return[]}},listType:{type:String,default:"target"},title:{type:[String,Function]},checkedValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},search:{type:[Boolean,Object],default:!1},transferItem:Function,empty:{type:[Function,String]},pagination:[Boolean,Object],footer:[Function,String],checkAll:Boolean,isTreeMode:{type:Boolean,default:!1},onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function},MV=(0,l.aZ)({name:"TTransferList",props:xV({},jV),setup:function(e){var t=Os(),n=Is("transfer"),r=n.t,o=n.globalConfig,i=(0,d.iH)(""),a=(0,d.iH)(1),s=(0,d.iH)(0),c=(0,l.Fl)((function(){var t=e.pagination;return(null===t||void 0===t?void 0:t.current)||a.value||(null===t||void 0===t?void 0:t.defaultCurrent)})),u=(0,l.Fl)((function(){var t=e.pagination;return(null===t||void 0===t?void 0:t.pageSize)||s.value||(null===t||void 0===t?void 0:t.defaultPageSize)})),f=(0,l.Fl)((function(){return e.dataSource.filter((function(e){var t=e&&e.label.toString();return t.toLowerCase().indexOf(i.value.toLowerCase())>-1}))})),p=(0,l.Fl)((function(){return f.value&&f.value.length||0})),h=(0,l.Fl)((function(){var t=f.value;if(!e.pagination)return t;if(0===u.value)return t;var n=(c.value-1)*u.value,r=c.value*u.value;return t=t.slice(n,r),t})),g=(0,l.Fl)((function(){var t={size:"small",theme:"simple",totalContent:!1,pageSizeOptions:[]};return"object"===S(e.pagination)?xV(xV(xV({},t),e.pagination),{},{current:c.value,total:p.value,pageSize:u.value}):{}})),v=(0,l.Fl)((function(){var t=EV(e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});return e.checkedValue.length>0&&(e.isTreeMode?t.every((function(t){return e.checkedValue.includes(t)})):(e.search?f.value:e.dataSource).every((function(t){return t.disabled||e.checkedValue.includes(t.value)})))})),m=(0,l.Fl)((function(){return!v.value&&e.checkedValue.length>0})),y=(0,l.Fl)((function(){return OV(e.dataSource)}));(0,l.YP)(y,(function(e){if(e<=(c.value-1)*u.value){var t=Math.ceil(e/u.value);a.value=t}}));var A=function(t){var n;null===(n=e.onPageChange)||void 0===n||n.call(e,t),a.value=t.current,s.value=t.pageSize},b=function(t){var n;null===(n=e.onCheckedChange)||void 0===n||n.call(e,t)},E=function(t){if(t){var n=EV(e.search?f.value:e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});b(n)}else b([])},_=function(t){var n;null===(n=e.onScroll)||void 0===n||n.call(e,t)},w=function(t){var n,r={query:t.value,type:e.listType,e:t.e,trigger:t.trigger};i.value=t.value,null===(n=e.onSearch)||void 0===n||n.call(e,r)},C=ip(),I=function(){var t=e.title&&"string"===typeof e.title?(0,l.Wm)("template",null,[e.title]):null,n=C("title",{defaultNode:t,params:{type:e.listType}});return(0,l.Wm)("span",null,[n])},O=function(){var n,r=(0,l.Wm)(CN,{value:e.checkedValue,onChange:b},LV(n=h.value.map((function(n,r){var o;return(0,l.Wm)(SN,(0,l.dG)({disabled:e.disabled||n.disabled,value:n.value,needRipple:!0,class:["".concat(t.value,"-transfer__list-item"),e.checkedValue.includes(n.value)?"".concat(t.value,"-is-checked"):""],key:n.key},e.checkboxProps),LV(o=C("transferItem",{defaultNode:(0,l.Wm)("span",null,[n.label]),params:{data:n.data,index:r,type:e.listType}}))?o:{default:function(){return[o]}})})))?n:{default:function(){return[n]}});return(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__list-content narrow-scrollbar"),onScroll:_},[C("tree",{defaultNode:r,params:{data:h.value,value:e.checkedValue,onChange:b}})])},T=function(){var n=e.empty||r(o.value.empty),i="string"===typeof n?(0,l.Wm)("span",null,[n]):null;return(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__empty")},[C("empty",{defaultNode:i,params:{type:e.listType}})])},R=function(){var n="string"===typeof e.footer?(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__footer")},[e.footer]):null;return C("footer",{defaultNode:n,params:{type:e.listType}})};return function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__list ").concat(t.value,"-transfer__list-").concat(e.listType)},[(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__list-header")},[(0,l.Wm)("div",null,[e.checkAll&&(0,l.Wm)(SN,{disabled:e.disabled||!e.dataSource.length,checked:v.value,indeterminate:m.value,onChange:E},null),(0,l.Wm)("span",null,[r(o.value.title,{checked:e.checkedValue.length,total:y.value})])]),I()]),(0,l.Wm)("div",{class:["".concat(t.value,"-transfer__list-body"),e.search?"".concat(t.value,"-transfer__list--with-search"):""]},[e.search&&(0,l.Wm)(kV,{searchValue:i.value,placeholder:r(o.value.placeholder),onChange:w,disabled:e.disabled,search:e.search},null),h.value.length>0?O():T()]),e.pagination&&u.value>0&&p.value>0&&(0,l.Wm)("div",{class:"".concat(t.value,"-transfer__list-pagination")},[(0,l.Wm)(wP,(0,l.dG)(g.value,{onChange:A}),null)]),R()])}}}),BV={checkboxProps:{type:Object},checked:{type:Array,default:void 0},defaultChecked:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},direction:{type:String,default:"both",validator:function(e){return["left","right","both"].includes(e)}},disabled:{type:[Boolean,Array],default:!1},empty:{type:[String,Array,Function],default:""},footer:{type:[Array,Function]},keys:{type:Object},operation:{type:[Array,Function]},pagination:{type:[Object,Array]},search:{type:[Boolean,Object,Array],default:!1},showCheckAll:{type:[Boolean,Array],default:!0},targetSort:{type:String,default:"original",validator:function(e){return["original","push","unshift"].includes(e)}},title:{type:[Array,Function],default:function(){return[]}},transferItem:{type:Function},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function,onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function FV(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var UV=(0,l.aZ)({name:"TTransferOperations",props:{leftDisabled:{type:Boolean,required:!0},rightDisabled:{type:Boolean,required:!0},operation:BV.operation},emits:["moveToRight","moveToLeft"],setup:function(e,t){var n=t.slots,r=t.emit,o=Os(),i=Tg({ChevronRightIcon:av,ChevronLeftIcon:bA}),a=i.ChevronRightIcon,s=i.ChevronLeftIcon,c=function(){r("moveToRight")},u=function(){r("moveToLeft")},d=function(){return(0,l.Wm)(a,null,null)},f=function(){return(0,l.Wm)(s,null,null)},p=function(t){return"function"===typeof e.operation||"right"===t&&e.operation&&"function"===typeof e.operation[0]||"left"===t&&e.operation&&"function"===typeof e.operation[1]||n.operation?null:"left"===t?f:d},h=function(t,r){if("function"===typeof n.operation)return n.operation({direction:r});if("function"===typeof e.operation){var o=e.operation;return o(t,{direction:r})}var i;if(Array.isArray(e.operation)){var a=v(e.operation,2),s=a[0],c=a[1];i="right"===r?c:s}else i="";return i};return function(){var t,n;return(0,l.Wm)("div",{class:"".concat(o.value,"-transfer__operations")},[(0,l.Wm)(lp,{variant:"outline",key:e.rightDisabled?"right-outline":"right-base",disabled:e.rightDisabled,onClick:c,icon:p("right")},FV(t=h(l.h,"right"))?t:{default:function(){return[t]}}),(0,l.Wm)(lp,{variant:"outline",key:e.rightDisabled?"left-outline":"left-base",disabled:e.leftDisabled,onClick:u,icon:p("left")},FV(n=h(l.h,"left"))?n:{default:function(){return[n]}})])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VV(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HV(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var QV="source",GV="target",KV=(0,l.aZ)({name:AV,props:WV({},BV),setup:function(e,t){var n=t.slots,r=np(),o=Os(),i=(0,d.BK)(e),a=i.value,s=i.modelValue,f=i.checked,p=Sy(a,s,e.defaultValue,e.onChange),h=v(p,2),g=h[0],m=h[1],y=zA(f,e.defaultChecked,e.onCheckedChange,"checked"),A=v(y,1),b=A[0],E=(0,l.Fl)((function(){return g.value})),_=(0,l.Fl)((function(){var e=n.tree;return"function"===typeof e})),w=(0,l.Fl)((function(){return"right"===e.direction})),S=(0,l.Fl)((function(){return"left"===e.direction})),C=(0,l.Fl)((function(){return _V(e.data,e.keys,_.value)})),I=(0,l.Fl)((function(){return IV(C.value,E.value,!1,_.value)})),O=(0,l.Fl)((function(){return IV(C.value,E.value,!0,_.value)})),T=(0,l.Fl)((function(){var e;return e={},u(e,QV,EV(I.value,b.value,{isTreeMode:_.value})),u(e,GV,EV(O.value,b.value,{isTreeMode:_.value})),e})),R=(0,l.Fl)((function(){return!!n.footer||!!e.footer})),N=(0,l.Fl)((function(){return!!e.pagination&&!n.content})),P=(0,l.Fl)((function(){return!!e.search})),k=(0,l.Fl)((function(){var t=e.footer||"";return bV(t)})),D=(0,l.Fl)((function(){return bV(e.empty)})),x=(0,l.Fl)((function(){return bV(e.search)})),L=(0,l.Fl)((function(){return bV(e.showCheckAll)})),j=(0,l.Fl)((function(){return bV(r.value)})),M=(0,l.Fl)((function(){return bV(e.title)})),B=(0,l.Fl)((function(){return bV(e.pagination)})),F=function(t,n){var r,o=n===QV?t:T.value[QV],i=n===GV?t:T.value[GV],a=[].concat(c(o),c(i)),s={checked:a,sourceChecked:o,targetChecked:i,type:n};b.value=a,null===(r=e.onCheckedChange)||void 0===r||r.call(e,s)},U=function(t){var n,r=JSON.parse(JSON.stringify(E.value)),o=t===GV?T.value[QV]:T.value[GV];n=t===QV?r.filter((function(e){return!o.includes(e)})):"original"===e.targetSort?EV(C.value,r.concat(o),{isTreeMode:_.value}):"unshift"===e.targetSort?o.concat(r):r.concat(o),F([],t===QV?GV:QV);var i={type:t,movedValue:o};m(n,i)},V=function(){U(GV)},W=function(){U(QV)},H=function(t,n){var r,o=t.target,i=o.scrollHeight-o.scrollTop-o.clientHeight,a={e:t,bottomDistance:i,type:n};null===(r=e.onScroll)||void 0===r||r.call(e,a)},Q=function(t){var n;null===(n=e.onSearch)||void 0===n||n.call(e,t)},G=function(t,n){var r;null===(r=e.onPageChange)||void 0===r||r.call(e,t,{type:n})},K=function(t){var r=HS(n,["title","empty","footer","operation","transferItem","default","tree"]);return(0,l.Wm)(MV,{checkboxProps:e.checkboxProps,transferItem:e.transferItem,"list-type":t,title:M.value[t],"data-source":t===QV?I.value:O.value,"checked-value":T.value[t],disabled:j.value[t],search:x.value[t],pagination:B.value[t],"check-all":L.value[t],footer:k.value[t],empty:D.value[t],onCheckedChange:function(e){return F(e,t)},onScroll:function(e){return H(e,t)},onSearch:Q,onPageChange:function(e){return G(e,t)},isTreeMode:_.value},HV(r)?r:{default:function(){return[r]}})};return function(){return(0,l.Wm)("div",{class:["".concat(o.value,"-transfer"),P.value?"".concat(o.value,"-transfer__search"):"",R.value?"".concat(o.value,"-transfer__footer"):"",N.value?"".concat(o.value,"-transfer__pagination"):"",_.value?"".concat(o.value,"-transfer--with-tree"):""]},[K(QV),(0,l.Wm)(UV,{leftDisabled:j.value[GV]||w.value||0===T.value[GV].length,rightDisabled:j.value[QV]||S.value||0===T.value[QV].length,operation:e.operation,onMoveToRight:V,onMoveToLeft:W},{operation:n.operation}),K(GV)])}}}),qV=Hf(KV);function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zV(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JV={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 4v4.39L10 11l.7-.7-2.2-2.33V4h-1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 111 8a7 7 0 0114 0zm-1 0A6 6 0 102 8a6 6 0 0012 0z",fillOpacity:.9}}]},XV=(0,l.aZ)({name:"TimeIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-time",o.value])),s=(0,l.Fl)((()=>YV(YV({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(JV,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZV(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}dx.extend(mx);var eW=(0,l.aZ)({name:"TTimePicker",props:$V({},GL),setup:function(e){var t=(0,d.iH)(""),n=(0,d.iH)(!1),r=Is("timePicker"),o=r.globalConfig,i=Tg({TimeIcon:XV}),a=i.TimeIcon,s=(0,d.BK)(e),c=s.value,f=s.modelValue,p=Sy(c,f,e.defaultValue,e.onChange),h=v(p,2),g=h[0],m=h[1],y=np(),A=(0,d.BK)(e),b=A.allowInput,E=A.format,_=Is("classPrefix"),w=_.classPrefix,S=Os("time-picker"),C=(0,l.Fl)((function(){return["".concat(S.value,"__group"),u({},"".concat(w.value,"-is-focused"),n.value)]})),I=function(t,r){var o,i;n.value=t,t?null===(o=e.onOpen)||void 0===o||o.call(e,r):null===(i=e.onClose)||void 0===i||i.call(e,r)},O=function(e){var n=e.e;n.stopPropagation(),t.value=null,m(null)},T=function(e){t.value=e},R=function(n,r){var o,i=r.e;if(b.value){var a=$L(t.value,E.value);a&&m(ej(t.value,E.value))}null===(o=e.onBlur)||void 0===o||o.call(e,{value:n,e:i})},N=function(){var e=$L(t.value,E.value);e&&m(t.value),n.value=!1},P=function(e){t.value=e};return(0,l.YP)((function(){return n.value}),(function(){var e;t.value=n.value&&null!==(e=g.value)&&void 0!==e?e:""})),function(){var r,i;return(0,l.Wm)("div",{class:S.value},[(0,l.Wm)(KT,{onFocus:e.onFocus,onClear:O,disabled:y.value,clearable:e.clearable,allowInput:b.value,className:C.value,suffixIcon:function(){return(0,l.Wm)(a,null,null)},popupVisible:n.value,onInputChange:T,onBlur:R,onPopupVisibleChange:I,placeholder:g.value?void 0:e.placeholder||o.value.placeholder,value:n.value?t.value:null!==(r=g.value)&&void 0!==r?r:void 0,inputValue:n.value?t.value:null!==(i=g.value)&&void 0!==i?i:void 0,inputProps:e.inputProps,popupProps:$V({overlayInnerStyle:{width:"auto"}},e.popupProps),panel:function(){return(0,l.Wm)(vM,{steps:e.steps,format:E.value,value:t.value,isFooterDisplay:!0,isShowPanel:n.value,disableTime:e.disableTime,onChange:P,hideDisabledTime:e.hideDisabledTime,handleConfirmClick:N},null)}},null)])}}}),tW={allowInput:Boolean,clearable:Boolean,disabled:{type:[Boolean,Array],default:!1},disableTime:{type:Function},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object,default:function(){}},rangeInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},steps:{type:Array,default:function(){return[1,1,1]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onBlur:Function,onChange:Function,onFocus:Function,onInput:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function nW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nW(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}dx.extend(mx);var oW=(0,l.aZ)({name:"TTimeRangePicker",props:rW(rW({},tW),{},{rangeInputProps:Object,popupProps:Object}),setup:function(e){var t=Os("time-range-picker"),n=Is("timePicker"),r=n.globalConfig,o=Is("classPrefix"),i=o.classPrefix,a=Tg({TimeIcon:XV}),s=a.TimeIcon,c=np(),f=(0,d.iH)(void 0),p=(0,d.iH)(FL),h=(0,d.iH)(!1),g=(0,l.Fl)((function(){return["".concat(t.value,"__group"),u({},"".concat(i.value,"-is-focused"),h.value)]})),m=(0,d.BK)(e),y=m.value,A=m.modelValue,b=m.allowInput,E=m.format,_=Sy(y,A,e.defaultValue,e.onChange),w=v(_,2),S=w[0],C=w[1],I=function(e,t){"trigger-element-click"!==t.trigger?h.value=e:h.value=!0},O=function(e){var t=e.e;t.stopPropagation(),p.value=FL,C(null)},T=function(e){var t=e.position;f.value="first"===t?0:1},R=function(e){var t,n;0===f.value?p.value=[e,null!==(t=p.value[1])&&void 0!==t?t:e]:p.value=[null!==(n=p.value[0])&&void 0!==n?n:e,e]},N=function(t,n){var r,o=n.e;if(b.value){var i=$L(p.value[f.value],E.value);if(i){var a,s,c=ej(p.value[f.value],E.value);0===f.value?p.value=[c,null!==(a=p.value[1])&&void 0!==a?a:c]:p.value=[null!==(s=p.value[0])&&void 0!==s?s:c,c]}}null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,e:o})},P=function(t,n){var r,o=n.e,i=n.position;p.value=t,null===(r=e.onInput)||void 0===r||r.call(e,{value:S.value,e:o,position:"first"===i?"start":"end"})},k=function(){var e=!p.value.find((function(e){return!$L(e,E.value)}));e&&C(p.value),h.value=!1},D=function(t,n){var r,o=n.e,i=n.position;null===(r=e.onFocus)||void 0===r||r.call(e,{value:t,e:o,position:"first"===i?"start":"end"})};return(0,l.YP)((function(){return h.value}),(function(){var e;p.value=h.value&&null!==(e=S.value)&&void 0!==e?e:FL,h.value||(f.value=void 0)})),function(){var n,o;return(0,l.Wm)("div",{class:t.value},[(0,l.Wm)(qM,{disabled:c.value,popupVisible:h.value,popupProps:rW({overlayInnerStyle:{width:"auto"},onVisibleChange:I},e.popupProps),onInputChange:P,inputValue:h.value?p.value:null!==(n=S.value)&&void 0!==n?n:FL,rangeInputProps:rW({size:e.size,clearable:e.clearable,class:g.value,value:h.value?p.value:null!==(o=S.value)&&void 0!==o?o:void 0,placeholder:e.placeholder||[r.value.placeholder,r.value.placeholder],suffixIcon:function(){return(0,l.Wm)(s,null,null)},onClear:O,onClick:T,onFocus:D,onBlur:N,readonly:!b.value,activeIndex:f.value},e.rangeInputProps),panel:function(){return(0,l.Wm)(vM,{steps:e.steps,format:E.value,isShowPanel:h.value,disableTime:e.disableTime,hideDisabledTime:e.hideDisabledTime,isFooterDisplay:!0,value:p.value[f.value||0],onChange:R,handleConfirmClick:k,position:0===f.value?"start":"end"},null)}},null)])}}}),iW=Hf(eW),aW=Hf(oW),sW=Hf(vM),cW={activable:Boolean,actived:{type:Array,default:void 0},defaultActived:{type:Array},activeMultiple:Boolean,allowFoldNodeOnFilter:Boolean,checkable:Boolean,checkProps:{type:Object},checkStrictly:Boolean,data:{type:Array,default:function(){return[]}},disableCheck:{type:[Boolean,Function],default:!1},disabled:Boolean,draggable:{type:Boolean,default:!1},empty:{type:[String,Function],default:""},expandAll:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:function(){return[]}},expandLevel:{type:Number,default:0},expandMutex:Boolean,expandOnClickNode:Boolean,expandParent:Boolean,filter:{type:Function},hover:Boolean,icon:{type:[Boolean,Function],default:!0},keys:{type:Object},label:{type:[String,Boolean,Function],default:!0},lazy:{type:Boolean,default:!0},line:{type:[Boolean,Function],default:!1},load:{type:Function},operations:{type:Function},transition:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return!e||["onlyLeaf","parentFirst","all"].includes(e)}},onActive:Function,onChange:Function,onClick:Function,onExpand:Function,onLoad:Function},uW=function(){var e=Os();return(0,l.Fl)((function(){var t="".concat(e.value,"-tree");return{icon:"".concat(e.value,"-icon"),folderIcon:"".concat(e.value,"-folder-icon"),actived:"".concat(e.value,"-is-active"),disabled:"".concat(e.value,"-is-disabled"),treeIconRight:"".concat(e.value,"-icon-arrow-right"),treeIconDown:"".concat(e.value,"-icon-arrow-down"),treeNodeToggle:"".concat(e.value,"-tree-toggle"),tree:t,treeTransition:"".concat(t,"--transition"),treeBlockNode:"".concat(t,"--block-node"),treeEmpty:"".concat(t,"__empty"),treeList:"".concat(t,"__list"),treeNode:"".concat(t,"__item"),treeNodeOpen:"".concat(t,"__item--open"),treeHoverAble:"".concat(t,"--hoverable"),treeCheckable:"".concat(t,"--checkable"),treeLabel:"".concat(t,"__label"),treeLabelStrictly:"".concat(t,"__label--strictly"),treeIcon:"".concat(t,"__icon"),treeIconDefault:"".concat(t,"__icon--default"),treeSpace:"".concat(t,"__space"),treeOperations:"".concat(t,"__operations"),treeNodeVisible:"".concat(t,"__item--visible"),treeNodeHidden:"".concat(t,"__item--hidden"),treeNodeEnter:"".concat(t,"__item--enter-active"),treeNodeLeave:"".concat(t,"__item--leave-active"),treeNodeDraggable:"".concat(t,"__item--draggable"),treeNodeDragging:"".concat(t,"__item--dragging"),treeNodeDragTipTop:"".concat(t,"__item--tip-top"),treeNodeDragTipBottom:"".concat(t,"__item--tip-bottom"),treeNodeDragTipHighlight:"".concat(t,"__item--tip-highlight"),line:"".concat(t,"__line"),lineIsLeaf:"".concat(t,"__line--leaf"),lineIsFirst:"".concat(t,"__line--first")}}))},lW=Symbol("treeProvider"),dW=Symbol("onDrag");function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fW(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hW={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 5v6l4.5-3L6 5z",fillOpacity:.9}}]},gW=(0,l.aZ)({name:"CaretRightSmallIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-caret-right-small",o.value])),s=(0,l.Fl)((()=>pW(pW({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(hW,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function vW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vW(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yW(e,t){var n=[],r=e;while(r&&r.parentNode){if(n.push(r),r===t)break;r=r.parentNode}return n}function AW(e,t,n){var r=yW(t,n);return r.map((function(t){var n={name:e,value:t.getAttribute(e)||"",el:t};return n})).filter((function(e){return e.value}))}function bW(e,t,n){var r=AW(e,t,n),o=r.pop()||null;return o}function EW(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,i=mW({},n);"function"===typeof e?o=e(l.h,null===(t=i.node)||void 0===t?void 0:t.getModel()):"string"===typeof e&&(o=e);return("string"===typeof o||o)&&(r=o),r}function _W(e){return"string"===typeof e||"number"===typeof e}function wW(e,t){var n=null,r=null;return"string"===typeof t||"number"===typeof t?r=t:t&&_W(t.value)&&(r=t.value),n=e.getNode(r),n}var SW=function(e){var t=HS(e,["keys","expandAll","expandLevel","expandMutex","expandParent","activable","activeMultiple","disabled","draggable","checkable","checkStrictly","load","lazy","valueMode","filter"]);return t},CW=kb,IW=ee,OW="Expected a function";function TW(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(OW);return IW(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),CW(e,t,{leading:r,maxWait:t,trailing:o})}var RW=TW;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function NW(e){var t=(0,d.BK)(e),n=t.nodeRef,r=t.node,o=(0,l.f3)(dW),i=(0,d.iH)(!1),a=(0,d.iH)(!1),s=(0,d.iH)(0),c=RW((function(e){if(n.value){var t=n.value.getBoundingClientRect(),r=window.pageYOffset+t.top,o=e.pageY,i=t.height/4,a=o-r;a<i?s.value=-1:a<t.height-i?s.value=0:s.value=1}})),u=function(e,t){var n,u,l,d,f;switch(e){case"dragStart":a.value=!0,s.value=0,null===(n=o.onDragStart)||void 0===n||n.call(o,{node:r.value,e:t});break;case"dragEnd":a.value=!1,i.value=!1,s.value=0,c.cancel(),null===(u=o.onDragEnd)||void 0===u||u.call(o,{node:r.value,e:t});break;case"dragOver":i.value=!0,c(t),null===(l=o.onDragOver)||void 0===l||l.call(o,{node:r.value,e:t});break;case"dragLeave":i.value=!1,s.value=0,c.cancel(),null===(d=o.onDragLeave)||void 0===d||d.call(o,{node:r.value,e:t});break;case"drop":null===(f=o.onDrop)||void 0===f||f.call(o,{node:r.value,dropPosition:s.value,e:t}),i.value=!1,c.cancel();break;default:break}};return{isDragOver:i,isDragging:a,dropPosition:s,setDragStatus:u}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function PW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PW(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DW(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var xW=(0,l.aZ)({name:"TTreeNode",props:{node:{type:Object},onClick:Function,onChange:Function,onDrop:Function,onDragStart:Function},setup:function(e){var t=(0,l.f3)(lW),n=(0,d.iH)();tp(n);var r=uW(),o=Is("tree"),i=o.globalConfig,a=Tg({CaretRightSmallIcon:gW}),s=a.CaretRightSmallIcon,c=function(t){var n,r=e.node,o={mouseEvent:t,event:t,node:r,path:r.getPath()};null===(n=e.onClick)||void 0===n||n.call(e,o)},f=(0,d.iH)(),p=NW((0,d.qj)({nodeRef:f,node:e.node})),h=p.isDragOver,g=p.isDragging,v=p.dropPosition,m=p.setDragStatus,y=function(t){var n,r=e.node;if(r.isDraggable()){t.stopPropagation(),m("dragStart",t);try{var o;null===(o=t.dataTransfer)||void 0===o||o.setData("text/plain","")}catch(i){}null===(n=e.onDragStart)||void 0===n||n.call(e,r,t)}},A=function(t){var n=e.node;n.isDraggable()&&(t.stopPropagation(),m("dragEnd",t))},b=function(t){var n=e.node;n.isDraggable()&&(t.stopPropagation(),t.preventDefault(),m("dragOver",t))},E=function(t){var n=e.node;n.isDraggable()&&(t.stopPropagation(),m("dragLeave",t))},_=function(t){var n,r=e.node;r.isDraggable()&&(t.stopPropagation(),t.preventDefault(),m("drop",t),null===(n=e.onDrop)||void 0===n||n.call(e,r,v.value,t))},w=function(){var t,n=e.node,r=new Event("change"),o={event:r,node:n};null===(t=e.onChange)||void 0===t||t.call(e,o)},S=(0,l.Fl)((function(){var t=e.node.level,n="--level: ".concat(t,";");return n})),C=(0,l.Fl)((function(){var t,n,o=e.node,i=[];return i.push(r.value.treeNode),i.push((t={},u(t,r.value.treeNodeOpen,o.expanded),u(t,r.value.actived,!!o.isActivable()&&o.actived),u(t,r.value.disabled,o.isDisabled()),t)),i.push((n={},u(n,r.value.treeNodeDraggable,o.isDraggable()),u(n,r.value.treeNodeDragging,g.value),u(n,r.value.treeNodeDragTipTop,h.value&&v.value<0),u(n,r.value.treeNodeDragTipBottom,h.value&&v.value>0),u(n,r.value.treeNodeDragTipHighlight,!g.value&&h.value&&0===v.value),n)),i})),I=function(){var n=e.node,o=t.value,i=o.line,a=o.scopedSlots,s=!!t.value.icon,c=null;if(!0===i){if(null!==a&&void 0!==a&&a.line)c=a.line({node:null===n||void 0===n?void 0:n.getModel()});else if(n.parent&&n.tree){var u=n.vmIsLeaf,d=n.vmIsFirst,f=n.level,p=[];p.push(r.value.line),!u&&s||p.push(r.value.lineIsLeaf),d&&s&&p.push(r.value.lineIsFirst);var h=[],g=n.getParents();g.pop(),g.forEach((function(e,t){e.vmIsLast||h.push("calc(-".concat(t+1," * var(--space)) 0 var(--color)"))}));var v={"--level":f,"box-shadow":h.join(",")};c=(0,l.Wm)("span",{class:p,style:v},null)}}else c=EW(i,{node:n});return c},O=function(){var n=function(){return ce(i.value.folderIcon)?i.value.folderIcon(l.h):(0,l.Wm)(s,null,null)},o=e.node,a=t.value,c=a.icon,u=a.scopedSlots,d=!1,f=null;!0===c?null!==u&&void 0!==u&&u.icon?f=u.icon({node:null===o||void 0===o?void 0:o.getModel()}):o.vmIsLeaf?f="":(d=!0,f=n(),o.loading&&o.expanded&&(f=(0,l.Wm)(Qf,null,null))):f=EW(c,{node:o});return f=(0,l.Wm)("span",{class:[r.value.treeIcon,r.value.folderIcon,d?r.value.treeIconDefault:""],trigger:"expand",ignore:"active"},[f]),f},T=function(){var n=e.node,o=t.value,i=o.label,a=o.scopedSlots,s=o.disableCheck,c=t.value.checkProps||{},d=null;d=!0===i?a.label?a.label({node:n.getModel()}):n.label||"":EW(i,{node:n});var f=[r.value.treeLabel,r.value.treeLabelStrictly,u({},r.value.actived,!!n.isActivable()&&n.actived)];if(n.vmCheckable){var p=!1;p="function"===typeof s?s(n):!!s,n.isDisabled()&&(p=!0);var h=kW(kW({},c),{},{disabled:p}),g=function(){return d}();d=(0,l.Wm)(SN,(0,l.dG)({class:f,checked:n.checked,indeterminate:n.indeterminate,disabled:n.isDisabled(),name:n.value.toString(),onChange:function(){return w()},ignore:"expand",needRipple:!0},h),DW(d)?d:{default:function(){return[g]}})}else{var v=(0,l.Wm)("span",{style:"position: relative"},[d]);d=n.isActivable()?(0,l.Wm)("span",{key:"1",ref:"label",class:f},[v]):(0,l.Wm)("span",{key:"2",class:f},[v])}return d},R=function(){var n=e.node,o=t.value,i=o.operations,a=o.scopedSlots,s=null;if(s=null!==a&&void 0!==a&&a.operations?a.operations({node:null===n||void 0===n?void 0:n.getModel()}):EW(i,{node:n}),s){(function(){})();s=(0,l.Wm)("span",{class:r.value.treeOperations,ignore:"active,expand"},[s])}return s};return function(){var t=e.node;return(0,l.Wm)("div",{ref:f,class:C.value,"data-value":t.value,"data-level":t.level,style:S.value,onClick:function(e){return c(e)},draggable:t.isDraggable(),onDragstart:function(e){return y(e)},onDragend:function(e){return A(e)},onDragover:function(e){return b(e)},onDragleave:function(e){return E(e)},onDrop:function(e){return _(e)}},[I(),O(),T(),R()])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function LW(e){var t=(0,d.iH)(),n=(0,l.FN)(),r=n.emit,o=function(e){t.value=e.node,null===r||void 0===r||r("dragStart",e)},i=function(e){t.value=e.node,null===r||void 0===r||r("dragEnd",e)},a=function(e){null===r||void 0===r||r("dragOver",e)},s=function(e){null===r||void 0===r||r("dragLeave",e)},c=function(n){var o=n.node,i=n.dropPosition;if(o.value!==t.value.value&&!o.getParents().some((function(e){return e.value===t.value.value}))){var a=e.value.getNodes();a.some((function(n,r){return n.value===o.value&&(0===i?t.value.appendTo(e.value,n):i<0?o.insertBefore(t.value):o.insertAfter(t.value),!0)})),null===r||void 0===r||r("drop",n)}};(0,l.JJ)(dW,{onDragStart:o,onDragEnd:i,onDragOver:a,onDragLeave:s,onDrop:c})}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function jW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jW(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BW(e){var t=(0,d.iH)(),n=new Map,r=(0,d.iH)([]),o=(0,d.BK)(e),i=o.expanded,a=o.actived,s=o.value,c=o.modelValue,u=Sy(s,c,e.defaultValue,e.onChange),f=v(u,2),p=f[0],h=f[1],g=zA(a,e.defaultActived,e.onActive,"actived"),m=v(g,2),y=m[0],A=m[1],b=zA(i,e.defaultExpanded,e.onExpand,"expanded"),E=v(b,2),_=E[0],w=E[1],S=function(n){var r,o=n.node,i={node:o.getModel()};p.value&&p.value.length>0&&t.value.replaceChecked(p.value),_.value&&_.value.length>0&&t.value.replaceExpanded(_.value),y.value&&y.value.length>0&&t.value.replaceActived(y.value),null===(r=e.onLoad)||void 0===r||r.call(e,i)},C=function(n){var r,o=e.expandOnClickNode,i=n.mouseEvent,a=n.event,s=n.node;if(s&&!e.disabled&&!s.disabled){var c=o,u=!0;["trigger","ignore"].forEach((function(e){var t=bW(e,a.target,a.currentTarget),n=(null===t||void 0===t?void 0:t.value)||"";n.indexOf("expand")>=0&&("trigger"===e?c=!0:"ignore"===e&&(c=!1)),n.indexOf("active")>=0&&"ignore"===e&&(u=!1)}));var l={node:s.getModel(),e:i};if(c){var d=wW(t.value,s),f=s.setExpanded(!d.isExpanded());w(f,l)}if(u){var p=wW(t.value,s),h=s.setActived(!p.isActived());A(h,l)}null===(r=e.onClick)||void 0===r||r.call(e,l)}},I=function(n){var r=e.disabled,o=n.node,i=n.mouseEvent;if(o&&!r&&!o.disabled){var a=wW(t.value,o),s=o.setChecked(!a.isChecked());h(s,{node:o.getModel(),e:i})}},O=function(){var e=t.value.getNodes();r.value=e.filter((function(e){return e.visible})).map((function(e){var t=n.get(e.value);return t||(t=(0,l.Wm)(xW,{key:e.value,node:e,onChange:I,onClick:C},null),n.set(e.value,t)),t})),(0,l.Y3)((function(){n.forEach((function(e,r){t.value.getNode(r)||n["delete"](r)}))}))};LW(t);var T=function(){var n=e.expandParent;if(Array.isArray(_.value)){var r=new Map;_.value.forEach((function(e){if(r.set(e,!0),n){var o=t.value.getNode(e);o.getParents().forEach((function(e){r.set(e.value,!0)}))}}));var o=Array.from(r.keys());t.value.setExpanded(o)}},R=function(){var n=e.data,r=new zD(MW(MW({},SW(e)),{},{onLoad:function(e){S(e)},onUpdate:function(){O()}}));t.value=r,Array.isArray(n)||(n=[]),r.append(n),r.refreshNodes(),Array.isArray(p.value)&&r.setChecked(p.value),T(),Array.isArray(y.value)&&r.setActived(y.value),O()};return(0,l.YP)((function(){return e.data}),(function(r){r=e.data,n.clear(),t.value.reload(r),r.length&&(Array.isArray(p.value)&&t.value.setChecked(p.value),T(),Array.isArray(y.value)&&t.value.setActived(y.value),t.value.refreshState())})),(0,l.YP)((function(){return SW(e)}),(function(){t.value&&t.value.setConfig(SW(e))})),(0,l.YP)(p,(function(e){t.value.replaceChecked(e)})),(0,l.YP)(_,(function(e){t.value.replaceExpanded(e)})),(0,l.YP)(y,(function(e){t.value.replaceActived(e)})),R(),{treeStore:t,treeNodeViews:r}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function FW(e,t){var n=function(t,n){var r=e.value.getNode(t),o=n,i=Object.keys(o);r&&o&&["expanded","actived","checked"].forEach((function(e){i.includes(e)&&r["set".concat(Fl(e))](o[e],{directly:!0})}))},r=function(t){var n=e.value.getNode(t);return null===n||void 0===n?void 0:n.getModel()},o=function(t){var n=e.value.getNodes(t);return n.map((function(e){return e.getModel()}))},i=function(t,n){var r=[];r=Array.isArray(n)?n:[n],r.forEach((function(n){var r=(null===n||void 0===n?void 0:n.value)||"",o=wW(e.value,r);o?e.value.appendNodes(t,o):e.value.appendNodes(t,n)}))},a=function(t,n){var r=(null===n||void 0===n?void 0:n.value)||"",o=wW(e.value,r);o?e.value.insertBefore(t,o):e.value.insertBefore(t,n)},s=function(t,n){var r=(null===n||void 0===n?void 0:n.value)||"",o=wW(e.value,r);o?e.value.insertAfter(t,o):e.value.insertAfter(t,n)},c=function(t){return e.value.remove(t)},u=function(t){return e.value.getNodeIndex(t)},l=function(t){var n=e.value.getParent(t);return null===n||void 0===n?void 0:n.getModel()},d=function(t){var n=e.value.getParents(t);return n.map((function(e){return e.getModel()}))},f=function(t){var n=e.value.getNode(t),r=[];return n&&(r=n.getPath().map((function(e){return e.getModel()}))),r};t({setItem:n,getItem:r,getItems:o,appendTo:i,insertBefore:a,insertAfter:s,remove:c,getIndex:u,getParent:l,getParents:d,getPath:f})}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var UW=(0,l.aZ)({name:"TTree",props:cW,setup:function(e,t){var n=t.expose,r=t.slots,o=Is("tree"),i=o.globalConfig,a=o.t,s=uW(),c=ip(),d=(0,l.Fl)((function(){var t=e.checkProps,n=e.empty,o=e.icon,i=e.label,a=e.line,s=e.disableCheck,c=e.operations;return{checkProps:t,empty:n,icon:o,label:i,line:a,disableCheck:s,operations:c,scopedSlots:r}}));(0,l.JJ)(lW,d);var p=BW(e),h=p.treeStore,g=p.treeNodeViews;FW(h,n);var v=(0,l.Fl)((function(){var t;return[s.value.tree,(t={},u(t,s.value.disabled,e.disabled),u(t,s.value.treeHoverAble,e.hover),u(t,s.value.treeCheckable,e.checkable),u(t,s.value.treeTransition,e.transition),u(t,s.value.treeBlockNode,e.expandOnClickNode),t)]}));return function(){return(0,l.Wm)("div",{class:v.value},[0===g.value.length?(0,l.Wm)("div",{class:s.value.treeEmpty},[c("empty",{defaultNode:a(i.value.empty)})]):(0,l.Wm)(f.W3,{name:s.value.treeNodeToggle,tag:"div","enter-active-class":s.value.treeNodeEnter,"leave-active-class":s.value.treeNodeLeave},{default:function(){return[g.value]}})])}}}),VW=Hf(UW),WW={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},data:{type:Array,default:function(){return[]}},disabled:Boolean,empty:{type:[String,Function],default:""},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},prefixIcon:{type:Function},readonly:Boolean,selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},tagProps:{type:Object},treeProps:{type:Object},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:Function},valueType:{type:String,default:"value",validator:function(e){return!e||["value","object"].includes(e)}},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function HW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HW(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GW=(0,l.aZ)({name:"TTreeSelect",props:WW,setup:function(e,t){var n=t.slots,r=op(),o=ip(),i=Os(),a=Is("treeSelect"),s=a.globalConfig,p=np(),h=(0,d.iH)(null),g=(0,d.iH)(null),m=(0,d.iH)([]),y=(0,d.iH)([]),A=(0,d.iH)(null),b=(0,d.iH)(0),E=(0,d.BK)(e),_=E.value,w=E.modelValue,S=E.popupVisible,C=E.inputValue,I=Sy(_,w,e.defaultValue,e.onChange),O=v(I,2),T=O[0],R=O[1],N=zA(S,!1,e.onPopupVisibleChange,"popupVisible"),P=v(N,2),k=P[0],D=P[1],x=zA(C,e.defaultInputValue,e.onInputChange,"inputValue"),L=v(x,2),j=L[0],M=L[1];(0,l.YP)(T,Oh(Ph.mark((function t(){return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,te();case 2:e.multiple||(m.value=A.value?[A.value.value]:[]);case 3:case"end":return t.stop()}}),t)})))),(0,l.YP)((function(){return e.data}),Oh(Ph.mark((function e(){return Ph.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:ie();case 3:case"end":return e.stop()}}),e)}))));var B=(0,l.Fl)((function(){return p.value||e.disabled})),F=(0,l.Fl)((function(){var t;return k.value&&(null===(t=A.value)||void 0===t?void 0:t.label)||e.placeholder||s.value.placeholder})),U=(0,l.Fl)((function(){return["".concat(i.value,"-select__dropdown-inner"),"".concat(i.value,"-select__dropdown"),"narrow-scrollbar"]})),V=(0,l.Fl)((function(){return"object"===e.valueType})),W=(0,l.Fl)((function(){return e.multiple?V.value?Kr(T.value)?T.value.map((function(e){return e.value})):[]:Kr(T.value)?T.value.map((function(e){return e})):[]:[]})),H=(0,l.Fl)((function(){return e.multiple&&!!e.max&&Kr(T.value)&&e.max<=T.value.length})),Q=(0,l.Fl)((function(){return Eu(e.treeProps)||Eu(e.treeProps.keys)?"label":e.treeProps.keys.label||"label"})),G=(0,l.Fl)((function(){return Eu(e.treeProps)||Eu(e.treeProps.keys)?"value":e.treeProps.keys.value||"value"})),K=(0,l.Fl)((function(){return Eu(e.treeProps)||Eu(e.treeProps.keys)?"children":e.treeProps.keys.children||"children"}));(0,l.bv)(Oh(Ph.mark((function t(){return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(T.value||!e.defaultValue){t.next=3;break}return t.next=3,q(e.defaultValue,null,"uncheck");case 3:V.value?m.value=Kr(T.value)?T.value.map((function(e){return e.value})):[T.value.value]:m.value=Kr(T.value)?T.value:[T.value],te();case 5:case"end":return t.stop()}}),t)}))));var q=function(t,n,r){var o;R(t,{node:n}),te(),null===(o=e.onChange)||void 0===o||o.call(e,t,{node:n,trigger:r})},z=function(t){var n,r=e.multiple?[]:"";m.value=[],q(r,null,"clear"),null===(n=e.onClear)||void 0===n||n.call(e,{e:t.e})},Y=function(t,n){var r=t;V.value&&(r=t.map((function(t){return oe(e.data,t)}))),q(r,n.node,"check")},J=function(t,n){if(D(!1),!e.multiple&&T.value!==n.node.data[G.value]){var r=t;if(V.value){var o=Eu(t)?"":t[0];r=oe(e.data,o)}else r=Eu(t)?"":t[0];q(r,n.node,"check"),m.value=t}},X=function(e){y.value=e},Z=function(){te()},$=function(t){var n;if(k.value){if(M(t),!t)return g.value=null,null;g.value=function(n){if(ce(e.filter)){var r=e.filter(String(t),n);if(yB(r))return r}return n.data[Q.value].indexOf(t)>=0},null===(n=e.onSearch)||void 0===n||n.call(e,String(t))}else{var r;null===(r=e.onSearch)||void 0===r||r.call(e,String(t))}},ee=function(t,n){var r,o=n.trigger,i=n.index;["tag-remove","backspace"].includes(o)&&Kr(T.value)&&T.value.splice(i,1),null===(r=e.onRemove)||void 0===r||r.call(e,{value:t,data:null,e:n&&n.e}),q(T.value,null,o)},te=function(){var t=Oh(Ph.mark((function t(){return Ph.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.value;case 2:e.multiple?e.multiple?Kr(T.value)?A.value=re():A.value=[]:A.value=null:T.value||0===T.value?A.value=ne():A.value="";case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t,n=V.value?T.value.value:T.value;if(h.value&&null!==(t=e.treeProps)&&void 0!==t&&t.load){if(!Eu(e.data)){var r=h.value.getItem(n);if(r)return{label:r.data[Q.value],value:r.data[G.value]}}return{label:n,value:n}}var o=oe(e.data,n);return o||{label:n,value:n}},re=function(){return T.value.map((function(t){var n,r=V.value?t.value:t;if(h.value&&null!==(n=e.treeProps)&&void 0!==n&&n.load){if(!Eu(e.data)){var o=h.value.getItem(r);if(o)return{label:o.data[Q.value],value:o.data[G.value]}}return{label:r,value:r}}var i=oe(e.data,r);return i||{label:r,value:r}}))},oe=function e(t,n){for(var r=0,o=t.length;r<o;r++){var i;if(t[r][G.value]===n)return{label:t[r][Q.value],value:t[r][G.value]};if(null!==(i=t[r])&&void 0!==i&&i[K.value]){var a,s=e(null===(a=t[r])||void 0===a?void 0:a[K.value],n);if(!CD(s))return s}}return null},ie=function(){b.value+=1},ae=function(){return(0,l.wy)((0,l.Wm)(VW,(0,l.dG)({ref:h,key:b.value,value:c(W.value),hover:!0,data:e.data,activable:!e.multiple,checkable:e.multiple,disabled:B.value||H.value,size:e.size,filter:g.value,icon:!g.value,actived:m.value,expanded:y.value,activeMultiple:e.multiple,onChange:Y,onActive:J,onExpand:X,onLoad:Z,expandOnClickNode:!0},e.treeProps),{empty:function(){return o("empty",{defaultNode:(0,l.Wm)("div",{class:"".concat(i.value,"-select__empty")},[s.value.empty])})}}),[[f.F8,!e.loading]])},se=function(){var t;return(0,l.Wm)(dE,{isActive:k.value,disabled:e.disabled,overlayClassName:(t={},u(t,"".concat(i.value,"-fake-arrow--highlight"),k.value),u(t,"".concat(i.value,"-fake-arrow--disable"),e.disabled),t)},null)};return function(){return(0,l.Wm)(KT,(0,l.dG)({class:"".concat(i.value,"-tree-select"),value:A.value,inputValue:k.value?j.value:"",popupVisible:k.value,disabled:B.value,multiple:e.multiple,loading:e.loading,clearable:e.clearable,autoWidth:e.autoWidth,borderless:e.borderless,readonly:e.readonly,placeholder:F.value,allowInput:e.filterable||ce(e.filter),minCollapsedNum:e.minCollapsedNum,"collapsed-items":e.collapsedItems,popupProps:QW({overlayClassName:U.value},e.popupProps),inputProps:QW({size:e.size},e.inputProps),tagInputProps:{size:e.size},tagProps:QW({maxWidth:300},e.tagProps),label:function(){return r("prefixIcon")},suffixIcon:function(){return se()},onClear:z,onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,e:n.e})},onFocus:function(t,n){var r;null===(r=e.onFocus)||void 0===r||r.call(e,{value:t,e:n.e})},valueDisplay:function(){var t;return r("valueDisplay",{params:e.multiple?{value:A.value,onClose:function(e,t){ee(e,t)}}:{value:A.value||(t={},u(t,Q.value,""),u(t,G.value,void 0),t)}})},onInputChange:$,onTagChange:ee,onPopupVisibleChange:function(e){return D(e)}},e.selectInputProps),{panel:function(){return(0,l.Wm)("div",null,[(0,l.wy)((0,l.Wm)("p",{class:"".concat(i.value,"-select-loading-tips ").concat(i.value,"-select__right-icon-polyfill")},[o("loadingText",{defaultNode:(0,l.Wm)("div",{class:"".concat(i.value,"-select__empty")},[s.value.loadingText])})]),[[f.F8,e.loading&&!B.value]]),ae()])},collapsedItems:n.collapsedItems})}}}),KW=Hf(GW),qW={closeBtn:{type:[String,Boolean,Function],default:!0},colorModes:{type:Array,default:["monochrome","linear-gradient"]},disabled:Boolean,enableAlpha:Boolean,format:{type:String,default:"RGB",validator:function(e){return!e||["RGB","RGBA","HSL","HSLA","HSB","HSV","HSVA","HEX","CMYK","CSS"].includes(e)}},inputProps:{type:Object},multiple:Boolean,popupProps:{type:Object},recentColors:{type:Array,default:void 0},defaultRecentColors:{type:Array,default:function(){return[]}},selectInputProps:{type:Object},swatchColors:{type:Array},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onChange:Function,onPaletteBarChange:Function,onRecentColorsChange:Function},zW="color-picker",YW=function(e){var t=Os(zW);return(0,l.Fl)((function(){return e?"".concat(t.value,"-").concat(e):t.value}))},JW=100,XW={monochrome:"单色","linear-gradient":"渐变"},ZW="#001F97",$W="linear-gradient(90deg, rgba(241,29,0,1) 0%, rgba(73,106,220,1) 100%);",eH=["#ECF2FE","#D4E3FC","#BBD3FB","#96BBF8","#699EF5","#4787F0","#266FE8","#0052D9","#0034B5","#001F97","#FDECEE","#F9D7D9","#F8B9BE","#F78D94","#F36D78","#E34D59","#C9353F","#B11F26","#951114","#680506","#FEF3E6","#F9E0C7","#F7C797","#F2995F","#ED7B2F","#D35A21","#BA431B","#9E3610","#842B0B","#5A1907","#E8F8F2","#BCEBDC","#85DBBE","#48C79C","#00A870","#078D5C","#067945","#056334","#044F2A","#033017"],tH=230,nH=168,rH=186,oH=176;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function iH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iH(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sH(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var cH=(0,l.aZ)({name:"PanelHeader",props:aH(aH({},qW),{},{mode:{type:String,default:"color"},togglePopup:{type:Function},onModeChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=YW(),n=Tg({CloseIcon:Ig}),r=n.CloseIcon,o=(0,d.iH)(e.mode),i=function(t){return e.onModeChange(t)};return(0,l.YP)((function(){return e.mode}),(function(e){return o.value=e})),{baseClassName:t,CloseIcon:r,modeValue:o,handleModeChange:i}},render:function(){var e,t,n,r=this;if(1===(null===(t=this.colorModes)||void 0===t?void 0:t.length))return null;var o=this.baseClassName;this.CloseIcon;return(0,l.Wm)("div",{class:"".concat(o,"__head")},[(0,l.Wm)("div",{class:"".concat(o,"__mode")},[1===(null===(n=this.colorModes)||void 0===n?void 0:n.length)?XW[this.colorModes[0]]:(0,l.Wm)(kU,{variant:"default-filled",size:"small",modelValue:r.modeValue,"onUpdate:modelValue":function(e){return r.modeValue=e},onChange:this.handleModeChange},sH(e=Object.keys(XW).map((function(e){return(0,l.Wm)(DU,{key:e,value:e},{default:function(){return[XW[e]]}})})))?e:{default:function(){return[e]}})])])}}),uH={disabled:Boolean,color:{type:Object},onChange:{type:Function,default:function(){return function(){}}}},lH={exports:{}};(function(e){(function(t){var n=/^\s+/,r=/\s+$/,o=0,i=t.round,a=t.min,s=t.max,c=t.random;function u(e,t){if(e=e||"",t=t||{},e instanceof u)return e;if(!(this instanceof u))return new u(e,t);var n=l(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=i(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=n.ok,this._tc_id=o++}function l(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,c=!1,u=!1;return"string"==typeof e&&(e=z(e)),"object"==S(e)&&(q(e.r)&&q(e.g)&&q(e.b)?(t=d(e.r,e.g,e.b),c=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):q(e.h)&&q(e.s)&&q(e.v)?(r=H(e.s),o=H(e.v),t=g(e.h,r,o),c=!0,u="hsv"):q(e.h)&&q(e.s)&&q(e.l)&&(r=H(e.s),i=H(e.l),t=p(e.h,r,i),c=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=j(n),{ok:c,format:e.format||u,r:a(255,s(t.r,0)),g:a(255,s(t.g,0)),b:a(255,s(t.b,0)),a:n}}function d(e,t,n){return{r:255*M(e,255),g:255*M(t,255),b:255*M(n,255)}}function f(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,o,i=s(e,t,n),c=a(e,t,n),u=(i+c)/2;if(i==c)r=o=0;else{var l=i-c;switch(o=u>.5?l/(2-i-c):l/(i+c),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:o,l:u}}function p(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=a(c,s,e+1/3),o=a(c,s,e),i=a(c,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}function h(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,o,i=s(e,t,n),c=a(e,t,n),u=i,l=i-c;if(o=0===i?0:l/i,i==c)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:o,v:u}}function g(e,n,r){e=6*M(e,360),n=M(n,100),r=M(r,100);var o=t.floor(e),i=e-o,a=r*(1-n),s=r*(1-i*n),c=r*(1-(1-i)*n),u=o%6,l=[r,s,a,a,c,r][u],d=[c,r,r,s,a,a][u],f=[a,a,c,r,r,s][u];return{r:255*l,g:255*d,b:255*f}}function v(e,t,n,r){var o=[W(i(e).toString(16)),W(i(t).toString(16)),W(i(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function m(e,t,n,r,o){var a=[W(i(e).toString(16)),W(i(t).toString(16)),W(i(n).toString(16)),W(Q(r))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function y(e,t,n,r){var o=[W(Q(r)),W(i(e).toString(16)),W(i(t).toString(16)),W(i(n).toString(16))];return o.join("")}function A(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=B(n.s),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=B(n.s),u(n)}function E(e){return u(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=B(n.l),u(n)}function w(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=s(0,a(255,n.r-i(-t/100*255))),n.g=s(0,a(255,n.g-i(-t/100*255))),n.b=s(0,a(255,n.b-i(-t/100*255))),u(n)}function C(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=B(n.l),u(n)}function I(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function O(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function T(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function R(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function N(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function P(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),o=360/n,i=[u(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(u(r));return i}function k(e,t){t=t||6;var n=u(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;while(t--)a.push(u({h:r,s:o,v:i})),i=(i+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,o,i,a,s=this.toRgb();return e=s.r/255,n=s.g/255,r=s.b/255,o=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),i=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4),.2126*o+.7152*i+.0722*a},setAlpha:function(e){return this._a=j(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return v(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return m(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*M(this._r,255))+"%",g:i(100*M(this._g,255))+"%",b:i(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%)":"rgba("+i(100*M(this._r,255))+"%, "+i(100*M(this._g,255))+"%, "+i(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(x[v(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+y(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=u(e);n="#"+y(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,o=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return o?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(A,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(I,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(R,arguments)}},u.fromRatio=function(e,t){if("object"==S(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:H(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:c(),g:c(),b:c()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),o=u(t).toRgb(),i=n/100,a={r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a};return u(a)},u.readability=function(e,n){var r=u(e),o=u(n);return(t.max(r.getLuminance(),o.getLuminance())+.05)/(t.min(r.getLuminance(),o.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,o,i=u.readability(e,t);switch(o=!1,r=Y(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o},u.mostReadable=function(e,t,n){var r,o,i,a,s=null,c=0;n=n||{},o=n.includeFallbackColors,i=n.level,a=n.size;for(var l=0;l<t.length;l++)r=u.readability(e,t[l]),r>c&&(c=r,s=u(t[l]));return u.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var D=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},x=u.hexNames=L(D);function L(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,n){U(e)&&(e="100%");var r=V(e);return e=a(n,s(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function B(e){return a(1,s(0,e))}function F(e){return parseInt(e,16)}function U(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function V(e){return"string"===typeof e&&-1!=e.indexOf("%")}function W(e){return 1==e.length?"0"+e:""+e}function H(e){return e<=1&&(e=100*e+"%"),e}function Q(e){return t.round(255*parseFloat(e)).toString(16)}function G(e){return F(e)/255}var K=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function q(e){return!!K.CSS_UNIT.exec(e)}function z(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,o=!1;if(D[e])e=D[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=K.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=K.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=K.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=K.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=K.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=K.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=K.hex8.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:G(t[4]),format:o?"name":"hex8"}:(t=K.hex6.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:o?"name":"hex"}:(t=K.hex4.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:G(t[4]+""+t[4]),format:o?"name":"hex8"}:!!(t=K.hex3.exec(e))&&{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:o?"name":"hex"}}function Y(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}e.exports?e.exports=u:window.tinycolor=u})(Math)})(lH);var dH=lH.exports,fH=function(e,t){for(var n="",r=0;r<e.length;r++)"string"===typeof e[r]?n+=e[r]:n+=e[r].source;return new RegExp(n,t)},pH=function(){var e="gi",t=/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,n=/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,r=/\s*,\s*/,o=/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,i=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,a=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,s=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,c=/[_a-z-][_a-z0-9-]*/,u=fH(["(?:",o,"|","(?:rgb|hsl)",i,"|","(?:rgba|hsla)",a,"|",c,")"],""),l=fH([u,"(?:\\s+",s,"(?:\\s+",s,")?)?"],""),d=fH(["(?:",l,r,")*",l],""),f=fH(["(?:(",t,")|",n,")"],""),p=fH(["(?:(",f,")",r,")?(",d,")"],e),h=fH(["\\s*(",u,")","(?:\\s+","(",s,"))?","(?:",r,"\\s*)?"],e);return{gradientSearch:p,colorStopSearch:h}},hH=function(e,t){var n,r,o;e.gradientSearch.lastIndex=0;var i=e.gradientSearch.exec(t);if(null!==i){n={original:i[0],colorStopList:[]},i[1]&&(n.line=i[1]),i[2]&&(n.angle=i[2]),i[3]&&(n.sideCorner=i[3]),e.colorStopSearch.lastIndex=0,r=e.colorStopSearch.exec(i[4]);while(null!==r)o={color:r[1]},r[2]&&(o.position=r[2]),n.colorStopList.push(o),r=e.colorStopSearch.exec(i[4])}return n},gH=pH(),vH=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/gim,mH=function(e){return vH.lastIndex=0,vH.exec(e)},yH={top:0,right:90,bottom:180,left:270,"top left":225,"left top":225,"top right":135,"right top":135,"bottom left":315,"left bottom":315,"bottom right":45,"right bottom":45},AH=function(e){var t=mH(e);if(!t)return!1;var n={points:[],degree:0},r=hH(gH,t[1]);if(r.original.trim()!==t[1].trim())return!1;var o=r.colorStopList.map((function(e){var t=e.color,n=e.position,r=Object.create(null);return r.color=dH(t).toRgbString(),r.left=parseFloat(n),r}));n.points=o;var i=parseInt(r.angle,10);return Number.isNaN(i)&&(i=yH[r.sideCorner]||90),n.degree=i,n},bH=function(e,t,n){var r=0,o=0,i=0,a=0,s=parseInt("".concat(e).replace(/\s/g,""),10),c=parseInt("".concat(t).replace(/\s/g,""),10),u=parseInt("".concat(n).replace(/\s/g,""),10);if(0===s&&0===c&&0===u)return a=1,[0,0,0,1];r=1-s/255,o=1-c/255,i=1-u/255;var l=Math.min(r,Math.min(o,i));return r=(r-l)/(1-l),o=(o-l)/(1-l),i=(i-l)/(1-l),a=l,[r,o,i,a]},EH=function(e,t,n,r){var o=e/100,i=t/100,a=n/100,s=r/100;o=o*(1-s)+s,i=i*(1-s)+s,a=a*(1-s)+s;var c=1-o,u=1-i,l=1-a;return c=Math.round(255*c),u=Math.round(255*u),l=Math.round(255*l),{r:c,g:u,b:l}},_H=/cmyk\((\d+%?),(\d+%?),(\d+%?),(\d+%?)\)/,wH=function(e){return Math.max(0,Math.min(255,parseInt(e,10)))},SH=function(e){if(/cmyk/i.test(e)){var t=e.replace(/\s/g,""),n=t.match(_H),r=wH(n[1]),o=wH(n[2]),i=wH(n[3]),a=wH(n[4]),s=EH(r,o,i,a),c=s.r,u=s.g,l=s.b;return"rgb(".concat(c,", ").concat(u,", ").concat(l,")")}return e};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OH=Math.round,TH=function(e){return dH(e).toRgb()},RH=function(e){return dH(e).toHsv()},NH=function(e){return dH(e).toHsl()},PH=function(e){var t=e.points,n=e.degree,r=t.sort((function(e,t){return e.left-t.left})).map((function(e){return"".concat(e.color," ").concat(Math.round(100*e.left)/100,"%")}));return"linear-gradient(".concat(n,"deg,").concat(r.join(","),")")},kH=function(){return(1+4294967295*Math.random()).toString(16)},DH=function(e,t){return{id:kH(),left:e,color:t}},xH=function(){function e(t){FA(this,e),u(this,"states",{s:100,v:100,h:100,a:1}),u(this,"originColor",void 0),u(this,"isGradient",void 0),u(this,"gradientStates",{colors:[],degree:0,selectedId:null,css:""}),this.update(t)}return VA(e,[{key:"update",value:function(e){if(e!==this.originColor){this.originColor=e,this.isGradient=!1;var t=AH(e),n=e;if(t){var r,o;this.isGradient=!0;var i=t,a=i.points.map((function(e){return DH(e.left,e.color)}));this.gradientStates={colors:a,degree:i.degree,selectedId:(null===(r=a[0])||void 0===r?void 0:r.id)||null},this.gradientStates.css=this.linearGradient,n=null===(o=this.gradientSelectedPoint)||void 0===o?void 0:o.color}this.updateStates(n)}}},{key:"saturation",get:function(){return this.states.s},set:function(e){this.states.s=Math.max(0,Math.min(100,e)),this.updateCurrentGradientColor()}},{key:"value",get:function(){return this.states.v},set:function(e){this.states.v=Math.max(0,Math.min(100,e)),this.updateCurrentGradientColor()}},{key:"hue",get:function(){return this.states.h},set:function(e){this.states.h=Math.max(0,Math.min(360,e)),this.updateCurrentGradientColor()}},{key:"alpha",get:function(){return this.states.a},set:function(e){this.states.a=Math.max(0,Math.min(1,Math.round(100*e)/100)),this.updateCurrentGradientColor()}},{key:"rgb",get:function(){var e=TH(this.states),t=e.r,n=e.g,r=e.b;return"rgb(".concat(OH(t),", ").concat(OH(n),", ").concat(OH(r),")")}},{key:"rgba",get:function(){var e=TH(this.states),t=e.r,n=e.g,r=e.b,o=e.a;return"rgba(".concat(OH(t),", ").concat(OH(n),", ").concat(OH(r),", ").concat(o,")")}},{key:"hsv",get:function(){var e=this.getHsva(),t=e.h,n=e.s,r=e.v;return"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)")}},{key:"hsva",get:function(){var e=this.getHsva(),t=e.h,n=e.s,r=e.v,o=e.a;return"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(o,")")}},{key:"hsl",get:function(){var e=this.getHsla(),t=e.h,n=e.s,r=e.l;return"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)")}},{key:"hsla",get:function(){var e=this.getHsla(),t=e.h,n=e.s,r=e.l,o=e.a;return"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(o,")")}},{key:"hex",get:function(){return dH(this.states).toHexString()}},{key:"hex8",get:function(){return dH(this.states).toHex8String()}},{key:"cmyk",get:function(){var e=this.getCmyk(),t=e.c,n=e.m,r=e.y,o=e.k;return"cmyk(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")}},{key:"css",get:function(){return this.isGradient?this.linearGradient:this.rgba}},{key:"linearGradient",get:function(){var e=this.gradientColors,t=this.gradientDegree;return PH({points:e,degree:t})}},{key:"gradientColors",get:function(){return this.gradientStates.colors},set:function(e){this.gradientStates.colors=e,this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedId",get:function(){return this.gradientStates.selectedId},set:function(e){var t;e!==this.gradientSelectedId&&(this.gradientStates.selectedId=e,this.updateStates(null===(t=this.gradientSelectedPoint)||void 0===t?void 0:t.color))}},{key:"gradientDegree",get:function(){return this.gradientStates.degree},set:function(e){this.gradientStates.degree=Math.max(0,Math.min(360,e)),this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedPoint",get:function(){var e=this.gradientColors,t=this.gradientSelectedId;return e.find((function(e){return e.id===t}))}},{key:"getFormatsColorMap",value:function(){return{HEX:this.hex,CMYK:this.cmyk,RGB:this.rgb,RGBA:this.rgba,HSL:this.hsl,HSLA:this.hsla,HSV:this.hsv,HSVA:this.hsva,CSS:this.css}}},{key:"updateCurrentGradientColor",value:function(){var e=this.isGradient,t=this.gradientColors,n=this.gradientSelectedId,r=t.length,o=this.gradientSelectedPoint;if(!e||0===r||!o)return!1;var i=t.findIndex((function(e){return e.id===n})),a=IH(IH({},o),{},{color:this.rgba});return t.splice(i,1,a),this.gradientColors=t,this}},{key:"updateStates",value:function(e){var t=dH(SH(e)),n=t.toHsv();this.states=n}},{key:"getRgba",value:function(){var e=TH(this.states),t=e.r,n=e.g,r=e.b,o=e.a;return{r:OH(t),g:OH(n),b:OH(r),a:o}}},{key:"getCmyk",value:function(){var e=this.getRgba(),t=e.r,n=e.g,r=e.b,o=bH(t,n,r),i=v(o,4),a=i[0],s=i[1],c=i[2],u=i[3];return{c:OH(100*a),m:OH(100*s),y:OH(100*c),k:OH(100*u)}}},{key:"getHsva",value:function(){var e=RH(this.states),t=e.h,n=e.s,r=e.v,o=e.a;return t=OH(t),n=OH(100*n),r=OH(100*r),o*=1,{h:t,s:n,v:r,a:o}}},{key:"getHsla",value:function(){var e=NH(this.states),t=e.h,n=e.s,r=e.l,o=e.a;return t=OH(t),n=OH(100*n),r=OH(100*r),o*=1,{h:t,s:n,l:r,a:o}}},{key:"equals",value:function(e){return dH.equals(this.rgba,e)}}],[{key:"isValid",value:function(e){return!!AH(e)||dH(e).isValid()}},{key:"hsva2color",value:function(e,t,n,r){return dH({h:e,s:t,v:n,a:r}).toHsvString()}},{key:"hsla2color",value:function(e,t,n,r){return dH({h:e,s:t,l:n,a:r}).toHslString()}},{key:"rgba2color",value:function(e,t,n,r){return dH({r:e,g:t,b:n,a:r}).toHsvString()}},{key:"hex2color",value:function(e,t){var n=dH(e);return n.setAlpha(t),n.toHexString()}},{key:"object2color",value:function(e,t){if("CMYK"===t){var n=e.c,r=e.m,o=e.y,i=e.k;return"cmyk(".concat(n,", ").concat(r,", ").concat(o,", ").concat(i,")")}var a=dH(e,{format:t});return a.toRgbString()}}]),e}();u(xH,"isGradientColor",(function(e){return!!mH(e)})),u(xH,"compare",(function(e,t){var n=xH.isGradientColor(e),r=xH.isGradientColor(t);if(n&&r){var o=PH(AH(e)),i=PH(AH(t));return o===i}return!n&&!r&&dH.equals(e,t)}));var LH=["alpha","css","hex","hex8","hsl","hsla","hsv","hsva","rgb","rgba","saturation","value","isGradient"],jH=function(e){if(!e)return null;var t=Object.create(null);return LH.forEach((function(n){return t[n]=e[n]})),e.isGradient&&(t.linearGradient=e.linearGradient),t};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function MH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MH(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FH=["delete","backspace"],UH=(0,l.aZ)({name:"LinearGradient",inheritAttrs:!1,props:BH({},uH),setup:function(e){var t=YW(),n=Ts(),r=n.STATUS,o=r.value,i=(0,d.iH)(null),a=(0,d.qj)({left:0,width:oH}),s=(0,d.iH)(!1),c=(0,d.iH)(!1),u=(0,d.iH)(e.color.gradientDegree),f=(0,d.iH)(e.color.gradientSelectedId),p=(0,d.iH)(oT(e.color.gradientColors));(0,l.YP)((function(){return e.color.gradientDegree}),(function(e){return u.value=e})),(0,l.YP)((function(){return e.color.gradientSelectedId}),(function(e){return f.value=e})),(0,l.YP)((function(){return e.color.gradientColors}),(function(e){p.value=oT(e)}),{deep:!0});var h=function(t,n,r){e.disabled||e.onChange({key:t,payload:n,addUsedColor:r})},g=function(t){e.disabled||t===e.color.gradientDegree||(u.value=t,h("degree",t,!0))},v=function(t){e.disabled||(f.value=t,h("selectedId",t))},m=function(t,n){e.disabled||(p.value=t,h("colors",t,n))},y=function(e){var t=p.value.findIndex((function(e){return e.id===f.value}));if(-1!==t){var n=p.value[t];e=Math.max(0,Math.min(a.width,e));var r=e/a.width*100;p.value.splice(t,1,{color:n.color,left:r,id:n.id}),m(p.value)}},A=function(t,n){var r=i.value.getBoundingClientRect();a.left=r.left,a.width=r.width||oH,s.value||e.disabled||(c.value=!1,s.value=!0,n.preventDefault(),n.stopPropagation(),v(t),i.value.focus(),window.addEventListener("mousemove",b,!1),window.addEventListener("mouseup",E,!1),window.addEventListener("contextmenu",E,!1))},b=function(t){if(s.value&&!e.disabled){var n=t.clientX-a.left;c.value=!0,y(n)}},E=function e(){s.value&&(setTimeout((function(){s.value=!1}),0),c.value&&(m(p.value,!0),c.value=!1),window.removeEventListener("mousemove",b,!1),window.removeEventListener("mouseup",e,!1),window.removeEventListener("contextmenu",e,!1))},_=function(t){if(!e.disabled){var n=p.value,r=n.findIndex((function(e){return e.id===f.value})),o=n.length;if(FH.includes(t.key.toLocaleLowerCase())&&o>2&&r>=0&&r<=o-1){n.splice(r,1),n[r]||(r=n[r+1]?r+1:n[r-1]?r-1:0);var i=n[r];m(n,!0),v(null===i||void 0===i?void 0:i.id)}}},w=function(t){if(!e.disabled){var n=t.clientX-a.left;n=Math.max(0,Math.min(a.width,n));var r=n/a.width*100,o=DH(r,e.color.rgba);p.value.push(o),m(p.value,!0),v(o.id)}};return(0,l.bv)((function(){var e=i.value.getBoundingClientRect();a.left=e.left,a.width=e.width||oH})),(0,l.Jd)((function(){window.removeEventListener("mousemove",b,!1),window.removeEventListener("mouseup",E,!1),window.removeEventListener("contextmenu",E,!1)})),{baseClassName:t,statusClassNames:o,refSlider:i,degree:u,selectedId:f,colors:p,handleDegreeChange:g,handleStart:A,handleMove:b,handleEnd:E,handleKeyup:_,handleThumbBarClick:w}},render:function(){var e=this,t=this.color,n=t.linearGradient,r=t.gradientColors,o=this.colors,i=this.selectedId,a=this.degree,s=this.disabled,c=this.baseClassName,u=this.statusClassNames,d=PH({points:r,degree:90});return(0,l.Wm)("div",{class:"".concat(c,"__gradient")},[(0,l.Wm)("div",{class:"".concat(c,"__gradient-slider")},[(0,l.Wm)("div",{class:["".concat(c,"__slider"),"".concat(c,"--bg-alpha")],onKeyup:this.handleKeyup,tabindex:0,ref:"refSlider"},[(0,l.Wm)("ul",{class:"gradient-thumbs",onClick:this.handleThumbBarClick,style:{background:d}},[o.map((function(t){var n="".concat(Math.round(100*t.left)/100,"%");return(0,l.Wm)("li",{class:["".concat(c,"__thumb"),"gradient-thumbs__item",i===t.id?u.active:""],key:t.id,title:"".concat(t.color," ").concat(n),style:{color:t.color,left:n},onClick:function(e){return e.stopPropagation()},onMousedown:function(n){return e.handleStart(t.id,n)}},[(0,l.Wm)("span",{class:["gradient-thumbs__item-inner","".concat(c,"--bg-alpha")]},null)])}))])])]),(0,l.Wm)("div",{class:"".concat(c,"__gradient-degree"),title:"".concat(a,"deg")},[(0,l.Wm)(lw,{size:"small",theme:"normal",min:0,max:360,step:1,format:function(e){return"".concat(e,"°")},modelValue:e.degree,"onUpdate:modelValue":function(t){return e.degree=t},onBlur:this.handleDegreeChange,onEnter:this.handleDegreeChange,disabled:s},null)]),(0,l.Wm)("div",{class:["".concat(c,"__gradient-preview"),"".concat(c,"--bg-alpha")]},[(0,l.Wm)("span",{class:"preview-inner",style:{background:n}},null)])])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VH(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HH(e,t){QH(e,t),t.add(e)}function QH(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GH(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var KH={start:function(e,t){},drag:function(e,t){},end:function(e,t){}},qH=new WeakSet,zH=new WeakSet,YH=new WeakSet,JH=new WeakSet,XH=function(){function e(t,n){FA(this,e),HH(this,JH),HH(this,YH),HH(this,zH),HH(this,qH),u(this,"dragging",!1),u(this,"$el",void 0),u(this,"props",void 0),u(this,"handles",void 0),this.$el=t,this.props=WH(WH({},KH),n),this.handles={start:GH(this,qH,ZH).bind(this),drag:GH(this,zH,$H).bind(this),end:GH(this,YH,eQ).bind(this)},this.$el.addEventListener("mousedown",this.handles.start,!1)}return VA(e,[{key:"destroy",value:function(){this.$el.removeEventListener("mousedown",this.handles.start,!1),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}}]),e}();function ZH(e){this.dragging||(window.addEventListener("mousemove",this.handles.drag,!1),window.addEventListener("mouseup",this.handles.end,!1),window.addEventListener("contextmenu",this.handles.end,!1),this.dragging=!0,this.props.start(GH(this,JH,tQ).call(this,e),e))}function $H(e){this.dragging&&this.props.drag(GH(this,JH,tQ).call(this,e),e)}function eQ(e){var t=this;setTimeout((function(){t.dragging=!1,t.props.end(GH(t,JH,tQ).call(t,e),e)}),0),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}function tQ(e){var t=this.$el.getBoundingClientRect(),n=e,r=n.clientX-t.left,o=n.clientY-t.top;return{y:Math.min(Math.max(0,o),t.height),x:Math.min(Math.max(0,r),t.width)}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oQ=(0,l.aZ)({name:"SaturationPanel",props:rQ({},uH),setup:function(e){var t=YW(),n=(0,d.iH)(null),r=(0,d.iH)(null),o=(0,d.iH)(null),i=(0,d.qj)({width:tH,height:nH}),a=(0,l.Fl)((function(){var t=e.color,n=t.saturation,r=t.value,o=i.width,a=i.height,s=Math.round((1-r)*a),c=Math.round(n*o);return{color:e.color.rgb,left:"".concat(c,"px"),top:"".concat(s,"px")}})),s=function(e){var t=i.width,n=i.height,r=e.x,o=e.y,a=Math.round(r/t*100),s=Math.round(100*(1-o/n));return{saturation:a,value:s}},c=function(t,n){if(!e.disabled){var r=s(t),o=r.saturation,i=r.value;e.onChange({saturation:o/100,value:i/100,addUsedColor:n})}},u=function(t){e.disabled||(0,l.Y3)((function(){c(t,!0)}))},f=(0,l.Fl)((function(){return"hsl(".concat(e.color.hue,", 100%, 50%)")}));return(0,l.bv)((function(){i.width=n.value.offsetWidth||tH,i.height=n.value.offsetHeight||nH,o.value=new XH(n.value,{start:function(){i.width=n.value.offsetWidth,i.height=n.value.offsetHeight},drag:function(e){c(e)},end:u})})),(0,l.Jd)((function(){o.value.destroy()})),{baseClassName:t,refThumb:r,refPanel:n,styles:a,panelBackground:f}},render:function(){var e=this.baseClassName,t=this.styles,n=this.panelBackground;return(0,l.Wm)("div",{class:["".concat(e,"__saturation")],ref:"refPanel",style:{background:n}},[(0,l.Wm)("span",{class:["".concat(e,"__thumb")],role:"slider",tabindex:0,ref:"refThumb",style:t},null)])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function iQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sQ=(0,l.aZ)({name:"ColorSlider",props:aQ(aQ({},uH),{},{className:{type:String,default:""},value:{type:Number,default:0},maxValue:{type:Number,default:360},railStyle:{type:Object},type:{type:String,default:"hue"}}),setup:function(e){var t=YW(),n=(0,d.iH)(null),r=(0,d.iH)(null),o=(0,d.iH)(null),i=(0,d.qj)({width:rH}),a=(0,l.Fl)((function(){var t=i.width;if(t){var n=Math.round(e.value/e.maxValue*t);return{left:"".concat(n,"px"),color:e.color.rgb}}})),s=function(t,n){if(!e.disabled){var r=i.width,o=t.x,a=Math.round(o/r*e.maxValue*100)/100;e.onChange(a,n)}},c=function(t){e.disabled||s(t,!0)};return(0,l.bv)((function(){i.width=n.value.offsetWidth||rH,o.value=new XH(n.value,{start:function(){i.width=n.value.offsetWidth},drag:function(e){s(e)},end:c})})),(0,l.Jd)((function(){o.value.destroy()})),{baseClassName:t,refThumb:r,refPanel:n,styles:a}},render:function(){var e=this.baseClassName,t=this.className,n=this.railStyle,r=this.styles,o=this.type,i=this.color,a={background:"linear-gradient(90deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.0) 93%, ".concat(i.rgb," 93%, ").concat(i.rgb," 100%)")};return(0,l.Wm)("div",{class:["".concat(e,"__slider-wrapper"),"".concat(e,"__slider-wrapper--").concat(o,"-type")]},["alpha"===o&&(0,l.Wm)("div",{className:"".concat(e,"__slider-padding"),style:a},null),(0,l.Wm)("div",{class:["".concat(e,"__slider"),t],ref:"refPanel"},[(0,l.Wm)("div",{class:"".concat(e,"__rail"),style:n},null),(0,l.Wm)("span",{class:["".concat(e,"__thumb")],role:"slider",tabindex:0,ref:"refThumb",style:r},null)])])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function cQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lQ=(0,l.aZ)({name:"HueSlider",inheritAttrs:!1,props:uQ({},uH),setup:function(){var e=YW();return{baseClassName:e}},render:function(){return(0,l.Wm)(sQ,{class:"".concat(this.baseClassName,"__hue"),color:this.color,value:this.color.hue,onChange:this.onChange,disabled:this.disabled,type:"hue"},null)}}),dQ=(0,l.aZ)({name:"AlphaSlider",inheritAttrs:!1,props:{color:{type:Object},disabled:{type:Boolean,default:!1},onChange:{type:Function,default:function(){return function(){}}}},setup:function(e){var t=YW(),n=function(t,n){e.onChange(t/100,n)},r=(0,l.Fl)((function(){return{background:"linear-gradient(to right, rgba(0, 0, 0, 0), ".concat(e.color.rgb,")")}}));return{baseClassName:t,railStyle:r,handleChange:n}},render:function(){var e=this.baseClassName;return(0,l.Wm)(sQ,{class:["".concat(e,"__alpha"),"".concat(e,"--bg-alpha")],color:this.color,value:100*this.color.alpha,onChange:this.handleChange,"rail-style":this.railStyle,"max-value":100,disabled:this.disabled,type:"alpha"},null)}}),fQ=["HEX","RGB","HSL","HSV","CMYK","CSS"],pQ={RGB:[{key:"r",min:0,max:255,type:"inputNumber"},{key:"g",min:0,max:255,type:"inputNumber"},{key:"b",min:0,max:255,type:"inputNumber"}],HSV:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"v",min:0,max:100,type:"inputNumber"}],HSL:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"l",min:0,max:100,type:"inputNumber"}],CMYK:[{key:"c",min:0,max:255,type:"inputNumber"},{key:"m",min:0,max:255,type:"inputNumber"},{key:"y",min:0,max:255,type:"inputNumber"},{key:"k",min:0,max:255,type:"inputNumber"}],CSS:[{key:"css",type:"input",flex:3}],HEX:[{key:"hex",type:"input",flex:3}]};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function hQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vQ=(0,l.aZ)({name:"FormatInputs",inheritAttrs:!1,props:gQ(gQ({},qW),{},{color:{type:Object},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=(0,l.Fl)((function(){var t=c(pQ[e.format]);return e.enableAlpha&&t.push({type:"inputNumber",key:"a",min:0,max:100,format:function(e){return"".concat(e,"%")},flex:1.15}),t})),n=(0,d.qj)({}),r=(0,d.qj)({}),o=function(t){var r=e.color;return"encode"===t?{HSV:r.getHsva(),HSL:r.getHsla(),RGB:r.getRgba(),CMYK:r.getCmyk(),CSS:{css:r.css},HEX:{hex:r.hex}}:{HSV:xH.object2color(n,"HSV"),HSL:xH.object2color(n,"HSL"),RGB:xH.object2color(n,"RGB"),CMYK:xH.object2color(n,"CMYK"),CSS:n.css,HEX:n.hex}},i=function(){var t=e.format,i=e.color,a=o("encode")[t];a.a=Math.round(100*i.alpha),Object.keys(a).forEach((function(e){n[e]=a[e],r[e]=a[e]}))};i();var a=RW(i,100);(0,l.YP)((function(){var t=e.color,n=t.saturation,r=t.hue,o=t.value,i=t.alpha;return[n,r,o,i,e.format]}),a);var s=function(t,i){if(i!==r[t]){var a=o("decode")[e.format];e.onInputChange(a,n.a/100,t,i)}};return{modelValue:n,inputConfigs:t,handleChange:s}},render:function(){var e=this,t=gQ({},this.inputProps||{});return(0,l.Wm)("div",{class:"input-group"},[this.inputConfigs.map((function(n){return(0,l.Wm)("div",{class:"input-group__item",key:n.key,style:{flex:n.flex||1}},["input"===n.type?(0,l.Wm)(T_,(0,l.dG)(t,{align:"center",size:"small",disabled:e.disabled,modelValue:e.modelValue[n.key],"onUpdate:modelValue":function(t){return e.modelValue[n.key]=t},maxlength:"HEX"===e.format?9:void 0,title:e.modelValue[n.key],onBlur:function(t){return e.handleChange(n.key,t)},onEnter:function(t){return e.handleChange(n.key,t)}}),null):(0,l.Wm)(lw,(0,l.dG)(t,{align:"center",size:"small",disabled:e.disabled,modelValue:e.modelValue[n.key],"onUpdate:modelValue":function(t){return e.modelValue[n.key]=t},title:e.modelValue[n.key],min:n.min,max:n.max,step:1,format:n.format,theme:"normal",onBlur:function(t){return e.handleChange(n.key,t)},onEnter:function(t){return e.handleChange(n.key,t)}}),null)])}))])}}),mQ=ff,yQ=mQ((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),AQ=yQ;function bQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _Q(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var wQ=(0,l.aZ)({name:"FormatPanel",inheritAttrs:!1,props:EQ(EQ({},qW),{},{color:{type:Object},onModeChange:{type:Function,default:function(){return function(){}}},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=YW(),n=(0,d.iH)(e.format);(0,l.YP)((function(){return[e.format]}),(function(){return n.value=e.format}));var r=function(t){n.value=t,e.onModeChange(t)};return{formatModel:n,baseClassName:t,handleModeChange:r}},render:function(){var e,t=this,n=c(fQ),r=this.baseClassName,o=this.handleModeChange,i=EQ(EQ({},this.$props),{},{format:this.formatModel}),a=EQ({},this.selectInputProps||{});return(0,l.Wm)("div",{class:"".concat(r,"__format")},[(0,l.Wm)("div",{class:"".concat(r,"__format--item")},[(0,l.Wm)(sP,(0,l.dG)({size:"small",class:"".concat(r,"__format-mode-select")},a,{popupProps:{overlayClassName:"".concat(r,"__select-options")},modelValue:t.formatModel,"onUpdate:modelValue":function(e){return t.formatModel=e},onChange:o}),_Q(e=n.map((function(e){return(0,l.Wm)(cP,{key:e,value:e,label:AQ(e),style:{fontSize:"12px"}},null)})))?e:{default:function(){return[e]}})]),(0,l.Wm)("div",{class:"".concat(r,"__format--item")},[(0,l.Wm)(vQ,i,null)])])}});function SQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SQ(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var IQ={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 12V6h1v6H6zM9 6v6h1V6H9z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M10.5 3H14v1h-1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V4H2V3h3.5V1.8c0-.44.36-.8.8-.8h3.4c.44 0 .8.36.8.8V3zm-4 0h3V2h-3v1zM4 4v10h8V4H4z",fillOpacity:.9}}]},OQ=(0,l.aZ)({name:"DeleteIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-delete",o.value])),s=(0,l.Fl)((()=>CQ(CQ({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(IQ,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function TQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NQ=(0,l.aZ)({name:"SwatchesPanel",props:RQ(RQ({},uH),{},{colors:{type:Array,default:function(){return[]}},title:{type:String,default:"系统色彩"},editable:{type:Boolean,default:!1},onSetColor:{type:Function,default:function(){return function(){}}},handleAddColor:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=YW(),n=Tg({DeleteIcon:OQ,AddIcon:jb}),r=n.DeleteIcon,o=n.AddIcon,i=Ts(),a=i.STATUS,s=a.value,u=(0,d.iH)(!1),f=function(e){u.value=e},p=function(t){return e.onSetColor(t)},h=function(t){return xH.compare(t,e.color.css)},g=(0,l.Fl)((function(){return e.colors.findIndex((function(e){return h(e)}))})),v=function(){var t=c(e.colors),n=g.value;n>-1?t.splice(n,1):t.length=0,e.onChange(t),f(!1)};return{baseClassName:t,DeleteIcon:r,AddIcon:o,statusClassNames:s,selectedColorIndex:g,visiblePopConfirm:u,setVisiblePopConfirm:f,handleClick:p,isEqualCurrentColor:h,handleRemoveColor:v}},render:function(){var e=this,t=this.baseClassName,n=this.DeleteIcon,r=this.AddIcon,o=this.statusClassNames,i=this.title,a=this.editable,s="".concat(t,"__swatches"),c=function(){return a?(0,l.Wm)("div",{class:"".concat(s,"--actions")},[(0,l.Wm)("span",{role:"button",class:"".concat(t,"__icon"),onClick:function(){return e.handleAddColor()}},[(0,l.Wm)(r,null,null)]),e.colors.length>0?(0,l.Wm)("span",{role:"button",class:"".concat(t,"__icon"),onClick:function(){return e.handleRemoveColor()}},[(0,l.Wm)(n,null,null)]):null]):null};return(0,l.Wm)("div",{class:s},[(0,l.Wm)("h3",{class:"".concat(s,"--title")},[(0,l.Wm)("span",null,[i]),c()]),(0,l.Wm)("ul",{class:["".concat(s,"--items"),"narrow-scrollbar"]},[this.colors.map((function(n){return(0,l.Wm)("li",{class:["".concat(s,"--item"),e.isEqualCurrentColor(n)&&a?o.active:""],title:n,key:n,onClick:function(){e.disabled||e.handleClick(n)}},[(0,l.Wm)("div",{class:["".concat(s,"--color"),"".concat(t,"--bg-alpha")]},[(0,l.Wm)("span",{class:"".concat(s,"--inner"),style:{background:n}},null)])])}))])])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function PQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var DQ=(0,l.aZ)({name:"ColorPanel",props:kQ(kQ({},qW),{},{togglePopup:{type:Function}}),setup:function(e){var t=YW(),n=Ts(),r=n.STATUS,o=Is("colorPicker"),i=o.t,a=o.globalConfig,s=r.value,c=(0,d.BK)(e),u=c.value,f=c.modelValue,p=c.recentColors,h=Sy(u,f,e.defaultValue,e.onChange),g=v(h,2),m=g[0],y=g[1],A=(0,d.iH)(new xH(m.value||ZW)),b=function(){return A.value.update(m.value||ZW)},E=(0,d.iH)(A.value.isGradient?"linear-gradient":"monochrome"),_=(0,d.iH)(A.value.isGradient?"CSS":"RGB"),w=zA(p,e.defaultRecentColors,e.onRecentColorsChange,"recentColors"),S=v(w,2),C=S[0],I=S[1];if(1===e.colorModes.length){var O=e.colorModes[0];E.value=O}var T=function(){return"linear-gradient"===E.value?A.value.linearGradient:A.value.getFormatsColorMap()[e.format]||A.value.css},R=function(){if(null!==C.value&&!1!==C.value){var e=C.value||[],t=A.value.isGradient?A.value.linearGradient:A.value.rgba,n=e.indexOf(t);n>-1&&e.splice(n,1),e.unshift(t),e.length>JW&&(e.length=JW),N(e)}},N=function(e){C.value=e,I(e)},P=function(e){y(T(),{color:jH(A.value),trigger:e||"palette-saturation-brightness"})};(0,l.YP)((function(){return[e.defaultValue,e.enableAlpha]}),b),(0,l.YP)((function(){return m.value}),(function(e){e!==T()&&(b(),E.value=A.value.isGradient?"linear-gradient":"monochrome")}));var k=function(e){E.value=e,"linear-gradient"!==e?A.value.update(A.value.rgba):A.value.update(A.value.gradientColors.length>0?A.value.linearGradient:$W)},D=function(e){return _.value=e},x=function(e){var t=e.saturation,n=e.value,r=A.value,o=r.saturation,i=r.value,a="palette-saturation-brightness";if(n!==i&&t!==o)A.value.saturation=t,A.value.value=n,a="palette-saturation-brightness";else if(t!==o)A.value.saturation=t,a="palette-saturation";else{if(n===i)return;A.value.value=n,a="palette-brightness"}P(a)},L=function(t){var n;A.value.hue=t,P("palette-hue-bar"),null===(n=e.onPaletteBarChange)||void 0===n||n.call(e,{color:jH(A.value)})},j=function(e){A.value.alpha=e,P("palette-alpha-bar")},M=function(e,t){A.value.update(e),A.value.alpha=t,P("input")},B=function(e){var t=e.key,n=e.payload,r="palette-saturation-brightness";switch(t){case"degree":A.value.gradientDegree=n,r="input";break;case"selectedId":A.value.gradientSelectedId=n;break;case"colors":A.value.gradientColors=n;break}P(r)},F=function(t,n){var r=xH.isGradientColor(n);r?e.colorModes.includes("linear-gradient")?(E.value="linear-gradient",A.value.update(n),A.value.updateCurrentGradientColor()):console.warn("该模式不支持渐变色"):"linear-gradient"===E.value?(A.value.updateStates(n),A.value.updateCurrentGradientColor()):A.value.update(n),P()};return{baseClassName:t,statusClassNames:s,t:i,globalConfig:a,color:A,mode:E,formatModel:_,recentlyUsedColors:C,addRecentlyUsedColor:R,handleModeChange:k,handleSatAndValueChange:x,handleHueChange:L,handleAlphaChange:j,handleGradientChange:B,handleSetColor:F,handleFormatModeChange:D,handleInputChange:M,handleRecentlyUsedColorsChange:N}},render:function(){var e,t=this,n=this.baseClassName,r=this.statusClassNames,o=this.t,i=this.globalConfig,a=this.recentColors,s=(this.recentlyUsedColors,this.swatchColors),u={color:this.color,disabled:this.disabled},d=null!==a&&!1!==a,f=s;void 0===f&&(f=c(eH));var p=(null===(e=f)||void 0===e?void 0:e.length)>0,h=function(){return p||d?(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{class:"".concat(n,"__swatches-wrap")},[d?(0,l.Wm)(NQ,(0,l.dG)(u,{title:o(i.recentColorTitle),editable:!0,colors:t.recentlyUsedColors,handleAddColor:t.addRecentlyUsedColor,onSetColor:function(e){return t.handleSetColor("used",e)},onChange:t.handleRecentlyUsedColorsChange}),null):null,p?(0,l.Wm)(NQ,(0,l.dG)(u,{title:o(i.swatchColorTitle),colors:f,onSetColor:function(e){return t.handleSetColor("system",e)}}),null):null])]):null},g="linear-gradient"===this.mode;return(0,l.Wm)("div",{class:["".concat(n,"__panel"),!!this.disabled&&r.disabled]},[(0,l.Wm)(cH,(0,l.dG)(this.$props,{mode:this.mode,onModeChange:this.handleModeChange}),null),(0,l.Wm)("div",{class:["".concat(n,"__body")]},[g?(0,l.Wm)(UH,(0,l.dG)(u,{onChange:this.handleGradientChange}),null):null,(0,l.Wm)(oQ,(0,l.dG)(u,{onChange:this.handleSatAndValueChange}),null),(0,l.Wm)("div",{class:["".concat(n,"__sliders-wrapper")]},[(0,l.Wm)("div",{class:["".concat(n,"__sliders")]},[(0,l.Wm)(lQ,(0,l.dG)(u,{onChange:this.handleHueChange}),null),this.enableAlpha?(0,l.Wm)(dQ,(0,l.dG)(u,{onChange:this.handleAlphaChange}),null):null]),(0,l.Wm)("div",{class:["".concat(n,"__sliders-preview"),"".concat(n,"--bg-alpha")]},[(0,l.Wm)("span",{class:"".concat(n,"__sliders-preview-inner"),style:{background:g?this.color.linearGradient:this.color.rgba}},null)])]),(0,l.Wm)(wQ,(0,l.dG)(this.$props,{color:this.color,format:this.formatModel,onModeChange:this.handleFormatModeChange,onInputChange:this.handleInputChange}),null),h()])])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function xQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jQ=(0,l.aZ)({name:"TColorPickerPanel",props:LQ({},qW),setup:function(e,t){var n=t.attrs,r=Os();return function(){return(0,l.Wm)(DQ,(0,l.dG)(LQ(LQ({},e),n),{popupProps:null,"close-btn":!1,class:"".concat(r.value,"-is-inline")}),null)}}}),MQ=(0,l.aZ)({name:"DefaultTrigger",inheritAttrs:!1,props:{color:{type:String,default:""},disabled:{type:Boolean,default:!1},inputProps:{type:Object,default:function(){return{autoWidth:!0}}},onTriggerChange:{type:Function,default:function(){return function(){}}}},setup:function(e){var t=YW(),n=(0,d.iH)(e.color);(0,l.YP)((function(){return[e.color]}),(function(){return n.value=e.color}));var r=function(t){t!==e.color&&(xH.isValid(t)?n.value=t:n.value=e.color,e.onTriggerChange(n.value))};return{baseClassName:t,value:n,handleChange:r}},render:function(){var e=this,t=this.baseClassName,n={label:function(){return(0,l.Wm)("div",{class:["".concat(t,"__trigger--default__color"),"".concat(t,"--bg-alpha")]},[(0,l.Wm)("span",{class:["color-inner"],style:{background:e.value}},null)])}};return(0,l.Wm)("div",{class:"".concat(t,"__trigger--default")},[(0,l.Wm)(T_,(0,l.dG)(this.inputProps,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},disabled:this.disabled,onBlur:this.handleChange}),n)])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function BQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UQ=(0,l.aZ)({name:"TColorPicker",props:FQ({},qW),setup:function(e){var t=YW(),n=(0,d.iH)(!1),r=function(e){return n.value=e},o=(0,d.BK)(e),i=o.value,a=o.modelValue,s=Sy(i,a,e.defaultValue,e.onChange),c=v(s,2),u=c[0],f=c[1],p=(0,d.iH)(),h=function(){if(e.disabled)return null;var t=FQ({},e);return delete t.onChange,(0,l.Wm)(DQ,(0,l.dG)(t,{disabled:e.disabled,value:u.value,togglePopup:r,onChange:function(e,t){return f(e,t)}}),null)};return{baseClassName:t,innerValue:u,visible:n,refTrigger:p,renderPopupContent:h,setVisible:r,setInnerValue:f}},render:function(){var e=this,t=this.popupProps,n=this.disabled,r=this.baseClassName,o=FQ(FQ({placement:"bottom-left"},t||{}),{},{trigger:"click",attach:"body",overlayClassName:[r],visible:this.visible,overlayInnerStyle:{padding:0},onVisibleChange:function(t,n){"document"===n.trigger&&e.setVisible(!1)}});return(0,l.Wm)(Dy,(0,l.dG)(o,{content:this.renderPopupContent}),{default:function(){return[(0,l.Wm)("div",{class:"".concat(r,"__trigger"),onClick:function(){return e.setVisible(!e.visible)},ref:"refTrigger"},[Tf(e,"default",(0,l.Wm)(MQ,{color:e.innerValue,disabled:n,"input-props":e.inputProps,onTriggerChange:e.setInnerValue},null))])]}})}}),VQ=Hf(jQ),WQ=Hf(UQ),HQ={alt:{type:String,default:""},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},shape:{type:String,default:"circle",validator:function(e){return["circle","round"].includes(e)}},size:{type:String,default:""},onError:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function QQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QQ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var KQ=(0,l.aZ)({name:"TAvatar",props:HQ,setup:function(e){var t=Os("avatar"),n=ap(),r=op(),o=Ts(),i=o.SIZE,a=(0,l.f3)("avatarGroup",void 0),s=(0,d.iH)(null),c=(0,d.iH)(null),f=(0,d.iH)(!0),p=(0,d.iH)(4),h=(0,d.iH)(""),g=(0,d.iH)(""),v=(0,l.Fl)((function(){return h.value&&!i.value[h.value]})),m=(0,l.Fl)((function(){return v.value?{width:h.value,height:h.value,"font-size":"".concat(Number.parseInt(h.value,10)/2,"px")}:{}})),y=(0,l.Fl)((function(){return v.value?{height:h.value,width:h.value}:{}})),A=(0,l.Fl)((function(){return{transform:g.value}})),b=function(){var t,n=e.hideOnLoadFailed;f.value=!n,null===(t=e.onError)||void 0===t||t.call(e)},E=function(){var e=s.value,t=c.value,n=null===e||void 0===e?void 0:e.offsetWidth,r=null===t||void 0===t?void 0:t.offsetWidth;2*p.value<n&&(g.value=r>n-2*p.value?"scale(".concat((n-2*p.value)/r,")"):"scale(1)")};return(0,l.bv)((function(){h.value=e.size||(null===a||void 0===a?void 0:a.size),(0,l.Y3)((function(){E()}))})),(0,l.ic)((function(){(0,l.Y3)((function(){E()}))})),function(){var o,a=n("default","content"),d=r("icon"),p=d&&!a,g=e.shape,v=e.image,E=e.alt,_=["".concat(t.value),i[h.value],(o={},u(o,"".concat(t.value,"--circle"),"circle"===g),u(o,"".concat(t.value,"--round"),"round"===g),u(o,"".concat(t.value,"__icon"),!!p),o)];return a=(0,l.Wm)("span",{ref:c,style:GQ({},A.value)},[a]),d&&(a=[d,p?"":a]),v&&f.value&&(a=(0,l.Wm)("img",{style:GQ({},y.value),src:v,alt:E,onError:b},null)),(0,l.Wm)("div",{ref:s,class:_,style:GQ({},m.value)},[a])}}}),qQ={cascading:{type:String,default:"right-up",validator:function(e){return["left-up","right-up"].includes(e)}},collapseAvatar:{type:[String,Function]},max:{type:Number},placement:{type:String,validator:function(e){return["left","top","bottom","right"].includes(e)}},popupProps:{type:Object},size:{type:String,default:"medium"}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function zQ(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var YQ=(0,l.aZ)({name:"TAvatarGroup",props:qQ,setup:function(e){(0,l.JJ)("avatarGroup",e);var t=ap(),n=op(),r=Os("avatar"),o=Os("avatar-group"),i=function(){var e=n("collapseAvatar");return e},a=function(){return i()&&"string"!==typeof e.collapseAvatar?e.collapseAvatar:null},s=function(t){if((null===t||void 0===t?void 0:t.length)>e.max){var n=c(t),r=t.slice(0,e.max);return r.push((0,l.Wm)(KQ,{size:e.size,icon:a()},zQ(n)?n:{default:function(){return[n]}})),[r]}return[t]},c=function(n){var r="";return e.collapseAvatar?i()||(r=t("collapseAvatar","content")):r="+".concat(n.length-e.max),r};return function(){var t,i=n("default"),a=e.cascading,c=e.max,d=["".concat(o.value),(t={},u(t,"".concat(r.value,"--offset-right"),"right-up"===a),u(t,"".concat(r.value,"--offset-left"),"left-up"===a),t)],f=[i];return c&&c>=0&&(f=[s(i)]),(0,l.Wm)("div",{class:d},[f])}}}),JQ=Hf(KQ),XQ=Hf(YQ),ZQ={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},default:{type:[String,Function]},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(e){return["circle","round"].includes(e)}},showZero:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium"].includes(e)}}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function $Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Q(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tG=(0,l.aZ)({name:"TBadge",props:eG({},ZQ),setup:function(e){var t=op(),n=(0,l.Fl)((function(){if(e.dot)return"";if("function"===typeof e.count)return t("count");if(Number.isNaN(Number(e.count)))return e.count;var n=Number(e.count);return n>e.maxCount?"".concat(e.maxCount,"+"):n})),r=function(){return t("default")},o=function(){if(!e.offset)return{};var t=v(e.offset,2),n=t[0],r=t[1];return n=Number.isNaN(Number(n))?n:"".concat(n,"px"),r=Number.isNaN(Number(r))?r:"".concat(r,"px"),{xOffset:n,yOffset:r}},i=Is("classPrefix"),a=i.classPrefix,s="".concat(a.value,"-badge"),c=(0,l.Fl)((function(){return!e.showZero&&(0===n.value||"0"===n.value)})),d=(0,l.Fl)((function(){var t;return[(t={},u(t,"".concat(s,"--dot"),!!e.dot),u(t,"".concat(s,"--circle"),!e.dot&&"circle"===e.shape),u(t,"".concat(s,"--round"),"round"===e.shape),u(t,"".concat(a.value,"-size-s"),"small"===e.size),t)]})),f=(0,l.Fl)((function(){var t=o(),n=t.xOffset,r=t.yOffset;return{background:"".concat(e.color),right:n,top:r}}));return{content:n,inlineStyle:f,badgeClassNames:d,isHidden:c,renderChildren:r,name:s}},render:function(){return(0,l.Wm)("div",(0,l.dG)({class:this.name},this.$attrs),[this.renderChildren(),this.isHidden?null:(0,l.Wm)("sup",{class:this.badgeClassNames,style:this.inlineStyle},[this.content])])}}),nG=Hf(tG),rG={cell:{type:[String,Function]},cellAppend:{type:[String,Function]},controllerConfig:{type:[Boolean,Object],default:void 0},fillWithZero:{type:Boolean,default:void 0},firstDayOfWeek:{type:Number,validator:function(e){return!e||[1,2,3,4,5,6,7].includes(e)}},format:{type:String,default:"YYYY-MM-DD"},head:{type:[String,Function]},isShowWeekendDefault:{type:Boolean,default:!0},mode:{type:String,default:"month",validator:function(e){return!e||["month","year"].includes(e)}},month:{type:[String,Number]},preventCellContextmenu:Boolean,range:{type:Array},theme:{type:String,default:"full",validator:function(e){return!e||["full","card"].includes(e)}},value:{type:[String,Date]},week:{type:[Array,Function]},year:{type:[String,Number]},onCellClick:Function,onCellDoubleClick:Function,onCellRightClick:Function,onControllerChange:Function,onMonthChange:Function},oG="calendar",iG=1970,aG=1,sG=12,cG=4,uG={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},lG=function(e){var t=dx(e).day();return 0===t&&(t=7),t},dG=function(e){var t="",n=e.toString();return n in uG&&(t=uG[n]),t},fG=function(e,t){var n=0,r=lG(t);return n=r>=e?r-e:7-e+r,n},pG=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},hG=function(e,t,n){for(var r=[],o=t.year()===e,i=aG;i<=sG;i++){var a=new Date(e,i-1),s=parseInt(t.format("M"),10),c=o&&s===i;r.push({mode:"year",isCurrent:c,date:a,formattedDate:dx(a).format(n),filterDate:null,formattedFilterDate:null,isShowWeekend:!0})}return r},gG=function(e,t,n,r,o){for(var i=[],a=dx("".concat(e,"-").concat(t)).startOf("month").toDate(),s=dx("".concat(e,"-").concat(t)).endOf("month").toDate(),c=s.getDate(),u=fG(n,a),l=[],d=1,f=function(e,t,n,r){var i=lG(n);return{mode:"month",belongTo:e,isCurrent:t,day:i,weekOrder:r,date:n,formattedDate:dx(n).format(o),filterDate:null,formattedFilterDate:null,isShowWeekend:!0}},p=0;p<u;p++){var h=pG(a,p-u);l.push(f(-1,!1,h,d)),7===l.length&&(i.push(l),l=[],d+=1)}for(var g=0;g<c;g++){var v=pG(a,g);l.push(f(0,r.isSame(dx(v)),v,d)),7===l.length&&(i.push(l),l=[],d+=1)}if(l.length){for(var m=7-l.length,y=0;y<m;y++){var A=pG(s,y+1);l.push(f(1,!1,A,d))}i.push(l)}return i},vG=function(){return dx(dx().format("YYYY-MM-DD"))};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function mG(e,t){var n=Os(oG),r=(0,l.Fl)((function(){return["".concat(n.value),"".concat(n.value,"--").concat(e.theme)]})),o=(0,l.Fl)((function(){return["".concat(n.value,"__panel"),"".concat(n.value,"__panel--").concat(t.curSelectedMode)]})),i=(0,l.Fl)((function(){return["".concat(n.value,"__control")]})),a=(0,l.Fl)((function(){return["".concat(n.value,"__title")]})),s=(0,l.Fl)((function(){return["".concat(n.value,"__control-section")]})),c=(0,l.Fl)((function(){return["".concat(n.value,"__control-section-cell")]})),u=(0,l.Fl)((function(){return["".concat(n.value,"__control-tag")]})),d=(0,l.Fl)((function(){return["".concat(n.value,"__table")]})),f=(0,l.Fl)((function(){return["".concat(n.value,"__table-head")]})),p=(0,l.Fl)((function(){return["".concat(n.value,"__table-head-row")]})),h=(0,l.Fl)((function(){return["".concat(n.value,"__table-head-cell")]})),g=(0,l.Fl)((function(){return["".concat(n.value,"__table-body")]})),v=(0,l.Fl)((function(){return["".concat(n.value,"__table-body-row")]}));return{body:r,panel:o,control:i,title:a,controlSection:s,controlSectionCell:c,controlTag:u,table:d,tableHead:f,tableHeadRow:p,tableHeadCell:h,tableBody:g,tableBodyRow:v}}function yG(){var e=Os(oG),t=(0,l.Fl)((function(){return["".concat(e.value,"__table-body-cell")]})),n=(0,l.Fl)((function(){return"".concat(e.value,"__table-body-cell--now")})),r=(0,l.Fl)((function(){return["".concat(e.value,"__table-body-cell-display")]})),o=(0,l.Fl)((function(){return["".concat(e.value,"__table-body-cell-content")]}));return{tableBodyCell:t,tableBodyCell4Now:n,tableBodyCellDisplay:r,tableBodyCellCsontent:o}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function AG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AG(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EG={click:"click",dblclick:"dblclick",contextmenu:"rightclick"},_G=(0,l.aZ)({name:"TCalendarCell",inheritAttrs:!1,props:{item:{type:Object,default:function(){return null}},fillWithZero:{type:Boolean,default:void 0},theme:{type:String,default:function(){return null}},t:Function,global:Object,cell:[String,Function]},emits:c(Object.values(EG)),setup:function(e,t){var n=t.emit,r=ap(),o=yG(),i=Ts(),a=i.STATUS,s=(0,l.Fl)((function(){if("month"===e.item.mode){var t,n,r=e.item.date.getDate(),o=r<10&&(null===(t=null!==(n=e.fillWithZero)&&void 0!==n?n:e.global.fillWithZero)||void 0===t||t);return o?"0".concat(r):r}var i=e.t(e.global.cellMonth).split(",");return i[e.item.date.getMonth().toString()]})),c=(0,l.Fl)((function(){return"full"===e.theme})),d=(0,l.Fl)((function(){return"month"===e.item.mode&&0!==e.item.belongTo})),f=(0,l.Fl)((function(){var t,n=e.item,r=n.mode,i=n.date,s=n.formattedDate,c=n.isCurrent,l="year"===r?(new Date).getMonth()===i.getMonth():s===dx().format("YYYY-MM-DD");return[o.tableBodyCell.value,(t={},u(t,a.value.disabled,d.value),u(t,a.value.checked,c),u(t,o.tableBodyCell4Now.value,l),t)]})),p=function(e){if(!d.value){var t=EG[e.type];n(t,e)}},h=function(){return(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{class:o.tableBodyCellDisplay.value},[s.value]),(0,l.Wm)("div",{class:o.tableBodyCellCsontent.value},[c.value&&r("cellAppend",void 0,{params:bG({},e.item)})])])};return function(){return e.item&&(0,l.Wm)("td",{class:f.value,onClick:p,ondblclick:p,oncontextmenu:p},["function"===typeof e.cell?e.cell(bG({},e.item)):r("cell",void 0,{defaultNode:h(),params:bG({},e.item)})])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function wG(e){var t=Is(oG),n=t.globalConfig,r=(0,d.qj)({realFirstDayOfWeek:1,curDate:null,curSelectedYear:null,curSelectedMonth:null,curSelectedMode:null,isShowWeekend:!0,controlSize:"medium"});function o(){var e=vG();r.curSelectedYear=e.year(),r.curSelectedMonth=parseInt(e.format("M"),10)}function i(e){var t=e?parseInt("".concat(e),10):vG().year();!isNaN(t)&&t>0&&(r.curSelectedYear=t)}function a(e){var t=e?parseInt("".concat(e),10):parseInt(vG().format("M"),10);!isNaN(t)&&t>0&&t<=12&&(r.curSelectedMonth=t)}function s(e){r.curDate=e?dx(e):vG()}function c(e){var t=!0;return r.isShowWeekend||(t=6!==e&&7!==e),t}return(0,l.YP)((function(){return e.firstDayOfWeek}),(function(){var t,o;r.realFirstDayOfWeek=null!==(t=null!==(o=e.firstDayOfWeek)&&void 0!==o?o:n.value.firstDayOfWeek)&&void 0!==t?t:1}),{immediate:!0}),(0,l.YP)((function(){return e.value}),(function(e){s(e)}),{immediate:!0}),(0,l.YP)((function(){return e.year}),(function(e){i(e)}),{immediate:!0}),(0,l.YP)((function(){return e.month}),(function(e){a(e)}),{immediate:!0}),(0,l.YP)((function(){return e.isShowWeekendDefault}),(function(e){r.isShowWeekend=e}),{immediate:!0}),(0,l.YP)((function(){return e.mode}),(function(e){r.curSelectedMode=e}),{immediate:!0}),{state:r,toToday:o,checkDayVisibled:c}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SG(e,t){var n=Is(oG),r=n.t,o=n.globalConfig,i=(0,l.Fl)((function(){return e.week||r(o.value.week).split(",")}));function a(e){var t=i.value;return"object"===S(t)&&t[e-1]?t[e-1]:dG(e)}var s=(0,l.Fl)((function(){for(var e=[],n=1,r=7,o=t.realFirstDayOfWeek;o<=r;o++)e.push({num:o,display:a(o)});if(t.realFirstDayOfWeek>n)for(var i=n;i<t.realFirstDayOfWeek;i++)e.push({num:i,display:a(i)});return e}));return{cellColHeaders:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function CG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CG(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OG=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{visible:e,disabled:!1,mode:{visible:!0,radioGroupProps:{}},year:{visible:!0,selectProps:{}},month:{visible:!0,selectProps:{}},weekend:{visible:!0,showWeekendButtonProps:{},hideWeekendButtonProps:{}},current:{visible:!0,currentDayButtonProps:{},currentMonthButtonProps:{}}}};function TG(e,t){var n=Is(oG),r=n.globalConfig,o=(0,l.Fl)((function(){var n=dx("".concat(t.curSelectedYear,"-").concat(t.curSelectedMonth)),r={isShowWeekend:t.isShowWeekend,filterDate:n.toDate(),formattedFilterDate:n.format(e.format),mode:t.curSelectedMode};return r})),i=(0,l.Fl)((function(){var t,n,o=null===(t=null!==(n=e.controllerConfig)&&void 0!==n?n:r.value.controllerConfig)||void 0===t||t;return"boolean"===typeof o?OG(o):IG(IG({},OG()),o)})),a=(0,l.Fl)((function(){return!!i.value&&i.value.visible}));function s(e){var t=!0,n=i.value;return n&&n.visible&&!1!==n[e]&&(!n[e]||n[e].visible)||(t=!1),t}function c(e,t){var n=!1,r=i.value;return r&&(r.disabled||r[e]&&r[e][t]&&r[e][t].disabled)&&(n=!0),n}function u(){(0,l.Y3)((function(){"function"===typeof e.onControllerChange&&e.onControllerChange(IG({},o.value))}))}return{options:o,configData:i,visible:a,checkControllerVisible:s,checkControllerDisabled:c,emitControllerChange:u}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function RG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RG(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PG(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var kG=(0,l.aZ)({name:"TCalendar",props:NG({},rG),setup:function(e,t){var n=t.slots,r=ap(),o=Is(oG),i=o.t,a=o.globalConfig,s=wG(e),c=s.state,u=s.toToday,d=s.checkDayVisibled,f=mG(e,c),p=SG(e,c),h=p.cellColHeaders,g=TG(e,c),m=(0,l.Fl)((function(){if(!e.range||e.range.length<2)return null;var t=v(e.range,2),n=t[0],r=t[1];return dx(n).isBefore(dx(r))?{from:n,to:r}:{from:r,to:n}}));function y(e,t){var n=!1;if(m.value&&m.value.from&&m.value.to){var r=dx(m.value.from).year(),o=dx(m.value.to).year();if(e===r){var i=parseInt(dx(m.value.from).format("M"),10);n=t<i}else if(e===o){var a=parseInt(dx(m.value.to).format("M"),10);n=t>a}}return n}(0,l.YP)((function(){return{year:"".concat(c.curSelectedYear),month:"".concat(c.curSelectedMonth)}}),(function(t){"function"===typeof e.onMonthChange&&e.onMonthChange(NG({},t)),g.emitControllerChange()}));var A={yearSelectOptionList:(0,l.Fl)((function(){var e=[],t=c.curSelectedYear-10,n=c.curSelectedYear+10;m.value&&m.value.from&&m.value.to&&(t=dx(m.value.from).year(),n=dx(m.value.to).year()),t<iG&&(t=iG),n<iG&&(n=iG);for(var r=t;r<=n;r++){var o=y(r,c.curSelectedMonth);e.push({value:r,label:i(a.value.yearSelection,{year:r}),disabled:o})}return e})),isYearSelectVisible:(0,l.Fl)((function(){return g.checkControllerVisible("year")})),isYearSelectDisabled:(0,l.Fl)((function(){return g.checkControllerDisabled("year","selectProps")})),monthSelectOptionList:(0,l.Fl)((function(){for(var e=[],t=aG;t<=sG;t++){var n=y(c.curSelectedYear,t);e.push({value:t,label:i(a.value.monthSelection,{month:t}),disabled:n})}return e})),isMonthSelectVisible:(0,l.Fl)((function(){return"month"===c.curSelectedMode&&g.checkControllerVisible("month")})),isMonthSelectDisabled:(0,l.Fl)((function(){return g.checkControllerDisabled("month","selectProps")}))},b={optionList:(0,l.Fl)((function(){return[{value:"month",label:i(a.value.monthRadio)},{value:"year",label:i(a.value.yearRadio)}]})),isVisible:(0,l.Fl)((function(){return g.checkControllerVisible("mode")})),isDisabled:(0,l.Fl)((function(){return g.checkControllerDisabled("mode","radioGroupProps")}))},E={text:(0,l.Fl)((function(){return c.isShowWeekend?i(a.value.hideWeekend):i(a.value.showWeekend)})),vBind:(0,l.Fl)((function(){var e=g.configData.value.weekend;return c.isShowWeekend?e.hideWeekendButtonProps:e.showWeekendButtonProps})),isVisible:(0,l.Fl)((function(){return"full"===e.theme&&g.checkControllerVisible("current")&&g.checkControllerVisible("weekend")})),isDisabled:(0,l.Fl)((function(){var e=c.isShowWeekend?"hideWeekendButtonProps":"showWeekendButtonProps";return g.checkControllerDisabled("weekend",e)}))},_={text:(0,l.Fl)((function(){return"month"===c.curSelectedMode?i(a.value.today):i(a.value.thisMonth)})),vBind:(0,l.Fl)((function(){var e=g.configData.value.current;return"month"===c.curSelectedMode?e.currentDayButtonProps:e.currentMonthButtonProps})),isVisible:(0,l.Fl)((function(){return"full"===e.theme&&g.checkControllerVisible("current")})),isDisabled:(0,l.Fl)((function(){var e="month"===c.curSelectedMode?"currentDayButtonProps":"currentMonthButtonProps";return g.checkControllerDisabled("current",e)}))},w=function(){var e,t,n;return(0,l.Wm)("div",{class:f.control.value},[(0,l.Wm)("div",{class:f.title.value},[r("head",void 0,{params:NG({},g.options.value)})]),(0,l.Wm)("div",{class:f.controlSection.value},[A.isYearSelectVisible.value&&(0,l.Wm)("div",{class:f.controlSectionCell.value},[(0,l.Wm)(sP,(0,l.dG)({modelValue:c.curSelectedYear,"onUpdate:modelValue":function(e){return c.curSelectedYear=e},size:c.controlSize,autoWidth:!0},g.configData.value.year.selectProps,{disabled:A.isYearSelectDisabled.value}),PG(e=A.yearSelectOptionList.value.map((function(e){return(0,l.Wm)(cP,{key:e.value,value:e.value,label:e.label,disabled:e.disabled},{default:function(){return[e.label]}})})))?e:{default:function(){return[e]}})]),A.isMonthSelectVisible.value&&(0,l.Wm)("div",{class:f.controlSectionCell.value},[(0,l.Wm)(sP,(0,l.dG)({autoWidth:!0,modelValue:c.curSelectedMonth,"onUpdate:modelValue":function(e){return c.curSelectedMonth=e},size:c.controlSize},g.configData.value.month.selectProps,{disabled:A.isMonthSelectDisabled.value}),PG(t=A.monthSelectOptionList.value.map((function(e){return(0,l.Wm)(cP,{key:e.value,value:e.value,label:e.label,disabled:e.disabled},{default:function(){return[e.label]}})})))?t:{default:function(){return[t]}})]),b.isVisible.value&&(0,l.Wm)("div",{class:f.controlSectionCell.value,style:"height: auto"},[(0,l.Wm)(kU,(0,l.dG)({modelValue:c.curSelectedMode,"onUpdate:modelValue":function(e){return c.curSelectedMode=e},variant:"default-filled",size:c.controlSize},g.configData.value.mode.radioGroupProps,{disabled:b.isDisabled.value,onChange:g.emitControllerChange}),PG(n=b.optionList.value.map((function(e){return(0,l.Wm)(DU,{key:e.value,value:e.value},{default:function(){return[e.label]}})})))?n:{default:function(){return[n]}})]),E.isVisible.value&&(0,l.Wm)("div",{class:f.controlSectionCell.value},[(0,l.Wm)(wT,(0,l.dG)({class:f.controlTag.value,theme:c.isShowWeekend?"default":"primary",size:c.controlSize},E.vBind.value,{disabled:E.isDisabled.value,onClick:function(){c.isShowWeekend=!c.isShowWeekend,g.emitControllerChange()}}),{default:function(){return[E.text.value]}})]),_.isVisible.value&&(0,l.Wm)("div",{class:f.controlSectionCell.value},[(0,l.Wm)(lp,(0,l.dG)({size:c.controlSize},_.vBind.value,{disabled:_.isDisabled.value,onClick:function(){u()}}),{default:function(){return[_.text.value]}})])])])},S=function(t,n,r){if("function"===typeof e[t]){var o={cell:NG(NG({},r),g.options.value),e:n};e[t](o)}},C=function(e,t){c.curDate=dx(t.date),S("onCellClick",e,t)},I=function(e,t){S("onCellDoubleClick",e,t)},O=function(t,n){e.preventCellContextmenu&&t.preventDefault(),S("onCellRightClick",t,n)},T=(0,l.Fl)((function(){var t=gG(c.curSelectedYear,c.curSelectedMonth,c.realFirstDayOfWeek,c.curDate,e.format);return t})),R=function(){return(0,l.Wm)("table",{class:f.table.value},[(0,l.Wm)("thead",{class:f.tableHead.value},[(0,l.Wm)("tr",{class:f.tableHeadRow.value},[h.value.map((function(t,n){return d(t.num)&&(0,l.Wm)("th",{class:f.tableHeadCell.value},[Array.isArray(e.week)?e.week[n]:r("week",void 0,{defaultNode:(0,l.Wm)("span",null,[t.display]),params:{day:t.num}})])}))])]),(0,l.Wm)("tbody",{class:f.tableBody.value},[T.value.map((function(t,r){return(0,l.Wm)("tr",{class:f.tableBodyRow.value},[t.map((function(t,o){return(c.isShowWeekend||t.day<6)&&(0,l.Wm)(_G,{key:"d-".concat(r,"-").concat(o),item:t,theme:e.theme,t:i,global:a.value,cell:e.cell,fillWithZero:e.fillWithZero,onClick:function(e){return C(e,t)},onDblclick:function(e){return I(e,t)},onRightclick:function(e){return O(e,t)}},NG({},n))}))])}))])])},N=(0,l.Fl)((function(){for(var t=[],n=hG(c.curSelectedYear,c.curDate,e.format),r=Math.ceil(n.length/cG),o=0,i=1;i<=r;i++){for(var a=[],s=1;s<=cG;s++)a.push(n[o]),o+=1;t.push(a)}return t})),P=function(){return(0,l.Wm)("table",{class:f.table.value},[(0,l.Wm)("tbody",{class:f.tableBody.value},[N.value.map((function(t,r){return(0,l.Wm)("tr",{class:f.tableBodyRow.value},[t.map((function(t,o){return(0,l.Wm)(_G,{key:"m-".concat(r,"-").concat(o),item:t,theme:e.theme,t:i,global:a.value,cell:e.cell,fillWithZero:e.fillWithZero,onClick:function(e){return C(e,t)},onDblclick:function(e){return I(e,t)},onRightclick:function(e){return O(e,t)}},NG({},n))}))])}))])])};return function(){return(0,l.Wm)("div",{class:f.body.value},[g.visible.value&&w(),(0,l.Wm)("div",{class:f.panel.value},["month"===c.curSelectedMode?R():P()])])}}}),DG=Hf(kG),xG={actions:{type:[String,Function]},avatar:{type:[String,Function]},bordered:{type:Boolean,default:!0},content:{type:[String,Function]},cover:{type:[String,Function]},default:{type:[String,Function]},description:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},headerBordered:Boolean,hoverShadow:Boolean,loading:{type:[Boolean,Function],default:!1},shadow:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["medium","small"].includes(e)}},status:{type:String,default:""},subtitle:{type:[String,Function]},theme:{type:String,default:"normal",validator:function(e){return!e||["normal","poster1","poster2"].includes(e)}},title:{type:[String,Function]}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function LG(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var jG=(0,l.aZ)({name:"TCard",props:xG,setup:function(e,t){var n=t.slots,r=op(),o=Os("card"),i=Ts(),a=i.SIZE,s=(0,l.Fl)((function(){var t=[o.value];return"small"===e.size&&t.push("".concat(a.value[e.size])),e.bordered&&t.push("".concat(o.value,"--bordered")),e.shadow&&t.push("".concat(o.value,"--shadow")),e.hoverShadow&&t.push("".concat(o.value,"--shadow-hover")),t})),c=(0,l.Fl)((function(){var t=["".concat(o.value,"__header")];return e.headerBordered?t.concat("".concat(o.value,"__title--bordered")):["".concat(o.value,"__header")]})),u=Os("card__header-wrapper"),d=Os("card__avatar"),f=Os("card__title"),p=Os("card__subtitle"),h=Os("card__description"),g=Os("card__actions"),v=Os("card__body"),m=Os("card__cover"),y=Os("card__footer"),A=Os("card__footer-wrapper"),b=(0,l.Fl)((function(){return"poster2"===e.theme})),E=(0,l.Fl)((function(){return e.title||n.title})),_=(0,l.Fl)((function(){return e.header||n.header})),w=(0,l.Fl)((function(){return e.subtitle||n.subtitle})),S=(0,l.Fl)((function(){return e.avatar||n.avatar})),C=(0,l.Fl)((function(){return e.description||n.description})),I=(0,l.Fl)((function(){return e.status||n.status})),O=(0,l.Fl)((function(){return e.actions||n.actions})),T=(0,l.Fl)((function(){return e.footer||n.footer})),R=(0,l.Fl)((function(){return e.cover||n.cover})),N=(0,l.Fl)((function(){return e.loading||n.loading})),P=(0,l.Fl)((function(){return e.content||n.content||e["default"]||n["default"]})),k=(0,l.Fl)((function(){return _.value||E.value||w.value||C.value||S.value||I.value&&b.value||O.value&&!b.value})),D=(0,l.Fl)((function(){return T.value||O.value&&b.value})),x=function(){return _.value?(0,l.Wm)("div",{class:c.value},[r("header")]):(0,l.Wm)("div",{class:c.value},[(0,l.Wm)("div",{class:u.value},[S.value&&(0,l.Wm)("div",{class:d.value},[r("avatar")]),(0,l.Wm)("div",null,[E.value&&(0,l.Wm)("span",{class:f.value},[r("title")]),w.value&&(0,l.Wm)("span",{class:p.value},[r("subtitle")]),C.value&&(0,l.Wm)("p",{class:h.value},[r("description")])])]),O.value&&!b.value&&(0,l.Wm)("div",{class:g.value},[r("actions")]),I.value&&(0,l.Wm)("div",{class:g.value},[r("status")])])},L=function(){var t="string"===typeof e.cover;return(0,l.Wm)("div",{class:m.value},[t?(0,l.Wm)("img",{src:e.cover},null):r("cover")])};return function(){var e=(0,l.Wm)("div",{class:s.value},[k.value?x():null,R.value?L():null,P.value&&(0,l.Wm)("div",{class:v.value},[r("default")||r("content")]),D.value&&(0,l.Wm)("div",{class:y.value},[(0,l.Wm)("div",{class:A.value},[r("footer")]),O.value&&b.value&&(0,l.Wm)("div",{class:g.value},[r("actions")])])]);return N.value?r("loading")||(0,l.Wm)(Qf,null,LG(e)?e:{default:function(){return[e]}}):e}}}),MG=Hf(jG),BG={actions:{type:Array},author:{type:[String,Function]},avatar:{type:[String,Object,Function]},content:{type:[String,Function]},datetime:{type:[String,Function]},quote:{type:[String,Function]},reply:{type:[String,Function]}},FG=(0,l.aZ)({name:"TComment",props:BG,setup:function(){var e=Os("comment"),t=op();return function(){var n=t("reply"),r=t("author"),o=t("datetime"),i=t("quote"),a=t("actions"),s=t("content"),c=t("avatar"),u=(0,l.Fl)((function(){return r||o})),d=n?(0,l.Wm)("div",{class:"".concat(e.value,"__reply")},[n]):null,f=i?(0,l.Wm)("div",{class:"".concat(e.value,"__quote")},[i]):null,p=c?(0,l.Wm)("div",{class:"".concat(e.value,"__avatar")},["string"===typeof c?(0,l.Wm)("img",{src:c,alt:"",class:"".concat(e.value,"__avatar-image")},null):c]):null,h=u.value&&(0,l.Wm)("div",{class:"".concat(e.value,"__author")},[r&&(0,l.Wm)("span",{class:"".concat(e.value,"__name")},[r]),o&&(0,l.Wm)("span",{class:"".concat(e.value,"__time")},[o])]),g=function(){return a&&a.length?(0,l.Wm)("ul",{class:"".concat(e.value,"__actions")},[(Array.isArray(a)?a:[a]).map((function(e,t){return(0,l.Wm)("li",{key:"action-".concat(t)},[e])}))]):null},v=(0,l.Wm)("div",{class:"".concat(e.value,"__content")},[h,(0,l.Wm)("div",{class:"".concat(e.value,"__detail")},[s]),f,g()]);return(0,l.Wm)("div",{class:e.value},[(0,l.Wm)("div",{class:"".concat(e.value,"__inner")},[p,v]),d])}}}),UG=Hf(FG),VG={closeBtn:{type:[Boolean,Function],default:!0},closeOnOverlay:Boolean,draggable:{type:Boolean,default:void 0},imageScale:{type:Object},images:{type:Array,default:function(){return[]}},index:{type:Number,default:void 0},defaultIndex:{type:Number},mode:{type:String,default:"modal",validator:function(e){return!e||["modal","modeless"].includes(e)}},navigationArrow:{type:[Boolean,Function],default:!0},showOverlay:{type:Boolean,default:void 0},title:{type:[String,Function]},trigger:{type:[String,Function]},viewerScale:{type:Object},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onClose:Function,onIndexChange:Function},WG=(0,l.aZ)({name:"TImageModalIcon",props:{disabled:Boolean,onClick:Function,label:String,icon:Function},setup:function(e){var t=Os(),n=op(),r=(0,l.Fl)((function(){return["".concat(t.value,"-image-viewer__modal--icon"),u({},"".concat(t.value,"-is-disabled"),e.disabled)]}));return function(){return(0,l.Wm)("div",{class:r.value,onClick:e.onClick},[n("icon"),e.label&&(0,l.Wm)("span",{class:"".concat(t.value,"-image-viewer__modal--icon-label")},[e.label])])}}});function HG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HG(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GG={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 1h1v14h-1V1zM14.72 12.44a.5.5 0 01-.35.54c-.07.02-.17.02-.38.02h-3.34l-.27-.01a.5.5 0 01-.37-.37l-.01-.27V5c0-.53 0-.8.04-.89a.5.5 0 01.8-.17c.07.07.18.3.4.8l3.34 7.34c.09.19.13.28.14.36zM11 12h2.45L11 6.62V12zM1.63 12.98c.07.02.17.02.38.02h3.34l.27-.01a.5.5 0 00.37-.37l.01-.27V5c0-.53 0-.8-.04-.89a.5.5 0 00-.8-.17c-.07.07-.18.3-.4.8l-3.34 7.34c-.09.19-.13.28-.14.36a.5.5 0 00.35.54zM5 6.62V12H2.55L5 6.62z",fillOpacity:.9}}]},KG=(0,l.aZ)({name:"MirrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-mirror",o.value])),s=(0,l.Fl)((()=>QG(QG({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(GG,c.value)}});function qG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qG(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YG={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h1v6.08A6 6 0 017.92 13H14v1H3a1 1 0 01-1-1V2zm4.9 11A5 5 0 003 9.1V13h3.9z",fillOpacity:.9}}]},JG=(0,l.aZ)({name:"RotationIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-rotation",o.value])),s=(0,l.Fl)((()=>zG(zG({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(YG,c.value)}});function XG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XG(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $G={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9 7H4V6h5v1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.7-3.54-3.52zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},eK=(0,l.aZ)({name:"ZoomOutIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-zoom-out",o.value])),s=(0,l.Fl)((()=>ZG(ZG({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh($G,c.value)}});function tK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tK(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rK={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 7v2h1V7h2V6H7V4H6v2H4v1h2z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.7-3.54-3.52zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},oK=(0,l.aZ)({name:"ZoomInIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-zoom-in",o.value])),s=(0,l.Fl)((()=>nK(nK({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(rK,c.value)}});function iK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iK(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sK={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10 8a2 2 0 100-4 2 2 0 000 4zm0-1a1 1 0 100-2 1 1 0 000 2z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}},{tag:"path",attrs:{fill:"currentColor",d:"M2 13a1 1 0 001 1h10a1 1 0 001-1V3a1 1 0 00-1-1H3a1 1 0 00-1 1v10zm1-1.3l3-3 4.3 4.3H3v-1.3zm0-1.4V3h10v10h-1.3L6 7.3l-3 3z",fillOpacity:.9}}]},cK=(0,l.aZ)({name:"ImageIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-image",o.value])),s=(0,l.Fl)((()=>aK(aK({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(sK,c.value)}});function uK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uK(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dK={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.26 5.81L8.5 9.58V.5h-1v9.08L3.74 5.8l-.71.71 4.62 4.62c.2.2.5.2.7 0l4.62-4.62-.7-.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M2 11v2a1 1 0 001 1h10a1 1 0 001-1v-2h-1v2H3v-2H2z",fillOpacity:.9}}]},fK=(0,l.aZ)({name:"DownloadIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-download",o.value])),s=(0,l.Fl)((()=>lK(lK({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(dK,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function pK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pK(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gK=function(e){var t,n=new Image,r=(null===e||void 0===e||null===(t=e.split)||void 0===t?void 0:t.call(e,"/").pop())||Math.random().toString(32).slice(2);n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height;var t=e.getContext("2d");t.drawImage(n,0,0,n.width,n.height),e.toBlob((function(e){var t=URL.createObjectURL(e),n=document.createElement("a");n.download=r,n.href=t,n.click(),n.remove(),URL.revokeObjectURL(t)}))},n.src=e},vK=function(e){return"string"!==typeof e},mK=function(e){return Array.isArray(e)?e.map((function(e){return vK(e)?hK({download:!0,thumbnail:e.mainImage},e):{mainImage:e,thumbnail:e,download:!0}})):[]},yK=function(e){return void 0!==e.showOverlay?e.showOverlay:"modal"===e.mode},AK=(0,l.aZ)({name:"TImageViewerUtils",props:{scale:Number,onRotate:Function,onZoomIn:Function,onZoomOut:Function,onMirror:Function,onReset:Function,currentImage:{type:Object,default:function(){return{}}}},setup:function(e){var t=Os();return function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__utils")},[(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__utils--content")},[(0,l.Wm)(By,{overlayClassName:"".concat(t.value,"-image-viewer__utils--tip"),content:"镜像",destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[(0,l.Wm)(WG,{onClick:e.onMirror,icon:function(){return(0,l.Wm)(KG,{size:"medium"},null)}},null)]}}),(0,l.Wm)(By,{overlayClassName:"".concat(t.value,"-image-viewer__utils--tip"),content:"旋转",destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[(0,l.Wm)(WG,{onClick:e.onRotate,icon:function(){return(0,l.Wm)(JG,{size:"medium"},null)}},null)]}}),(0,l.Wm)(WG,{icon:function(){return(0,l.Wm)(eK,{size:"medium"},null)},onClick:e.onZoomOut},null),(0,l.Wm)(WG,{class:"".concat(t.value,"-image-viewer__utils--scale"),size:"medium",label:"".concat(100*e.scale,"%")},null),(0,l.Wm)(WG,{icon:function(){return(0,l.Wm)(oK,{size:"medium"},null)},onClick:e.onZoomIn},null),(0,l.Wm)(By,{overlayClassName:"".concat(t.value,"-image-viewer__utils--tip"),content:"原始大小",destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__modal--icon")},[(0,l.Wm)(WG,{icon:function(){return(0,l.Wm)(cK,{size:"medium"},null)},onClick:e.onReset},null)])]}}),e.currentImage.download&&(0,l.Wm)(WG,{icon:function(){return(0,l.Wm)(fK,{size:"medium"},null)},onClick:function(){gK(e.currentImage.mainImage)}},null)])])}}});function bK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bK(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _K={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 13V8h1v2.3l3-3 5.7 5.7H13V3H8V2h5a1 1 0 011 1v10a1 1 0 01-1 1H3a1 1 0 01-1-1zm4-4.3l-3 3V13h7.3L6 8.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M12 6a2 2 0 11-4 0 2 2 0 014 0zm-1 0a1 1 0 10-2 0 1 1 0 002 0zM6.28 5.56l-.7.7-1.42-1.4-1.41 1.4-.71-.7 1.41-1.41-1.41-1.42.7-.7 1.42 1.4 1.41-1.4.71.7-1.41 1.42 1.41 1.4z",fillOpacity:.9}}]},wK=(0,l.aZ)({name:"ImageErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-image-error",o.value])),s=(0,l.Fl)((()=>EK(EK({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(_K,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SK(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IK(e){var t=(0,d.iH)(e),n=function(e){var n=e.pageX,r=e.pageY,o=t.value,i=o.translateX,a=o.translateY,s=function(e){var o=e.pageX,s=e.pageY;t.value={translateX:i+o-n,translateY:a+s-r}},c=function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",c)},r=function(){t.value=CK({},e)};return{transform:t,mouseDownHandler:n,resetTransform:r}}function OK(){var e=(0,d.iH)(1),t=function(){e.value*=-1},n=function(){e.value=1};return{mirror:e,onMirror:t,resetMirror:n}}function TK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{max:2,min:.5,step:.5},t=e.max,n=e.min,r=e.step,o=(0,d.iH)(1),i=function(){c(o.value+r)},a=function(){c(o.value-r)},s=function(){o.value=1},c=function(e){var r=e;e<n&&(r=n),e>t&&(r=t),o.value=r};return{scale:o,onZoomIn:i,onZoomOut:a,resetScale:s}}function RK(){var e=(0,d.iH)(0),t=90,n=function(){e.value+=t},r=function(){e.value=0};return{rotate:e,onRotate:n,resetRotate:r}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var NK=(0,l.aZ)({name:"TImageItem",props:{rotate:Number,scale:Number,mirror:Number,src:String,placementSrc:String},setup:function(e){var t=Os(),n=(0,d.iH)(!1),r=(0,d.iH)(!1),o=IK({translateX:0,translateY:0}),i=o.transform,a=o.mouseDownHandler,s=(0,l.Fl)((function(){return{transform:"rotate(".concat(e.rotate,"deg) scale(").concat(e.scale,")"),display:!e.placementSrc||r.value?"block":"none"}})),c=(0,l.Fl)((function(){return{transform:"rotate(".concat(e.rotate,"deg) scale(").concat(e.scale,")"),display:r.value?"none":"block"}})),u=(0,l.Fl)((function(){var t=i.value,n=t.translateX,r=t.translateY;return{transform:"translate(".concat(n,"px, ").concat(r,"px) scale(").concat(e.mirror,", 1)")}})),f=function(){n.value=!1,r.value=!1};return(0,l.YP)((function(){return e.src}),(function(){f()})),function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__modal--pic")},[(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__modal--box"),style:u.value},[n.value&&(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__img-error")},[(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__img-error--content")},[(0,l.Wm)(wK,{size:"4em"},null),(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__img-error--text")},["图片加载失败，可尝试重新加载"])])]),!n.value&&!!e.placementSrc&&(0,l.Wm)("img",{class:"".concat(t.value,"-image-viewer__modal--image"),onMousedown:function(e){e.stopPropagation(),a(e)},src:e.placementSrc,style:c.value,alt:"image",draggable:"false"},null),!n.value&&(0,l.Wm)("img",{class:"".concat(t.value,"-image-viewer__modal--image"),onMousedown:function(e){e.stopPropagation(),a(e)},src:e.src,onLoad:function(){return r.value=!0},onError:function(){return n.value=!0},style:s.value,alt:"image",draggable:"false"},null)])])}}}),PK={attach:{type:[String,Function],default:""},body:{type:[String,Function],default:""},cancelBtn:{type:[String,Object,Function],default:""},closeBtn:{type:[String,Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function],default:""},confirmOnEnter:Boolean,default:{type:[String,Function]},destroyOnClose:Boolean,draggable:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"modal",validator:function(e){return!e||["modal","modeless","normal"].includes(e)}},placement:{type:String,default:"top",validator:function(e){return!e||["top","center"].includes(e)}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return!e||["default","info","warning","danger","success"].includes(e)}},top:{type:[String,Number]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onCancel:Function,onClose:Function,onCloseBtnClick:Function,onClosed:Function,onConfirm:Function,onEscKeydown:Function,onOpened:Function,onOverlayClick:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function kK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kK(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xK(e){var t=(0,l.FN)(),n=op(),r=function(t){var n=t.globalConfirm,r=t.theme,o=t.globalConfirmBtnTheme,i=(null===o||void 0===o?void 0:o[r])||"primary",a={theme:i,size:t.size,onClick:function(t){e.confirmBtnAction(t)}};return Ls(n)?a.content=n:ee(n)&&(a=DK(DK({},a),n)),a},o=function(t){var n=t.globalCancel,r={theme:"default",size:t.size,onClick:function(t){e.cancelBtnAction(t)}};return Ls(n)?r.content=n:ee(n)&&(r=DK(DK({},r),n)),r},i=function(e,t,n){var r=t;return Ls(e)?r.content=e:ee(e)&&(r=DK(DK({},r),e)),(0,l.Wm)(lp,(0,l.dG)({class:n},r),null)},a=function(e){var o=e.confirmBtn,a=e.className;if(null===o)return null;o&&t.slots.confirmBtn&&console.warn("Both $props.confirmBtn and $scopedSlots.confirmBtn exist, $props.confirmBtn is preferred.");var s=r(e);return o||t.slots.confirmBtn?o&&["string","object"].includes(S(o))?i(o,s,a):n("confirmBtn"):(0,l.Wm)(lp,(0,l.dG)({class:a},s),null)},s=function(e){var r=e.cancelBtn,a=e.className;if(null===r)return null;r&&t.slots.cancelBtn&&console.warn("Both $props.cancelBtn and $scopedSlots.cancelBtn exist, $props.cancelBtn is preferred.");var s=o(e);return r||t.slots.cancelBtn?r&&["string","object"].includes(S(r))?i(r,s):n("cancelBtn"):(0,l.Wm)(lp,(0,l.dG)({class:a},s),null)};return{getConfirmBtn:a,getCancelBtn:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var LK,jK=[],MK=function(e){jK.push(e)},BK=function(){jK.pop()},FK={push:MK,pop:BK,get top(){return jK[jK.length-1]}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function UK(e){return Number.isNaN(Number(e))?e:"".concat(Number(e),"px")}var VK=function(e){LK={x:e.clientX,y:e.clientY},setTimeout((function(){LK=null}),100)};function WK(e){var t=e,n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;t.addEventListener("mousedown",(function(e){var o=e.clientX-t.offsetLeft,i=e.clientY-t.offsetTop,a=t.offsetWidth,s=t.offsetHeight;function c(e){var a=e.clientX-o,s=e.clientY-i;a<0&&(a=0),s<0&&(s=0),n-t.offsetWidth-a<0&&(a=n-t.offsetWidth),r-t.offsetHeight-s<0&&(s=r-t.offsetHeight),t.style.position="absolute",t.style.left="".concat(a,"px"),t.style.top="".concat(s,"px")}function u(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)}a>n||s>r||(document.addEventListener("mousemove",c),document.addEventListener("mouseup",u),document.addEventListener("dragend",u))}))}"undefined"!==typeof window&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",VK,!0);var HK=(0,l.aZ)({name:"TDialog",directives:{TransferDom:Nf,draggable:function(e,t){e&&t&&t.value&&WK(e)}},props:PK,emits:["update:visible"],setup:function(e,t){var n=this,r=Os("dialog"),o=Os("dialog--lock"),i=Os(),a=ap(),s=op(),c=(0,d.iH)(null),u=(0,d.iH)(null),f=Is("dialog"),p=f.globalConfig,h=Tg({CloseIcon:Ig,InfoCircleFilledIcon:lg,CheckCircleFilledIcon:hg,ErrorCircleFilledIcon:yg}),g=h.CloseIcon,v=h.InfoCircleFilledIcon,m=h.CheckCircleFilledIcon,y=h.ErrorCircleFilledIcon,A=function(t){var n;null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t})},b=function(t){var n;null===(n=e.onCancel)||void 0===n||n.call(e,{e:t}),H({e:t,trigger:"cancel"})},E=xK({confirmBtnAction:A,cancelBtnAction:b}),_=E.getConfirmBtn,w=E.getCancelBtn;tb();var S=(0,d.iH)(0),C=(0,l.Fl)((function(){return"modal"===e.mode})),I=(0,l.Fl)((function(){return"modeless"===e.mode})),O=(0,l.Fl)((function(){return"normal"===e.mode})),T=(0,l.Fl)((function(){return["".concat(r.value,"__mask"),!e.showOverlay&&"".concat(i.value,"-is-hidden")]})),R=(0,l.Fl)((function(){return O.value?[]:["".concat(r.value,"__position"),!!e.top&&"".concat(r.value,"--top"),"".concat(e.placement&&!e.top?"".concat(r.value,"--").concat(e.placement):"")]})),N=(0,l.Fl)((function(){return[!O.value&&"".concat(r.value,"__wrap")]})),P=(0,l.Fl)((function(){var t=e.top,n={};if(void 0!==t){var r=UK(t);n={paddingTop:r}}return n})),k=(0,l.Fl)((function(){var t=["".concat(r.value),"".concat(r.value,"--default"),"".concat(r.value,"--").concat(e.placement),"".concat(r.value,"__modal-").concat(e.theme),I.value&&e.draggable&&"".concat(r.value,"--draggable")];return t})),D=(0,l.Fl)((function(){return{width:UK(e.width)}}));(0,l.YP)((function(){return e.visible}),(function(t){if(t){if(C.value&&!e.showInAttachedElement){if(S.value>0&&e.preventScrollThrough){var n="position: relative;width: calc(100% - ".concat(S.value,"px);");document.body.style.cssText=n}!I.value&&e.preventScrollThrough&&rc(document.body,o.value),(0,l.Y3)((function(){LK&&c.value&&(c.value.style.transformOrigin="".concat(LK.x-c.value.offsetLeft,"px ").concat(LK.y-c.value.offsetTop,"px")),document.activeElement.blur()}))}}else document.body.style.cssText="",oc(document.body,o.value);L(t),j(t)}));var x=(0,l.FN)(),L=function(e){e?FK.push(x.uid):FK.pop()},j=function(t){t?(document.addEventListener("keydown",B),e.confirmOnEnter&&document.addEventListener("keydown",M)):(document.removeEventListener("keydown",B),e.confirmOnEnter&&document.removeEventListener("keydown",M))},M=function(t){var n,r=t.code;"Enter"!==r&&"NumpadEnter"!==r||FK.top!==x.uid||(null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t}))},B=function(t){var n,r;"Escape"===t.code&&FK.top===x.uid&&(null===(n=e.onEscKeydown)||void 0===n||n.call(e,{e:t}),(null!==(r=e.closeOnEscKeydown)&&void 0!==r?r:p.value.closeOnEscKeydown)&&H({e:t,trigger:"esc"}))},F=function(t){var n,r;e.showOverlay&&(null!==(n=e.closeOnOverlayClick)&&void 0!==n?n:p.value.closeOnOverlayClick)&&(t.target===u.value&&(null===(r=e.onOverlayClick)||void 0===r||r.call(e,{e:t}),H({e:t,trigger:"overlay"})))},U=function(t){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t}),H({trigger:"close-btn",e:t})},V=function(){var t;null===(t=e.onOpened)||void 0===t||t.call(e)},W=function(){var t;I.value&&e.draggable&&(c.value.style.position="relative",c.value.style.left="unset",c.value.style.top="unset"),null===(t=e.onClosed)||void 0===t||t.call(e)},H=function(n){var r;null===(r=e.onClose)||void 0===r||r.call(e,n),t.emit("update:visible",!1)},Q=function(e){var t,r=null===(t=n["_events"])||void 0===t?void 0:t[e];return!(null===r||void 0===r||!r.length)},G=function(){var t={info:(0,l.Wm)(v,{class:"".concat(i.value,"-is-info")},null),warning:(0,l.Wm)(y,{class:"".concat(i.value,"-is-warning")},null),danger:(0,l.Wm)(y,{class:"".concat(i.value,"-is-error")},null),success:(0,l.Wm)(m,{class:"".concat(i.value,"-is-success")},null)};return t[e.theme]},K=function(){var t=(0,l.Wm)("h5",{class:"title"},null),n=(0,l.Wm)(g,null,null),o=a("default","body"),i=(0,l.Wm)("div",null,[w({cancelBtn:e.cancelBtn,globalCancel:p.value.cancel,className:"".concat(r.value,"__cancel")}),_({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:p.value.confirm,globalConfirmBtnTheme:p.value.confirmBtnTheme,className:"".concat(r.value,"__confirm")})]),d="default"===e.theme?"".concat(r.value,"__body"):"".concat(r.value,"__body__icon"),f=s("footer",i),h=function(t){I.value&&e.draggable&&t.stopPropagation()};return(0,l.Wm)("div",{class:N.value},[(0,l.Wm)("div",{class:R.value,style:P.value,onClick:F,ref:u},[(0,l.wy)((0,l.Wm)("div",{key:"dialog",class:k.value,style:D.value,ref:c},[(0,l.Wm)("div",{class:"".concat(r.value,"__header"),onmousedown:h},[G(),s("header",t)]),e.closeBtn?(0,l.Wm)("span",{class:"".concat(r.value,"__close"),onClick:U},[s("closeBtn",n)]):null,(0,l.Wm)("div",{class:d,onmousedown:h},[o]),f&&(0,l.Wm)("div",{class:"".concat(r.value,"__footer"),onmousedown:h},[f])]),[[(0,l.Q2)("draggable"),I.value&&e.draggable]])])])};return(0,l.bv)((function(){S.value=window.innerWidth-document.body.offsetWidth})),(0,l.Jd)((function(){j(!1)})),{COMPONENT_NAME:r,scrollWidth:S,isModal:C,isModeLess:I,maskClass:T,dialogClass:k,dialogStyle:D,dialogEle:c,afterEnter:V,afterLeave:W,hasEventOn:Q,renderDialog:K}},render:function(){var e,t=this,n=this.COMPONENT_NAME,r=this.isModal&&(0,l.Wm)("div",{key:"mask",class:this.maskClass},null),o=this.renderDialog(),i=[r,o],a={zIndex:this.zIndex},s=["".concat(n,"__ctx"),(e={},u(e,"".concat(n,"__ctx--fixed"),"modal"===this.mode),u(e,"".concat(n,"__ctx--absolute"),this.isModal&&this.showInAttachedElement),u(e,"".concat(n,"__ctx--modeless"),this.isModeLess),e)];return(0,l.Wm)(f.uT,{duration:300,name:"".concat(n,"-zoom__vue"),onAfterEnter:this.afterEnter,onAfterLeave:this.afterLeave},{default:function(){return[(!t.destroyOnClose||t.visible)&&(0,l.wy)((0,l.Wm)("div",{class:s,style:a},[i]),[[f.F8,t.visible],[(0,l.Q2)("transfer-dom"),t.attach]])]}})}}),QK=Hf(HK),GK=(0,l.aZ)({name:"TImageViewerModal",props:{zIndex:Number,visible:Boolean,index:Number,images:VG.images,scale:Number,rotate:Number,mirror:Number,currentImage:{type:Object,default:function(){return{}}},onRotate:Function,onZoomIn:Function,onZoomOut:Function,onMirror:Function,onReset:Function,onClose:VG.onClose,draggable:{type:Boolean,default:!0},viewerScale:{type:Object,default:function(){return{}}},showOverlay:Boolean,closeBtn:VG.closeBtn},setup:function(e){var t=Os(),n=op(),r=(0,l.Fl)((function(){return{minWidth:e.viewerScale.minWidth,minHeight:e.viewerScale.minHeight}}));return function(){return(0,l.Wm)(QK,{destroyOnClose:!0,attach:"body",onClose:e.onClose,visible:e.visible,placement:"center",mode:"modeless",width:1e3,cancelBtn:null,confirmBtn:null,closeBtn:!1,draggable:e.draggable,zIndex:e.zIndex,showOverlay:e.showOverlay,class:"".concat(t.value,"-image-viewer__dialog"),header:function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer__mini--header")},["".concat(e.index+1,"/").concat(e.images.length),(0,l.Wm)("span",{class:"".concat(t.value,"-image-viewer__mini--close"),onClick:function(t){e.onClose({e:t,trigger:"close-btn"})}},[n("closeBtn",(0,l.Wm)(Ig,{size:"1.5rem"},null))])])},footer:function(){return(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer-mini__footer")},[(0,l.Wm)(AK,{onZoomIn:e.onZoomIn,onZoomOut:e.onZoomOut,scale:e.scale,currentImage:e.currentImage,onRotate:e.onRotate,onMirror:e.onMirror,onReset:e.onReset},null)])}},{default:function(){return[(0,l.Wm)("div",{class:"".concat(t.value,"-image-viewer-mini__content"),style:r.value},[(0,l.Wm)(NK,{rotate:e.rotate,scale:e.scale,mirror:e.mirror,src:e.currentImage.mainImage,placementSrc:e.currentImage.thumbnail},null)])]}})}}}),KK=function(e){return e["left"]="ArrowLeft",e["up"]="ArrowUp",e["right"]="ArrowRight",e["down"]="ArrowDown",e["esc"]="Escape",e}(KK||{});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function qK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qK(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YK=(0,l.aZ)({name:"TImageViewer",props:zK({},VG),setup:function(e){var t,n=Os(),r=Os("image-viewer"),o=op(),i=(0,d.iH)(!1),a=(0,l.Fl)((function(){return yK(e)})),s=(0,d.BK)(e),c=s.index,f=s.visible,p=s.modelValue,h=zA(c,null!==(t=e.defaultIndex)&&void 0!==t?t:0,e.onIndexChange,"index"),g=v(h,2),m=g[0],y=g[1],A=Sy(f,p,e.defaultVisible,(function(){}),"visible"),b=v(A,2),E=b[0],_=b[1],w=(0,l.Fl)((function(){return["".concat(r.value,"-preview-image"),u({},"".concat(n.value,"-is-hide"),!E.value)]})),S=(0,l.Fl)((function(){return["".concat(n.value,"-image-viewer__modal-header"),u({},"".concat(n.value,"-is-show"),i.value)]})),C=(0,l.Fl)((function(){var t;return null!==(t=e.zIndex)&&void 0!==t?t:2e3})),I=function(){i.value=!i.value},O=OK(),T=O.mirror,R=O.onMirror,N=O.resetMirror,P=TK(e.imageScale),k=P.scale,D=P.onZoomIn,x=P.onZoomOut,L=P.resetScale,j=RK(),M=j.rotate,B=j.onRotate,F=j.resetRotate,U=function(){N(),L(),F()},V=(0,l.Fl)((function(){return mK(e.images)})),W=(0,l.Fl)((function(){var e;return null!==(e=V.value[m.value])&&void 0!==e?e:{mainImage:""}})),H=function(){var e=m.value-1;y(e<0?0:e,{trigger:"prev"})},Q=function(){var e=m.value+1;y(e>=V.value.length?m.value:e,{trigger:"next"})},G=function(e){y(e)},K=function(){_(!0)},q=function(t){var n;_(!1,t),null===(n=e.onClose)||void 0===n||n.call(e,t)},z=function(e){q({e:e,trigger:"close-btn"})},Y=function(t){e.closeOnOverlay&&q({e:t,trigger:"overlay"})},J=function(e){switch(e.code){case KK.left:H();break;case KK.right:Q();break;case KK.up:D();break;case KK.down:x();break;case KK.esc:q({e:e,trigger:"esc"});break;default:break}};(0,l.YP)((function(){return E.value}),(function(e){e?window.addEventListener("keydown",J):window.removeEventListener("keydown",J)}));var X=function(e){e.preventDefault();var t=e.deltaY,n=e.ctrlKey;if(n)return t>0?x():D();t>0?D():x()},Z=(0,l.Fl)((function(){return{transform:"translateX(-".concat(84*m.value,"px)")}})),$=function(){return(0,l.Wm)("div",{class:S.value},[(0,l.Wm)(WG,{icon:function(){return(0,l.Wm)(kA,{size:"20px"},null)},class:"".concat(r.value,"__header--pre__bt"),onClick:I},null),(0,l.Wm)("div",{class:"".concat(r.value,"__header--prev")},[(0,l.Wm)("div",{class:"".concat(r.value,"__bokeh--left")},null),(0,l.Wm)("div",{class:"".concat(r.value,"__bokeh--right")},null),(0,l.Wm)("div",{class:"".concat(r.value,"__header--trans"),style:Z.value},[V.value.map((function(e,t){return(0,l.Wm)("div",{key:t,class:["".concat(r.value,"__header--box"),u({},"".concat(n.value,"-is-active"),t===m.value)]},[(0,l.Wm)("img",{alt:"",src:e.thumbnail||e.mainImage,className:"".concat(r.value,"__header--img"),onClick:function(){return G(t)}},null)])}))])])])},ee=function(e){var t="prev"===e?0:180,n=o("navigationArrow",(0,l.Wm)(bA,{style:{transform:"rotate(".concat(t,"deg)")},size:"24px"},null));return(0,l.Wm)(WG,{class:"".concat(r.value,"__modal--").concat(e,"-bt"),onClick:"prev"===e?H:Q,icon:function(){return n}},null)};return function(){return"modeless"===e.mode?(0,l.Wm)(l.HY,null,[o("trigger",{params:{open:K}}),(0,l.Wm)(GK,{zIndex:C.value,visible:E.value,index:m.value,images:V.value,scale:k.value,rotate:M.value,mirror:T.value,currentImage:W.value,onRotate:B,onZoomIn:D,onZoomOut:x,onMirror:R,onReset:U,onClose:q,draggable:e.draggable,showOverlay:a.value,closeBtn:e.closeBtn},null)]):(0,l.Wm)(l.HY,null,[o("trigger",{params:{open:K}}),(0,l.Wm)(l.lR,{to:"body"},{default:function(){return[E.value&&(0,l.Wm)("div",{class:w.value,style:{zIndex:C.value},onWheel:X},[!!a.value&&(0,l.Wm)("div",{class:"".concat(r.value,"__modal--mask"),onClick:Y},null),V.value.length>1&&(0,l.Wm)(l.HY,null,[$(),(0,l.Wm)("div",{class:"".concat(r.value,"__modal--index")},[e.title&&o("title"),"".concat(m.value+1,"/").concat(V.value.length)]),ee("prev"),ee("next")]),(0,l.Wm)("div",{class:["".concat(r.value,"__modal--icon"),"".concat(r.value,"__modal--close-bt")],onClick:z},[o("closeBtn",(0,l.Wm)(Ig,{size:"24px"},null))]),(0,l.Wm)(AK,{onZoomIn:D,onZoomOut:x,onMirror:R,onReset:U,onRotate:B,scale:k.value,currentImage:W.value},null),(0,l.Wm)(NK,{scale:k.value,rotate:M.value,mirror:T.value,src:W.value.mainImage,placementSrc:W.value.thumbnail},null)])]}})])}}}),JK=Hf(YK),XK={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return["horizontal","vertical"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function},ZK="load-more",$K="loading";
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nq=(0,l.aZ)({name:"TList",props:tq({},XK),setup:function(e){var t=Is("list"),n=t.globalConfig,r=Os("list"),o=Ts(),i=o.SIZE,a=op(),s=(0,l.Fl)((function(){var t;return["".concat(r.value),i.value[e.size],(t={},u(t,"".concat(r.value,"--split"),e.split),u(t,"".concat(r.value,"--stripe"),e.stripe),u(t,"".concat(r.value,"--vertical-action"),"vertical"===e.layout),t)]})),c=function(){var e=a("header"),t=a("footer");return[e&&(0,l.Wm)("div",{class:"".concat(r.value,"__header")},[e]),(0,l.Wm)("ul",{class:"".concat(r.value,"__inner")},[a("default")]),t&&(0,l.Wm)("div",{class:"".concat(r.value,"__footer")},[t])]},d=function(t){var n,r=t.target,o=r.scrollTop,i=r.scrollHeight,a=r.clientHeight;null===(n=e.onScroll)||void 0===n||n.call(e,{e:t,scrollTop:o,scrollBottom:i-a-o})},f=(0,l.Fl)((function(){return"string"===typeof e.asyncLoading&&["loading","load-more"].includes(e.asyncLoading)?"".concat(r.value,"__load ").concat(r.value,"__load--").concat(e.asyncLoading):"".concat(r.value,"__load")})),p=function(){if(e.asyncLoading&&"string"===typeof e.asyncLoading){if(e.asyncLoading===$K)return(0,l.Wm)("div",null,[(0,l.Wm)(Qf,null,null),(0,l.Wm)("span",null,[n.value.loadingText])]);if(e.asyncLoading===ZK)return(0,l.Wm)("span",null,[n.value.loadingMoreText])}return a("asyncLoading")},h=function(t){var n;"string"===typeof e.asyncLoading&&e.asyncLoading!==ZK||null===(n=e.onLoadMore)||void 0===n||n.call(e,{e:t})};return{COMPONENT_NAME:r,listClass:s,loadingClass:f,renderLoading:p,renderContent:c,handleScroll:d,handleLoadMore:h}},render:function(){var e=this.renderContent();return e=[e,(0,l.Wm)("div",{class:this.loadingClass,onClick:this.handleLoadMore},[this.renderLoading()])],(0,l.Wm)("div",{class:this.listClass,onScroll:this.handleScroll},[e])}}),rq=(0,l.aZ)({name:"TListItem",props:XK,setup:function(){var e=Os("list-item"),t=op();return function(){var n=t("content"),r=t("default"),o=t("action");return(0,l.Wm)("li",{class:e.value},[(0,l.Wm)("div",{class:"".concat(e.value,"-main")},[r||n,o&&(0,l.Wm)("li",{class:"".concat(e.value,"__action")},[o])])])}}}),oq={avatar:{type:[String,Function]},description:{type:[String,Function]},image:{type:[String,Function]},title:{type:[String,Function]}},iq=(0,l.aZ)({name:"TListItemMeta",props:oq,setup:function(e,t){var n=Os("list-item__meta"),r=ap(),o=op(),i=function(){(e.avatar||t.slots.avatar)&&console.warn("`avatar` is going to be deprecated, please use `image` instead");var o=r("avatar","image");if(o)return"string"===typeof o?(0,l.Wm)("div",{class:"".concat(n.value,"-avatar")},[(0,l.Wm)("img",{src:o},null)]):(0,l.Wm)("div",{class:"".concat(n.value,"-avatar")},[o])};return function(){var e=o("title"),t=o("description"),r=[i(),(0,l.Wm)("div",{class:"".concat(n.value,"-content")},[e&&(0,l.Wm)("h3",{class:"".concat(n.value,"-title")},[e]),t&&(0,l.Wm)("p",{class:"".concat(n.value,"-description")},[t])])];return(0,l.Wm)("div",{class:n.value},[r])}}}),aq=Hf(nq),sq=Hf(rq),cq=Hf(iq);function uq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uq(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dq={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 2h-1v9h1V2zm.1 10.8H7.4V14h1.2v-1.2z",fillOpacity:.9}}]},fq=(0,l.aZ)({name:"ErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-error",o.value])),s=(0,l.Fl)((()=>lq(lq({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(dq,c.value)}}),pq={LINE:"line",PLUMP:"plump",CIRCLE:"circle"},hq={SMALL:"small",MEDIUM:"medium",LARGE:"large"},gq={SMALL:72,MEDIUM:112,LARGE:160},vq={SMALL:14/gq.SMALL,MEDIUM:20/gq.MEDIUM,LARGE:36/gq.LARGE},mq=["success","error","warning"],yq={color:{type:[String,Object,Array],default:""},label:{type:[String,Boolean,Function],default:!0},percentage:{type:Number,default:0},size:{type:[String,Number],default:"medium"},status:{type:String,validator:function(e){return["success","error","warning","active"].includes(e)}},strokeWidth:{type:[String,Number]},theme:{type:String,default:"line",validator:function(e){return["line","plump","circle"].includes(e)}},trackColor:{type:String,default:""}},Aq=(0,l.aZ)({name:"TProgress",props:yq,setup:function(e){var t=op(),n=Os("progress"),r=Tg({CloseCircleFilledIcon:p_,CheckCircleFilledIcon:hg,ErrorCircleFilledIcon:yg,CloseIcon:Ig,CheckIcon:kP,ErrorIcon:fq}),o=r.CloseCircleFilledIcon,i=r.CheckCircleFilledIcon,a=r.ErrorCircleFilledIcon,s=r.CloseIcon,c=r.CheckIcon,d=r.ErrorIcon,f=(0,l.Fl)((function(){return e.percentage>=100?"success":e.status||"default"})),p=(0,l.Fl)((function(){var t={};if(e.strokeWidth){var n="string"===typeof e.strokeWidth?e.strokeWidth:"".concat(e.strokeWidth,"px");t.height=n,t.borderRadius=n}return e.trackColor&&(t.backgroundColor=e.trackColor),t})),h=(0,l.Fl)((function(){return{width:"".concat(e.percentage,"%"),background:e.color&&iA(e.color)}})),g=(0,l.Fl)((function(){var t="object"===S(e.color)?"":e.color;return{stroke:t}})),v=(0,l.Fl)((function(){var t=gq.MEDIUM;if(!e.size)return t;var n=hq.SMALL,r=hq.LARGE,o=hq.MEDIUM;switch(e.size){case n:t=gq.SMALL;break;case o:t=gq.MEDIUM;break;case r:t=gq.LARGE;break;default:t=Number(e.size);break}return t})),m=(0,l.Fl)((function(){return v.value/2})),y=(0,l.Fl)((function(){return m.value-b.value/2})),A=(0,l.Fl)((function(){if(e.theme!==pq.CIRCLE)return{};var t=v.value*vq.MEDIUM;return v.value<=gq.SMALL?t=v.value*vq.SMALL:v.value>=gq.LARGE&&(t=v.value*vq.LARGE),{width:"".concat(v.value,"px"),height:"".concat(v.value,"px"),fontSize:"".concat(t,"px")}})),b=(0,l.Fl)((function(){var t=e.size===hq.SMALL?4:6;return e.strokeWidth?Number(e.strokeWidth):t})),E=(0,l.Fl)((function(){var t=(v.value-b.value)/2,n=2*Math.PI*t,r=e.percentage/100;return"".concat(n*r,"  ").concat(n*(1-r))})),_=function(){var t={success:c,warning:d,error:s},n={success:i,warning:a,error:o};return e.theme===pq.CIRCLE?t:n},w=function(){var t="".concat(e.percentage,"%"),r=e.status||"";if(mq.includes(r)&&e.theme!==pq.PLUMP){var o=_(),i=o[r];i&&(t=(0,l.Wm)(i,{class:["".concat(n.value,"__icon")]},null))}return t};return function(){var r=(0,l.Wm)("div",{class:"".concat(n.value,"__info")},[t("label",w())]),o=10,i=e.percentage>o?"".concat(n.value,"--over-ten"):"".concat(n.value,"--under-ten");return(0,l.Wm)("div",{class:n.value},[e.theme===pq.LINE&&(0,l.Wm)("div",{class:"".concat(n.value,"--thin ").concat(n.value,"--status--").concat(f.value)},[(0,l.Wm)("div",{class:"".concat(n.value,"__bar"),style:p.value},[(0,l.Wm)("div",{class:"".concat(n.value,"__inner"),style:h.value},null)]),r]),e.theme===pq.PLUMP&&(0,l.Wm)("div",{class:["".concat(n.value,"__bar ").concat(n.value,"--plump ").concat(i),u({},"".concat(n.value,"--status--").concat(f.value),f.value)],style:p.value},[(0,l.Wm)("div",{class:"".concat(n.value,"__inner"),style:h.value},[e.percentage>o&&r]),e.percentage<=o&&r]),e.theme===pq.CIRCLE&&(0,l.Wm)("div",{class:"".concat(n.value,"--circle ").concat(n.value,"--status--").concat(f.value),style:A.value},[r,(0,l.Wm)("svg",{width:v.value,height:v.value,viewBox:"0 0 ".concat(v.value," ").concat(v.value)},[(0,l.Wm)("circle",{cx:m.value,cy:m.value,r:y.value,"stroke-width":b.value,stroke:e.trackColor,fill:"none",class:["".concat(n.value,"__circle-outer")]},null),e.percentage>0&&(0,l.Wm)("circle",{cx:m.value,cy:m.value,r:y.value,"stroke-width":b.value,fill:"none","stroke-linecap":"round",class:["".concat(n.value,"__circle-inner")],transform:"matrix(0,-1,1,0,0,".concat(v.value,")"),"stroke-dasharray":E.value,style:g.value},null)])])])}}}),bq=Hf(Aq),Eq={animation:{type:String,default:"none",validator:function(e){return!e||["gradient","flashed","none"].includes(e)}},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array},theme:{type:String,validator:function(e){return!e||["text","avatar","paragraph","avatar-text","tab","article"].includes(e)}}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function _q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_q(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sq={text:[1],avatar:[{type:"circle",size:"56px"}],paragraph:[1,1,{width:"70%"}],"avatar-text":[[{type:"circle"},{type:"text",height:"32px"}]],tab:[{height:"30px"},{height:"200px"}],article:[{type:"rect",height:"30px",width:"100%"},{type:"rect",height:"200px",width:"100%"},[{type:"text",height:"30px"},{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}]]},Cq=function(e){var t=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor"],n=Object.create(null);return t.forEach((function(t){if(t in e){var r=PE(e[t])?"".concat(e[t],"px"):e[t];if("size"===t){var o=[r,r];n.width=o[0],n.height=o[1]}else n[t]=r}})),n},Iq=(0,l.aZ)({name:"TSkeleton",props:wq({},Eq),setup:function(e,t){var n=t.slots,r=(0,d.iH)(!1),o=Os("skeleton"),i=ap(),a=function(t){return["".concat(o.value,"__col"),"".concat(o.value,"--type-").concat(t.type||"text"),u({},"".concat(o.value,"--animation-").concat(e.animation),e.animation)]},s=function(e){var t=[];return t=Array.isArray(e)?e:PE(e)?new Array(e).fill({type:"text"}):[e],t.map((function(e){return(0,l.Wm)("div",{class:a(e),style:Cq(e)},[ce(e.content)?e.content(l.h):e.content])}))},c=function(t){var n=t||e.rowCol,r=function(){return["".concat(o.value,"__row")]};return n.map((function(e){return(0,l.Wm)("div",{class:r()},[s(e)])}))};return(0,l.YP)((function(){return e.loading}),(function(t){t&&0!==e.delay?setTimeout((function(){r.value=t}),e.delay):r.value=t}),{immediate:!0}),function(){var t=i("default","content");if(n["default"]&&!r.value)return(0,l.Wm)("div",null,[t]);if(r.value){var a=[];return e.theme&&a.push(c(Sq[e.theme])),e.rowCol&&a.push(c(e.rowCol)),e.theme||e.rowCol||a.push(c([1,1,1,{width:"70%"}])),(0,l.Wm)("div",{class:o.value},[a])}}}}),Oq=Hf(Iq),Tq={animation:{type:String,default:"slide",validator:function(e){return!e||["slide","fade"].includes(e)}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(e){return!e||["horizontal","vertical"].includes(e)}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},stopOnHover:{type:Boolean,default:!0},theme:{type:String,default:"light",validator:function(e){return!e||["light","dark"].includes(e)}},trigger:{type:String,default:"hover",validator:function(e){return!e||["hover","click"].includes(e)}},type:{type:String,default:"default",validator:function(e){return!e||["default","card"].includes(e)}},onChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pq={index:{type:Number},currentIndex:{type:Number},isSwitching:{type:Boolean,default:!1},getWrapAttribute:{type:Function},swiperItemLength:{type:Number,default:0}},kq=210/332,Dq=.415,xq=(0,l.aZ)({name:"TSwiperItem",props:Nq(Nq({},Tq),Pq),setup:function(e,t){var n=t.slots,r=Os(),o=(0,l.Fl)((function(){return e.index===e.currentIndex})),i=(0,l.Fl)((function(){return"card"!==e.type?0:0===e.currentIndex&&e.index===e.swiperItemLength-1?-1:e.currentIndex===e.swiperItemLength-1&&0===e.index?e.swiperItemLength:e.index<e.currentIndex-1&&e.currentIndex-e.index>=e.swiperItemLength/2?e.swiperItemLength+1:e.index>e.currentIndex+1&&e.index-e.currentIndex>=e.swiperItemLength/2?-2:e.index})),a=(0,l.Fl)((function(){if("card"!==e.type)return 0;var t=e.getWrapAttribute("offsetWidth")||0,n=!o.value&&e.swiperItemLength>2?i.value:e.index,r=Math.abs(n-e.currentIndex)<=1;return r?t*((n-e.currentIndex)*(1-Dq*kq)-Dq+1)/2:n<e.currentIndex?-Dq*(1+kq)*t/2:(2+Dq*(kq-1))*t/2})),s=(0,l.Fl)((function(){if("card"!==e.type)return 0;var t=!o.value&&e.swiperItemLength>2?i.value:e.index,n=t===e.currentIndex,r=Math.round(Math.abs(t-e.currentIndex))<=1;return n?2:r?1:0})),c=(0,l.Fl)((function(){if("fade"===e.animation)return{opacity:o.value?1:0,transition:e.isSwitching?"opacity ".concat(e.duration/1e3,"s"):""};if("card"===e.type){var t=!o.value&&e.swiperItemLength>2?i.value:e.index,n=t===e.currentIndex;return{transform:"translateX(".concat(a.value,"px) scale(").concat(n?1:kq,")"),transition:"transform ".concat(e.duration/1e3,"s ease"),zIndex:s.value}}return{}}));return function(){var t,i;return(0,l.Wm)("div",{class:["".concat(r.value,"-swiper__container__item"),(t={},u(t,"".concat(r.value,"-swiper__card"),"card"===e.type),u(t,"".concat(r.value,"-is-active"),"card"===e.type&&o.value),u(t,"".concat(r.value,"-swiper__fade"),"fade"===e.animation),t)],style:c.value},[(null===(i=n["default"])||void 0===i?void 0:i.call(n,{}))||[]])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lq(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mq(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Bq={placement:"inside",showSlideBtn:"always",size:"medium",type:"bars"},Fq=(0,l.aZ)({name:"TSwiper",props:jq({},Tq),setup:function(e){var t=Os(),n=Tg({ChevronLeftIcon:bA,ChevronRightIcon:av}),r=n.ChevronLeftIcon,o=n.ChevronRightIcon,i=0,a=0,s=!1,c=!1,f=(0,d.iH)(e.current||e.defaultCurrent),p=(0,d.iH)(!1),h=(0,d.iH)(!1),g=(0,d.iH)(!1),v=(0,d.iH)(),m=bh(),y=(0,d.iH)(0),A=(0,l.Fl)((function(){return jq(jq({},Bq),(0,l.lA)(e.navigation)?{}:e.navigation)})),b=(0,l.Fl)((function(){return"card"===e.type?!e.loop&&f.value+1>=y.value:!e.loop&&f.value+2>=y.value})),E=(0,l.Fl)((function(){return[e.autoplay,f.value,e.duration,e.interval]})),_=(0,l.Fl)((function(){var n;return n={},u(n,"".concat(t.value,"-swiper__wrap"),!0),u(n,"".concat(t.value,"-swiper--inside"),"inside"===A.value.placement),u(n,"".concat(t.value,"-swiper--outside"),"outside"===A.value.placement),u(n,"".concat(t.value,"-swiper--vertical"),"vertical"===e.direction),u(n,"".concat(t.value,"-swiper--large"),"large"===A.value.size),u(n,"".concat(t.value,"-swiper--small"),"small"===A.value.size),n})),w=(0,l.Fl)((function(){var t=e.height?"".concat(e.height,"px"):"".concat(x("offsetHeight"),"px");if("card"===e.type||"fade"===e.animation)return{height:t};if("slide"===e.animation){var n={transition:h.value?"transform ".concat(e.duration/1e3,"s ease"):""},r=f.value;return y.value>1&&(r+=1,(s||c)&&(n.transition="")),"vertical"===e.direction?(n.height=t,n.transform="translate3d(0, -".concat(100*r,"%, 0px)")):n.transform="translate3d(-".concat(100*r,"%, 0px, 0px)"),["msTransform","WebkitTransform"].forEach((function(e){n[e]=n.transform})),n}return{}})),S=function(){var t=m("SwiperItem");y.value=t.length;var n=t.map((function(t,n){var r,o=jq(jq({},e),t.props);return(0,l.Wm)(xq,(0,l.dG)({index:n,currentIndex:f.value,isSwitching:h.value,getWrapAttribute:x,swiperItemLength:y.value},o),Mq(r=t.children["default"]())?r:{default:function(){return[r]}})}));if("slide"===e.animation&&n.length>1){var r=(0,l.Ho)(n[0],{key:"swiper-item-append-".concat(0)}),o=(0,l.Ho)(n[n.length-1],{key:"swiper-item-prepend-".concat(n.length-1)});n.unshift(o),n.push(r)}return n},C=function(t,n){var r,o=t%y.value;null===(r=e.onChange)||void 0===r||r.call(e,o,n),h.value=!0,"slide"===e.animation&&y.value>1&&(o=t,s=!1,c=!1,t>=y.value&&(I(),setTimeout((function(){c=!0,f.value=0}),e.duration)),0===f.value&&(y.value>2&&1!==t||2===y.value&&0===t)&&(o=-1,I(),setTimeout((function(){s=!0,f.value=y.value-1}),e.duration))),f.value=o},I=function(){i&&(clearTimeout(i),i=0)},O=function(){e.autoplay&&e.interval>0&&(I(),i=setTimeout((function(){C(f.value+1,{source:"autoplay"})}),0===f.value?e.interval-(e.duration+50):e.interval))},T=function(){p.value=!0,e.stopOnHover&&I(),"hover"===A.value.showSlideBtn&&(g.value=!0)},R=function(){p.value=!1,b.value||O(),"hover"===A.value.showSlideBtn&&(g.value=!1)},N=function(e){C(e,{source:"hover"})},P=function(e){C(e,{source:"click"})},k=function(t){if(!h.value)return"card"===e.type?C(f.value+1>=y.value?0:f.value+1,t):C(f.value+1,t)},D=function(t){if(!h.value)return f.value-1<0?"slide"===e.animation&&2===y.value?C(0,t):C(y.value-1,t):C(f.value-1,t)},x=function(e){var t,n;return null===(t=v.value)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n[e]},L=function(){var e=f.value+1>y.value?1:f.value+1;return(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__arrow")},[(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-left"),onClick:function(){return D({source:"click"})}},[(0,l.Wm)(r,null,null)]),(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__navigation-text-fraction")},[e,"/",y.value]),(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-right"),onClick:function(){return k({source:"click"})}},[(0,l.Wm)(o,null,null)])])},j=function(){return g.value?(0,l.Wm)("div",{class:["".concat(t.value,"-swiper__arrow"),"".concat(t.value,"-swiper__arrow--default")]},[(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-left"),onClick:function(){return D({source:"click"})}},[(0,l.Wm)(r,null,null)]),(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-right"),onClick:function(){return k({source:"click"})}},[(0,l.Wm)(o,null,null)])]):null},M=function(){var n;if((0,l.lA)(e.navigation))return e.navigation;if("fraction"===A.value.type)return(0,l.Wm)("div",{class:["".concat(t.value,"-swiper__navigation"),"".concat(t.value,"-swiper__navigation--fraction")]},[L()]);var r=m("SwiperItem");return(0,l.Wm)("ul",{class:["".concat(t.value,"-swiper__navigation"),(n={},u(n,"".concat(t.value,"-swiper__navigation-bars"),"bars"===A.value.type),u(n,"".concat(t.value,"-swiper__navigation-dots"),"dots"===A.value.type),u(n,"".concat(t.value,"-swiper__navigation-dots-bar"),"dots-bar"===A.value.type),n)]},[r.map((function(e,n){return(0,l.Wm)("li",{key:n,class:["".concat(t.value,"-swiper__navigation-item"),u({},"".concat(t.value,"-is-active"),n===f.value)],onMouseenter:function(){return N(n)},onClick:function(){return P(n)}},[(0,l.Wm)("span",null,null)])}))])},B=function(){return S()};return(0,l.YP)((function(){return E.value}),(function(){O()})),(0,l.YP)((function(){return h.value}),(function(){h.value&&(a&&clearTimeout(a),a=setTimeout((function(){h.value=!1,a=0,b.value&&I()}),e.duration+50))})),(0,l.YP)((function(){return e.current}),(function(){C(e.current,{source:"autoplay"})})),(0,l.bv)((function(){O(),g.value="always"===A.value.showSlideBtn})),function(){var n;return(0,l.Wm)("div",{class:["".concat(t.value,"-swiper")],onMouseenter:T,onMouseLeave:R,ref:v},[(0,l.Wm)("div",{class:_.value},[(0,l.Wm)("div",{class:["".concat(t.value,"-swiper__content"),(n={},u(n,"".concat(t.value,"-swiper-fade"),"fade"===e.animation),u(n,"".concat(t.value,"-swiper-card"),"card"===e.type),n)]},[(0,l.Wm)("div",{class:"".concat(t.value,"-swiper__container"),style:w.value},[B()])]),M(),j()])])}}}),Uq=Hf(Fq),Vq=Hf(xq),Wq={allowResizeColumnWidth:{type:Boolean,default:void 0},bordered:Boolean,bottomContent:{type:[String,Function]},cellEmptyContent:{type:[String,Function]},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},disableDataPage:Boolean,empty:{type:[String,Function],default:""},firstFullRow:{type:[String,Function]},fixedRows:{type:Array},footData:{type:Array,default:function(){return[]}},footerAffixProps:{type:Object},footerAffixedBottom:{type:[Boolean,Object],default:!1},footerSummary:{type:[String,Function]},headerAffixProps:{type:Object},headerAffixedTop:{type:[Boolean,Object],default:!1},height:{type:[String,Number]},horizontalScrollAffixedBottom:{type:[Boolean,Object]},hover:Boolean,lastFullRow:{type:[String,Function]},loading:{type:[Boolean,Function],default:void 0},loadingProps:{type:Object},maxHeight:{type:[String,Number]},pagination:{type:Object},paginationAffixedBottom:{type:[Boolean,Object]},resizable:Boolean,rowAttributes:{type:[Object,Array,Function]},rowClassName:{type:[String,Object,Array,Function]},rowKey:{type:String,default:"id",required:!0},rowspanAndColspan:{type:Function},rowspanAndColspanInFooter:{type:Function},scroll:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},stripe:Boolean,tableContentWidth:{type:String,default:""},tableLayout:{type:String,default:"fixed",validator:function(e){return!e||["auto","fixed"].includes(e)}},topContent:{type:[String,Function]},verticalAlign:{type:String,default:"middle",validator:function(e){return!e||["top","middle","bottom"].includes(e)}},onCellClick:Function,onPageChange:Function,onRowClick:Function,onRowDblclick:Function,onRowMousedown:Function,onRowMouseenter:Function,onRowMouseleave:Function,onRowMouseover:Function,onRowMouseup:Function,onScroll:Function,onScrollX:Function,onScrollY:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Hq(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n,o=0,i=e.length;o<i;o++){var a,s=e[o];if(t.set(s,n),null!==s&&void 0!==s&&null!==(a=s.children)&&void 0!==a&&a.length){var c=Hq(s.children,t,n+1);c>r&&(r=c)}}return r}function Qq(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,r=(null===e||void 0===e?void 0:e.children)||[],o=0,i=r.length;o<i;o++){var a=r[o];a.children?n=Qq(a,n):n+=1}return n}function Gq(e){var t=new Map,n=Hq(e,t),r=new Map,o=function e(o,i){for(var a=0,s=o.length;a<s;a++){var c,u=o[a],l=u.children?1:n-t.get(u)+1,d=u.children?Qq(u):1,f={};l>1&&(f.rowspan=l),d>1&&(f.colspan=d),r.set(u,f),null!==u&&void 0!==u&&null!==(c=u.children)&&void 0!==c&&c.length?e(u.children,i):i.push(u)}},i=[];return o(e,i),{rowspanAndColspanMap:r,leafColumns:i}}function Kq(e){var t=function e(t,n){for(var r,o=[],i=[],a=0,s=t.length;a<s;a++){var c,u=t[a],l=[u];o=o.concat(l),null!==u&&void 0!==u&&null!==(c=u.children)&&void 0!==c&&c.length&&(i=i.concat(u.children))}return null!==(r=i)&&void 0!==r&&r.length&&e(i,n),n.push(o),o},n=[];return t(e,n),n=n.reverse(),n}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function qq(){var e=Os(),t={tableBaseClass:{table:"".concat(e.value,"-table"),columnResizableTable:"".concat(e.value,"-table--column-resizable"),overflowVisible:"".concat(e.value,"-table--overflow-visible"),body:"".concat(e.value,"-table__body"),content:"".concat(e.value,"-table__content"),topContent:"".concat(e.value,"-table__top-content"),bottomContent:"".concat(e.value,"-table__bottom-content"),paginationWrap:"".concat(e.value,"-table__pagination-wrap"),tdLastRow:"".concat(e.value,"-table__td-last-row"),tdFirstCol:"".concat(e.value,"-table__td-first-col"),thCellInner:"".concat(e.value,"-table__th-cell-inner"),tableRowEdit:"".concat(e.value,"-table--row-edit"),cellEditable:"".concat(e.value,"-table__cell--editable"),cellEditWrap:"".concat(e.value,"-table__cell-wrap"),bordered:"".concat(e.value,"-table--bordered"),striped:"".concat(e.value,"-table--striped"),hover:"".concat(e.value,"-table--hoverable"),loading:"".concat(e.value,"-table--loading"),rowspanAndColspan:"".concat(e.value,"-table--rowspan-colspan"),empty:"".concat(e.value,"-table__empty"),emptyRow:"".concat(e.value,"-table__empty-row"),headerFixed:"".concat(e.value,"-table--header-fixed"),columnFixed:"".concat(e.value,"-table--column-fixed"),widthOverflow:"".concat(e.value,"-table--width-overflow"),multipleHeader:"".concat(e.value,"-table--multiple-header"),footerAffixed:"".concat(e.value,"-table--footer-affixed"),horizontalBarAffixed:"".concat(e.value,"-table--horizontal-bar-affixed"),affixedHeader:"".concat(e.value,"-table--affixed-header"),affixedHeaderElm:"".concat(e.value,"-table__affixed-header-elm"),affixedFooterElm:"".concat(e.value,"-table__affixed-footer-elm"),affixedFooterWrap:"".concat(e.value,"-table__affixed-footer-wrap"),scrollbarDivider:"".concat(e.value,"-table__scroll-bar-divider"),fullHeight:"".concat(e.value,"-table--full-height"),resizeLine:"".concat(e.value,"-table__resize-line"),obviousScrollbar:"".concat(e.value,"-table__scrollbar--obvious"),affixedHeaderWrap:"".concat(e.value,"-table__affixed-header-elm-wrap")},tdAlignClasses:{left:"".concat(e.value,"-align-left"),right:"".concat(e.value,"-align-right"),center:"".concat(e.value,"-align-center")},tableHeaderClasses:{header:"".concat(e.value,"-table__header"),thBordered:"".concat(e.value,"-table__header-th--bordered"),fixed:"".concat(e.value,"-table__header--fixed"),multipleHeader:"".concat(e.value,"-table__header--multiple")},tableFooterClasses:{footer:"".concat(e.value,"-table__footer"),fixed:"".concat(e.value,"-table__footer--fixed")},tableAlignClasses:{top:"".concat(e.value,"-vertical-align-top"),middle:"".concat(e.value,"-vertical-align-middle"),bottom:"".concat(e.value,"-vertical-align-bottom")},tableRowFixedClasses:{top:"".concat(e.value,"-table__row--fixed-top"),bottom:"".concat(e.value,"-table__row--fixed-bottom"),firstBottom:"".concat(e.value,"-table__row--fixed-bottom-first"),withoutBorderBottom:"".concat(e.value,"-table__row--without-border-bottom")},tableColFixedClasses:{left:"".concat(e.value,"-table__cell--fixed-left"),right:"".concat(e.value,"-table__cell--fixed-right"),lastLeft:"".concat(e.value,"-table__cell--fixed-left-last"),firstRight:"".concat(e.value,"-table__cell--fixed-right-first"),leftShadow:"".concat(e.value,"-table__content--scrollable-to-left"),rightShadow:"".concat(e.value,"-table__content--scrollable-to-right")},tableLayoutClasses:{auto:"".concat(e.value,"-table--layout-auto"),fixed:"".concat(e.value,"-table--layout-fixed")},tdEllipsisClass:"".concat(e.value,"-table-td--ellipsis"),tableFullRowClasses:{base:"".concat(e.value,"-table__row--full"),innerFullRow:"".concat(e.value,"-table__row-full-inner"),innerFullElement:"".concat(e.value,"-table__row-full-element"),firstFullRow:"".concat(e.value,"-table__first-full-row"),lastFullRow:"".concat(e.value,"-table__last-full-row")},tableExpandClasses:{iconBox:"".concat(e.value,"-table__expand-box"),iconCell:"".concat(e.value,"-table__expandable-icon-cell"),row:"".concat(e.value,"-table__expanded-row"),rowInner:"".concat(e.value,"-table__expanded-row-inner"),expanded:"".concat(e.value,"-table__row--expanded"),collapsed:"".concat(e.value,"-table__row--collapsed")},tableSortClasses:{sortable:"".concat(e.value,"-table__cell--sortable"),title:"".concat(e.value,"-table__cell--title"),trigger:"".concat(e.value,"-table__cell--sort-trigger"),doubleIcon:"".concat(e.value,"-table__double-icons"),sortIcon:"".concat(e.value,"-table__sort-icon"),iconDirection:{asc:"".concat(e.value,"-table-sort-asc"),desc:"".concat(e.value,"-table-sort-desc")},iconActive:"".concat(e.value,"-table__sort-icon--active"),iconDefault:"".concat(e.value,"-icon-sort--default")},tableSelectedClasses:{selected:"".concat(e.value,"-table__row--selected"),disabled:"".concat(e.value,"-table__row--disabled"),checkCell:"".concat(e.value,"-table__cell-check")},tableFilterClasses:{filterable:"".concat(e.value,"-table__cell--filterable"),popup:"".concat(e.value,"-table__filter-pop"),icon:"".concat(e.value,"-table__filter-icon"),popupContent:"".concat(e.value,"-table__filter-pop-content"),result:"".concat(e.value,"-table__filter-result"),inner:"".concat(e.value,"-table__row-filter-inner"),bottomButtons:"".concat(e.value,"-table__filter--bottom-buttons"),contentInner:"".concat(e.value,"-table__filter-pop-content-inner"),iconWrap:"".concat(e.value,"-table__filter-icon-wrap")},asyncLoadingClass:"".concat(e.value,"-table__async-loading"),isFocusClass:"".concat(e.value,"-is-focus"),isLoadingClass:"".concat(e.value,"-is-loading"),isLoadMoreClass:"".concat(e.value,"-is-load-more"),tableTreeClasses:{col:"".concat(e.value,"-table__tree-col"),inlineCol:"".concat(e.value,"-table__tree-col--inline"),icon:"".concat(e.value,"-table__tree-op-icon")},tableDraggableClasses:{rowDraggable:"".concat(e.value,"-table--row-draggable"),rowHandlerDraggable:"".concat(e.value,"-table--row-handler-draggable"),colDraggable:"".concat(e.value,"-table--col-draggable"),handle:"".concat(e.value,"-table__handle-draggable"),ghost:"".concat(e.value,"-table__ele--draggable-ghost"),chosen:"".concat(e.value,"-table__ele--draggable-chosen"),dragging:"".concat(e.value,"-table__ele--draggable-dragging")},virtualScrollClasses:{cursor:"".concat(e.value,"-table__virtual-scroll-cursor"),header:"".concat(e.value,"-table__virtual-scroll-header")},positiveRotate90:"".concat(e.value,"-positive-rotate-90"),negativeRotate180:"".concat(e.value,"-negative-rotate-180")};return t}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function zq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zq(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jq(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Xq=(0,l.aZ)({name:"TEllipsis",props:{content:{type:[String,Function]},default:{type:[String,Function]},tooltipContent:{type:[String,Number,Function]},placement:String,attach:Function,tooltipProps:Object,zIndex:Number},setup:function(){var e=Is(),t=e.classPrefix,n=(0,d.iH)(),r=(0,d.iH)(!1),o=(0,l.Fl)((function(){return["".concat(t.value,"-table__ellipsis"),"".concat(t.value,"-text-ellipsis")]})),i=function(){n.value&&(r.value=lc(n.value))},a=function(){r.value=lc(n.value)},s=kb((function(e){"mouseleave"===e.type?a():i()}),80);return{root:n,isOverflow:r,ellipsisClasses:o,onMouseAround:s}},render:function(){var e=Rf(this,"default","content"),t=(0,l.Wm)("div",{ref:"root",class:this.ellipsisClasses,onMouseenter:this.onMouseAround,onMouseleave:this.onMouseAround},[e]),n=null;if(this.isOverflow){var r=Yq({content:this.tooltipContent||function(){return e},destroyOnClose:!0,zIndex:this.zIndex,attach:this.attach,placement:this.placement},this.tooltipProps);n=(0,l.Wm)(By,r,Jq(t)?t:{default:function(){return[t]}})}else n=t;return n}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Zq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zq(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ez(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}function tz(e,t,n){var r={col:t,colIndex:n};return ce(t.title)?t.title(l.h,r):Ls(t.title)&&e[t.title]?e[t.title](r):ce(t.render)&&t.render(l.h,$q($q({},r),{},{type:"title",row:{},rowIndex:-1}))||t.title}function nz(e){var t=qq(),n=t.tableSortClasses,r=t.tableFilterClasses,o=(0,l.Fl)((function(){return Gq(e.columns)})),i=(0,l.Fl)((function(){return Kq(e.columns)})),a=(0,l.Fl)((function(){return i.value.length>1})),s=function(e,t,o,i,a){var s,c=v(e,3),d=c[0],f=c[1],p=c[2],h=(s={},u(s,n.sortable,f),u(s,r.filterable,p),s),g=ce(i)?i(l.h,{col:t,colIndex:o}):void 0;return(0,l.Wm)("div",{class:h},[(0,l.Wm)("div",{class:n.title},[t.ellipsis&&!1!==i&&null!==i?(0,l.Wm)(Xq,{placement:"bottom-right",attach:a?function(){return a}:void 0,tooltipContent:g&&function(){return g},tooltipProps:"object"===S(i)?i:void 0},ez(d)?d:{default:function(){return[d]}}):(0,l.Wm)("div",null,[d]),Boolean(f||p)&&(0,l.Wm)("div",{class:r.iconWrap},[f,p])])])};return{thList:i,isMultipleHeader:a,spansAndLeafNodes:o,renderTitleWidthIcon:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function rz(e,t,n){var r=ce(e.disabled)?e.disabled({row:t,rowIndex:n}):e.disabled;return e.checkProps&&(ce(e.checkProps)?r=r||e.checkProps({row:t,rowIndex:n}).disabled:"object"===e.checkProps&&(r=r||e.checkProps.disabled)),!!r}function oz(e,t){var n=e[t];return PE(n)?n:parseFloat(n)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var iz=function(e){var t=[],n=[];if(e.children){e.children.forEach((function(e){return t.push(e)}));while(t.length){var r=t.shift();r.children&&r.children.length?r.children.forEach((function(e){return t.push(e)})):n.push(r)}}return n};function az(e,t,n,r,o){var i=r.getThWidthList,a=r.DEFAULT_MIN_WIDTH,s=i(),c=iz(e),l=iz(n);if(c.length||l.length){var d,f=0,p=0,h=[],g=0,v={};c.length||c.push(e),l.length||l.push(n),c.forEach((function(e){f+=s[e.colKey]||oz(e,"width"),h.push(e.colKey)})),l.forEach((function(e){var t;p+=s[e.colKey]||oz(e,"width"),h.push(e.colKey),g+=Math.max((null===(t=e.resize)||void 0===t?void 0:t.minWidth)||a,oz(e,"minWidth")||a)})),c.forEach((function(e){v[e.colKey]=s[e.colKey]/f*t}));var m=Math.max(g,f+p-t,Math.max(oz(n,"minWidth")||a,(null===(d=n.resize)||void 0===d?void 0:d.minWidth)||a));l.forEach((function(e){var t;v[e.colKey]=Math.max((null===(t=e.resize)||void 0===t?void 0:t.minWidth)||a,oz(e,"minWidth")||a,s[e.colKey]/p*m)})),o(v,h)}else{var y,A,b=s[e.colKey]||oz(e,"width"),E=s[n.colKey]||oz(n,"width");o((A={},u(A,e.colKey,t),u(A,n.colKey,Math.max((null===(y=n.resize)||void 0===y?void 0:y.minWidth)||a,oz(n,"minWidth")||a,b+E-t)),A),[e.colKey,n.colKey])}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var sz=function(e,t,n,r,o,i){var a=n;if(o<i){var s=i-o,c=[];if(t.forEach((function(e){var t=oz(e,"minWidth");t?(a[e.colKey]=t,s-=t):c.push(e)})),s>0)if(c.length){var u=s/c.length;c.forEach((function(e){a[e.colKey]=u}))}else{var l=s/t.length;t.forEach((function(e){a[e.colKey]+=l}))}else c.forEach((function(e){a[e.colKey]=100}))}else if("fixed"===r)t.forEach((function(e){a[e.colKey]=oz(e,"minWidth")||100}));else{var d=0;t.forEach((function(e){d+=oz(e,"minWidth")||100}));var f=d+o;e.forEach((function(e){if(a[e.colKey])a[e.colKey]=a[e.colKey]/f*i;else{var t=oz(e,"minWidth")||100;a[e.colKey]=t/f*i}}))}},cz=function(e,t,n,r,o){var i=t;e.forEach((function(e){o.includes(e.colKey)||(i[e.colKey]=i[e.colKey]/n*r)}))},uz=function(e,t){var n=t;e.forEach((function(e){n[e.colKey]=oz(e,"minWidth")||100}))};function lz(e,t,n,r,o,i){var a=0,s=[],c={};e.forEach((function(e){t[e.colKey]?c[e.colKey]=t[e.colKey]:c[e.colKey]=oz(e,"width");var n=c[e.colKey];n?a+=n:s.push(e)}));var u=r,l=!1;if(u>0)if(s.length)sz(e,s,c,n,a,u),l=!0;else{if(o.length){var d=0;o.forEach((function(e){d+=c[e]})),a-=d,u-=d}(a!==u||o.length)&&(cz(e,c,a,u,o),l=!0)}else uz(s,c),l=!0;if(l){var f=0;Object.keys(c).forEach((function(e){var t=c[e];f+=t-Math.floor(t),c[e]=Math.floor(t)+(f>1?1:0),f>1&&(f-=1)})),f>.5&&(c[e[0].colKey]+=1)}i(c)}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var dz=80,fz=600;function pz(e,t,n,r){var o=(0,d.iH)(),i=(0,d.iH)([]),a=(0,d.iH)({}),s=function e(t,n){t&&t.forEach((function(r,o){var i=n?a.value[n.colKey].prev:t[o+1],s=n?a.value[n.colKey].next:t[o-1],c=0===o?i:t[o-1],u=o===t.length-1?s:t[o+1];a.value[r.colKey]={prev:c,next:u},e(r.children,r)}))},c={isDragging:!1,draggingCol:null,draggingStart:0,effectCol:null},u=(0,d.qj)({display:"none",left:"10px",height:"10px",bottom:"0"}),l=function(e){i.value=e},f=function(e){if(o.value){var t=e.target.closest("th"),n=t.getBoundingClientRect();if(!c.isDragging){var r=8;if(n.right-e.pageX<=r)t.style.cursor="col-resize",c.draggingCol=t,c.effectCol="next";else if(e.pageX-n.left<=r){var i=t.previousElementSibling;i?(t.style.cursor="col-resize",c.draggingCol=i,c.effectCol="prev"):(t.style.cursor="",c.draggingCol=null,c.effectCol=null)}else t.style.cursor="",c.draggingCol=null,c.effectCol=null}}},p=function(i,s){var d;if(c.draggingCol){var f=function(e,t){var n,r,o=null;o="next"===c.effectCol?e:t;var i=PE(o.minWidth)?o.minWidth:parseFloat(o.minWidth);return{minColWidth:Math.max((null===(n=o.resize)||void 0===n?void 0:n.minWidth)||dz,i||dz),maxColWidth:(null===(r=o.resize)||void 0===r?void 0:r.maxWidth)||fz}},p=c.draggingCol,h=p.getBoundingClientRect(),g=null===(d=e.value)||void 0===d?void 0:d.getBoundingClientRect(),v=h.right-g.left,m=h.left-g.left,y=a.value[s.colKey].next,A=a.value[s.colKey].prev,b=f(s,A),E=b.minColWidth,_=b.maxColWidth,w=m+E,S=m+_;if(c.isDragging=!0,c.draggingStart=i.x,null!==o&&void 0!==o&&o.value){u.display="block",u.left="".concat(v,"px"),u.height="".concat(g.bottom-h.top,"px");var C=e.value.parentElement.getBoundingClientRect();u.bottom="".concat(C.bottom-g.bottom,"px")}var I=function e(){if(c.isDragging){var o=Math.ceil(parseInt(u.left,10)-m)||0;o<=E?o=E:o>=_&&(o=_),"next"===c.effectCol?az(s,o,y,{getThWidthList:n,DEFAULT_MIN_WIDTH:dz},(function(e,t){r(e),l(t)})):"prev"===c.effectCol&&az(A,o,s,{getThWidthList:n,DEFAULT_MIN_WIDTH:dz},(function(e,t){r(e),l(t)})),c.isDragging=!1,c.draggingCol=null,c.effectCol=null,p.style.cursor="",u.display="none",u.left="0",document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null}t()},O=function(e){if(c.isDragging){var t=v+e.x-c.draggingStart;u.left="".concat(Math.min(Math.max(t,w),S),"px")}};document.addEventListener("mouseup",I),document.addEventListener("mousemove",O),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}},h=function(e,t,n,o){lz(e,t,n,o,i.value,(function(e){r(e),i.value.length&&(i.value=[])}))};return{resizeLineRef:o,resizeLineStyle:u,onColumnMouseover:f,onColumnMousedown:p,recalculateColWidth:h,setEffectColMap:s}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function hz(){var e=6;if(!navigator)return e;if(/(Chrome|Safari)/i.test(navigator.userAgent))return e;var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),/Firefox/.test(navigator.userAgent)&&(n-=4),y()<=11&&(n=12),n}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function gz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gz(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mz(e,t,n,r){var o,i=null===n||void 0===n?void 0:n.get(e.colKey||t);if(!i)return{};var a=(o={},u(o,r.left,"left"===e.fixed),u(o,r.right,"right"===e.fixed),u(o,r.lastLeft,"left"===e.fixed&&i.lastLeftFixedCol),u(o,r.firstRight,"right"===e.fixed&&i.firstRightFixedCol),o),s={left:"left"===e.fixed?"".concat(i.left,"px"):void 0,right:"right"===e.fixed?"".concat(i.right,"px"):void 0};return{style:s,classes:a}}function yz(e,t,n,r,o,i){var a;if(!r||!r.length)return{style:void 0,classes:void 0};var s=t<r[0],c=t>n-1-r[1],l=n-r[1],d=(null===o||void 0===o?void 0:o.get(e))||{},f=(a={},u(a,i.top,s),u(a,i.bottom,c),u(a,i.firstBottom,t===l),u(a,i.withoutBorderBottom,t===l-1),a),p={top:s?"".concat(d.top,"px"):void 0,bottom:c?"".concat(d.bottom,"px"):void 0};return{style:p,classes:f}}function Az(e,t,n){var r=(0,d.BK)(e),o=r.columns,i=r.tableLayout,a=r.tableContentWidth,s=r.fixedRows,c=r.firstFullRow,u=r.lastFullRow,f=r.maxHeight,p=r.headerAffixedTop,h=r.footerAffixedBottom,g=r.bordered,m=r.resizable,A=r.allowResizeColumnWidth,b=(0,d.iH)([]),E=(0,d.iH)(),_=(0,d.iH)(),w=(0,d.iH)(!1),S=(0,d.iH)(!1),C=(0,d.iH)(),I=(0,d.iH)(6),O=(0,d.iH)(new Map),T=(0,d.qj)({left:!1,right:!1}),R=(0,d.iH)({left:0,top:0}),N=(0,d.iH)(0),P=(0,d.iH)(0),k=(0,d.iH)({}),D=(0,d.iH)(!1),x=(0,d.iH)(!1),L=(0,d.iH)(!1),j=(0,l.Fl)((function(){return m.value||A.value||!1})),M=(0,l.Fl)((function(){var t;return!(e.headerAffixedTop||e.footerAffixedBottom||e.horizontalScrollAffixedBottom||"virtual"===(null===(t=e.scroll)||void 0===t?void 0:t.type))})),B=(0,d.iH)((function(){}));function F(e){C.value=e}function U(e){B.value=e}function V(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=0,a=e.length;i<a;i++){var s,c=e[i];["left","right"].includes(c.fixed)&&(D.value=!0),"right"===c.fixed&&(x.value=!0),"left"===c.fixed&&(L.value=!0);var u=c.colKey||i,l={col:c,parent:o,index:i};t.set(u,l),null!==(s=c.children)&&void 0!==s&&s.length&&V(c.children,t,n,r+1,l),n[r]?n[r].push(l):n[r]=[l]}return{newColumnsMap:t,levelNodes:n}}var W,H=function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=0,i=t.length;o<i;o++){var a,s=t[o];if("right"===s.fixed)return;var c=n.get(s.colKey||o),u=o-1;while(u>=0&&"left"!==t[u].fixed)u-=1;var l=t[u],d=0===o&&(null===r||void 0===r?void 0:r.left)||0,f=n.get((null===l||void 0===l?void 0:l.colKey)||o-1);c.left=((null===f||void 0===f?void 0:f.left)||d)+((null===f||void 0===f?void 0:f.width)||0),null!==(a=s.children)&&void 0!==a&&a.length&&e(s.children,n,c)}},Q=function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.length-1;o>=0;o--){var i,a=t[o];if("left"===a.fixed)return;var s=n.get(a.colKey||o),c=o+1;while(c<t.length&&"right"!==t[c].fixed)c+=1;var u=t[c],l=o===t.length-1&&(null===r||void 0===r?void 0:r.right)||0,d=n.get((null===u||void 0===u?void 0:u.colKey)||o+1);s.right=((null===d||void 0===d?void 0:d.right)||l)+((null===d||void 0===d?void 0:d.width)||0),null!==(i=a.children)&&void 0!==i&&i.length&&e(a.children,n,s)}},G=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)for(var i=e[n].children,a=0,s=i.length;a<s;a++){var c,u=i[a],l=u.dataset.colkey;l||qA.warn("TDesign Table","".concat(u.innerText," missing colKey. colKey is required for fixed column feature."));var d=t.get(l||a);null!==d&&void 0!==d&&null!==(c=d.col)&&void 0!==c&&c.fixed&&t.set(l,vz(vz({},d),{},{width:u.getBoundingClientRect().width}))}H(o.value,t),Q(o.value,t)}},K=function(t,n,r,o){for(var i=s.value||[],a=v(i,2),c=a[0],u=a[1],l=e.data,d=e.rowKey,f=void 0===d?"id":d,p=0;p<c;p++){var h=t[p],g=sT(l[p],f),m=n.get(g)||{},y=sT(l[p-1],f),A=n.get(y)||{},b=0;0===p&&(b=(null===r||void 0===r?void 0:r.getBoundingClientRect().height)||0),m.top=(A.top||b)+(A.height||0),n.set(g,vz(vz({},m),{},{height:h.getBoundingClientRect().height}))}for(var E=l.length-1;E>=l.length-u;E--){var _=t[E],w=sT(l[E],f),S=n.get(w)||{},C=sT(l[E+1],f),I=n.get(C)||{},O=0;E===l.length-1&&(O=(null===o||void 0===o?void 0:o.getBoundingClientRect().height)||0),S.bottom=(I.bottom||O)+(I.height||0),n.set(w,vz(vz({},S),{},{height:_.getBoundingClientRect().height}))}},q=function(e,t){if(O.value.clear(),e){var n=e.querySelector("thead");n&&G(n.children,t);var r=e.querySelector("tbody"),o=e.querySelector("tfoot");r&&K(r.children,t,n,o),O.value=t}},z=function(e,t){if(D.value&&e){var n=e.scrollLeft;if(W!==n||t&&t.skipScrollLimit){W=n;var r=e.clientWidth+n<e.scrollWidth;T.left=n>0,T.right=r}}},Y=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0,o=n.length;r<o;r++){var i=n[r],a=n[r+1],s=i.parent,c=!s||(null===s||void 0===s?void 0:s.lastLeftFixedCol);c&&"left"===i.col.fixed&&"left"!==(null===a||void 0===a?void 0:a.col.fixed)&&(i.lastLeftFixedCol=!0);var u=n[r-1],l=!s||(null===s||void 0===s?void 0:s.firstRightFixedCol);l&&"right"===i.col.fixed&&"right"!==(null===u||void 0===u?void 0:u.col.fixed)&&(i.firstRightFixedCol=!0)}},J=function(){var e=V(o.value),t=e.newColumnsMap,n=e.levelNodes;Y(n);var r=setTimeout((function(){var e;(D.value||null!==(e=s.value)&&void 0!==e&&e.length)&&q(_.value,t),clearTimeout(r)}),0);return function(){clearTimeout(r)}},X=function(){var e=setTimeout((function(){if(_.value){w.value=_.value.scrollHeight>_.value.clientHeight,S.value=_.value.scrollWidth>_.value.clientWidth;var t=_.value.getBoundingClientRect();R.value={top:t.top,left:t.left},clearTimeout(e)}}),0)},Z=function(){var t,n,r=null===(t=_.value)||void 0===t?void 0:t.getBoundingClientRect();if(r){var o=w.value?I.value:0;N.value=r.width-o-(e.bordered?1:0);var i=null===C||void 0===C||null===(n=C.value)||void 0===n?void 0:n.getBoundingClientRect();P.value=null===i||void 0===i?void 0:i.width}},$=function(e){if(e instanceof HTMLCollection){if(j.value)return;for(var t={},n=0,r=e.length;n<r;n++)for(var o=e[n].children,i=0,a=o.length;i<a;i++){var s=o[i],c=s.dataset.colkey;t[c]=s.getBoundingClientRect().width}k.value=t}else k.value||(k.value={}),Object.entries(e).forEach((function(e){var t=v(e,2),n=t[0],r=t[1];k.value[n]=r}))},ee=function(){if(j.value&&B.value(n.value,k.value,i.value,P.value),!M.value)var e=setTimeout((function(){var t;Z();var n=null===(t=_.value)||void 0===t?void 0:t.querySelector("thead");n&&($(n.children),clearTimeout(e))}),0)},te=function(){k.value={}},ne=function(t){var n,r,o;null===(n=e.onScrollX)||void 0===n||n.call(e,{e:t}),null===(r=e.onScrollY)||void 0===r||r.call(e,{e:t}),null===(o=e.onScroll)||void 0===o||o.call(e,{e:t})},re=function(){return k.value||(k.value={}),k.value};(0,l.YP)([b,o,g,i,a,w,S,D,s,c,u],J,{immediate:!0}),(0,l.YP)([D,o],(function(){var e=setTimeout((function(){D.value&&z(_.value),clearTimeout(e)}),0)}),{immediate:!0}),(0,l.YP)([f,b,o,g],X,{immediate:!0}),(0,l.YP)(n,(function(){te(),j.value&&B.value(n.value,k.value,i.value,P.value)})),(0,l.YP)([b,o,g,i,s,w,p,h,a],ee,{immediate:!0});var oe=kb((function(){Z(),X(),ee(),(D.value||w.value)&&(J(),z(_.value,{skipScrollLimit:!0}))}),30),ie=oe,ae=null;function se(e){y()<11||"undefined"===typeof window.ResizeObserver||(ec(window,"resize",ie),ae=new window.ResizeObserver((function(){oe()})),ae.observe(e),E.value=e)}(0,l.bv)((function(){var e=hz();I.value=e;var t=setTimeout((function(){Z(),j.value&&B.value(n.value,k.value,i.value,P.value),clearTimeout(t)})),r=D.value||w.value||!M.value||!b.value.length;(r&&y()<11||"undefined"===typeof window.ResizeObserver)&&$s(window,"resize",ie)})),(0,l.Jd)((function(){var e,t;ec(window,"resize",ie),null===(e=ae)||void 0===e||e.unobserve(E.value),null===(t=ae)||void 0===t||t.disconnect()}));var ce=function(e){b.value=e};return{tableWidth:N,tableElmWidth:P,thWidthList:k,isFixedHeader:w,isWidthOverflow:S,tableContentRef:_,isFixedColumn:D,showColumnShadow:T,rowAndColFixedPosition:O,virtualScrollHeaderPos:R,scrollbarWidth:I,setData:ce,refreshTable:oe,emitScrollEvent:ne,updateThWidthListHandler:ee,updateColumnFixedShadow:z,setUseFixedTableElmRef:F,getThWidthList:re,updateThWidthList:$,setRecalculateColWidthFuncRef:U,addTableResizeObserver:se}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bz(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _z(e){var t=(0,d.BK)(e),n=t.pagination,r=t.data,o=t.disableDataPage,i=Is(),a=i.classPrefix,s=(0,d.iH)([]),c=(0,d.iH)(!1),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=e.data,i=Boolean(!o.value&&r.length>n);if(c.value=i,i){var a=(t-1)*n,u=t*n;s.value=r.slice(a,u)}else s.value=r};(0,l.YP)((function(){var e,t;return[null===(e=n.value)||void 0===e?void 0:e.current,null===(t=n.value)||void 0===t?void 0:t.pageSize,r.value.length,o]}),(function(){n.value&&n.value.current&&u(n.value.current,n.value.pageSize)}),{immediate:!0}),(0,l.YP)([r],(function(){n.value&&n.value.defaultCurrent&&u(n.value.defaultCurrent,n.value.defaultPageSize)}),{immediate:!0});var f=function(){if(!e.pagination)return null;var t=Ez({},e.pagination);return delete t.onChange,(0,l.Wm)("div",{class:"".concat(a.value,"-table__pagination")},[(0,l.Wm)(wP,(0,l.dG)(t,{onChange:function(t){var r,o,i;null===(r=e.pagination)||void 0===r||null===(o=r.onChange)||void 0===o||o.call(r,t),null===(i=e.onPageChange)||void 0===i||i.call(e,t,s.value),n&&!n.value.current&&n.value.defaultCurrent&&u(t.current,t.pageSize)}}),null)])};return{isPaginateData:c,dataSource:s,renderPagination:f}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function wz(e){var t=(0,d.iH)(),n=(0,d.iH)(),r=(0,d.iH)(),o=(0,d.iH)(),i=(0,d.iH)(),a=(0,d.iH)(!0),s=(0,d.iH)(!0),c=(0,d.iH)(!0),u=(0,l.Fl)((function(){return e.scroll&&"virtual"===e.scroll.type&&(e.scroll.threshold||100)<e.data.length})),f=(0,l.Fl)((function(){return!!(e.headerAffixedTop||e.footerAffixedBottom||e.horizontalScrollAffixedBottom)})),p=0,h=function(e){if(f.value||u.value){var i=e;if(!i&&t.value&&(p=0,i=t.value),i){var a=i.scrollLeft;if(p!==a){p=a;for(var s=[t.value,n.value,r.value,o.value],c=0,l=s.length;c<l;c++)s[c]&&e!==s[c]&&(s[c].scrollLeft=a)}}}},g=function(e,t,n){return t.top+n<e.top&&e.top>e.height},v=function(e){return"boolean"===typeof e?0:e.offsetTop||0},m=function(){var l,d,p,h;if(f.value||u.value){var m=null===(l=t.value)||void 0===l?void 0:l.getBoundingClientRect(),y=null===(d=t.value)||void 0===d||null===(p=d.querySelector("thead"))||void 0===p?void 0:p.getBoundingClientRect(),A=y.height||0,b=null===(h=r.value)||void 0===h?void 0:h.getBoundingClientRect();if((e.headerAffixedTop||u.value)&&n.value){var E=v(e.headerAffixProps||e.headerAffixedTop),_=(null===b||void 0===b?void 0:b.height)||0,w=Math.abs(m.top)<m.height-A-E-_;u.value&&(w=m.top>-1*y.height),a.value=w}if(e.footerAffixedBottom&&null!==r&&void 0!==r&&r.value)s.value=g(b,m,A);else if(e.horizontalScrollAffixedBottom&&null!==o&&void 0!==o&&o.value){var S=o.value.getBoundingClientRect();s.value=g(S,m,A)}if(e.paginationAffixedBottom&&i.value){var C=i.value.getBoundingClientRect();c.value=g(C,m,A)}}},y=function(){m()},A=function(){h(r.value)},b=function(){h(n.value)},E=function(){h(o.value)},_=function(){h(t.value)},w=function(){$s(r.value,"scroll",A)},S=function(){ec(r.value,"scroll",A)},C=function(){$s(n.value,"scroll",b)},I=function(){ec(n.value,"scroll",b)},O=function(){$s(o.value,"scroll",E)},T=function(){ec(o.value,"scroll",E)},R=function(){$s(t.value,"scroll",_)},N=function(){ec(t.value,"scroll",_)},P=function(){n.value&&($s(n.value,"mouseenter",C),$s(n.value,"mouseleave",I)),e.footerAffixedBottom&&r.value&&($s(r.value,"mouseenter",w),$s(r.value,"mouseleave",S)),e.horizontalScrollAffixedBottom&&o.value&&($s(o.value,"mouseenter",O),$s(o.value,"mouseleave",T)),(f.value||u.value)&&t.value&&($s(t.value,"mouseenter",R),$s(t.value,"mouseleave",N))},k=function(){n.value&&(ec(n.value,"mouseenter",C),ec(n.value,"mouseleave",I)),r.value&&(ec(r.value,"mouseenter",w),ec(r.value,"mouseleave",S)),t.value&&(ec(t.value,"mouseenter",R),ec(t.value,"mouseleave",N)),o.value&&(ec(o.value,"mouseenter",O),ec(o.value,"mouseleave",T))},D=function(){if(f.value||e.paginationAffixedBottom)var t=setTimeout((function(){f.value||e.paginationAffixedBottom?$s(document,"scroll",y):ec(document,"scroll",y),clearTimeout(t)}))};(0,l.YP)([n,r,o,t],(function(){P(),h(),m()})),(0,l.YP)(f,D),(0,l.YP)((function(){return[e.data,e.columns,e.headerAffixedTop,e.footerAffixedBottom,e.horizontalScrollAffixedBottom]}),(function(){h()})),(0,l.wF)((function(){ec(document,"scroll",y),k()}));var x=function(e){t.value=e,D()};return{showAffixHeader:a,showAffixFooter:s,showAffixPagination:c,affixHeaderRef:n,affixFooterRef:r,horizontalScrollbarRef:o,paginationRef:i,onHorizontalScroll:h,setTableContentRef:x,updateAffixHeaderOrFooter:m}}function Sz(e,t){if(e){for(var n=e instanceof Array?e:[e],r={},o=0;o<n.length;o++){var i=n[o];if(i){var a=ce(i)?i(t):i;r=a instanceof Array?Sz(a,t):Object.assign(r,a)}}return r}}function Cz(e,t,n){for(var r=e instanceof Array?e:[e],o=t.row,i=t.rowIndex,a=[],s=0,c=r.length;s<c;s++){var u=r[s],l=ce(u)?u(t):u;if(!ee(l)||l instanceof Array)l instanceof Array&&(l=Cz(l,t,n));else{l[i]&&(l=l[i]);var d=sT(o,n||"id");l[d]&&(l=l[d])}a=a.concat(l)}return a}function Iz(e,t){if(e&&t){var n=null===e||void 0===e?void 0:e.find((function(e){return e.colKey===t}));if(n)return n;for(var r=0,o=e.length;r<o;r++){var i,a,s;if(null!==(i=e[r])&&void 0!==i&&null!==(a=i.children)&&void 0!==a&&a.length)return Iz(null===(s=e[r])||void 0===s?void 0:s.children,t)}}}function Oz(e,t){return"object"===S(e)?e:"object"===S(t)?t:{}}function Tz(e,t,n){for(var r={},o=0,i=t.length;o<i;o++){var a=sT(t[o],n);e.includes(a)&&(r[a]=!0)}return r}function Rz(e,t){for(var n=0,r=e.length;n<r;n++){var o;if(e[n].colKey===t)return e[n];if(null!==(o=e[n].children)&&void 0!==o&&o.length){var i=Rz(e[n].children,t);if(i)return i}}return null}function Nz(e,t){for(var n=0,r=e.length;n<r;n++){var o;if(e[n].colKey===t)return n;if(null!==(o=e[n].children)&&void 0!==o&&o.length){var i=Rz(e[n].children,t);if(i)return n}}return-1}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Pz(e,t,n,r){if(!window||!window.IntersectionObserver)return n(),null;var o=null;try{o=new window.IntersectionObserver((function(t){var r=t[0];r.isIntersecting&&(n(),o.unobserve(e))}),{rootMargin:"0px 0px ".concat(r,"px 0px"),root:t}),o.observe(e)}catch(i){console.error(i),n()}return o}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function kz(e,t,n){var r=(0,l.Fl)((function(){return Math.max(n.rowHeight||48,48)})),o=(0,d.iH)(0===n.rowIndex),i=(0,l.Fl)((function(){return"lazy"===(null===n||void 0===n?void 0:n.type)&&!o.value})),a=!Xs&&window.requestAnimationFrame||function(e){return setTimeout(e,16.6)},s=function(){o.value||a((function(){o.value=!0}))};return(0,l.bv)((function(){"lazy"===(null===n||void 0===n?void 0:n.type)&&(0,l.Y3)((function(){var o=Math.max(10,n.bufferSize||10),i=r.value*o;Pz(t.value,e.value,s,i)}))})),{hasLazyLoadHolder:i,tRowHeight:r}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Dz(e,t,n,r){var o=sT(e,t);return void 0===o&&qA.error("Table","rowKey is wrong, can not get unique identifier of row."),[o,n||r].join("_")}function xz(e,t,n,r){var o=(0,d.iH)(new Map),i=function(r,i){var a=r.rowIndex,s=r.colIndex;if(i.rowspan||i.colspan)for(var c=a+(i.rowspan||1),u=s+(i.colspan||1),l=a;l<c;l++)for(var d=s;d<u;d++)if(l!==a||d!==s){if(!e.value[l]||!t.value[d])return;var f=Dz(e.value[l],n.value,t.value[d].colKey,d),p=o.value.get(f)||{};p.skipped=!0,o.value.set(f,p)}},a=function(e,t,r){var a;if(null===(a=o.value)||void 0===a||a.clear(),e&&r)for(var s=0,c=e.length;s<c;s++)for(var u=e[s],l=0,d=t.length;l<d;l++){var f=t[l],p={row:u,col:f,rowIndex:s,colIndex:l},h=Dz(u,n.value,f.colKey,l),g=o.value.get(h)||{},v=r(p)||{};(v.rowspan||v.colspan||g.rowspan||g.colspan)&&(v.rowspan&&(g.rowspan=v.rowspan),v.colspan&&(g.colspan=v.colspan),o.value.set(h,g)),null===i||void 0===i||i(p,g)}};return(0,l.YP)((function(){return[e.value,t.value,r]}),(function(){a(e.value,t.value,null===r||void 0===r?void 0:r.value)}),{immediate:!0}),{skipSpansMap:o}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lz(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mz(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Bz=["rowKey","rowClassName","columns","fixedRows","footData","rowAttributes","rowspanAndColspan","scroll","cellEmptyContent","onCellClick","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup"],Fz=["click","dblclick","mouseover","mousedown","mouseenter","mouseleave","mouseup"];function Uz(e,t,n){var r=e.col,o=e.row;if(ce(r.cell))return r.cell(l.h,e);if(t[r.colKey])return t[r.colKey](e);if(Ls(r.cell)&&t[r.cell])return t[r.cell](e);if(ce(r.render))return r.render(l.h,jz(jz({},e),{},{type:"cell"}));var i=sT(o,r.colKey);return[void 0,"",null].includes(i)?null!==n&&void 0!==n&&n.cellEmptyContent?ce(n.cellEmptyContent)?n.cellEmptyContent(l.h,e):n.cellEmptyContent:t.cellEmptyContent?t.cellEmptyContent(e):i:i}var Vz=(0,l.aZ)({name:"TR",props:jz(jz({row:Object,rowIndex:Number,dataLength:Number,rowAndColFixedPosition:Map,skipSpansMap:Map},HS(Wq,Bz)),{},{scrollType:String,rowHeight:Number,trs:Map,bufferSize:Number,isVirtual:Boolean,tableElm:{},tableContentElm:{}}),emits:["row-mounted"],setup:function(e,t){var n=(0,d.BK)(e),r=n.tableContentElm,o=(0,d.iH)(null),i=qq(),a=i.tdEllipsisClass,s=i.tableBaseClass,c=i.tableColFixedClasses,u=i.tableRowFixedClasses,f=i.tdAlignClasses,p=i.tableDraggableClasses,h=(0,l.Fl)((function(){return yz(sT(e.row,e.rowKey||"id"),e.rowIndex,e.dataLength,e.fixedRows,e.rowAndColFixedPosition,u)})),g=(0,l.Fl)((function(){return Sz(e.rowAttributes,{row:e.row,rowIndex:e.rowIndex,type:"body"})||{}})),v=(0,l.Fl)((function(){var t,n=Cz(e.rowClassName,{row:e.row,rowIndex:e.rowIndex,type:"body"},e.rowKey||"id");return[null===(t=h.value)||void 0===t?void 0:t.classes,n].filter((function(e){return e}))})),m=kz(r,o,(0,d.qj)(jz(jz({},e.scroll),{},{rowIndex:e.rowIndex}))),y=m.hasLazyLoadHolder,A=m.tRowHeight,b=function(t,n){var r={};return Fz.forEach((function(o){r["on".concat(Fl(o))]=function(r){var i,a={e:r,row:t,index:n};null===(i=e["onRow".concat(Fl(o))])||void 0===i||i.call(e,a)}})),r};return(0,l.bv)((function(){var n=e.scrollType,r=e.isVirtual,i=e.row,a=e.trs;if("virtual"===n&&r){var s=i.$index;a.set(s,o.value),t.emit("row-mounted")}})),(0,l.Jd)((function(){if(e.isVirtual){var t=e.trs,n=e.row,r=n.$index;t["delete"](r)}})),{trRef:o,tableColFixedClasses:c,tSlots:t.slots,tdEllipsisClass:a,tableBaseClass:s,tdAlignClasses:f,tableDraggableClasses:p,trStyles:h,classes:v,trAttributes:g,tRowHeight:A,hasLazyLoadHolder:y,getTrListeners:b}},methods:{renderEllipsisCell:function(e,t){var n=t.cellNode,r=e.col,o=e.colIndex,i=o<2?"top-left":"top-right",a=ce(r.ellipsis)?r.ellipsis(l.h,e):void 0,s=this.tableElm;return(0,l.Wm)(Xq,{placement:i,attach:s?function(){return s}:void 0,tooltipContent:a&&function(){return a},tooltipProps:"object"===S(r.ellipsis)?r.ellipsis:void 0},Mz(n)?n:{default:function(){return[n]}})},renderTd:function(e,t){var n,r=this,o=e.col,i=e.colIndex,a=e.rowIndex,s=t.cellSpans,c=t.dataLength,d=t.rowAndColFixedPosition,f=Uz(e,this.tSlots,{cellEmptyContent:t.cellEmptyContent}),p=mz(o,i,d,this.tableColFixedClasses),h=ce(o.className)?o.className(jz(jz({},e),{},{type:"td"})):o.className,g=[p.classes,h,(n={},u(n,this.tdEllipsisClass,o.ellipsis),u(n,this.tableBaseClass.tdLastRow,a+s.rowspan===c),u(n,this.tableBaseClass.tdFirstCol,0===i&&this.rowspanAndColspan),u(n,this.tdAlignClasses[o.align],o.align&&"left"!==o.align),u(n,this.tableDraggableClasses.handle,"drag"===o.colKey),n)],v=function(t){var n,o=jz(jz({},e),{},{e:t});null===(n=r.onCellClick)||void 0===n||n.call(r,o)},m=jz(jz({},o.attrs),s);return(0,l.Wm)("td",(0,l.dG)({key:"".concat(o.colKey,"_").concat(i),class:g,style:p.style},m,{onClick:v}),[o.ellipsis?this.renderEllipsisCell(e,{cellNode:f}):f])}},render:function(){var e,t,n=this,r=this.row,o=this.rowIndex,i=this.dataLength,a=this.rowAndColFixedPosition,s=null===(e=this.columns)||void 0===e?void 0:e.map((function(e,t){var s={},c={row:r,col:e,rowIndex:o,colIndex:t},u=null;if(n.skipSpansMap.size){var l,d,f=Dz(r,n.rowKey,e.colKey,t);if(u=n.skipSpansMap.get(f)||{},(null===(l=u)||void 0===l?void 0:l.rowspan)>1&&(s.rowspan=u.rowspan),(null===(d=u)||void 0===d?void 0:d.colspan)>1&&(s.colspan=u.colspan),u.skipped)return null}return n.renderTd(c,{dataLength:i,rowAndColFixedPosition:a,columnLength:n.columns.length,cellSpans:s,cellEmptyContent:n.cellEmptyContent})}));return(0,l.Wm)("tr",(0,l.dG)({ref:"trRef"},this.trAttributes,{style:null===(t=this.trStyles)||void 0===t?void 0:t.style,class:this.classes},this.getTrListeners(r,o)),[this.hasLazyLoadHolder?[(0,l.Wm)("td",{style:{height:"".concat(this.tRowHeight,"px"),border:"none"}},null)]:s])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wz(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Fz.concat("cell-click");var Qz=["rowKey","rowClassName","rowAttributes","loading","empty","fixedRows","firstFullRow","lastFullRow","rowspanAndColspan","scroll","cellEmptyContent","onCellClick","onPageChange","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup","onScroll","onScrollX","onScrollY"],Gz=(0,l.aZ)({name:"TBody",props:Hz({data:Array,columns:Array,rowAndColFixedPosition:Map,showColumnShadow:Object,tableElm:{},tableWidth:Number,isWidthOverflow:Boolean,translateY:Number,scrollType:String,isVirtual:Boolean,rowHeight:Number,trs:Map,bufferSize:Number,tableContentElm:{},handleRowMounted:Function,renderExpandedRow:Function,firstFullRow:[String,Function],lastFullRow:[String,Function]},HS(Wq,Qz)),setup:function(e){var t=op(),n=(0,d.BK)(e),r=n.data,o=n.columns,i=n.rowKey,a=n.rowspanAndColspan,s=Is("table"),c=s.t,u=s.globalConfig,f=qq(),p=f.tableFullRowClasses,h=f.tableBaseClass,g=xz(r,o,i,a),v=g.skipSpansMap,m=(0,l.Fl)((function(){return[h.body]}));return{t:c,globalConfig:u,renderTNode:t,tableFullRowClasses:p,tbodyClasses:m,tableBaseClass:h,skipSpansMap:v}},render:function(){var e,t,n=this,r=function(e){return(0,l.Wm)("tr",{class:[n.tableBaseClass.emptyRow,u({},n.tableFullRowClasses.base,n.isWidthOverflow)]},[(0,l.Wm)("td",{colspan:e.length},[(0,l.Wm)("div",{class:[n.tableBaseClass.empty,u({},n.tableFullRowClasses.innerFullRow,n.isWidthOverflow)],style:n.isWidthOverflow?{width:"".concat(n.tableWidth,"px")}:{}},[n.renderTNode("empty")||n.t(n.globalConfig.empty)])])])},o=function(e,t){var r=bf(t),o=n.renderTNode(r);if(["",null,void 0,!1].includes(o))return null;var i=n.isWidthOverflow&&n.columns.find((function(e){return"left"===e.fixed})),a=[n.tableFullRowClasses.base,n.tableFullRowClasses[r]];return(0,l.Wm)("tr",{class:a,key:"key-full-row-".concat(t)},[(0,l.Wm)("td",{colspan:e},[(0,l.Wm)("div",{class:u({},n.tableFullRowClasses.innerFullRow,i),style:i?{width:"".concat(n.tableWidth,"px")}:{}},[(0,l.Wm)("div",{class:n.tableFullRowClasses.innerFullElement},[o])])])])},i=this.columns.length,a=this.data.length,s=[],c=["rowAndColFixedPosition","scroll","tableElm","tableContentElm","trs","bufferSize","isVirtual","rowHeight","scrollType"];null===(e=this.data)||void 0===e||e.forEach((function(e,t){var r=Hz(Hz({},HS(n.$props,Bz)),{},{rowKey:n.rowKey||"id",row:e,columns:n.columns,rowIndex:t,dataLength:a,skipSpansMap:n.skipSpansMap},HS(n.$props,c));n.onCellClick&&(r.onCellClick=n.onCellClick);var o=(0,l.Wm)(Vz,(0,l.dG)({key:"".concat(sT(e,n.rowKey||"id"),"__").concat(t)},r,{onRowMounted:n.handleRowMounted}),n.$slots);if(s.push(o),n.renderExpandedRow){var i={row:e,index:t,columns:n.columns,tableWidth:n.tableWidth,isWidthOverflow:n.isWidthOverflow},u=n.renderExpandedRow(i);u&&s.push(u)}}));var d=[o(i,"first-full-row")].concat(s,[o(i,"last-full-row")]),f=!(null!==(t=this.data)&&void 0!==t&&t.length)&&!this.loading&&!this.firstFullRow&&!this.lastFullRow,p="translate(0, ".concat(this.translateY,"px)"),h={transform:p,"-ms-transform":p,"-moz-transform":p,"-webkit-transform":p};return(0,l.Wm)("tbody",{class:this.tbodyClasses,style:this.isVirtual&&Hz({},h)},[f?r(this.columns):d])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Kz(e){return e?isNaN(Number(e))?e:"".concat(e,"px"):e}function qz(e){var t=(0,d.BK)(e),n=t.size,r=t.bordered,o=t.stripe,i=t.hover,a=t.verticalAlign,s=t.height,c=t.maxHeight,f=t.tableContentWidth,p=qq(),h=p.tableBaseClass,g=p.tableAlignClasses,v=P_(),m=v.sizeClassNames,y=(0,l.Fl)((function(){var t;return[h.table,(t={},u(t,m[n.value],"medium"!==n.value),u(t,h.bordered,r.value),u(t,h.striped,o.value),u(t,h.hover,i.value),u(t,h.loading,e.loading),u(t,h.affixedHeader,e.headerAffixedTop),u(t,h.rowspanAndColspan,e.rowspanAndColspan),u(t,g[a.value],"middle"!==a.value),t)]})),A=(0,l.Fl)((function(){return{height:Kz(s.value),maxHeight:Kz(c.value)}})),b=(0,l.Fl)((function(){return{width:Kz(f.value)}}));return{tableClasses:y,tableElementStyles:b,tableContentStyles:A}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zz(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jz(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var Xz=(0,l.aZ)({name:"THead",props:{isFixedHeader:Boolean,rowAndColFixedPosition:Map,thWidthList:Object,bordered:Boolean,isMultipleHeader:Boolean,resizable:Boolean,spansAndLeafNodes:Object,thList:Array,columnResizeParams:Object},setup:function(e,t){var n=t.slots,r=(0,d.iH)(),o=qq(),i=o.tableHeaderClasses,a=o.tableBaseClass,s=Is(),c=s.classPrefix,f=(0,l.Fl)((function(){var t;return[i.header,(t={},u(t,i.fixed,e.isFixedHeader),u(t,a.bordered,e.bordered&&e.isMultipleHeader),u(t,i.multipleHeader,e.isMultipleHeader),t)]}));return Yz(Yz({},o),{},{theadClasses:f,classPrefix:c,theadRef:r,slots:n})},render:function(){var e=this,t=function(t,n){var r=new Map,o=e.spansAndLeafNodes.rowspanAndColspanMap;return e.thList.map((function(i,a){var s=i.map((function(i,s){var c,d,f=o.get(i);if(0===s&&f.rowspan>1)for(var p=a+1;p<a+f.rowspan;p++)r.set(e.thList[p][0],!0);var h=mz(i,s,t,e.tableColFixedClasses),g={col:i,colIndex:s,row:{},rowIndex:-1},v=ce(i.className)?i.className(Yz(Yz({},g),{},{type:"th"})):i.className,m=[h.classes,v,(c={},u(c,e.tableHeaderClasses.thBordered,r.get(i)),u(c,"".concat(e.classPrefix,"-table__th-").concat(i.colKey),i.colKey),u(c,e.tdAlignClasses[i.align],i.align&&"left"!==i.align),c)],y=!(null!==(d=i.children)&&void 0!==d&&d.length),A=y&&null!==n&&void 0!==n&&n[i.colKey]?"".concat(null===n||void 0===n?void 0:n[i.colKey],"px"):void 0,b=Yz(Yz({},h.style||{}),{},{width:A}),E=tz(e.slots,i,s),_=e.resizable?{onMousedown:function(t){var n,r;return null===(n=e.columnResizeParams)||void 0===n||null===(r=n.onColumnMousedown)||void 0===r?void 0:r.call(n,t,i)},onMousemove:function(t){var n,r;return null===(n=e.columnResizeParams)||void 0===n||null===(r=n.onColumnMouseover)||void 0===r?void 0:r.call(n,t)}}:{},w=ce(i.ellipsisTitle)?i.ellipsisTitle(l.h,{col:i,colIndex:s}):void 0;return(0,l.Wm)("th",(0,l.dG)({key:i.colKey,"data-colkey":i.colKey,class:m,style:b},f,_),[(0,l.Wm)("div",{class:e.tableBaseClass.thCellInner},[i.ellipsis&&!1!==i.ellipsisTitle&&null!==i.ellipsisTitle?(0,l.Wm)(Xq,{placement:"bottom",attach:e.theadRef?function(){return e.theadRef}:void 0,tooltipContent:w&&function(){return w},tooltipProps:"object"===S(i.ellipsisTitle)?i.ellipsisTitle:void 0},Jz(E)?E:{default:function(){return[E]}}):E])])}));return(0,l.Wm)("tr",{key:a},[s])}))};return(0,l.Wm)("thead",{ref:"theadRef",class:this.theadClasses},[t(this.rowAndColFixedPosition,this.thWidthList)])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function Zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zz(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eY=(0,l.aZ)({name:"TFoot",props:{rowKey:String,isFixedHeader:Boolean,rowAndColFixedPosition:Map,footData:Array,columns:Array,rowAttributes:[Array,Object,Function],rowClassName:[Array,String,Object,Function],thWidthList:[Object],footerSummary:[String,Function],rowspanAndColspanInFooter:Function},setup:function(e,t){var n=op(),r=qq(),o=(0,d.BK)(e),i=o.footData,a=o.columns,s=o.rowKey,c=o.rowspanAndColspanInFooter,u=xz(i,a,s,c),f=u.skipSpansMap,p=function(e){var n=e.col,r=e.row;return ce(n.foot)?n.foot(l.h,e):Ls(n.foot)&&t.slots[n.foot]?t.slots[n.foot](e)||n.foot:n.foot||sT(r,n.colKey)};return $z($z({skipSpansMap:f},r),{},{renderTFootCell:p,renderTNode:n})},render:function(){var e,t=this;if(!this.columns)return null;var n=[this.tableFooterClasses.footer,u({},this.tableFooterClasses.fixed,this.isFixedHeader)],r=null===(e=this.footData)||void 0===e?void 0:e.map((function(e,n){var r=Sz(t.rowAttributes,{row:e,rowIndex:n,type:"foot"}),o=Cz(t.rowClassName,{row:e,rowIndex:n,type:"foot"},t.rowKey||"id");return(0,l.Wm)("tr",(0,l.dG)(r,{key:n,class:o}),[t.columns.map((function(r,o){var i,a={},s=null;if(t.skipSpansMap.size){var c,u,d=Dz(e,t.rowKey,r.colKey,o);if(s=t.skipSpansMap.get(d)||{},(null===(c=s)||void 0===c?void 0:c.rowspan)>1&&(a.rowspan=s.rowspan),(null===(u=s)||void 0===u?void 0:u.colspan)>1&&(a.colspan=s.colspan),s.skipped)return null}var f=mz(r,o,t.rowAndColFixedPosition,t.tableColFixedClasses),p=$z({},f.style);return null!==(i=t.thWidthList)&&void 0!==i&&i[r.colKey]&&(p.width="".concat(t.thWidthList[r.colKey],"px")),(0,l.Wm)("td",(0,l.dG)($z({key:r.colKey},a),{class:f.classes,style:p}),[t.renderTFootCell({row:e,rowIndex:n,col:r,colIndex:o})])}))])})),o=this.renderTNode("footerSummary");return o||this.footData&&this.footData.length?(0,l.Wm)("tfoot",{ref:"tFooterRef",class:n},[o&&(0,l.Wm)("tr",{class:this.tableFullRowClasses.base},[(0,l.Wm)("td",{colspan:this.columns.length},[(0,l.Wm)("div",{class:this.tableFullRowClasses.innerFullElement},[o])])]),r]):null}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function tY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rY(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var oY=["page-change","cell-click","scroll","scrollX","scrollY"],iY=(Fz.map((function(e){return"row-".concat(e)})).concat(oY),(0,l.aZ)({name:"TBaseTable",props:nY(nY({},Wq),{},{renderExpandedRow:Function,onLeafColumnsChange:Function}),setup:function(e,t){var n,r=op(),o=(0,d.iH)(),i=(0,d.iH)(),a=(0,d.iH)(),s=(0,d.iH)(0),c=qq(),f=c.virtualScrollClasses,p=c.tableLayoutClasses,h=c.tableBaseClass,g=c.tableColFixedClasses,v=qz(e),m=v.tableClasses,y=v.tableContentStyles,A=v.tableElementStyles,b=Is("table"),E=b.globalConfig,_=nz(e),w=_.isMultipleHeader,S=_.spansAndLeafNodes,C=_.thList,I=(0,l.Fl)((function(){var t;return(null===(t=S.value)||void 0===t?void 0:t.leafColumns)||e.columns})),O=Az(e,t,I),T=O.scrollbarWidth,R=O.virtualScrollHeaderPos,N=O.tableWidth,P=O.tableElmWidth,k=O.tableContentRef,D=O.isFixedHeader,x=O.isWidthOverflow,L=O.isFixedColumn,j=O.thWidthList,M=O.showColumnShadow,B=O.rowAndColFixedPosition,F=O.setData,U=O.refreshTable,V=O.emitScrollEvent,W=O.setUseFixedTableElmRef,H=O.updateColumnFixedShadow,Q=O.getThWidthList,G=O.updateThWidthList,K=O.setRecalculateColWidthFuncRef,q=O.addTableResizeObserver,z=wz(e),Y=z.affixHeaderRef,J=z.affixFooterRef,X=z.horizontalScrollbarRef,Z=z.paginationRef,$=z.showAffixHeader,ee=z.showAffixFooter,te=z.showAffixPagination,ne=z.onHorizontalScroll,re=z.setTableContentRef,oe=z.updateAffixHeaderOrFooter,ie=_z(e),ae=ie.dataSource,se=ie.isPaginateData,ce=ie.renderPagination,ue=pz(k,U,Q,G),le=ue.resizeLineRef,de=ue.resizeLineStyle,fe=ue.recalculateColWidth,pe=ue.setEffectColMap;K(fe);var he=(0,l.Fl)((function(){var t;return[m.value,(t={},u(t,h.headerFixed,D.value),u(t,h.columnFixed,L.value),u(t,h.widthOverflow,x.value),u(t,h.multipleHeader,w.value),u(t,g.leftShadow,M.left),u(t,g.rightShadow,M.right),u(t,h.columnResizableTable,e.resizable),t)]})),ge=(0,l.Fl)((function(){return[[p[e.tableLayout]],u({},h.fullHeight,e.height)]})),ve=(0,l.Fl)((function(){var t,n;return"virtual"===be&&(null===(t=e.data)||void 0===t?void 0:t.length)>((null===(n=e.scroll)||void 0===n?void 0:n.threshold)||100)})),me=(0,l.Fl)((function(){return e.bordered&&D.value&&(w.value&&x.value||!w.value)}));(0,l.YP)(i,(function(){W(i.value)})),(0,l.YP)((function(){return[e.data,ae]}),(function(){F(se.value?ae.value:e.data)})),(0,l.YP)(S,(function(){var t;null===(t=e.onLeafColumnsChange)||void 0===t||t.call(e,S.value.leafColumns)}),{immediate:!0}),(0,l.YP)(C,(function(){pe(C.value[0],null)}),{immediate:!0});var ye=function(){(0,l.Y3)((function(){ne(),oe()}))},Ae=e.scroll||{},be=Ae.type,Ee=Ae.rowHeight,_e=Ae.bufferSize,we=void 0===_e?20:_e,Se=Ae.isFixedRowHeight,Ce=void 0!==Se&&Se,Ie=(0,d.BK)(e),Oe=Ie.data,Te="virtual"===be?QN({container:k,data:Oe,fixedHeight:Ce,lineHeight:Ee,bufferSize:we,threshold:null===(n=e.scroll)||void 0===n?void 0:n.threshold}):{},Re=Te.trs,Ne=void 0===Re?null:Re,Pe=Te.scrollHeight,ke=void 0===Pe?null:Pe,De=Te.visibleData,xe=void 0===De?null:De,Le=Te.translateY,je=void 0===Le?null:Le,Me=Te.handleScroll,Be=void 0===Me?null:Me,Fe=Te.handleRowMounted,Ue=void 0===Fe?null:Fe;(0,l.JJ)("tableContentRef",k),(0,l.JJ)("rowHeightRef",(0,d.iH)(Ee));var Ve=0,We=function(e){var t=e.target||e.srcElement,n=t.scrollTop;Ve!==n?ve.value&&Be():(Ve=0,H(t)),Ve=n,V(e)},He=function(){var e;i.value&&(s.value=null===(e=i.value.querySelector("tfoot"))||void 0===e?void 0:e.getBoundingClientRect().height)};return(0,l.YP)(k,(function(){re(k.value)})),(0,l.YP)(i,He),(0,l.YP)(o,(function(e){q(e)})),(0,l.bv)((function(){He(),re(k.value),q(o.value)})),{thList:C,isVirtual:ve,globalConfig:E,tableFootHeight:s,virtualScrollHeaderPos:R,tableWidth:N,tableElmWidth:P,tableRef:o,tableElmRef:i,tableBaseClass:h,spansAndLeafNodes:S,dynamicBaseTableClasses:he,tableContentStyles:y,tableElementStyles:A,virtualScrollClasses:f,tableLayoutClasses:p,tableElmClasses:ge,tableContentRef:k,isFixedHeader:D,isWidthOverflow:x,isFixedColumn:L,rowAndColFixedPosition:B,showColumnShadow:M,thWidthList:j,isPaginateData:se,dataSource:ae,scrollType:be,rowHeight:Ee,trs:Ne,bufferSize:we,scrollHeight:ke,visibleData:xe,translateY:je,affixHeaderRef:Y,affixFooterRef:J,paginationRef:Z,showAffixHeader:$,showAffixFooter:ee,scrollbarWidth:T,isMultipleHeader:w,showRightDivider:me,resizeLineRef:le,resizeLineStyle:de,columnResizeParams:ue,horizontalScrollbarRef:X,tableBodyRef:a,showAffixPagination:te,renderPagination:ce,renderTNode:r,handleRowMounted:Ue,onFixedChange:ye,onHorizontalScroll:ne,updateAffixHeaderOrFooter:oe,refreshTable:U,onInnerVirtualScroll:We}},render:function(){var e,t,n,r,o,i=this,a=this.rowAndColFixedPosition,s=this.isPaginateData?this.dataSource:this.data,c=(null===(e=this.spansAndLeafNodes)||void 0===e?void 0:e.leafColumns)||this.columns,d=void 0===this.allowResizeColumnWidth?this.resizable:this.allowResizeColumnWidth;d&&"auto"===this.tableLayout&&qA.warn("Table","table-layout can not be `auto` for resizable column table, set `table-layout: fixed` please.");var f="fixed"===this.tableLayout&&this.isWidthOverflow?"100px":void 0,p=!(!this.isVirtual||this.headerAffixedTop||!this.bordered)&&/Chrome/.test(null===(t=navigator)||void 0===t?void 0:t.userAgent),h=this.bordered&&p?1:0,g=((null===(n=this.affixHeaderRef)||void 0===n?void 0:n.getBoundingClientRect().height)||0)-this.scrollbarWidth-h,v=Wq.headerAffixedTop?Number(this.showAffixHeader):1,m={width:"".concat(this.tableWidth,"px"),height:"".concat(g,"px"),opacity:v,marginTop:p?"".concat(h,"px"):0},y=this.bordered?1:0,A=Boolean((this.headerAffixedTop||this.isVirtual)&&this.tableWidth)&&(0,l.Wm)("div",{ref:"affixHeaderRef",style:{width:"".concat(this.tableWidth-y,"px"),opacity:Number(this.showAffixHeader)},class:["scrollbar",u({},this.tableBaseClass.affixedHeaderElm,this.headerAffixedTop||this.isVirtual)]},[(0,l.Wm)("table",{class:this.tableElmClasses,style:nY(nY({},this.tableElementStyles),{},{width:"".concat(this.tableElmWidth,"px")})},[(0,l.Wm)("colgroup",null,[c.map((function(e){var t={width:Kz(i.thWidthList[e.colKey]||e.width)||f};return e.minWidth&&(t.minWidth=Kz(e.minWidth)),(0,l.Wm)("col",{key:e.colKey,style:t},null)}))]),(0,l.Wm)(Xz,{isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams},this.$slots)])]),b=(0,l.Wm)("div",{class:this.tableBaseClass.affixedHeaderWrap,style:m},[A]),E=this.isWidthOverflow?this.scrollbarWidth:0;this.bordered&&(E+=1);var _=Boolean(this.footerAffixedBottom&&(null===(r=this.footData)||void 0===r?void 0:r.length)&&this.tableWidth)&&(0,l.Wm)(xh,(0,l.dG)({class:this.tableBaseClass.affixedFooterWrap,onFixedChange:this.onFixedChange,offsetBottom:E||0},Oz(this.footerAffixedBottom),{style:{marginTop:"".concat(-1*(this.tableFootHeight+E),"px")}}),{default:function(){return[(0,l.Wm)("div",{ref:"affixFooterRef",style:{width:"".concat(i.tableWidth-y,"px"),opacity:Number(i.showAffixFooter)},class:["scrollbar",u({},i.tableBaseClass.affixedFooterElm,i.footerAffixedBottom||i.isVirtual)]},[(0,l.Wm)("table",{class:i.tableElmClasses,style:nY(nY({},i.tableElementStyles),{},{width:"".concat(i.tableElmWidth,"px")})},[(0,l.Wm)("colgroup",null,[c.map((function(e){var t={width:Kz(i.thWidthList[e.colKey]||e.width)||f};return e.minWidth&&(t.minWidth=Kz(e.minWidth)),(0,l.Wm)("col",{key:e.colKey,style:t},null)}))]),(0,l.Wm)(eY,{rowKey:i.rowKey,isFixedHeader:i.isFixedHeader,rowAndColFixedPosition:a,footData:i.footData,columns:c,rowAttributes:i.rowAttributes,rowClassName:i.rowClassName,thWidthList:i.thWidthList,footerSummary:i.footerSummary,rowspanAndColspanInFooter:i.rowspanAndColspanInFooter},i.$slots)])])]}}),w="translate(0, ".concat(this.scrollHeight,"px)"),S={transform:w,"-ms-transform":w,"-moz-transform":w,"-webkit-transform":w},C=nY({rowAndColFixedPosition:a,showColumnShadow:this.showColumnShadow,data:this.isVirtual?this.visibleData:s,columns:this.spansAndLeafNodes.leafColumns,tableElm:this.tableRef,tableWidth:this.tableWidth,isWidthOverflow:this.isWidthOverflow,isVirtual:this.isVirtual,translateY:this.translateY,scrollType:this.scrollType,rowHeight:this.rowHeight,trs:this.trs,bufferSize:this.bufferSize,scroll:this.scroll,cellEmptyContent:this.cellEmptyContent,tableContentElm:this.tableContentRef,handleRowMounted:this.handleRowMounted,renderExpandedRow:this.renderExpandedRow},HS(this.$props,Qz)),I=(0,l.Wm)("div",{ref:"tableContentRef",class:this.tableBaseClass.content,style:this.tableContentStyles,onScroll:this.onInnerVirtualScroll},[this.isVirtual&&(0,l.Wm)("div",{class:this.virtualScrollClasses.cursor,style:S},null),(0,l.Wm)("table",{ref:"tableElmRef",class:this.tableElmClasses,style:this.tableElementStyles},[(0,l.Wm)("colgroup",null,[c.map((function(e){var t={width:Kz(i.thWidthList[e.colKey]||e.width)||f};return e.minWidth&&(t.minWidth=Kz(e.minWidth)),(0,l.Wm)("col",{key:e.colKey,style:t},null)}))]),(0,l.Wm)(Xz,{isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams},this.$slots),(0,l.Wm)(Gz,C,this.$slots),(0,l.Wm)(eY,{rowKey:this.rowKey,isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:a,footData:this.footData,columns:c,rowAttributes:this.rowAttributes,rowClassName:this.rowClassName,footerSummary:this.footerSummary,rowspanAndColspanInFooter:this.rowspanAndColspanInFooter},this.$slots)])]),O=this.renderTNode("loading"),T=void 0!==this.loading&&(0,l.Wm)(Qf,(0,l.dG)({loading:!!this.loading,text:O?function(){return O}:void 0,attach:this.tableRef?function(){return i.tableRef}:void 0,showOverlay:!0,size:"small"},this.loadingProps),null),R=this.renderTNode("topContent"),N=this.renderTNode("bottomContent"),P=(0,l.Wm)("div",{ref:"paginationRef",class:this.tableBaseClass.paginationWrap,style:{opacity:Number(this.showAffixPagination)}},[this.renderPagination()]),k=!!N&&(0,l.Wm)("div",{class:this.tableBaseClass.bottomContent},[N]);return(0,l.Wm)("div",{ref:"tableRef",class:this.dynamicBaseTableClasses,style:"position: relative"},[!!R&&(0,l.Wm)("div",{class:this.tableBaseClass.topContent},[R]),!(!this.isVirtual&&!this.headerAffixedTop)&&(this.headerAffixedTop?(0,l.Wm)(xh,(0,l.dG)({offsetTop:0},Oz(this.headerAffixedTop),{onFixedChange:this.onFixedChange}),rY(b)?b:{default:function(){return[b]}}):this.isFixedHeader&&b),I,_,T,this.showRightDivider&&(0,l.Wm)("div",{class:this.tableBaseClass.scrollbarDivider,style:{right:"".concat(this.scrollbarWidth,"px"),height:"".concat(null===(o=this.tableContentRef)||void 0===o?void 0:o.getBoundingClientRect().height,"px")}},null),k,this.horizontalScrollAffixedBottom&&(0,l.Wm)(xh,(0,l.dG)({offsetBottom:0},Oz(this.horizontalScrollAffixedBottom),{style:{marginTop:"-".concat(2*this.scrollbarWidth,"px")}}),{default:function(){return[(0,l.Wm)("div",{ref:"horizontalScrollbarRef",class:["scrollbar",i.tableBaseClass.obviousScrollbar],style:{width:"".concat(i.tableWidth,"px"),overflow:"auto",opacity:Number(i.showAffixFooter)}},[(0,l.Wm)("div",{style:{width:"".concat(i.tableElmWidth,"px"),height:"5px"}},null)])]}}),this.paginationAffixedBottom?(0,l.Wm)(xh,(0,l.dG)({offsetBottom:0},Oz(this.paginationAffixedBottom)),rY(P)?P:{default:function(){return[P]}}):P,(0,l.Wm)("div",{ref:"resizeLineRef",class:this.tableBaseClass.resizeLine,style:this.resizeLineStyle},null)])}})),aY={asyncLoading:{type:[String,Function]},columnController:{type:Object},columnControllerVisible:{type:Boolean,default:void 0},defaultColumnControllerVisible:{type:Boolean,default:void 0},columns:{type:Array,default:function(){return[]}},displayColumns:{type:Array,default:void 0},defaultDisplayColumns:{type:Array},dragSort:{type:String,validator:function(e){return!e||["row","row-handler","col","row-handler-col","drag-col"].includes(e)}},dragSortOptions:{type:Object},editableCellState:{type:Function},editableRowKeys:{type:Array},expandIcon:{type:[Boolean,Function],default:!0},expandOnRowClick:Boolean,expandedRow:{type:[String,Function]},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:function(){return[]}},filterIcon:{type:Function},filterRow:{type:[String,Function]},filterValue:{type:Object,default:void 0},defaultFilterValue:{type:Object},hideSortTips:Boolean,indeterminateSelectedRowKeys:{type:Array},multipleSort:Boolean,selectedRowKeys:{type:Array,default:void 0},defaultSelectedRowKeys:{type:Array,default:function(){return[]}},sort:{type:[Object,Array],default:void 0},defaultSort:{type:[Object,Array]},sortIcon:{type:Function},sortOnRowDraggable:Boolean,onAsyncLoadingClick:Function,onCellClick:Function,onChange:Function,onColumnChange:Function,onColumnControllerVisibleChange:Function,onDataChange:Function,onDisplayColumnsChange:Function,onDragSort:Function,onExpandChange:Function,onFilterChange:Function,onRowEdit:Function,onRowValidate:Function,onSelectChange:Function,onSortChange:Function,onValidate:Function};function sY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sY(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uY={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M11 8a3 3 0 11-6 0 3 3 0 016 0zm-1 0a2 2 0 10-4 0 2 2 0 004 0z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8 1.25l6.06 3.38v6.75L8 14.75l-6.06-3.38V4.63L8 1.25zM2.94 5.21v5.58L8 13.6l5.06-2.82V5.2L8 2.4 2.94 5.21z",fillOpacity:.9}}]},lY=(0,l.aZ)({name:"SettingIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-setting",o.value])),s=(0,l.Fl)((()=>cY(cY({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(uY,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function dY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pY=function(e){var t=fY({},e),n=document.createElement("div"),r=(0,d.iH)(!1),o=t.className,i=(0,l.aZ)({setup:function(e,n){var o=n.expose,i=(0,d.iH)(t);(0,l.bv)((function(){r.value=!0,document.activeElement.blur()}));var a=function(e){i.value=fY(fY({},t),e)};return o({update:a}),function(){var e=t.onClose||function(){r.value=!1};return delete t.className,(0,l.h)(HK,fY({onClose:e,visible:r.value},i.value))}}}),a=(0,f.ri)(i).mount(n);o&&o.split(" ").forEach((function(e){a.$el.classList.add(e.trim())})),t.style&&(a.$el.style.cssText+=t.style);var s=ic(t.attach);s?s.appendChild(n):console.error("attach is not exist");var c={show:function(){r.value=!0},hide:function(){r.value=!1},update:function(e){a.update(e)},destroy:function(){r.value=!1,setTimeout((function(){n.parentNode.removeChild(n)}),300)}};return c},hY=function(e){return pY(e)},gY=function(e){var t=fY({},e);return t.cancelBtn=null,pY(t)},vY={confirm:hY,alert:gY},mY=pY;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function yY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bY(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=0,r=e.length;n<r;n++){var o,i=e[n];i.colKey&&t.add(i.colKey),null!==(o=i.children)&&void 0!==o&&o.length&&bY(i.children,t)}return t}function EY(e,t){var n=Is("table"),r=n.classPrefix,o=n.globalConfig,i=Tg({SettingIcon:lY}),a=i.SettingIcon,s=(0,d.BK)(e),f=s.columns,p=s.columnController,h=s.displayColumns,g=s.columnControllerVisible,m=(0,d.iH)(null),y=(0,l.Fl)((function(){var e,t=((null===(e=p.value)||void 0===e?void 0:e.fields)||c(bY(f.value))).filter((function(e){return e}));return new Set(t)})),A=c(bY(f.value)),b=zA(h,e.defaultDisplayColumns||A,e.onDisplayColumnsChange,"displayColumns"),E=v(b,2),_=E[0],w=E[1],S=(0,d.iH)(h.value||e.defaultDisplayColumns||A),C=(0,l.Fl)((function(){return O(f.value)})),I=(0,l.Fl)((function(){return yN(S.value,c(y.value))}));function O(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=function(r,o){var i,a=e[r];a.colKey&&n.push({label:function(){return tz(t.slots,a,r)},value:a.colKey,disabled:!y.value.has(a.colKey)}),null!==(i=a.children)&&void 0!==i&&i.length&&O(a.children,n)},o=0,i=e.length;o<i;o++)r(o,i);return n}(0,l.YP)([h],(function(t){var n=v(t,1),r=n[0];S.value=r||e.defaultDisplayColumns||A}));var T=function(t,n){var r;S.value=t;var o={columns:t,type:n.type,currentColumn:Iz(f.value,String(n.current)),e:n.e};null===(r=e.onColumnChange)||void 0===r||r.call(e,o)},R=function(t,n){if(t){var r,o,i=(null===(r=C.value)||void 0===r?void 0:r.map((function(e){return e.value})))||[];S.value=i,null===(o=e.onColumnChange)||void 0===o||o.call(e,{type:"check",columns:i,e:n.e})}else{var a,s=C.value.filter((function(e){return e.disabled})).map((function(e){return e.value}));S.value=s,null===(a=e.onColumnChange)||void 0===a||a.call(e,{type:"uncheck",columns:s,e:n.e})}},N=function(){var n;m.value=mY.confirm(AY({header:o.value.columnConfigTitleText,body:function(){var e,t,n="fixed-width"===(null===(e=p.value)||void 0===e?void 0:e.displayType)?"fixed":"auto",i=I.value.length,a=i===y.value.size,s=i>0&&i<y.value.size,c=(0,l.Wm)("div",{class:["".concat(r.value,"-table__column-controller"),"".concat(r.value,"-table__column-controller--").concat(n)]},[(0,l.Wm)("div",{class:"".concat(r.value,"-table__column-controller-body")},[(0,l.Wm)("p",{class:"".concat(r.value,"-table__column-controller-desc")},[o.value.columnConfigDescriptionText]),(0,l.Wm)("div",{class:"".concat(r.value,"-table__column-controller-block")},[(0,l.Wm)(SN,{indeterminate:s,checked:a,onChange:R},{default:function(){return[o.value.selectAllText]}})]),(0,l.Wm)("div",{class:"".concat(r.value,"-table__column-controller-block")},[(0,l.Wm)(CN,(0,l.dG)({options:C.value},(null===(t=p.value)||void 0===t?void 0:t.checkboxProps)||{},{value:S.value,onChange:T}),null)])])]);return c},confirmBtn:o.value.confirmText,cancelBtn:o.value.cancelText,width:612,onConfirm:function(){var n;(w(c(S.value)),void 0===g.value)?m.value.hide():(null===(n=e.onColumnControllerVisibleChange)||void 0===n||n.call(e,!1,{trigger:"cancel"}),t.emit("update:columnControllerVisible",!1))},onClose:function(){var n;void 0===g.value?m.value.hide():(null===(n=e.onColumnControllerVisibleChange)||void 0===n||n.call(e,!1,{trigger:"confirm"}),t.emit("update:columnControllerVisible",!1))}},(null===(n=p.value)||void 0===n?void 0:n.dialogProps)||{}))};(0,l.YP)([g],(function(e){var t=v(e,1),n=t[0];void 0!==n&&(m.value?n?m.value.show():m.value.hide():n&&N())}),{immediate:!0});var P=function(){var t,n=!(!p.value||!Object.keys(p.value).length),i=n?p.value.placement||"top-right":"";if(n&&p.value.hideTriggerButton)return null;var s=["".concat(r.value,"-table__column-controller-trigger"),u({},"".concat(r.value,"-align-").concat(i),!!i)];return(0,l.Wm)("div",{class:s},[(0,l.Wm)(lp,(0,l.dG)({theme:"default",variant:"outline",onClick:N,content:o.value.columnConfigButtonText},null===(t=e.columnController)||void 0===t?void 0:t.buttonProps),{icon:function(){return(0,l.Wm)(a,null,null)}})])};return{tDisplayColumns:_,columnCheckboxKeys:S,checkboxOptions:C,renderColumnController:P}}function _Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_Y(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}mY.install=function(e){e.config.globalProperties.$dialog=pY,Object.keys(vY).forEach((function(t){e.config.globalProperties.$dialog[t]=vY[t]}))},Object.keys(vY).forEach((function(e){mY[e]=vY[e]}));var SY={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.2 5.2L9 8l-2.8 2.8.71.7 3.5-3.5-3.5-3.5-.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 118 1a7 7 0 010 14zm0-1A6 6 0 108 2a6 6 0 000 12z",fillOpacity:.9}}]},CY=(0,l.aZ)({name:"ChevronRightCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-chevron-right-circle",o.value])),s=(0,l.Fl)((()=>wY(wY({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(SY,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function IY(e,t){var n=(0,d.BK)(e),r=n.expandedRowKeys,o=op(),i=Is("table"),a=i.t,s=i.globalConfig,f=Tg({ChevronRightCircleIcon:CY}),p=f.ChevronRightCircleIcon,h=qq(),g=h.tableExpandClasses,m=h.positiveRotate90,y=h.tableFullRowClasses,A=zA(r,e.defaultExpandedRowKeys||[],e.onExpandChange,"expandedRowKeys"),b=v(A,2),E=b[0],_=b[1],w=(0,l.Fl)((function(){return Boolean(e.expandedRow||t.slots.expandedRow||t.slots["expanded-row"])})),S=(0,l.Fl)((function(){return!1!==e.expandIcon&&w.value})),C=(0,l.Fl)((function(){var t,n;return"left"===(null===(t=e.columns)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.fixed)})),I=function(t,n){e.expandOnRowClick&&t.stopPropagation();var r=sT(n,e.rowKey||"id"),o=E.value.indexOf(r),i=c(E.value);-1!==o?i.splice(o,1):i.push(r),_(i,{expandedRowData:e.data.filter((function(t){return i.includes(sT(t,e.rowKey||"id"))})),currentRowData:n})},O=function(t,n){var r=n.row,i=n.rowIndex,c=sT(r,e.rowKey||"id"),d=E.value.includes(c),f=o("expandIcon",{defaultNode:a(s.value.expandIcon)||(0,l.Wm)(p,null,null),params:{row:r,index:i}});if(!f)return null;var h=[g.iconBox,g[d?"expanded":"collapsed"],u({},m,d)];return(0,l.Wm)("span",{class:h,onClick:function(e){return I(e,r)}},[f])},T=function(){var e={colKey:"__EXPAND_ROW_ICON_COLUMN__",width:64,className:g.iconCell,fixed:C.value?"left":void 0,cell:O};return e},R=function(t){var n=sT(t.row,e.rowKey||"id");if(!E.value.includes(n))return null;var r=t.isWidthOverflow&&e.columns.find((function(e){return"left"===e.fixed}));return(0,l.Wm)("tr",{key:"expand_".concat(n),class:[g.row,u({},y.base,r)]},[(0,l.Wm)("td",{colspan:t.columns.length},[(0,l.Wm)("div",{class:[g.rowInner,u({},y.innerFullRow,r)],style:r?{width:"".concat(t.tableWidth,"px")}:{}},[(0,l.Wm)("div",{class:y.innerFullElement},[o("expandedRow",{params:t})])])])])},N=function(e){I(e.e,e.row)};return{showExpandedRow:w,showExpandIconColumn:S,getExpandColumn:T,renderExpandedRow:R,onInnerExpandRowClick:N}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function OY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RY(e,t){var n=(0,d.BK)(e),r=n.selectedRowKeys,o=n.columns,i=n.data,a=n.rowKey,s=(0,d.iH)(),u=zA(r,e.defaultSelectedRowKeys||[],e.onSelectChange,"selectedRowKeys"),f=v(u,2),p=f[0],h=f[1],g=(0,d.iH)(new Map),m=(0,l.Fl)((function(){return e.columns.find((function(e){var t=e.type;return["multiple","single"].includes(t)}))})),y=(0,l.Fl)((function(){return i.value.filter((function(e,t){return!b(e,t)}))})),A=(0,l.Fl)((function(){return yN(p.value,y.value.map((function(t){return sT(t,e.rowKey||"id")})))}));function b(e,t){return rz(m.value,e,t)}function E(){return function(){var e=A.value.length>0&&A.value.length<y.value.length,t=0!==A.value.length&&0!==y.value.length&&A.value.length===y.value.length;return(0,l.Wm)(SN,{checked:t,indeterminate:e,disabled:!y.value.length,onChange:C},null)}}function _(t){var n=t.col,r=t.row,o=void 0===r?{}:r,i=t.rowIndex,a=p.value.includes(sT(o,e.rowKey||"id")),s="function"===typeof n.disabled?n.disabled({row:o,rowIndex:i}):n.disabled,c=ce(n.checkProps)?n.checkProps({row:o,rowIndex:i}):n.checkProps,u=TY(TY({checked:a,disabled:s},c),{},{onClick:function(e){var t;"object"===S(e)&&"e"in e?null===(t=e.e)||void 0===t||t.stopPropagation():null===e||void 0===e||e.stopPropagation()},onChange:function(){return w(o)}});if("single"===n.type)return(0,l.Wm)(PU,u,null);if("multiple"===n.type){var d,f=!(null===(d=e.indeterminateSelectedRowKeys)||void 0===d||!d.length)&&e.indeterminateSelectedRowKeys.includes(sT(o,e.rowKey));return(0,l.Wm)(SN,(0,l.dG)({indeterminate:f},u),null)}return null}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=c(p.value),r=e.rowKey||"id",o=sT(t,r);g.value.set(o,t);var i=n.indexOf(o),a=-1!==i;if("multiple"===m.value.type)a?n.splice(i,1):n.push(o);else{if("single"!==m.value.type)return void qA.warn("Table","`column.type` must be one of `multiple` and `single`");n=a?[]:[o]}h(n,{selectedRowData:n.map((function(e){return g.value.get(e)})),currentRowKey:o,currentRowData:t,type:a?"uncheck":"check"})}function C(t){var n,o=e.rowKey||"id",i=y.value.map((function(e){return sT(e,o)})),a=(null===(n=r.value)||void 0===n?void 0:n.filter((function(e){return!i.includes(e)})))||[],s=t?[].concat(c(a),c(i)):c(a);h(s,{selectedRowData:t?s.map((function(e){return g.value.get(e)})):[],type:t?"check":"uncheck",currentRowKey:"CHECK_ALL_BOX"})}function I(e){var n=["multiple","single"].includes(e.type);return n?TY(TY({},e),{},{width:e.width||64,className:[t.checkCell,e.className],cell:function(e,t){return _(t)},title:"multiple"===e.type?E():""}):e}return(0,l.YP)([i,o,p,m,a],(function(){var n,r=function(e){return m.value.disabled(e)?t.disabled:""},o=null!==(n=m.value)&&void 0!==n&&n.disabled?r:void 0,i=new Set(p.value),a=function(n){var r=n.row,o=sT(r,e.rowKey||"id");return i.has(o)?t.selected:""},c=i.size?a:void 0;s.value=[o,c]}),{immediate:!0}),(0,l.YP)([i,a],(function(e){for(var t=v(e,2),n=t[0],r=t[1],o=0,i=n.length;o<i;o++)g.value.set(sT(n[o],r||"id"),n[o])}),{immediate:!0}),{selectedRowClassNames:s,formatToRowSelectColumn:I}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function NY(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var PY=(0,l.aZ)({name:"TSorterButton",props:{sortType:{type:String,default:"all"},sortOrder:{type:String,default:function(){return""}},sortIcon:Function,tooltipProps:Object,hideSortTips:Boolean},emits:["sort-icon-click"],setup:function(e,t){var n=qq(),r=n.tableSortClasses,o=n.negativeRotate180,i=ip(),a=Is("table"),s=a.t,c=a.globalConfig,u=Tg({ChevronDownIcon:kA}),d=u.ChevronDownIcon,f=(0,l.Fl)((function(){return"all"===e.sortType?["asc","desc"]:[e.sortType]})),p=function(e,n){t.emit("sort-icon-click",e,{descending:"desc"===n})};return{t:s,globalConfig:c,ChevronDownIcon:d,tableSortClasses:r,negativeRotate180:o,allowSortTypes:f,onSortIconClick:p,renderTNode:i}},methods:{getSortIcon:function(e,t){var n=this,r=this.ChevronDownIcon,o=this.t(this.globalConfig.sortIcon)||(0,l.Wm)(r,null,null),i=this.renderTNode("sortIcon",o),a=[t,this.tableSortClasses.sortIcon,this.tableSortClasses.iconDirection[e],u({},this.negativeRotate180,"asc"===e)];return(0,l.Wm)("span",{class:a,onClick:function(t){return n.onSortIconClick(t,e)}},[i])}},render:function(){var e=this,t=this.tableSortClasses,n=[t.trigger,u({},t.doubleIcon,this.allowSortTypes.length>1)],r={asc:this.globalConfig.sortAscendingOperationText,desc:this.globalConfig.sortDescendingOperationText},o=this.allowSortTypes.map((function(n){var o,i,a=n===e.sortOrder?t.iconActive:t.iconDefault,s=e.globalConfig.sortCancelOperationText,c=n===e.sortOrder?s:r[n];return(null!==(i=e.hideSortTips)&&void 0!==i?i:e.globalConfig.hideSortTips)?e.getSortIcon(n,a):(0,l.Wm)(By,(0,l.dG)({content:c,placement:"right"},e.tooltipProps,{showArrow:!1,class:e.tableSortClasses.iconDirection[n]}),NY(o=e.getSortIcon(n,a))?o:{default:function(){return[o]}})}));return(0,l.Wm)("div",{class:n},[o])}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function kY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xY(e,t){t.emit;var n=t.slots,r=(0,d.BK)(e),o=r.sort,i=r.data,a=(0,d.iH)(),s=zA(o,e.defaultSort,e.onSortChange,"sort"),u=v(s,2),f=u[0],p=u[1],h=zA(i,[],e.onDataChange,"data"),g=v(h,2),m=g[0],y=g[1],A=(0,l.Fl)((function(){return _(e.columns)})),b=(0,l.Fl)((function(){var e=f.value;return e?Array.isArray(e)?e:[e]:[]})),E=(0,l.Fl)((function(){var e={};return b.value.forEach((function(t,n){var r=t.sortBy;e[r]=DY({index:n},t)})),e}));function _(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=e.length;n<r;n++){var o,i=e[n];ce(i.sorter)&&(t[i.colKey]=i.sorter),null!==(o=i.children)&&void 0!==o&&o.length&&_(i.children,t)}return t}function w(e){var t=e;if(Object.keys(A.value).length){a.value||(a.value=m.value);var n=!t||t instanceof Array&&!t.length,r=!(t instanceof Array)&&!(null!==t&&void 0!==t&&t.sortBy);if(n||r)return y(a.value,{trigger:"sort"}),a.value;var o=t instanceof Array?t:[t],i=m.value.slice().sort((function(e,t){for(var n=0,r=0,i=o.length;r<i;r++){var a=o[r],s=A.value[a.sortBy];if(0!==n||!s)break;n=a.descending?s(t,e):s(e,t)}return n}));if(JSON.stringify(i)!==JSON.stringify(m.value))return y(i,{trigger:"sort"}),i}}function S(t,n){var r,o;if(e.multipleSort)o=O(t,n);else{var i=f.value instanceof Array?f.value[0]:f.value;o=I(t,i,n)}var a=w(o),s=a||m.value,c=s;p(o,{currentDataSource:c,col:t}),null===(r=e.onChange)||void 0===r||r.call(e,{sorter:o},{currentData:s,trigger:"sorter"})}function C(e){if(void 0!==e)return e?"desc":"asc"}function I(e,t,n){if(!t||t.sortBy!==e.colKey||t.descending!==n.descending)return{sortBy:e.colKey,descending:n.descending}}function O(e,t){var n=f.value;if(n instanceof Array){for(var r=e.colKey,o=c(n),i=0,a=n.length;i<a;i++)if(n[i].sortBy===r){var s=I(e,n[i],t);return s?o[i]=s:o.splice(i,1),o}return o.push({sortBy:r,descending:t.descending}),o}}function T(t){var r,o=t.col;if(!o.sorter)return null;var i={sortType:o.sortType,sortOrder:C(null===(r=E.value[o.colKey])||void 0===r?void 0:r.descending),sortIcon:e.sortIcon,hideSortTips:e.hideSortTips};return(0,l.Wm)(PY,(0,l.dG)(i,{onSortIconClick:function(e,t){return S(o,t)}}),{sortIcon:n.sortIcon})}return{renderSortIcon:T}}function LY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LY(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MY={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 3a1 1 0 011-1h10a1 1 0 011 1v1.79l-4.25 2.5V14h-3.5V7.29L2 4.79V3zm11 0H3v1.21l4.25 2.5V13h1.5V6.71L13 4.21V3z",fillOpacity:.9}}]},BY=(0,l.aZ)({name:"FilterIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-filter",o.value])),s=(0,l.Fl)((()=>jY(jY({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(MY,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function FY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VY=(0,l.aZ)({name:"TableFilterController",props:{column:Object,tFilterValue:Object,innerFilterValue:Object,tableFilterClasses:Object,isFocusClass:String,primaryTableElement:{},onVisibleChange:Function},emits:["inner-filter-change","reset","confirm"],setup:function(e){var t=(0,d.iH)(null),n=ip(),r=Is("table"),o=r.t,i=r.globalConfig,a=Tg({FilterIcon:BY}),s=a.FilterIcon,c=(0,d.iH)(!1),u=function(t){var n;c.value=t,null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)};return{t:o,globalConfig:i,FilterIcon:s,filterPopupVisible:c,triggerElementRef:t,renderTNode:n,onFilterPopupVisibleChange:u}},render:function(){var e,t=this,n=function(e){var n,r,o,i=["single","multiple","input"];if(!e.type||i.includes(e.filter.type)){var a={single:kU,multiple:CN,input:T_}[e.filter.type]||e.filter.component;if(a||e.filter.component){var s=UY(UY({options:["single","multiple"].includes(e.filter.type)?null===(n=e.filter)||void 0===n?void 0:n.list:void 0},(null===(r=e.filter)||void 0===r?void 0:r.props)||{}),{},{value:null===(o=t.innerFilterValue)||void 0===o?void 0:o[e.colKey],onChange:function(n){t.$emit("inner-filter-change",n,e)}});e.filter.confirmEvents&&e.filter.confirmEvents.forEach((function(n){s[n]=function(){t.$emit("confirm",e),t.filterPopupVisible=!1}}));var c=function(){var n;if(!a)return null;var r=!!a.setup;return"function"!==typeof e.filter.component||r?(0,l.Wm)(a,(0,l.dG)({value:null===(n=t.innerFilterValue)||void 0===n?void 0:n[e.colKey]},s),null):e.filter.component((function(e,t){var n="object"===S(t)&&"attrs"in t?t.attrs:{};return(0,l.h)(e,{props:UY(UY({},s),n)})}))};return(0,l.Wm)("div",{class:t.tableFilterClasses.contentInner},[c()])}}else console.error("TDesign Table Error: column.filter.type must be the following: ".concat(JSON.stringify(i)))},r=function(e){if(e.filter.showConfirmAndReset)return(0,l.Wm)("div",{class:t.tableFilterClasses.bottomButtons},[(0,l.Wm)(lp,{theme:"default",size:"small",onClick:function(){t.$emit("reset",e),t.filterPopupVisible=!1}},{default:function(){return[t.globalConfig.resetText]}}),(0,l.Wm)(lp,{theme:"primary",size:"small",onClick:function(){t.$emit("confirm",e),t.filterPopupVisible=!1}},{default:function(){return[t.globalConfig.confirmText]}})])},o=this.column,i=this.FilterIcon;if(!o.filter||o.filter&&!Object.keys(o.filter).length)return null;var a=this.t(this.globalConfig.filterIcon)||(0,l.Wm)(i,null,null);return(0,l.Wm)(Dy,{attach:this.primaryTableElement?function(){return t.primaryTableElement}:void 0,visible:this.filterPopupVisible,destroyOnClose:!0,trigger:"click",placement:"bottom-right",showArrow:!0,overlayClassName:this.tableFilterClasses.popup,onVisibleChange:function(e){return t.onFilterPopupVisibleChange(e)},class:[this.tableFilterClasses.icon,u({},this.isFocusClass,!Eu(null===(e=this.tFilterValue)||void 0===e?void 0:e[o.colKey]))],content:function(){return(0,l.Wm)("div",{class:t.tableFilterClasses.popupContent},[n(o),r(o)])}},{default:function(){return[(0,l.Wm)("div",{ref:"triggerElementRef"},[t.renderTNode("filterIcon",a)])]}})}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function WY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WY(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QY(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],o=r instanceof Array&&r.length,i="object"===S(r)&&!(r instanceof Array),a=i&&Object.keys(r).length;(o||a||!["null","","undefined"].includes(String(r)))&&(t[n]=r)})),t}function GY(e,t){var n=(0,d.iH)(null),r=Is("table"),o=r.t,i=r.globalConfig,a=ip(),s=(0,d.BK)(e),c=s.filterValue,f=qq(),p=f.tableFilterClasses,h=f.isFocusClass,g=(0,d.iH)(),m=zA(c,e.defaultFilterValue,e.onFilterChange,"filterValue"),y=v(m,2),A=y[0],b=y[1],E=(0,d.iH)(A.value),_=(0,l.Fl)((function(){var e=QY(A.value||{});return!A.value||!Object.keys(e).length}));function w(){var t,n;if(_.value)return null;var r=(0,l.Wm)("div",{class:p.result},[(0,l.Wm)("span",null,[o(i.value.searchResultText,{result:S(),count:(null===(t=e.pagination)||void 0===t?void 0:t.total)||(null===(n=e.data)||void 0===n?void 0:n.length)})]),(0,l.Wm)(lp,{theme:"primary",variant:"text",onClick:T},{default:function(){return[i.value.clearFilterResultButtonText]}})]),s=a("filterRow");return e.filterRow&&!s?null:(0,l.Wm)("div",{class:p.inner},[s||r])}function S(){var t=[];return e.columns.filter((function(e){return e.filter})).forEach((function(e){var n=A.value[e.colKey];if(e.filter.list&&!["null","","undefined"].includes(String(n))){var r=n instanceof Array?n:[n],o=[];e.filter.list.forEach((function(e){r.includes(e.value)&&o.push(e.label)})),n=o.join()}n&&t.push("".concat(e.title,"：").concat(n))})),t.join("；")}function C(e,t){var n=HY(HY({},E.value),{},u({},t.colKey,e));E.value=n,t.filter.showConfirmAndReset||I(n,t)}function I(t,n){var r;b(t,{col:n}),null===(r=e.onChange)||void 0===r||r.call(e,{filter:t},{trigger:"filter"})}function O(e){var t=HY(HY({},A.value),{},u({},e.colKey,{single:"",multiple:[],input:""}[e.filter.type]||e.filter.resetValue||""));I(t,e)}function T(){I({},void 0)}function R(e){I(E.value,e)}function N(r){var o,i=r.col;return(0,l.Wm)(VY,{column:i,filterIcon:e.filterIcon,tFilterValue:A.value,innerFilterValue:E.value,tableFilterClasses:p,isFocusClass:h,onReset:O,onConfirm:R,onInnerFilterChange:C,primaryTableElement:null===(o=n.value)||void 0===o?void 0:o.$el,onVisibleChange:k},{filterIcon:t.slots.filterIcon})}function P(e){n.value=e}function k(e){e&&!g.value&&(g.value=!e)}return(0,l.YP)([A],(function(e){var t=v(e,1),n=t[0];E.value=n})),{hasEmptyCondition:_,isTableOverflowHidden:g,renderFilterIcon:N,renderFirstFilterRow:w,setFilterPrimaryTableRef:P}}
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function KY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KY(Object(n),!0).forEach((function(t){YY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zY(e){return zY="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zY(e)}function YY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(){return JY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JY.apply(this,arguments)}function XY(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function ZY(e,t){if(null==e)return{};var n,r,o=XY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var $Y="1.15.0";function eJ(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var tJ=eJ(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),nJ=eJ(/Edge/i),rJ=eJ(/firefox/i),oJ=eJ(/safari/i)&&!eJ(/chrome/i)&&!eJ(/android/i),iJ=eJ(/iP(ad|od|hone)/i),aJ=eJ(/chrome/i)&&eJ(/android/i),sJ={capture:!1,passive:!1};function cJ(e,t,n){e.addEventListener(t,n,!tJ&&sJ)}function uJ(e,t,n){e.removeEventListener(t,n,!tJ&&sJ)}function lJ(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function dJ(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function fJ(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&lJ(e,t):lJ(e,t))||r&&e===n)return e;if(e===n)break}while(e=dJ(e))}return null}var pJ,hJ=/\s+/g;function gJ(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(hJ," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(hJ," ")}}function vJ(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function mJ(e,t){var n="";if("string"===typeof e)n=e;else do{var r=vJ(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function yJ(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function AJ(){var e=document.scrollingElement;return e||document.documentElement}function bJ(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var i,a,s,c,u,l,d;if(e!==window&&e.parentNode&&e!==AJ()?(i=e.getBoundingClientRect(),a=i.top,s=i.left,c=i.bottom,u=i.right,l=i.height,d=i.width):(a=0,s=0,c=window.innerHeight,u=window.innerWidth,l=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!tJ))do{if(o&&o.getBoundingClientRect&&("none"!==vJ(o,"transform")||n&&"static"!==vJ(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(vJ(o,"border-top-width")),s-=f.left+parseInt(vJ(o,"border-left-width")),c=a+i.height,u=s+i.width;break}}while(o=o.parentNode);if(r&&e!==window){var p=mJ(o||e),h=p&&p.a,g=p&&p.d;p&&(a/=g,s/=h,d/=h,l/=g,c=a+l,u=s+d)}return{top:a,left:s,bottom:c,right:u,width:d,height:l}}}function EJ(e,t,n){var r=OJ(e,!0),o=bJ(e)[t];while(r){var i=bJ(r)[n],a=void 0;if(a="top"===n||"left"===n?o>=i:o<=i,!a)return r;if(r===AJ())break;r=OJ(r,!1)}return!1}function _J(e,t,n,r){var o=0,i=0,a=e.children;while(i<a.length){if("none"!==a[i].style.display&&a[i]!==MX.ghost&&(r||a[i]!==MX.dragged)&&fJ(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function wJ(e,t){var n=e.lastElementChild;while(n&&(n===MX.ghost||"none"===vJ(n,"display")||t&&!lJ(n,t)))n=n.previousElementSibling;return n||null}function SJ(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===MX.clone||t&&!lJ(e,t)||n++;return n}function CJ(e){var t=0,n=0,r=AJ();if(e)do{var o=mJ(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function IJ(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function OJ(e,t){if(!e||!e.getBoundingClientRect)return AJ();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=vJ(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return AJ();if(r||t)return n;r=!0}}}while(n=n.parentNode);return AJ()}function TJ(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function RJ(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function NJ(e,t){return function(){if(!pJ){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),pJ=setTimeout((function(){pJ=void 0}),t)}}}function PJ(){clearTimeout(pJ),pJ=void 0}function kJ(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function DJ(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var xJ="Sortable"+(new Date).getTime();function LJ(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==vJ(e,"display")&&e!==MX.ghost){t.push({target:e,rect:bJ(e)});var n=qY({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=mJ(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(IJ(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var o=!1,i=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=bJ(n),c=n.prevFromRect,u=n.prevToRect,l=e.rect,d=mJ(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&RJ(c,s)&&!RJ(a,s)&&(l.top-s.top)/(l.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=MJ(l,c,u,r.options)),RJ(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,l,s,t)),t&&(o=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"===typeof n&&n()}),i):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){vJ(e,"transition",""),vJ(e,"transform","");var o=mJ(this.el),i=o&&o.a,a=o&&o.d,s=(t.left-n.left)/(i||1),c=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!c,vJ(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=jJ(e),vJ(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),vJ(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){vJ(e,"transition",""),vJ(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function jJ(e){return e.offsetWidth}function MJ(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var BJ=[],FJ={initializeByDefault:!0},UJ={mount:function(e){for(var t in FJ)FJ.hasOwnProperty(t)&&!(t in e)&&(e[t]=FJ[t]);BJ.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),BJ.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";BJ.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](qY({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](qY({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in BJ.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var i=new r(e,t,e.options);i.sortable=e,i.options=e.options,e[o]=i,JY(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);"undefined"!==typeof i&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return BJ.forEach((function(r){"function"===typeof r.eventProperties&&JY(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return BJ.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"===typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function VJ(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,l=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[xJ],t){var g,v=t.options,m="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||tJ||nJ?(g=document.createEvent("Event"),g.initEvent(r,!0,!0)):g=new CustomEvent(r,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=s||n,g.item=o||n,g.clone=i,g.oldIndex=c,g.newIndex=u,g.oldDraggableIndex=l,g.newDraggableIndex=d,g.originalEvent=f,g.pullMode=p?p.lastPutMode:void 0;var y=qY(qY({},h),UJ.getEventProperties(r,t));for(var A in y)g[A]=y[A];n&&n.dispatchEvent(g),v[m]&&v[m].call(t,g)}}var WJ=["evt"],HJ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=ZY(n,WJ);UJ.pluginEvent.bind(MX)(e,t,qY({dragEl:GJ,parentEl:KJ,ghostEl:qJ,rootEl:zJ,nextEl:YJ,lastDownEl:JJ,cloneEl:XJ,cloneHidden:ZJ,dragStarted:dX,putSortable:oX,activeSortable:MX.active,originalEvent:r,oldIndex:$J,oldDraggableIndex:tX,newIndex:eX,newDraggableIndex:nX,hideGhostForTarget:DX,unhideGhostForTarget:xX,cloneNowHidden:function(){ZJ=!0},cloneNowShown:function(){ZJ=!1},dispatchSortableEvent:function(e){QJ({sortable:t,name:e,originalEvent:r})}},o))};function QJ(e){VJ(qY({putSortable:oX,cloneEl:XJ,targetEl:GJ,rootEl:zJ,oldIndex:$J,oldDraggableIndex:tX,newIndex:eX,newDraggableIndex:nX},e))}var GJ,KJ,qJ,zJ,YJ,JJ,XJ,ZJ,$J,eX,tX,nX,rX,oX,iX,aX,sX,cX,uX,lX,dX,fX,pX,hX,gX,vX=!1,mX=!1,yX=[],AX=!1,bX=!1,EX=[],_X=!1,wX=[],SX="undefined"!==typeof document,CX=iJ,IX=nJ||tJ?"cssFloat":"float",OX=SX&&!aJ&&!iJ&&"draggable"in document.createElement("div"),TX=function(){if(SX){if(tJ)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),RX=function(e,t){var n=vJ(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=_J(e,0,t),i=_J(e,1,t),a=o&&vJ(o),s=i&&vJ(i),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+bJ(o).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+bJ(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a["float"]&&"none"!==a["float"]){var l="left"===a["float"]?"left":"right";return!i||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=r&&"none"===n[IX]||i&&"none"===n[IX]&&c+u>r)?"vertical":"horizontal"},NX=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return r===a||o===s||r+i/2===a+c/2},PX=function(e,t){var n;return yX.some((function(r){var o=r[xJ].options.emptyInsertThreshold;if(o&&!wJ(r)){var i=bJ(r),a=e>=i.left-o&&e<=i.right+o,s=t>=i.top-o&&t<=i.bottom+o;return a&&s?n=r:void 0}})),n},kX=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var c=(n?r:o).options.group.name;return!0===e||"string"===typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==zY(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},DX=function(){!TX&&qJ&&vJ(qJ,"display","none")},xX=function(){!TX&&qJ&&vJ(qJ,"display","")};SX&&!aJ&&document.addEventListener("click",(function(e){if(mX)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),mX=!1,!1}),!0);var LX=function(e){if(GJ){e=e.touches?e.touches[0]:e;var t=PX(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[xJ]._onDragOver(n)}}},jX=function(e){GJ&&GJ.parentNode[xJ]._isOutsideThisEl(e.target)};function MX(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=JY({},t),e[xJ]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return RX(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==MX.supportPointer&&"PointerEvent"in window&&!oJ,emptyInsertThreshold:5};for(var r in UJ.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in kX(t),this)"_"===o.charAt(0)&&"function"===typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&OX,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?cJ(e,"pointerdown",this._onTapStart):(cJ(e,"mousedown",this._onTapStart),cJ(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(cJ(e,"dragover",this),cJ(e,"dragenter",this)),yX.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),JY(this,LJ())}function BX(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function FX(e,t,n,r,o,i,a,s){var c,u,l=e[xJ],d=l.options.onMove;return!window.CustomEvent||tJ||nJ?(c=document.createEvent("Event"),c.initEvent("move",!0,!0)):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=o||t,c.relatedRect=i||bJ(t),c.willInsertAfter=s,c.originalEvent=a,e.dispatchEvent(c),d&&(u=d.call(l,c,a)),u}function UX(e){e.draggable=!1}function VX(){_X=!1}function WX(e,t,n){var r=bJ(_J(n.el,0,n.options,!0)),o=10;return t?e.clientX<r.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-o||e.clientY<r.bottom&&e.clientX<r.left}function HX(e,t,n){var r=bJ(wJ(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}function QX(e,t,n,r,o,i,a,s){var c=r?e.clientY:e.clientX,u=r?n.height:n.width,l=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&hX<u*o){if(!AX&&(1===pX?c>l+u*i/2:c<d-u*i/2)&&(AX=!0),AX)f=!0;else if(1===pX?c<l+hX:c>d-hX)return-pX}else if(c>l+u*(1-o)/2&&c<d-u*(1-o)/2)return GX(t);return f=f||a,f&&(c<l+u*i/2||c>d-u*i/2)?c>l+u/2?1:-1:0}function GX(e){return SJ(GJ)<SJ(e)?1:-1}function KX(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function qX(e){wX.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&wX.push(r)}}function zX(e){return setTimeout(e,0)}function YX(e){return clearTimeout(e)}MX.prototype={constructor:MX,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(fX=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,GJ):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(qX(n),!GJ&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!oJ||!s||"SELECT"!==s.tagName.toUpperCase())&&(s=fJ(s,r.draggable,n,!1),(!s||!s.animated)&&JJ!==s)){if($J=SJ(s),tX=SJ(s,r.draggable),"function"===typeof u){if(u.call(this,e,s,this))return QJ({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),HJ("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=fJ(c,r.trim(),n,!1),r)return QJ({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),HJ("filter",t,{evt:e}),!0})),u))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!fJ(c,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!GJ&&n.parentNode===i){var c=bJ(n);if(zJ=i,GJ=n,KJ=GJ.parentNode,YJ=GJ.nextSibling,JJ=n,rX=a.group,MX.dragged=GJ,iX={target:GJ,clientX:(t||e).clientX,clientY:(t||e).clientY},uX=iX.clientX-c.left,lX=iX.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,GJ.style["will-change"]="all",r=function(){HJ("delayEnded",o,{evt:e}),MX.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!rJ&&o.nativeDraggable&&(GJ.draggable=!0),o._triggerDragStart(e,t),QJ({sortable:o,name:"choose",originalEvent:e}),gJ(GJ,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){yJ(GJ,e.trim(),UX)})),cJ(s,"dragover",LX),cJ(s,"mousemove",LX),cJ(s,"touchmove",LX),cJ(s,"mouseup",o._onDrop),cJ(s,"touchend",o._onDrop),cJ(s,"touchcancel",o._onDrop),rJ&&this.nativeDraggable&&(this.options.touchStartThreshold=4,GJ.draggable=!0),HJ("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(nJ||tJ))r();else{if(MX.eventCanceled)return void this._onDrop();cJ(s,"mouseup",o._disableDelayedDrag),cJ(s,"touchend",o._disableDelayedDrag),cJ(s,"touchcancel",o._disableDelayedDrag),cJ(s,"mousemove",o._delayedDragTouchMoveHandler),cJ(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&cJ(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){GJ&&UX(GJ),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;uJ(e,"mouseup",this._disableDelayedDrag),uJ(e,"touchend",this._disableDelayedDrag),uJ(e,"touchcancel",this._disableDelayedDrag),uJ(e,"mousemove",this._delayedDragTouchMoveHandler),uJ(e,"touchmove",this._delayedDragTouchMoveHandler),uJ(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?cJ(document,"pointermove",this._onTouchMove):cJ(document,t?"touchmove":"mousemove",this._onTouchMove):(cJ(GJ,"dragend",this),cJ(zJ,"dragstart",this._onDragStart));try{document.selection?zX((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(vX=!1,zJ&&GJ){HJ("dragStarted",this,{evt:t}),this.nativeDraggable&&cJ(document,"dragover",jX);var n=this.options;!e&&gJ(GJ,n.dragClass,!1),gJ(GJ,n.ghostClass,!0),MX.active=this,e&&this._appendGhost(),QJ({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(aX){this._lastX=aX.clientX,this._lastY=aX.clientY,DX();var e=document.elementFromPoint(aX.clientX,aX.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(aX.clientX,aX.clientY),e===t)break;t=e}if(GJ.parentNode[xJ]._isOutsideThisEl(e),t)do{if(t[xJ]){var n=void 0;if(n=t[xJ]._onDragOver({clientX:aX.clientX,clientY:aX.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);xX()}},_onTouchMove:function(e){if(iX){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=qJ&&mJ(qJ,!0),a=qJ&&i&&i.a,s=qJ&&i&&i.d,c=CX&&gX&&CJ(gX),u=(o.clientX-iX.clientX+r.x)/(a||1)+(c?c[0]-EX[0]:0)/(a||1),l=(o.clientY-iX.clientY+r.y)/(s||1)+(c?c[1]-EX[1]:0)/(s||1);if(!MX.active&&!vX){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(qJ){i?(i.e+=u-(sX||0),i.f+=l-(cX||0)):i={a:1,b:0,c:0,d:1,e:u,f:l};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");vJ(qJ,"webkitTransform",d),vJ(qJ,"mozTransform",d),vJ(qJ,"msTransform",d),vJ(qJ,"transform",d),sX=u,cX=l,aX=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!qJ){var e=this.options.fallbackOnBody?document.body:zJ,t=bJ(GJ,!0,CX,!0,e),n=this.options;if(CX){gX=e;while("static"===vJ(gX,"position")&&"none"===vJ(gX,"transform")&&gX!==document)gX=gX.parentNode;gX!==document.body&&gX!==document.documentElement?(gX===document&&(gX=AJ()),t.top+=gX.scrollTop,t.left+=gX.scrollLeft):gX=AJ(),EX=CJ(gX)}qJ=GJ.cloneNode(!0),gJ(qJ,n.ghostClass,!1),gJ(qJ,n.fallbackClass,!0),gJ(qJ,n.dragClass,!0),vJ(qJ,"transition",""),vJ(qJ,"transform",""),vJ(qJ,"box-sizing","border-box"),vJ(qJ,"margin",0),vJ(qJ,"top",t.top),vJ(qJ,"left",t.left),vJ(qJ,"width",t.width),vJ(qJ,"height",t.height),vJ(qJ,"opacity","0.8"),vJ(qJ,"position",CX?"absolute":"fixed"),vJ(qJ,"zIndex","100000"),vJ(qJ,"pointerEvents","none"),MX.ghost=qJ,e.appendChild(qJ),vJ(qJ,"transform-origin",uX/parseInt(qJ.style.width)*100+"% "+lX/parseInt(qJ.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;HJ("dragStart",this,{evt:e}),MX.eventCanceled?this._onDrop():(HJ("setupClone",this),MX.eventCanceled||(XJ=DJ(GJ),XJ.removeAttribute("id"),XJ.draggable=!1,XJ.style["will-change"]="",this._hideClone(),gJ(XJ,this.options.chosenClass,!1),MX.clone=XJ),n.cloneId=zX((function(){HJ("clone",n),MX.eventCanceled||(n.options.removeCloneOnHide||zJ.insertBefore(XJ,GJ),n._hideClone(),QJ({sortable:n,name:"clone"}))})),!t&&gJ(GJ,o.dragClass,!0),t?(mX=!0,n._loopId=setInterval(n._emulateDragOver,50)):(uJ(document,"mouseup",n._onDrop),uJ(document,"touchend",n._onDrop),uJ(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,GJ)),cJ(document,"drop",n),vJ(GJ,"transform","translateZ(0)")),vX=!0,n._dragStartId=zX(n._dragStarted.bind(n,t,e)),cJ(document,"selectstart",n),dX=!0,oJ&&vJ(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,i=this.el,a=e.target,s=this.options,c=s.group,u=MX.active,l=rX===c,d=s.sort,f=oX||u,p=this,h=!1;if(!_X){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=fJ(a,s.draggable,i,!0),R("dragOver"),MX.eventCanceled)return h;if(GJ.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return P(!1);if(mX=!1,u&&!s.disabled&&(l?d||(r=KJ!==zJ):oX===this||(this.lastPutMode=rX.checkPull(this,u,GJ,e))&&c.checkPut(this,u,GJ,e))){if(o="vertical"===this._getDirection(e,a),t=bJ(GJ),R("dragOverValid"),MX.eventCanceled)return h;if(r)return KJ=zJ,N(),this._hideClone(),R("revert"),MX.eventCanceled||(YJ?zJ.insertBefore(GJ,YJ):zJ.appendChild(GJ)),P(!0);var g=wJ(i,s.draggable);if(!g||HX(e,o,this)&&!g.animated){if(g===GJ)return P(!1);if(g&&i===e.target&&(a=g),a&&(n=bJ(a)),!1!==FX(zJ,i,GJ,t,a,n,e,!!a))return N(),g&&g.nextSibling?i.insertBefore(GJ,g.nextSibling):i.appendChild(GJ),KJ=i,k(),P(!0)}else if(g&&WX(e,o,this)){var v=_J(i,0,s,!0);if(v===GJ)return P(!1);if(a=v,n=bJ(a),!1!==FX(zJ,i,GJ,t,a,n,e,!1))return N(),i.insertBefore(GJ,v),KJ=i,k(),P(!0)}else if(a.parentNode===i){n=bJ(a);var m,y,A=0,b=GJ.parentNode!==i,E=!NX(GJ.animated&&GJ.toRect||t,a.animated&&a.toRect||n,o),_=o?"top":"left",w=EJ(a,"top","top")||EJ(GJ,"top","top"),S=w?w.scrollTop:void 0;if(fX!==a&&(m=n[_],AX=!1,bX=!E&&s.invertSwap||b),A=QX(e,a,n,o,E?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,bX,fX===a),0!==A){var C=SJ(GJ);do{C-=A,y=KJ.children[C]}while(y&&("none"===vJ(y,"display")||y===qJ))}if(0===A||y===a)return P(!1);fX=a,pX=A;var I=a.nextElementSibling,O=!1;O=1===A;var T=FX(zJ,i,GJ,t,a,n,e,O);if(!1!==T)return 1!==T&&-1!==T||(O=1===T),_X=!0,setTimeout(VX,30),N(),O&&!I?i.appendChild(GJ):a.parentNode.insertBefore(GJ,O?I:a),w&&kJ(w,0,S-w.scrollTop),KJ=GJ.parentNode,void 0===m||bX||(hX=Math.abs(m-bJ(a)[_])),k(),P(!0)}if(i.contains(GJ))return P(!1)}return!1}function R(s,c){HJ(s,p,qY({evt:e,isOwner:l,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:a,completed:P,onMove:function(n,r){return FX(zJ,i,GJ,t,n,bJ(n),e,r)},changed:k},c))}function N(){R("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function P(t){return R("dragOverCompleted",{insertion:t}),t&&(l?u._hideClone():u._showClone(p),p!==f&&(gJ(GJ,oX?oX.options.ghostClass:u.options.ghostClass,!1),gJ(GJ,s.ghostClass,!0)),oX!==p&&p!==MX.active?oX=p:p===MX.active&&oX&&(oX=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){R("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===GJ&&!GJ.animated||a===i&&!a.animated)&&(fX=null),s.dragoverBubble||e.rootEl||a===document||(GJ.parentNode[xJ]._isOutsideThisEl(e.target),!t&&LX(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function k(){eX=SJ(GJ),nX=SJ(GJ,s.draggable),QJ({sortable:p,name:"change",toEl:i,newIndex:eX,newDraggableIndex:nX,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){uJ(document,"mousemove",this._onTouchMove),uJ(document,"touchmove",this._onTouchMove),uJ(document,"pointermove",this._onTouchMove),uJ(document,"dragover",LX),uJ(document,"mousemove",LX),uJ(document,"touchmove",LX)},_offUpEvents:function(){var e=this.el.ownerDocument;uJ(e,"mouseup",this._onDrop),uJ(e,"touchend",this._onDrop),uJ(e,"pointerup",this._onDrop),uJ(e,"touchcancel",this._onDrop),uJ(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;eX=SJ(GJ),nX=SJ(GJ,n.draggable),HJ("drop",this,{evt:e}),KJ=GJ&&GJ.parentNode,eX=SJ(GJ),nX=SJ(GJ,n.draggable),MX.eventCanceled||(vX=!1,bX=!1,AX=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),YX(this.cloneId),YX(this._dragStartId),this.nativeDraggable&&(uJ(document,"drop",this),uJ(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),oJ&&vJ(document.body,"user-select",""),vJ(GJ,"transform",""),e&&(dX&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),qJ&&qJ.parentNode&&qJ.parentNode.removeChild(qJ),(zJ===KJ||oX&&"clone"!==oX.lastPutMode)&&XJ&&XJ.parentNode&&XJ.parentNode.removeChild(XJ),GJ&&(this.nativeDraggable&&uJ(GJ,"dragend",this),UX(GJ),GJ.style["will-change"]="",dX&&!vX&&gJ(GJ,oX?oX.options.ghostClass:this.options.ghostClass,!1),gJ(GJ,this.options.chosenClass,!1),QJ({sortable:this,name:"unchoose",toEl:KJ,newIndex:null,newDraggableIndex:null,originalEvent:e}),zJ!==KJ?(eX>=0&&(QJ({rootEl:KJ,name:"add",toEl:KJ,fromEl:zJ,originalEvent:e}),QJ({sortable:this,name:"remove",toEl:KJ,originalEvent:e}),QJ({rootEl:KJ,name:"sort",toEl:KJ,fromEl:zJ,originalEvent:e}),QJ({sortable:this,name:"sort",toEl:KJ,originalEvent:e})),oX&&oX.save()):eX!==$J&&eX>=0&&(QJ({sortable:this,name:"update",toEl:KJ,originalEvent:e}),QJ({sortable:this,name:"sort",toEl:KJ,originalEvent:e})),MX.active&&(null!=eX&&-1!==eX||(eX=$J,nX=tX),QJ({sortable:this,name:"end",toEl:KJ,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){HJ("nulling",this),zJ=GJ=KJ=qJ=YJ=XJ=JJ=ZJ=iX=aX=dX=eX=nX=$J=tX=fX=pX=oX=rX=MX.dragged=MX.ghost=MX.clone=MX.active=null,wX.forEach((function(e){e.checked=!0})),wX.length=sX=cX=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":GJ&&(this._onDragOver(e),BX(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)e=n[r],fJ(e,i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||KX(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];fJ(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return fJ(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=UJ.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&kX(n)},destroy:function(){HJ("destroy",this);var e=this.el;e[xJ]=null,uJ(e,"mousedown",this._onTapStart),uJ(e,"touchstart",this._onTapStart),uJ(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(uJ(e,"dragover",this),uJ(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),yX.splice(yX.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ZJ){if(HJ("hideClone",this),MX.eventCanceled)return;vJ(XJ,"display","none"),this.options.removeCloneOnHide&&XJ.parentNode&&XJ.parentNode.removeChild(XJ),ZJ=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ZJ){if(HJ("showClone",this),MX.eventCanceled)return;GJ.parentNode!=zJ||this.options.group.revertClone?YJ?zJ.insertBefore(XJ,YJ):zJ.appendChild(XJ):zJ.insertBefore(XJ,GJ),this.options.group.revertClone&&this.animate(GJ,XJ),vJ(XJ,"display",""),ZJ=!1}}else this._hideClone()}},SX&&cJ(document,"touchmove",(function(e){(MX.active||vX)&&e.cancelable&&e.preventDefault()})),MX.utils={on:cJ,off:uJ,css:vJ,find:yJ,is:function(e,t){return!!fJ(e,t,e,!1)},extend:TJ,throttle:NJ,closest:fJ,toggleClass:gJ,clone:DJ,index:SJ,nextTick:zX,cancelNextTick:YX,detectDirection:RX,getChild:_J},MX.get=function(e){return e[xJ]},MX.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(MX.utils=qY(qY({},MX.utils),e.utils)),UJ.mount(e)}))},MX.create=function(e,t){return new MX(e,t)},MX.version=$Y;var JX,XX,ZX,$X,eZ,tZ,nZ=[],rZ=!1;function oZ(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?cJ(document,"dragover",this._handleAutoScroll):this.options.supportPointer?cJ(document,"pointermove",this._handleFallbackAutoScroll):t.touches?cJ(document,"touchmove",this._handleFallbackAutoScroll):cJ(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?uJ(document,"dragover",this._handleAutoScroll):(uJ(document,"pointermove",this._handleFallbackAutoScroll),uJ(document,"touchmove",this._handleFallbackAutoScroll),uJ(document,"mousemove",this._handleFallbackAutoScroll)),aZ(),iZ(),PJ()},nulling:function(){eZ=XX=JX=rZ=tZ=ZX=$X=null,nZ.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(r,o);if(eZ=e,t||this.options.forceAutoScrollFallback||nJ||tJ||oJ){sZ(e,this.options,i,t);var a=OJ(i,!0);!rZ||tZ&&r===ZX&&o===$X||(tZ&&aZ(),tZ=setInterval((function(){var i=OJ(document.elementFromPoint(r,o),!0);i!==a&&(a=i,iZ()),sZ(e,n.options,i,t)}),10),ZX=r,$X=o)}else{if(!this.options.bubbleScroll||OJ(i,!0)===AJ())return void iZ();sZ(e,this.options,OJ(i,!1),!1)}}},JY(e,{pluginName:"scroll",initializeByDefault:!0})}function iZ(){nZ.forEach((function(e){clearInterval(e.pid)})),nZ=[]}function aZ(){clearInterval(tZ)}var sZ=NJ((function(e,t,n,r){if(t.scroll){var o,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,u=AJ(),l=!1;XX!==n&&(XX=n,iZ(),JX=t.scroll,o=t.scrollFn,!0===JX&&(JX=OJ(n,!0)));var d=0,f=JX;do{var p=f,h=bJ(p),g=h.top,v=h.bottom,m=h.left,y=h.right,A=h.width,b=h.height,E=void 0,_=void 0,w=p.scrollWidth,S=p.scrollHeight,C=vJ(p),I=p.scrollLeft,O=p.scrollTop;p===u?(E=A<w&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),_=b<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(E=A<w&&("auto"===C.overflowX||"scroll"===C.overflowX),_=b<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var T=E&&(Math.abs(y-i)<=s&&I+A<w)-(Math.abs(m-i)<=s&&!!I),R=_&&(Math.abs(v-a)<=s&&O+b<S)-(Math.abs(g-a)<=s&&!!O);if(!nZ[d])for(var N=0;N<=d;N++)nZ[N]||(nZ[N]={});nZ[d].vx==T&&nZ[d].vy==R&&nZ[d].el===p||(nZ[d].el=p,nZ[d].vx=T,nZ[d].vy=R,clearInterval(nZ[d].pid),0==T&&0==R||(l=!0,nZ[d].pid=setInterval(function(){r&&0===this.layer&&MX.active._onTouchMove(eZ);var t=nZ[this.layer].vy?nZ[this.layer].vy*c:0,n=nZ[this.layer].vx?nZ[this.layer].vx*c:0;"function"===typeof o&&"continue"!==o.call(MX.dragged.parentNode[xJ],n,t,e,eZ,nZ[this.layer].el)||kJ(nZ[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==u&&(f=OJ(f,!1)));rZ=l}}),30),cZ=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||o;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(u.clientX,u.clientY);s(),c&&!c.el.contains(l)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function uZ(){}function lZ(){}uZ.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=_J(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:cZ},JY(uZ,{pluginName:"revertOnSpill"}),lZ.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:cZ},JY(lZ,{pluginName:"removeOnSpill"});MX.mount(new oZ),MX.mount(lZ,uZ);var dZ=MX;
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function fZ(e,t,n){var r=c(e);return n-t>0?(r.splice(n+1,0,r[t]),r.splice(t,1)):(r.splice(n,0,r[t]),r.splice(t+1,1)),r}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function pZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pZ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gZ(e,t){var n=(0,d.BK)(e),r=n.sortOnRowDraggable,o=n.dragSort,i=n.data,a=n.rowKey,s=qq(),u=s.tableDraggableClasses,f=s.tableBaseClass,p=s.tableFullRowClasses,h=(0,d.iH)(null),g=(0,d.iH)(e.columns||[]),m=(0,l.Fl)((function(){return g.value.find((function(e){return"drag"===e.colKey}))})),y=(0,l.Fl)((function(){return r.value||"row"===o.value})),A=(0,l.Fl)((function(){return["row-handler","row-handler-col"].includes(o.value)&&!!m.value})),b=(0,l.Fl)((function(){return["col","row-handler-col"].includes(o.value)})),E=(0,d.iH)([]),_=(0,d.iH)([]);e.sortOnRowDraggable&&qA.error("Table","`sortOnRowDraggable` is going to be deprecated, use dragSort='row' instead."),(0,l.YP)([i],(function(e){var t=v(e,1),n=t[0];E.value=(null===n||void 0===n?void 0:n.map((function(e){return sT(e,a.value)})))||[]}),{immediate:!0}),(0,l.YP)(g,(function(e){_.value=e?e.map((function(e){return e.colKey})):[]}),{immediate:!0});var w=function(n){if(A.value||y.value){var r=null===n||void 0===n?void 0:n.querySelector("tbody");if(!r)return console.error("tbody does not exist."),null;var o=null,a=hZ(hZ({animation:150},e.dragSortOptions),{},{ghostClass:u.ghost,chosenClass:u.chosen,dragClass:u.dragging,filter:".".concat(p.base),onMove:function(e){return!nc(e.related,p.base)},onEnd:function(n){var r,a;null===(r=o)||void 0===r||r.sort(E.value);var s=n.oldIndex,u=n.newIndex;(ce(e.firstFullRow)&&e.firstFullRow(l.h)||t.slots.firstFullRow)&&(s-=1,u-=1);var d={data:i.value,currentIndex:s,current:i.value[s],targetIndex:u,target:i.value[u],newData:fZ(c(e.data),s,u),e:n,sort:"row"};d.currentData=d.newData,null===(a=e.onDragSort)||void 0===a||a.call(e,d)}});o=y.value?new dZ(r,hZ({},a)):new dZ(r,hZ(hZ({},a),{},{handle:".".concat(u.handle)})),E.value=o.toArray()}},S=function(t,n){var r=null,o=hZ(hZ({animation:150},e.dragSortOptions),{},{dataIdAttr:"data-colkey",direction:"vertical",ghostClass:u.ghost,chosenClass:u.chosen,dragClass:u.dragging,handle:".".concat(f.thCellInner),onEnd:function(t){var o,i;n&&(null===(i=r)||void 0===i||i.sort(c(_.value)));var a=t.oldIndex,s=t.newIndex,u=t.target,l=n?a:s,d=n?s:a,f=u.children[l],p=u.children[d],h=Rz(g.value,f.dataset.colkey),v=Rz(g.value,p.dataset.colkey);h&&h.colKey||qA.error("Table","colKey is missing in ".concat(JSON.stringify(h))),v&&v.colKey||qA.error("Table","colKey is missing in ".concat(JSON.stringify(v))),l=Nz(e.columns,h.colKey),d=Nz(e.columns,v.colKey);var m={data:g.value,currentIndex:l,current:h,targetIndex:d,target:v,newData:fZ(c(e.columns),l,d),e:t,sort:"col"};m.currentData=m.newData,null===(o=e.onDragSort)||void 0===o||o.call(e,m)}});return r=new dZ(t,o),r},C=function(e){if(b.value&&e){var t=e.querySelectorAll("thead > tr");if(t.length<=1){var n=v(t,1),r=n[0],o=S(r,!0);_.value=null===o||void 0===o?void 0:o.toArray()}else t.forEach((function(e){S(e,!1)}))}};function I(e){h.value=e}function O(e){g.value=e}return(0,l.YP)([h],(function(e){var t=v(e,1),n=t[0];if(n&&n.$el){w(n.$el),C(n.$el);var r=setTimeout((function(){n.$refs.affixHeaderRef&&C(n.$refs.affixHeaderRef),clearTimeout(r)}))}})),{isRowDraggable:y,isRowHandlerDraggable:A,isColDraggable:b,setDragSortPrimaryTableRef:I,setDragSortColumns:O}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function vZ(e,t){var n=op(),r=Is("table"),o=r.globalConfig,i=qq(),a=i.isLoadingClass,s=i.isLoadMoreClass,c=i.asyncLoadingClass,d=(0,l.Fl)((function(){var t;return[c,(t={},u(t,a,"loading"===e.asyncLoading),u(t,s,"load-more"===e.asyncLoading),t)]}));function f(){var t;"string"===typeof e.asyncLoading&&(null===(t=e.onAsyncLoadingClick)||void 0===t||t.call(e,{status:e.asyncLoading}))}function p(){var t=n("asyncLoading");if(Ls(t)){var r=e.asyncLoading,i={"load-more":o.value.loadingMoreText,loading:o.value.loadingText}[String(r)];return(0,l.Wm)("div",{class:d.value,onClick:f},[(0,l.Wm)(Qf,{loading:"loading"===r,size:"small",text:i},null)])}return[null,!1,void 0].includes(t)?null:(0,l.Wm)("div",{class:d.value,onClick:f},[t])}return{renderAsyncLoading:p}}function mZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mZ(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AZ={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"g",attrs:{fill:"currentColor",opacity:.9,fillOpacity:.9},children:[{tag:"path",attrs:{d:"M14.13 4.95L10.9 1.71l.7-.71 3.25 3.24-.7.71zM5.97 13.11l-3.61.72a.3.3 0 01-.35-.35l.72-3.61 7.3-7.3 3.24 3.24-7.3 7.3zm5.89-7.3l-1.83-1.83-6.38 6.38-.46 2.29 2.29-.46 6.38-6.38zM15 11h-4v1h4v-1zM15 13H8.5v1H15v-1z"}}]}]},bZ=(0,l.aZ)({name:"Edit1Icon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-edit-1",o.value])),s=(0,l.Fl)((()=>yZ(yZ({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(AZ,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function EZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EZ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wZ=(0,l.aZ)({name:"TableEditableCell",props:{row:Object,rowIndex:Number,col:Object,colIndex:Number,oldCell:[Function,String],tableBaseClass:Object,cellEmptyContent:[Function,String],editable:{type:Boolean,default:void 0},readonly:{type:Boolean},errors:{type:Array,default:void 0},onChange:Function,onValidate:Function,onRuleChange:Function},setup:function(e,t){var n,r=(0,d.BK)(e),o=r.row,i=r.col,a=(0,d.iH)(null),s=(0,d.iH)((null===(n=e.col.edit)||void 0===n?void 0:n.defaultEditable)||!1),f=(0,d.iH)(),p=(0,d.iH)(),h=Tg({Edit1Icon:bZ}),g=h.Edit1Icon,m=(0,l.Fl)((function(){return{rowIndex:e.rowIndex,colIndex:e.colIndex,col:e.col,row:e.row}})),y=(0,l.Fl)((function(){var e=_Z({},o.value);return CB(e,i.value.colKey,f.value),e})),A=(0,l.Fl)((function(){var n=Uz({row:y.value,col:_Z(_Z({},i.value),{},{cell:e.oldCell}),rowIndex:e.rowIndex,colIndex:e.colIndex},t.slots,{cellEmptyContent:e.cellEmptyContent});return n})),b=(0,l.Fl)((function(){var e,t=i.value.edit;if(!t)return{};var n=ce(t.props)?t.props(_Z(_Z({},m.value),{},{editedRow:y.value})):_Z({},t.props);return delete n.onChange,delete n.value,null===(e=t.abortEditOnEvent)||void 0===e||e.forEach((function(e){delete n[e]})),n})),E=(0,l.Fl)((function(){var e,t=i.value.edit;return!!t&&Boolean(null===(e=t.abortEditOnEvent)||void 0===e?void 0:e.includes("onChange"))})),_=function(t){return new Promise((function(n){var r,o={result:[_Z(_Z({},m.value),{},{errorList:[],value:f.value})],trigger:t},a=ce(i.value.edit.rules)?i.value.edit.rules(m.value):i.value.edit.rules;if(!i.value.edit||!a||!a.length)return null===(r=e.onValidate)||void 0===r||r.call(e,o),void n(!0);HB(f.value,a).then((function(t){var r,i=null===t||void 0===t?void 0:t.filter((function(e){return!e.result}));o.result[0].errorList=i,null===(r=e.onValidate)||void 0===r||r.call(e,o),i&&i.length?(p.value=i,n(i)):n(!0)}))}))},w=function(e,t){return"object"===S(e)&&"object"===S(t)?JSON.stringify(e)===JSON.stringify(t):e===t},C=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_("self").then((function(t){if(!0===t){var r=sT(o.value,i.value.colKey);w(f.value,r)||(f.value=r,null===e||void 0===e||e.apply(void 0,n));var a=setTimeout((function(){s.value=!1,p.value=[],clearTimeout(a)}),0)}}))},I=(0,l.Fl)((function(){var t,n=i.value.edit,r=void 0===e.editable;if(s.value&&r){if(null===n||void 0===n||null===(t=n.abortEditOnEvent)||void 0===t||!t.length)return{};var o={},a=null===n||void 0===n?void 0:n.onEdited;return n.abortEditOnEvent.forEach((function(e){"onChange"!==e&&(o[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];C.apply(void 0,[a,_Z(_Z({},m.value),{},{trigger:e,newRowData:y.value})].concat(n))})})),o}})),O=function(t){var n,r;f.value=t;var o=_Z(_Z({},m.value),{},{value:t,editedRow:_Z(_Z({},e.row),{},u({},e.col.colKey,t))});null===(n=e.onChange)||void 0===n||n.call(e,o),null===(r=e.onRuleChange)||void 0===r||r.call(e,o);var a=void 0===e.editable;if(a&&E.value){for(var s,c=null===(s=i.value.edit)||void 0===s?void 0:s.onEdited,l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];C.apply(void 0,[c,_Z(_Z({},m.value),{},{trigger:"onChange",newRowData:y.value})].concat(d))}},T=function(e){var t,n;if(i.value.edit&&i.value.edit.component&&s.value&&(null===(t=e.path)||void 0===t||!t.includes(null===(n=a.value)||void 0===n?void 0:n.$el))){for(var r=0,o=e.path.length;r<o;r++){var c,u,l=e.path[r];if(null!==(c=l.classList)&&void 0!==c&&null!==(u=c.value)&&void 0!==u&&u.includes("popup__content"))return}var d=i.value.edit.onEdited;C(d,_Z(_Z({},m.value),{},{trigger:"document",newRowData:y.value}))}},R=(0,l.Fl)((function(){return sT(o.value,i.value.colKey)}));return(0,l.YP)(R,(function(e){var t=e;"object"===S(t)&&null!==t&&(t=t instanceof Array?c(t):_Z({},t)),f.value=t}),{immediate:!0}),(0,l.YP)(s,(function(t){var n=void 0===e.editable;i.value.edit&&i.value.edit.component&&n&&(t?document.addEventListener("click",T):document.removeEventListener("click",T))}),{immediate:!0}),(0,l.YP)((function(){return[e.editable,e.rowIndex,e.colIndex]}),(function(t){var n=v(t,3),r=n[0];n[1],n[2];if(!1===r)f.value=R.value;else if(!0===r){var i;null===(i=e.onRuleChange)||void 0===i||i.call(e,_Z(_Z({},m.value),{},{value:R.value,editedRow:o.value}))}}),{immediate:!0}),(0,l.YP)((function(){return e.errors}),(function(e){p.value=e})),function(){var t,n,r,o,a,c;if(e.readonly)return A.value;if(void 0===e.editable&&!s.value||!1===e.editable)return(0,l.Wm)("div",{class:e.tableBaseClass.cellEditable,onClick:function(e){s.value=!0,e.stopPropagation()}},[A.value,!1!==(null===(c=i.value.edit)||void 0===c?void 0:c.showEditIcon)&&(0,l.Wm)(g,{size:"12px"},null)]);var u=null===(t=i.value.edit)||void 0===t?void 0:t.component;if(!u)return qA.error("Table","edit.component is required."),null;var d=null===(n=p.value)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.message;return(0,l.Wm)("div",{class:e.tableBaseClass.cellEditWrap,onClick:function(e){e.stopPropagation()}},[(0,l.Wm)(u,(0,l.dG)({ref:"tableEditableCellRef",status:d?(null===(o=p.value)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.type)||"error":void 0,tips:d},b.value,I.value,{value:f.value,onChange:O}),null)])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function SZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SZ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var IZ=new Map;function OZ(e){var t=(0,d.iH)({}),n=(0,l.Fl)((function(){return Tz(e.editableRowKeys,e.data,e.rowKey||"id")})),r=function(t){var n={};return t.forEach((function(t){var r=t.row,o=t.col,i=t.errorList,a=sT(r,e.rowKey||"id"),s=[a,o.colKey].join("__");null!==i&&void 0!==i&&i.length?n[s]=i:delete n[s]})),n},o=function(e){var t=IZ.get(e);if(t){var n=t.map((function(e){return new Promise((function(t){var n=e.editedRow,r=e.col,o=ce(r.edit.rules)?r.edit.rules(e):r.edit.rules;r.edit&&o&&o.length?HB(n[r.colKey],o).then((function(n){t(CZ(CZ({},e),{},{errorList:n.filter((function(e){return!e.result}))}))})):t(CZ(CZ({},e),{},{errorList:[]}))}))}));return new Promise((function(e,t){Promise.all(n).then((function(t){e({errors:t.filter((function(e){var t;return null===(t=e.errorList)||void 0===t?void 0:t.length})),errorMap:r(t)})}),t)}))}},i=function(n){return new Promise((function(r,i){o(n).then((function(n){var o,i=n.errors,a=n.errorMap;t.value=a;var s="parent";null===(o=e.onRowValidate)||void 0===o||o.call(e,{trigger:s,result:i}),r({trigger:s,result:i})}),i)}))},a=function(){for(var n=[],r=e.data||[],i=0,a=r.length;i<a;i++){var s=sT(r[i],e.rowKey||"id");n.push(o(s))}return new Promise((function(r,o){Promise.all(n).then((function(n){var o,i={};n.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errors:[],errorMap:{}},t=e.errorMap;t&&Object.assign(i,t)})),t.value=i,null===(o=e.onValidate)||void 0===o||o.call(e,{result:i}),r({result:i})}),o)}))},s=function(t){if(e.editableRowKeys){var n=sT(t.row,e.rowKey||"id"),r=IZ.get(n);if(r){var o=r.findIndex((function(e){return e.col.colKey===t.col.colKey}));-1===o?r.push(t):r[o]=t,IZ.set(n,r)}else IZ.set(n,[t])}},c=function(){t.value={}};return{errorListMap:t,editableKeysMap:n,validateTableData:a,validateRowData:i,onRuleChange:s,clearValidateData:c}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function TZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TZ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NZ=["hideSortTips","dragSort","defaultExpandedRowKeys","defaultSelectedRowKeys","columnController","filterRow","sortOnRowDraggable","expandOnRowClick","multipleSort","expandIcon","onChange","onAsyncLoadingClick","onColumnChange","onColumnControllerVisibleChange","onDataChange","onDisplayColumnsChange","onDragSort","onExpandChange","onFilterChange","onSelectChange","onSortChange"],PZ=(0,l.aZ)({name:"TPrimaryTable",props:RZ(RZ({},Wq),aY),setup:function(e,t){var n=op(),r=(0,d.BK)(e),o=r.columns,i=r.columnController,a=(0,d.iH)(null),s=qq(),c=s.tableDraggableClasses,f=s.tableBaseClass,p=s.tableSelectedClasses,h=EY(e,t),g=h.tDisplayColumns,v=h.renderColumnController,m=IY(e,t),y=m.showExpandedRow,A=m.showExpandIconColumn,b=m.getExpandColumn,E=m.renderExpandedRow,_=m.onInnerExpandRowClick,w=xY(e,t),S=w.renderSortIcon,C=RY(e,p),I=C.formatToRowSelectColumn,O=C.selectedRowClassNames,T=GY(e,t),R=T.hasEmptyCondition,N=T.isTableOverflowHidden,P=T.renderFilterIcon,k=T.renderFirstFilterRow,D=T.setFilterPrimaryTableRef,x=gZ(e,t),L=x.isRowHandlerDraggable,j=x.isRowDraggable,M=x.isColDraggable,B=x.setDragSortPrimaryTableRef,F=x.setDragSortColumns,U=nz(e),V=U.renderTitleWidthIcon,W=vZ(e,t),H=W.renderAsyncLoading,Q=OZ(e),G=Q.errorListMap,K=Q.editableKeysMap,q=Q.validateRowData,z=Q.validateTableData,Y=Q.onRuleChange,J=Q.clearValidateData,X=(0,l.Fl)((function(){var t;return t={},u(t,c.colDraggable,M.value),u(t,c.rowHandlerDraggable,L.value),u(t,c.rowDraggable,j.value),u(t,f.overflowVisible,!1===N.value),u(t,f.tableRowEdit,e.editableRowKeys),t})),Z=(0,l.Fl)((function(){var t=[e.rowClassName,O.value];return t.filter((function(e){return e}))})),$=(0,l.Fl)((function(){var t=[e.rowAttributes];return(L.value||j.value)&&t.push((function(t){var n=t.row;return{"data-id":sT(n,e.rowKey||"id")}})),t.filter((function(e){return e}))}));(0,l.bv)((function(){D(a.value),B(a.value)})),t.expose({validateRowData:q,validateTableData:z,clearValidateData:J,refreshTable:function(){a.value.refreshTable()}});var ee=function n(r){for(var o=[],i=function(i,s){var c,u,d,p,h,v=RZ({},r[i]),m=(null===(c=v.children)||void 0===c?void 0:c.length)||(null===(u=g.value)||void 0===u?void 0:u.includes(v.colKey));if(!m&&e.columnController)return"continue";if(v=I(v),v.sorter||v.filter){var y=tz(t.slots,v,i),A=v,b=A.ellipsisTitle;v.title=function(e,t){var n,r=v.sorter?S(t):null,o=v.filter?P(t):null,i=null===(n=a.value)||void 0===n?void 0:n.tableContentRef;return V([y,r,o],t.col,t.colIndex,b,i)},v.ellipsisTitle=!1}if(null!==(d=v.edit)&&void 0!==d&&d.component){var E=v.cell;v.cell=function(n,r){var o=RZ(RZ({},r),{},{oldCell:E,tableBaseClass:f,cellEmptyContent:e.cellEmptyContent,onChange:e.onRowEdit,onValidate:e.onRowValidate,onRuleChange:Y});if(e.editableRowKeys){var i,a=sT(r.row,e.rowKey||"id");o.editable=K.value[a]||!1;var s=[a,r.col.colKey].join("__"),c=null===(i=G.value)||void 0===i?void 0:i[s];c&&(o.errors=c)}return e.editableCellState&&(o.readonly=!e.editableCellState(r)),(0,l.Wm)(wZ,o,t.slots)}}null!==(p=v.children)&&void 0!==p&&p.length&&(v.children=n(v.children)),(!v.children||null!==(h=v.children)&&void 0!==h&&h.length)&&o.push(v)},s=0,c=r.length;s<c;s++)i(s,c);return o},te=(0,l.Fl)((function(){var e=ee(o.value);return A.value&&e.unshift(b()),e})),ne=function(t,n){var r,o;null===(r=e.onPageChange)||void 0===r||r.call(e,t,n);var i=[{pagination:t},{trigger:"pagination",currentData:n}];null===(o=e.onChange)||void 0===o||o.call.apply(o,[e].concat(i))};return function(){var r=function(t,r,o,i){if(!o)return e[t];var a=r(l.h),s=n(t);return a&&!s?function(){return a}:s&&!a?function(){return s}:a&&s?function(){return null!==i&&void 0!==i&&i.reverse?(0,l.Wm)("div",null,[a,s]):(0,l.Wm)("div",null,[s,a])}:null},o=!(!i.value||!Object.keys(i.value).length),s=o?i.value.placement||"top-right":"",c=o&&-1!==(null===s||void 0===s?void 0:s.indexOf("bottom")),u=r("topContent",v,o&&!c),d=r("bottomContent",v,c,{reverse:!0}),f=r("firstFullRow",k,!R.value),p=r("lastFullRow",H,!!e.asyncLoading),h=RZ(RZ({},bR(e,NZ)),{},{rowClassName:Z.value,rowAttributes:$.value,columns:te.value,topContent:u,bottomContent:d,firstFullRow:f,lastFullRow:p,onPageChange:ne,renderExpandedRow:y.value?E:void 0});return e.expandOnRowClick&&(h.onRowClick=_),(0,l.Wm)(iY,(0,l.dG)({ref:a},h,{class:X.value,onLeafColumnsChange:F}),t.slots)}}}),kZ={beforeDragSort:{type:Function},tree:{type:Object},treeExpandAndFoldIcon:{type:Function},onAbnormalDragSort:Function,onTreeExpandChange:Function};function DZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DZ(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LZ={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 11V8.5H5v-1h2.5V5h1v2.5H11v1H8.5V11h-1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M3 14a1 1 0 01-1-1V3a1 1 0 011-1h10a1 1 0 011 1v10a1 1 0 01-1 1H3zm0-1h10V3H3v10z",fillOpacity:.9}}]},jZ=(0,l.aZ)({name:"AddRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-add-rectangle",o.value])),s=(0,l.Fl)((()=>xZ(xZ({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(LZ,c.value)}});function MZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MZ(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FZ={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M5 8.5h6v-1H5v1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M3 14a1 1 0 01-1-1V3a1 1 0 011-1h10a1 1 0 011 1v10a1 1 0 01-1 1H3zm0-1h10V3H3v10z",fillOpacity:.9}}]},UZ=(0,l.aZ)({name:"MinusRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-minus-rectangle",o.value])),s=(0,l.Fl)((()=>BZ(BZ({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(FZ,c.value)}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function VZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VZ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HZ={code:1001,reason:"The same level of rows can not be swapped."},QZ=function(){function e(){FA(this,e),u(this,"treeDataMap",new Map),u(this,"expandAllRowIndex",void 0),this.treeDataMap=new Map}return VA(e,[{key:"initialTreeStore",value:function(e,t,n){var r;null===(r=this.treeDataMap)||void 0===r||r.clear(),this.initialTreeDataMap(this.treeDataMap,e,t[0],n)}},{key:"getAllUniqueKeys",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,o=e.length;r<o;r++){var i=e[r];n.push(sT(i,t.rowKey));var a=sT(i,t.childrenKey);null!==a&&void 0!==a&&a.length&&this.getAllUniqueKeys(a,t,n)}return n}},{key:"toggleExpandData",value:function(e,t,n){if(!e)return qA.error("EnhancedTable","the node you want to toggleExpand doest not exist in `data`"),t;var r=sT(e.row,n.rowKey);if(void 0===r)return qA.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`."),[];var o=sT(e.row,n.childrenKey);if(!0===o)return t;var i=this.treeDataMap.get(r);return i.rowIndex=e.rowIndex,i.expanded=!i.expanded,this.treeDataMap.set(r,i),this.updateExpandRow(i,t,n)}},{key:"updateExpandRow",value:function(e,t,n){var r=e.row,o=e.rowIndex,i=e.expanded,a=this.treeDataMap,s=sT(r,n.childrenKey);if(!r||!s)return t;if(i)qZ(a,e,i,n),GZ(a,r,s.length,"expand",n),t.splice.apply(t,[o+1,0].concat(s));else{qZ(a,e,i,n);var c=e.expandChildrenLength||s.length;GZ(a,r,-1*c,"fold",n),t.splice(o+1,c)}return YZ(a,t,{rowKey:n.rowKey,minRowIndex:o+1}),t}},{key:"getData",value:function(e){return this.treeDataMap.get(e)}},{key:"updateData",value:function(e,t,n,r){var o=sT(t,r.rowKey),i=this.treeDataMap.get(e);if(!i||-1===i.rowIndex)return zZ(n,e,t,{rowKey:r.rowKey,childrenKey:r.childrenKey}),-1;if(!0===sT(t,r.childrenKey)){var a=sT(i.row,r.childrenKey);if(null!==a&&void 0!==a&&a.length)for(var s=0,c=a.length;s<c;s++){var u=sT(a[s],r.rowKey),l=this.treeDataMap.get(u);l&&this.treeDataMap["delete"](u)}}var d=i.rowIndex;if(i.row=t,i.id=o,i.parent){var f=sT(i.parent.row,r.childrenKey),p=f.findIndex((function(t){return sT(t,r.rowKey)===e}));f[p]=t}return this.treeDataMap.set(o,i),e!==o&&this.treeDataMap["delete"](e),d}},{key:"remove",value:function(e,t,n){var r=this.treeDataMap.get(e);if(r&&r.rowIndex>=0){var o=(r.expandChildrenLength||0)+1;if(t.splice(r.rowIndex,o),r.parent){var i=sT(r.parent.row,n.childrenKey),a=i.findIndex((function(t){return sT(t,n.rowKey)===e}));i.splice(a,1),GZ(this.treeDataMap,r.parent.row,-1*o,"delete",n)}this.treeDataMap["delete"](e),YZ(this.treeDataMap,t,{minRowIndex:r.rowIndex,rowKey:n.rowKey,type:"remove"})}else qA.warn("EnhancedTable","Do not remove this node, which is not appeared.");return t}},{key:"appendTo",value:function(e,t,n,r){var o=this.treeDataMap.get(e);if(!this.validateDataExist(o,e))return n;for(var i=sT(o.row,r.childrenKey),a=o.expanded||!(null!==i&&void 0!==i&&i.length),s=t instanceof Array?t:[t],u=[],l=[],d=-1,f=0,p=s.length;f<p;f++){var h=s[f],g=sT(h,r.rowKey),v=this.treeDataMap.get(g);if(this.validateDataDoubleExist(v,g)){var m=a?o.rowIndex+(o.expandChildrenLength||0)+(f+1):-1;0===f&&(d=m);var y={id:g,row:h,rowIndex:m,level:o.level+1,expanded:!1,expandChildrenLength:0,disabled:!1,path:c(o.path),parent:o};y.path=y.path.concat(y),u.push(h),l.push(y),this.treeDataMap.set(g,y)}else qA.warn("Table","Duplicated Data `".concat(g,"` has been removed."))}if(!u.length)return n;if(null!==i&&void 0!==i&&i.length?o.row[r.childrenKey]=o.row[r.childrenKey].concat(u):(o.row[r.childrenKey]=u,o.expanded=!0),a){n.splice.apply(n,[d,0].concat(u));var A=u.length||1;GZ(this.treeDataMap,o.row,A,"insert",{rowKey:r.rowKey,childrenKey:r.childrenKey}),YZ(this.treeDataMap,n,{minRowIndex:d+u.length-1,rowKey:r.rowKey,type:"add",count:1})}return n}},{key:"appendToRoot",value:function(e,t,n){for(var r=t.concat(e),o=e instanceof Array?e:[e],i=t.length,a=0,s=o.length;a<s;a++){var c=sT(o[a],n.rowKey);if(c){var u={id:c,row:o[a],rowIndex:i+a,level:0,expanded:!1,expandChildrenLength:0,disabled:!1};u.path=[u],this.treeDataMap.set(c,u)}else qA.error("Table","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.")}return r}},{key:"insertAfter",value:function(e,t,n,r){return this.insert(e,t,n,r,"after")}},{key:"insertBefore",value:function(e,t,n,r){return this.insert(e,t,n,r,"before")}},{key:"insert",value:function(e,t,n,r,o){var i=this.treeDataMap.get(e);if(!this.validateDataExist(i,e))return n;var a=sT(t,r.rowKey),s=this.treeDataMap.get(a);if(!this.validateDataDoubleExist(s,a))return n;var c="after"===o?i.rowIndex+1:i.rowIndex,u={id:a,row:t,rowIndex:c,level:i.level,expanded:!1,expandChildrenLength:0,disabled:!1,path:i.path.slice(0,-1),parent:i.parent};u.path=u.path.concat(u);var l="after"===o?i.rowIndex+(i.expandChildrenLength+1):i.rowIndex;n.splice(l,0,t);var d="after"===o?1:0;if(i.parent){var f=i.parent.row[r.childrenKey].findIndex((function(t){return e===sT(t,r.rowKey)}));i.parent.row[r.childrenKey].splice(f+d,0,t),GZ(this.treeDataMap,i.parent.row,1,"insert",r)}return this.treeDataMap.set(a,u),YZ(this.treeDataMap,n,{rowKey:r.rowKey,minRowIndex:i.rowIndex+1,type:"add"}),n}},{key:"swapData",value:function(e,t,n){var r=t.currentIndex,o=t.targetIndex;if(r===o)return{dataSource:e,result:!0};var i=sT(t.current,n.rowKey),a=sT(t.target,n.rowKey),s=this.treeDataMap.get(i),u=this.treeDataMap.get(a);if(s.level!==u.level)return{dataSource:e,result:!1,code:HZ.code,reason:HZ.reason};var l=r+s.expandChildrenLength+1,d=o+u.expandChildrenLength+1,f=e.slice(r,l),p=e.slice(o,d);if(r>o){var h=e.slice(d,r),g=f.concat(p,h);e.splice(o,g.length),e.splice.apply(e,[o,0].concat(c(g))),YZ(this.treeDataMap,e,{rowKey:n.rowKey,minRowIndex:o,maxRowIndex:l})}else{var v=e.slice(l,o),m=v.concat(p,f);e.splice(r,m.length),e.splice.apply(e,[r,0].concat(c(m))),YZ(this.treeDataMap,e,{rowKey:n.rowKey,minRowIndex:r,maxRowIndex:d})}if(s.parent){for(var y=s.parent.row[n.childrenKey],A=0,b=-1,E=-1,_=0,w=y.length;_<w;_++)if(sT(y[_],n.rowKey)===i&&(b=_,A+=1),sT(y[_],n.rowKey)===a&&(E=_,A+=1),A>=2)break;y[b]=t.target,y[E]=t.current}return{dataSource:e,result:!0}}},{key:"expandAll",value:function(e,t){var n=this;this.expandAllRowIndex=0;var r=function e(t,r){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=0,c=t.length;s<c;s++){var u=t[s],l=sT(u,r.rowKey),d=n.treeDataMap.get(l),f=sT(u,r.childrenKey),p=d.expanded;if(d.rowIndex=n.expandAllRowIndex,!0!==f&&null!==f&&void 0!==f&&f.length&&(d.expanded=!0),d.expandChildrenLength=(null===f||void 0===f?void 0:f.length)||0,n.expandAllRowIndex+=1,i||o.push(u),n.treeDataMap.set(l,d),null!==f&&void 0!==f&&f.length&&!p){var h=a;while(null!==(g=h)&&void 0!==g&&g.row){var g;h.expandChildrenLength+=f.length,n.treeDataMap.set(h.id,h),h=h.parent}e(f,r,o,p,d)}}return o};return r(e,t)}},{key:"foldAll",value:function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r],a=sT(i,t.rowKey),s=this.treeDataMap.get(a);s.rowIndex=0===s.level?r:-1,s.expanded=!1,s.expandChildrenLength=0,0===s.level&&n.push(i);var c=sT(i,t.childrenKey);null!==c&&void 0!==c&&c.length&&this.foldAll(c,t)}return n}},{key:"getTreeNode",value:function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r],a=sT(i,t.rowKey),s=this.treeDataMap.get(a);0===s.level&&n.push(i)}return n}},{key:"getTreeExpandedRow",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"data",o=[];return e.forEach((function(e){var i=sT(e,t.rowKey),a=n.treeDataMap.get(i);a.expanded&&("unique"===r?o.push(i):"data"===r?o.push(e):o.push(a))})),o}},{key:"initialTreeDataMap",value:function(e,t,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=0,s=t.length;a<s;a++){var c=t[a],u=sT(c,r.rowKey);if(void 0===u)return void qA.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");var l=sT(c,r.childrenKey),d={id:u,row:c,rowIndex:0===o?a:-1,level:o,expanded:!1,expandChildrenLength:0,disabled:rz(n,c,a),parent:i};d.path=i?i.path.concat(d):[d],e.set(u,d),null!==l&&void 0!==l&&l.length&&this.initialTreeDataMap(e,l,n,r,o+1,d)}}},{key:"updateDisabledState",value:function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r],a=sT(i,n.rowKey);if(void 0===a)return void qA.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");var s=this.treeDataMap.get(a);s.disabled=rz(t,i,r),this.treeDataMap.set(a,s);var c=sT(i,n.childrenKey);null!==c&&void 0!==c&&c.length&&this.updateDisabledState(c,t,n)}}},{key:"validateDataExist",value:function(e,t){return!!e||(qA.warn("EnhancedTable","".concat(t," does not exist.")),!1)}},{key:"validateDataDoubleExist",value:function(e,t){return!e||(qA.warn("EnhancedTable","Duplicated Key. ".concat(t," already exists.")),!1)}}]),e}();function GZ(e,t,n,r,o){var i=t;while(i){var a,s=e.get(sT(i,o.rowKey)),c=(s.expandChildrenLength||0)+n;s.expandChildrenLength=Math.max(0,c),i=null===s||void 0===s||null===(a=s.parent)||void 0===a?void 0:a.row}"fold"===r&&KZ(e,t,o)}function KZ(e,t,n){var r=sT(t,n.childrenKey);null!==r&&void 0!==r&&r.length&&r.forEach((function(t){var r=e.get(sT(t,n.rowKey));r&&(r.expandChildrenLength=0,KZ(e,r.row,n))}))}function qZ(e,t,n,r){var o=t.row,i=t.rowIndex,a=sT(o,r.childrenKey);a.forEach((function(o,a){var s=sT(o,r.rowKey),c=n?i+1+a:-1,u=e.get(s),l=WZ(WZ({},u),{},{row:o,rowIndex:c,expanded:!1,parent:t});if(e.set(s,l),!n){var d=sT(o,r.childrenKey);null!==d&&void 0!==d&&d.length&&qZ(e,WZ(WZ({},l),{},{rowIndex:-1,expanded:!1}),n,r)}}))}function zZ(e,t,n,r){for(var o=0,i=e.length;o<i;o++){var a=e[o];if(sT(a,r.rowKey)===t)return void(e[o]=n);var s=sT(a,r.childrenKey)||[];null!==s&&void 0!==s&&s.length&&zZ(s,t,n,r)}}function YZ(e,t,n){for(var r=n.minRowIndex||0,o=n.maxRowIndex||t.length,i=r;i<o;i++){var a=t[i],s=e.get(sT(a,n.rowKey));s||qA.warn("Table","tree map went wrong"),s.rowIndex=i+((null===n||void 0===n?void 0:n.count)||1)-1}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function JZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JZ(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZZ(e,t){var n=(0,d.BK)(e),r=n.data,o=n.columns,i=Is("table"),a=i.t,s=i.globalConfig,f=Tg({AddRectangleIcon:jZ,MinusRectangleIcon:UZ}),p=f.AddRectangleIcon,h=f.MinusRectangleIcon,g=(0,d.iH)(new QZ),v=(0,d.iH)(),m=(0,d.iH)([]),y=qq(),A=y.tableTreeClasses,b=ip(),E=(0,l.Fl)((function(){var t;return{rowKey:e.rowKey||"id",childrenKey:(null===(t=e.tree)||void 0===t?void 0:t.childrenKey)||"children"}})),_=(0,l.Fl)((function(){return o.value.find((function(e){return"row-select"===e.colKey}))}));(0,l.YP)(_,(function(e){g.value&&g.value.updateDisabledState(m.value,e,E.value)}));var w=function(e){var t=XZ(XZ({},e),{},{type:"fold"}),n=a(s.value.treeExpandAndFoldIcon,l.h,t)||(0,l.Wm)(h,null,null);return b("treeExpandAndFoldIcon",{defaultNode:n,params:t})},S=function(e){var t=XZ(XZ({},e),{},{type:"expand"}),n=a(s.value.treeExpandAndFoldIcon,l.h,t)||(0,l.Wm)(p,null,null);return b("treeExpandAndFoldIcon",{defaultNode:n,params:t})},C=(0,l.Fl)((function(){var e,t;return(null===(e=g.value)||void 0===e||null===(t=e.getAllUniqueKeys(r.value,E.value))||void 0===t?void 0:t.join())||""}));function I(t){var n,r=oT(t);g.value.initialTreeStore(r,e.columns,E.value),null!==(n=e.tree)&&void 0!==n&&n.defaultExpandAll&&(r=g.value.expandAll(r,E.value)),m.value=r}function O(t){var n,r;if(void 0!==t){var o=void 0===(null===(n=e.tree)||void 0===n?void 0:n.indent)?24:null===(r=e.tree)||void 0===r?void 0:r.indent;return o?{paddingLeft:"".concat(t*o||1,"px")}:{}}}function T(t,n){var r,o,i;m.value=c(g.value.toggleExpandData(t,m.value,E.value));var a=sT(t.row,E.value.rowKey),s=null===(r=g.value)||void 0===r||null===(o=r.treeDataMap)||void 0===o?void 0:o.get(a);null===(i=e.onTreeExpandChange)||void 0===i||i.call(e,{row:t.row,rowIndex:t.rowIndex,rowState:s,trigger:n})}function R(){var t,n=e.columns,r=(null===(t=e.tree)||void 0===t?void 0:t.treeNodeColumnIndex)||0;while(null!==(o=n[r])&&void 0!==o&&o.type||"__EXPAND_ROW_ICON_COLUMN__"===(null===(i=n[r])||void 0===i?void 0:i.colKey)){var o,i;r+=1}return n[r]}function N(n){if(!e.tree||n.colKey!==v.value.colKey)return n;var r=XZ({},v.value);return r.cell=function(r,o){var i=Uz(XZ(XZ({},o),{},{col:XZ({},v.value)}),t.slots,{cellEmptyContent:e.cellEmptyContent}),a=g.value.treeDataMap.get(sT(o.row,E.value.rowKey)),s=O(null===a||void 0===a?void 0:a.level),c=u({},A.inlineCol,!!n.ellipsis),d=sT(o.row,E.value.childrenKey);if(d&&d instanceof Array||!0===d){var f,p=null!==(f=g.value.treeDataMap.get(sT(o.row,E.value.rowKey)))&&void 0!==f&&f.expanded?w(o):S(o);return(0,l.Wm)("div",{class:[A.col,c],style:s},[!(!d.length&&!0!==d)&&(0,l.Wm)("span",{class:A.icon,onClick:function(){return T(o,"expand-fold-icon")}},[p]),i])}return(0,l.Wm)("div",{style:s,class:c},[i])},!0===r.ellipsis&&(r.ellipsis=function(e,n){return Uz(XZ(XZ({},n),{},{col:XZ({},v.value)}),t.slots)}),r}function P(e,t){var n=g.value.updateData(e,t,m.value,E.value),r=c(m.value);r[n]=t,m.value=r}function k(e){return g.value.getData(e)}function D(e){m.value=c(g.value.remove(e,m.value,E.value))}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;m.value=e?c(g.value.appendTo(e,t,m.value,E.value)):g.value.appendToRoot(t,m.value,E.value)}function L(e,t){m.value=c(g.value.insertAfter(e,t,m.value,E.value))}function j(e,t){m.value=c(g.value.insertBefore(e,t,m.value,E.value))}function M(){m.value=c(g.value.expandAll(m.value,E.value))}function B(){m.value=c(g.value.foldAll(m.value,E.value))}function F(t){var n=g.value.swapData(m.value,t,E.value);if(n.result)m.value=c(n.dataSource);else{var r,o={code:n.code,reason:n.reason};null===(r=e.onAbnormalDragSort)||void 0===r||r.call(e,o)}}function U(){return g.value.getTreeNode(m.value,E.value)}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return g.value.getTreeExpandedRow(m.value,E.value,e)}return(0,l.YP)([C],(function(){r.value&&(e.tree?I(r.value):m.value=r.value)}),{immediate:!0}),(0,l.Ah)((function(){var t;e.tree&&(null===(t=g.value.treeDataMap)||void 0===t||t.clear(),g.value=null)})),(0,l.YP)([o],(function(){v.value=R()}),{immediate:!0}),{store:g,rowDataKeys:E,dataSource:m,swapData:F,setData:P,getData:k,remove:D,appendTo:x,insertAfter:L,insertBefore:j,formatTreeColumn:N,toggleExpandData:T,expandAll:M,foldAll:B,getTreeNode:U,resetData:I,getTreeExpandedRow:V}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function $Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function e$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Z(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var t$=new Map;function n$(e,t,n,r){if(t$.get(t))return t$.get(t);var o=r||{allChildren:[],allChildrenKeys:[],leafNodeKeys:[]},i=sT(t,n.childrenKey);if(!i||!i.length)return o;var a=i.filter((function(t){var r;return!(null!==(r=e.get(sT(t,n.rowKey)))&&void 0!==r&&r.disabled)}));o.allChildren=c(new Set(o.allChildren.concat(a)));for(var s=0,u=i.length;s<u;s++){var l=i[s],d=sT(l,n.childrenKey);if(null!==d&&void 0!==d&&d.length){var f=n$(e,l,n,o);o.allChildren=c(new Set(o.allChildren.concat(f.allChildren)))}}for(var p=0,h=o.allChildren.length;p<h;p++){var g=o.allChildren[p],v=sT(g,n.childrenKey),m=sT(g,n.rowKey);o.allChildrenKeys.push(m),v&&v.length||o.leafNodeKeys.push(m)}return o.allChildrenKeys=c(new Set(o.allChildrenKeys)),o.leafNodeKeys=c(new Set(o.leafNodeKeys)),o}function r$(e,t){for(var n=e.selectedRowKeys,r=e.removeKeys,o=t||{data:[],keys:[]},i=0,a=n.length;i<a;i++){var s=n[i];r.includes(s)||o.keys.push(s)}return o}function o$(e){for(var t=e.treeDataMap,n=e.selectedRowKeys,r=[],o=0,i=n.length;o<i;o++){var a=n[o];r.push(t.get(a))}return r}function i$(e,t){var n=(0,d.BK)(e),r=n.selectedRowKeys,o=n.tree,i=n.data,a=n.indeterminateSelectedRowKeys,s=(0,d.iH)([]),u=zA(r,e.defaultSelectedRowKeys||[],e.onSelectChange,"selectedRowKeys"),f=v(u,2),p=f[0],h=f[1],g=(0,l.Fl)((function(){var t;return{rowKey:e.rowKey||"id",childrenKey:(null===(t=e.tree)||void 0===t?void 0:t.childrenKey)||"children"}}));function m(){if(o.value&&!o.value.checkStrictly)if(p.value.length){for(var e=[],n={},r=0,i=p.value.length;r<i;r++){var a=p.value[r],c=t.value.get(a),u=sT(c.row,g.value.childrenKey);if(!u||!u.length){var l=c.parent;while(l){n[l.id]||(n[l.id]=[]),n[l.id].push(c.row);var d=n[l.id].length,f=n$(t.value,l.row,g.value),h=f.allChildrenKeys,v=e.indexOf(l.id),m=p.value.indexOf(l.id);d>0&&d<h.length&&-1===m?-1===v&&e.push(l.id):-1!==v&&e.splice(v,1),l=l.parent}}}s.value=e}else s.value=[]}function y(e,n,r){if(o.value&&!o.value.checkStrictly){var i=c(e),a=t.value.get(n),s=a.parent;while(s){var u=n$(t.value,s.row,g.value),l=u.leafNodeKeys,d=yN(l,e),f=i.indexOf(s.id);"uncheck"===r?-1!==f&&i.splice(f,1):d.length===l.length&&-1===f&&i.push(s.id),s=s.parent}return i}}function A(e,t){o.value&&!o.value.checkStrictly?"CHECK_ALL_BOX"===t.currentRowKey?b(t):E(e,t):h(e,t)}function b(e){var n=[],r=[];if("check"===e.type)for(var o=c(t.value.values()),i=0,a=o.length;i<a;i++){var s=o[i];s.disabled||(r.push(s.row),n.push(sT(s.row,g.value.rowKey)))}var u=e$(e$({},e),{},{selectedRowData:r||[]});h(n,u)}function E(n,r){var o,i=c(n);if(!1===(null===(o=e.tree)||void 0===o?void 0:o.checkStrictly))if("check"===(null===r||void 0===r?void 0:r.type)){var a=n$(t.value,r.currentRowData,g.value),s=a.allChildrenKeys;t$.set(r.currentRowData,a),i=c(new Set(i.concat(s)))}else if("uncheck"===(null===r||void 0===r?void 0:r.type)){var u=n$(t.value,r.currentRowData,g.value),l=r$({selectedRowKeys:n,removeKeys:u.allChildrenKeys});i=l.keys}i=y(i,r.currentRowKey,r.type);var d=o$({treeDataMap:t.value,selectedRowKeys:i}),f=e$(e$({},r),{},{selectedRowData:d});h(i,f)}return(0,l.YP)([o,t,i,p],(function(e){var t=v(e,2),n=t[0],r=t[1];n&&r.size&&!n.checkStrictly&&m()})),{tIndeterminateSelectedRowKeys:a.value?a:s,onInnerSelectChange:A}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var a$=["store","dataSource","formatTreeColumn","swapData"];function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s$(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u$=(0,l.aZ)({name:"TEnhancedTable",props:c$(c$(c$({},Wq),aY),kZ),setup:function(e,t){var n=ZZ(e,t),r=n.store,o=n.dataSource,i=n.formatTreeColumn,a=n.swapData,s=$y(n,a$),c=(0,d.iH)(r.value.treeDataMap),u=i$(e,c),f=u.tIndeterminateSelectedRowKeys,p=u.onInnerSelectChange,h=function e(t){for(var n=[],r=0,o=t.length;r<o;r++){var a,s,c=c$({},t[r]);c=i(c),null!==(a=c.children)&&void 0!==a&&a.length&&(c.children=e(c.children)),(!c.children||null!==(s=c.children)&&void 0!==s&&s.length)&&n.push(c)}return n},g=(0,l.Fl)((function(){var t=!e.tree||!Object.keys(e.tree).length;return t?e.columns:h(e.columns)})),v=function(t){var n;e.beforeDragSort&&!e.beforeDragSort(t)||(a({current:t.current,target:t.target,currentIndex:t.currentIndex,targetIndex:t.targetIndex}),null===(n=e.onDragSort)||void 0===n||n.call(e,t))};return c$({store:r,dataSource:o,tColumns:g,tIndeterminateSelectedRowKeys:f,onDragSortChange:v,onInnerSelectChange:p},s)},render:function(){var e=c$(c$({},this.$props),{},{data:this.dataSource,columns:this.tColumns,indeterminateSelectedRowKeys:this.tIndeterminateSelectedRowKeys,disableDataPage:Boolean(this.tree&&Object.keys(this.tree).length),onSelectChange:this.onInnerSelectChange,onDragSort:this.onDragSortChange});return(0,l.Wm)(PZ,(0,l.dG)(e,this.$attrs),this.$slots)}}),l$=Hf(iY),d$=Hf(PZ),f$=Hf(u$),p$=oT(PZ),h$=Hf(p$,"TTable"),g$={borderless:Boolean,defaultExpandAll:Boolean,disabled:Boolean,expandIcon:{type:[Boolean,Function],default:!0},expandIconPlacement:{type:String,default:"left",validator:function(e){return!e||["left","right"].includes(e)}},expandMutex:Boolean,expandOnRowClick:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onChange:Function},v$=(0,l.aZ)({name:"TCollapse",props:g$,setup:function(e,t){var n=Os("collapse"),r=Os("-border-less"),o=op(),i=(0,d.BK)(e),a=i.value,s=i.expandMutex,c=i.borderless,f=i.modelValue,p=Sy(a,f,e.defaultValue,e.onChange),h=v(p,2),g=h[0],m=h[1],y=function(e){var t=[].concat(g.value||[]),n=t.indexOf(e);n>=0?t.splice(n,1):s.value?t=[e]:t.push(e),m(t)},A=(0,l.Fl)((function(){return[n.value,u({},r.value,!!c.value)]})),b=function(){var e=0;return function(){return e++}}();return(0,l.JJ)("collapseValue",g),(0,l.JJ)("updateCollapseValue",y),(0,l.JJ)("collapseProps",(0,d.BK)(e)),(0,l.JJ)("getUniqId",b),function(){var e=o("default");return(0,l.Wm)("div",{class:A.value},[e])}}}),m$={content:{type:[String,Function]},default:{type:[String,Function]},destroyOnCollapse:Boolean,disabled:{type:Boolean,default:void 0},expandIcon:{type:[Boolean,Function],default:void 0},header:{type:[String,Function]},headerRightContent:{type:[String,Function]},value:{type:[String,Number]}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function y$(){var e=function(e){e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0"},t=function(e){e.dataset.oldOverflow=e.style.overflow,e.style.height="".concat(e.scrollHeight,"px"),e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},n=function(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow},r=function(e){e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height="".concat(e.scrollHeight,"px"),e.style.overflow="hidden"},o=function(e){0!==e.scrollHeight&&(e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0")},i=function(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom};return{beforeEnter:e,enter:t,afterEnter:n,beforeLeave:r,leave:o,afterLeave:i}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function A$(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var b$=(0,l.aZ)({name:"TCollapsePanel",props:m$,setup:function(e){var t=op(),n=Os("collapse-panel"),r=Os("is-disabled"),o=Os("is-clickable"),i=Os("slide-down"),a=(0,d.BK)(e),s=a.value,c=a.disabled,p=a.destroyOnCollapse,h=a.expandIcon,g=(0,l.f3)("collapseValue"),v=(0,l.f3)("updateCollapseValue"),m=(0,l.f3)("getUniqId",(function(){}),!1),y=(0,l.f3)("collapseProps"),A=y.defaultExpandAll,b=y.disabled,E=y.expandIconPlacement,_=y.expandOnRowClick,w=y.expandIcon,S=s.value||m(),C=(0,l.Fl)((function(){return void 0===h.value?w.value:h.value}));A.value&&v(S);var I=y$(),O=I.beforeEnter,T=I.enter,R=I.afterEnter,N=I.beforeLeave,P=I.leave,k=I.afterLeave,D=(0,d.iH)(),x=(0,l.Fl)((function(){return c.value||b.value})),L=(0,l.Fl)((function(){return g.value instanceof Array?g.value.includes(S):g.value===S})),j=(0,l.Fl)((function(){return[n.value,u({},r.value,x.value)]})),M=function(e){var t=_.value&&e.target===D.value||"arrow"===e.target.getAttribute("name");t&&!x.value&&v(S)},B=function(e){return(0,l.Wm)(dE,{name:"arrow",isActive:L.value,overlayClassName:"".concat(n.value,"__icon ").concat(n.value,"__icon--").concat(e)},null)},F=function(){return(0,l.Wm)("div",{class:"".concat(n.value,"__header--blank")},null)},U=function(){var e=["".concat(n.value,"__header"),u({},o.value,_.value&&!x.value)];return(0,l.Wm)("div",{ref:D,class:e,onClick:M},[C.value&&"left"===E.value?B(E.value):null,t("header"),F(),t("headerRightContent"),C.value&&"right"===E.value?B(E.value):null])},V=function(){return(0,l.wy)((0,l.Wm)("div",{class:"".concat(n.value,"__body")},[(0,l.Wm)("div",{class:"".concat(n.value,"__content")},[t("default")])]),[[f.F8,L.value]])},W=function(){return L.value?(0,l.Wm)("div",{class:"".concat(n.value,"__body")},[(0,l.Wm)("div",{class:"".concat(n.value,"__content")},[t("default")])]):null},H=function(){return p.value?W():V()};return function(){var e;return(0,l.Wm)("div",{class:j.value},[(0,l.Wm)("div",{class:"".concat(n.value,"__wrapper")},[U(),(0,l.Wm)(f.uT,{name:i.value,onBeforeEnter:O,onEnter:T,onAfterEnter:R,onBeforeLeave:N,onLeave:P,onAfterLeave:k},A$(e=H())?e:{default:function(){return[e]}})])])}}}),E$=Hf(v$),_$=Hf(b$),w$={alpha:{type:Number,default:1},content:{type:[String,Function]},default:{type:[String,Function]},height:{type:Number},isRepeat:{type:Boolean,default:!0},lineSpace:{type:Number,default:16},movable:Boolean,moveInterval:{type:Number,default:3e3},offset:{type:Array},removable:{type:Boolean,default:!0},rotate:{type:Number,default:-22},watermarkContent:{type:[Object,Array]},width:{type:Number},x:{type:Number},y:{type:Number},zIndex:{type:Number}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function S$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S$(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I$(e,t){var n=e.width,r=e.height,o=e.gapX,i=e.gapY,a=e.offsetLeft,s=e.offsetTop,c=e.rotate,u=e.alpha,l=e.watermarkContent,d=e.lineSpace,f=document.createElement("canvas"),p=f.getContext("2d");if(!p)return console.warn("当前环境不支持Canvas, 无法绘制水印"),void t("");var h=window.devicePixelRatio||1,g=(o+n)*h,v=(i+r)*h;f.width=g,f.height=v,f.style.width="".concat(o+n,"px"),f.style.height="".concat(i+r,"px"),p.translate(a*h,s*h),p.rotate(Math.PI/180*Number(c)),p.globalAlpha=u;var m=n*h,y=r*h;p.fillStyle="transparent",p.fillRect(0,0,m,y);var A=Array.isArray(l)?l:[C$({},l)],b=0;A.forEach((function(e){if(e.url){var o=e.url,i=e.isGrayscale,a=void 0!==i&&i;e.top=b,b+=r;var s=new Image;s.crossOrigin="anonymous",s.referrerPolicy="no-referrer",s.src=o,s.onload=function(){if(p.drawImage(s,0,e.top*h,n*h,r*h),a){for(var o=p.getImageData(0,0,p.canvas.width,p.canvas.height),i=o.data,c=0;c<i.length;c+=4){var u=(i[c]+i[c+1]+i[c+2])/3;i[c]=u,i[c+1]=u,i[c+2]=u}p.putImageData(o,0,0)}t(f.toDataURL())}}else if(e.text){var c=e.text,u=e.fontColor,l=void 0===u?"rgba(0, 0, 0, 0.1)":u,g=e.fontSize,v=void 0===g?16:g,m=e.fontWeight,A=void 0===m?"normal":m;e.top=b,b+=d;var E=Number(v)*h;p.font="normal normal ".concat(A," ").concat(E,"px/").concat(y,"px undefined"),p.textAlign="start",p.textBaseline="top",p.fillStyle=l,p.fillText(c,0,e.top*h)}})),t(f.toDataURL())}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function O$(){var e=Math.floor(4*Math.random()),t=Math.floor(70*Math.random())+30,n=0,r=95,o=90,i="\n  @keyframes watermark {\n    0%   {left: ".concat(1===e?o:3===e?n:t,"%; top: ").concat(0===e?n:2===e?r:t,"%;}\n    25% {left: ").concat(0===e?o:2===e?n:100-t,"%; top: ").concat(1===e?r:3===e?n:t,"%;}\n    50% {left: ").concat(1===e?n:3===e?o:100-t,"%; top: ").concat(0===e?r:2===e?n:100-t,"%;}\n    75% {left: ").concat(0===e?n:2===e?o:t,"%; top: ").concat(1===e?n:3===e?r:100-t,"%;}\n    100% {left: ").concat(1===e?o:3===e?n:t,"%; top: ").concat(0===e?n:2===e?r:t,"%;}\n  }\n  ");return i}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var T$=function(e){var t=document.createElement("style"),n=null;document.head.appendChild(t),n=t.sheet,n.insertRule(e,n.cssRules.length)},R$=["window"],N$="undefined"!==typeof window?window:void 0;function P$(e){var t,n=(0,d.SU)(e);return null!==(t=null===n||void 0===n?void 0:n.$el)&&void 0!==t?t:n}function k$(e){return!!(0,d.nZ)()&&((0,d.EB)(e),!0)}function D$(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.window,i=void 0===o?N$:o,a=$y(r,R$),s=i&&"MutationObserver"in i,c=function(){n&&(n.disconnect(),n=void 0)},u=(0,l.YP)((function(){return P$(e)}),(function(e){c(),s&&i&&e&&(n=new MutationObserver(t),n.observe(e,a))}),{immediate:!0}),d=function(){c(),u()};return k$(d),{isSupported:s,stop:d}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var x$=(0,l.aZ)({name:"TWatermark",props:w$,setup:function(e){var t=(0,d.iH)(""),n=(0,d.iH)(),r=(0,d.iH)(),o=(0,d.iH)(),i=(0,d.qj)(e.offset||[]),a=(0,l.Fl)((function(){return e.movable?0:e.x})),s=(0,l.Fl)((function(){return e.movable?0:e.y})),c=(0,l.Fl)((function(){return e.movable?0:e.rotate})),u=(0,l.Fl)((function(){return e.movable?"no-repeat":e.isRepeat?"repeat":"no-repeat"})),f=(0,l.Fl)((function(){return i[0]||a.value/2})),p=(0,l.Fl)((function(){return i[1]||s.value/2})),h={width:e.width,height:e.height,rotate:c.value,lineSpace:e.lineSpace,alpha:e.alpha,gapX:a.value,gapY:s.value,watermarkContent:e.watermarkContent,offsetLeft:f.value,offsetTop:p.value};return(0,l.bv)((function(){I$(h,(function(e){t.value=e})),o.value=n.value.parentElement;var i=O$();T$(i),D$(o.value,(function(t){e.removable||t.forEach((function(e){if("childList"===e.type){var t=e.removedNodes;t.forEach((function(e){var t=e;t===n.value&&o.value.appendChild(t),t===r.value&&n.value.appendChild(t)}))}}))}),{attributes:!0,childList:!0,characterData:!0,subtree:!0})})),{gapX:a,gapY:s,backgroundRepeat:u,backgroundImage:t,watermarkRef:n,watermarkContentRef:r,bgImageOptions:h}},render:function(){var e=Os("watermark"),t=ap();return(0,l.Wm)("div",{style:{position:"relative",overflow:"hidden",width:"100%"},class:e.value,ref:"watermarkRef"},[t("default","content"),(0,l.Wm)("div",{ref:"watermarkContentRef",style:{zIndex:this.zIndex,position:"absolute",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%",backgroundSize:"".concat(this.gapX+this.width,"px"),pointerEvents:"none",backgroundRepeat:this.backgroundRepeat,backgroundImage:"url('".concat(this.backgroundImage,"')"),animation:this.movable?"watermark infinite ".concat(4*this.moveInterval/60,"s"):"none"}},null)])}}),L$=Hf(x$);function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j$(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B$={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.6 1.82a.45.45 0 01.8 0l1.8 3.65 4.03.58c.37.05.52.5.25.77l-2.91 2.84.69 4a.45.45 0 01-.66.48L8 12.25l-3.6 1.9a.45.45 0 01-.65-.48l.68-4.01-2.9-2.84a.45.45 0 01.24-.77l4.03-.58 1.8-3.65z",fillOpacity:.9}}]},F$=(0,l.aZ)({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-star-filled",o.value])),s=(0,l.Fl)((()=>M$(M$({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(B$,c.value)}}),U$={allowHalf:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:Boolean,gap:{type:Number,default:4},icon:{type:Function},showText:Boolean,size:{type:String,default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:0},onChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function V$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V$(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H$=(0,l.aZ)({name:"TRate",props:W$({},U$),setup:function(e,t){var n=t.slots,r=op(),o=Array.isArray(e.color)?e.color[0]:e.color,i=Array.isArray(e.color)?e.color[1]:"var(--td-bg-color-component)",a=(0,d.BK)(e),s=a.value,u=a.modelValue,f=Sy(s,u,e.defaultValue,e.onChange),p=v(f,2),h=p[0],g=p[1],m=(0,d.iH)(void 0),y=(0,d.iH)(),A=(0,l.Fl)((function(){return Number(m.value||h.value)})),b=(0,l.Fl)((function(){return 0===e.texts.length?["极差","失望","一般","满意","惊喜"]:e.texts})),E=function(e){return void 0!==n.icon?r("icon",{params:e}):(0,l.Wm)(F$,e,null)},_=function(t,n){if(e.allowHalf){var r=y.value.getBoundingClientRect(),o=r.left,i=y.value.firstChild.nextSibling,a=i.getBoundingClientRect(),s=a.width,c=t.clientX,u=s*(n-.5)+e.gap*(n-1);if(c-o>=u)return n;if(c-o<u)return n-.5}return n},w=function(t,n){e.disabled||(m.value=_(t,n))},S=function(){e.disabled||(m.value=void 0)},C=function(t,n){e.disabled||g(_(t,n))},I=function(t){return e.allowHalf&&t+.5===A.value?"".concat(T.value,"-rate__item--half"):t>=A.value?"":t<A.value?"".concat(T.value,"-rate__item--full"):void 0},O=Is("classPrefix"),T=O.classPrefix;return function(){return(0,l.Wm)("div",{class:"".concat(T.value,"-rate"),onMouseleave:S},[(0,l.Wm)("ul",{class:"".concat(T.value,"-rate__list"),style:{gap:"".concat(e.gap,"px")},ref:y},[c(Array(Number(e.count))).map((function(t,n){return(0,l.Wm)("li",{key:n,class:["".concat(T.value,"-rate__item"),I(n)],onClick:function(e){return C(e,n+1)},onMousemove:function(e){return w(e,n+1)}},[e.showText?(0,l.Wm)(By,{key:n,content:b.value[A.value-1]},{default:function(){return[(0,l.Wm)("div",{class:"".concat(T.value,"-rate__star-top")},[(0,l.Wm)(E,{size:e.size,color:o},null)]),(0,l.Wm)("div",{class:"".concat(T.value,"-rate__star-bottom")},[(0,l.Wm)(E,{size:e.size,color:i},null)])]}}):(0,l.Wm)(l.HY,null,[(0,l.Wm)("div",{class:"".concat(T.value,"-rate__star-top")},[(0,l.Wm)(E,{size:e.size,color:o},null)]),(0,l.Wm)("div",{class:"".concat(T.value,"-rate__star-bottom")},[(0,l.Wm)(E,{size:e.size,color:i},null)])])])}))]),e.showText&&(0,l.Wm)("div",{className:"".concat(T.value,"-rate__text")},[b.value[A.value-1]])])}}}),Q$=Hf(H$),G$={close:{type:[String,Boolean,Function],default:!1},default:{type:[String,Function]},icon:{type:Function},maxLine:{type:Number,default:0},message:{type:[String,Function]},operation:{type:Function},theme:{type:String,default:"info",validator:function(e){return["success","info","warning","error"].includes(e)}},title:{type:[String,Function]},onClose:Function,onClosed:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function K$(){var e=(0,l.FN)();return function(t,n){var r;if("function"===typeof e.props[t])r=e.props[t](l.h);else if(e.slots[t])r=e.slots[t]&&e.slots[t](null)[0];else if(n){var o=n[e.props.theme];r=(0,l.Wm)(o,null,null)}return r}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var q$=(0,l.aZ)({name:"TAlert",props:G$,setup:function(e){var t=Is("alert"),n=t.globalConfig,r=t.classPrefix,o=Tg({CheckCircleFilledIcon:hg,CloseIcon:Ig,ErrorCircleFilledIcon:yg,HelpCircleFilledIcon:_g,InfoCircleFilledIcon:lg}),i=o.CheckCircleFilledIcon,a=o.CloseIcon,s=o.ErrorCircleFilledIcon,c=o.HelpCircleFilledIcon,f=o.InfoCircleFilledIcon,p=Os("alert"),h=op(),g=K$(),v=(0,d.iH)(null),m=(0,d.iH)(null),y=(0,d.iH)(0),A=(0,d.iH)(!0),b=(0,d.iH)(!0),E=function(){var e={info:f,success:i,warning:s,error:s,question:c},t=g("icon",e);return t?(0,l.Wm)("div",{class:"".concat(p.value,"__icon")},[t]):null},_=function(){var t=e.close,n=null;return n=!0===t||""===t?(0,l.Wm)(a,null,null):"string"===typeof t?t:g("close"),n?(0,l.Wm)("div",{class:"".concat(p.value,"__close"),onClick:O},[n]):null},w=function(){var e=h("title");return e?(0,l.Wm)("div",{class:"".concat(p.value,"__title")},[" ",e]):null},S=function(){var e=h("operation");return(0,l.Wm)("div",{class:"".concat(p.value,"__message")},[C(),e?(0,l.Wm)("div",{class:"".concat(p.value,"__operation")},[e]):null])},C=function(){var t,r,o;o=h("default"),o||(o=h("message"));var i=Array.isArray(o)?o.length:1,a=e.maxLine>0&&e.maxLine<i,s=null===(t=m.value)||void 0===t||null===(r=t.children[0])||void 0===r?void 0:r.offsetHeight;return a&&b.value?(o=o.slice(0,e.maxLine),s&&(m.value.style.height="".concat(y.value,"px"))):a&&s&&(m.value.style.height="".concat(s*(i-e.maxLine)+y.value,"px")),(0,l.Wm)("div",{class:"".concat(p.value,"__description"),ref:m},[a?o.map((function(e){return(0,l.Wm)("div",null,[e])})):o,a?(0,l.Wm)("div",{class:"".concat(p.value,"__collapse"),onClick:function(){b.value=!b.value}},[b.value?n.value.expandText:n.value.collapseText]):null])},I=function(){return(0,l.Wm)("div",{class:"".concat(p.value,"__content")},[w(),S()])},O=function(t){var n;null===(n=e.onClose)||void 0===n||n.call(e,{e:t}),rc(v.value,"".concat(p.value,"--closing"))},T=function(t){var n;"opacity"===t.propertyName&&(A.value=!1,null===(n=e.onClosed)||void 0===n||n.call(e,{e:t}))};return(0,l.bv)((function(){$s(v.value,"transitionend",T),y.value=m.value.offsetHeight})),(0,l.Jd)((function(){ec(v.value,"transitionend",T)})),function(){return(0,l.Wm)("div",{ref:v,class:["".concat(p.value),"".concat(p.value,"--").concat(e.theme),u({},"".concat(r.value,"-is-hidden"),!A.value)]},[E(),I(),_()])}}}),z$=Hf(q$),Y$={attach:{type:[String,Function],default:""},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function],default:""},closeBtn:{type:[String,Boolean,Function]},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function],default:""},default:{type:[String,Function]},destroyOnClose:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"overlay",validator:function(e){return!e||["overlay","push"].includes(e)}},placement:{type:String,default:"right",validator:function(e){return!e||["left","right","top","bottom"].includes(e)}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},size:{type:String,default:void 0},sizeDraggable:Boolean,visible:Boolean,zIndex:{type:Number},onCancel:Function,onClose:Function,onCloseBtnClick:Function,onConfirm:Function,onEscKeydown:Function,onOverlayClick:Function},J$=function(e){var t=(0,d.iH)(!1),n=(0,d.iH)(null),r=function(){document.addEventListener("mouseup",o,!0),document.addEventListener("mousemove",i,!0),t.value=!0},o=function e(){document.removeEventListener("mouseup",e,!0),document.removeEventListener("mousemove",i,!0),t.value=!1},i=function(r){var o=r.x,i=r.y,a=document.documentElement.clientHeight,s=document.documentElement.clientWidth,c=8,u=8;if(t.value&&e.sizeDraggable){if("right"===e.placement){var l=Math.min(Math.max(s-o+u,u),s);n.value="".concat(l,"px")}if("left"===e.placement){var d=Math.min(Math.max(o+u,u),s);n.value="".concat(d,"px")}if("top"===e.placement){var f=Math.min(Math.max(i+c,c),a);n.value="".concat(f,"px")}if("bottom"===e.placement){var p=Math.min(Math.max(a-i+c,c),a);n.value="".concat(p,"px")}}},a=(0,l.Fl)((function(){var t,n=["right","left"].includes(e.placement),r={left:"right",right:"left",top:"bottom",bottom:"top"};return t={zIndex:1,position:"absolute",background:"transparent"},u(t,r[e.placement],0),u(t,"width",n?"16px":"100%"),u(t,"height",n?"100%":"16px"),u(t,"cursor",n?"col-resize":"row-resize"),t}));return{draggedSizeValue:n,enableDrag:r,draggableLineStyles:a}},X$=(0,l.aZ)({name:"TDrawer",directives:{TransferDom:Nf},props:Y$,emits:["update:visible"],setup:function(e,t){var n=(0,d.iH)(!1),r=(0,d.iH)(!1),o=Is("drawer"),i=o.globalConfig,a=Tg({CloseIcon:Ig}),s=a.CloseIcon,c=op(),f=ap(),p=Os("drawer"),h=Os("drawer--lock"),g=J$(e),v=g.draggedSizeValue,m=g.enableDrag,y=g.draggableLineStyles,A=function(t){var n;null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t})},b=function(t){var n;null===(n=e.onCancel)||void 0===n||n.call(e,{e:t}),B({trigger:"cancel",e:t})},E=xK({confirmBtnAction:A,cancelBtnAction:b}),_=E.getConfirmBtn,w=E.getCancelBtn,S=(0,d.iH)(null),C=(0,l.Fl)((function(){var t;return[p.value,"".concat(p.value,"--").concat(e.placement),(t={},u(t,"".concat(p.value,"--open"),r.value),u(t,"".concat(p.value,"--attach"),e.showInAttachedElement),u(t,"".concat(p.value,"--without-mask"),!e.showOverlay),t)]})),I=(0,l.Fl)((function(){var t;if(v.value)return v.value;var n=null!==(t=e.size)&&void 0!==t?t:i.value.size,r=isNaN(Number(n))?n:"".concat(n,"px");return{small:"300px",medium:"500px",large:"760px"}[n]||r})),O=(0,l.Fl)((function(){return{transform:r.value?"translateX(0)":void 0,width:["left","right"].includes(e.placement)?I.value:"",height:["top","bottom"].includes(e.placement)?I.value:""}})),T=(0,l.Fl)((function(){return["".concat(p.value,"__content-wrapper"),"".concat(p.value,"__content-wrapper--").concat(e.placement)]})),R=(0,l.Fl)((function(){return S.value&&S.value.parentNode})),N=(0,l.Fl)((function(){return[e.mode,e.placement].join()})),P=(0,l.Fl)((function(){return{display:"flex",justifyContent:"right"===e.placement?"flex-start":"flex-end"}})),k=function(){"push"===e.mode&&(0,l.Y3)((function(){R.value&&(R.value.style.cssText="transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;")}))},D=function(){if(R.value&&"push"===e.mode&&R.value){var t={left:"margin: 0 0 0 ".concat(I.value),right:"margin: 0 0 0 -".concat(I.value),top:"margin: ".concat(I.value," 0 0 0"),bottom:"margin: -".concat(I.value," 0 0 0")}[e.placement];r.value?R.value.style.cssText+=t:R.value.style.cssText=R.value.style.cssText.replace(/margin:.+;/,"")}},x=function(){var t=_({confirmBtn:e.confirmBtn,globalConfirm:i.value.confirm,className:"".concat(p.value,"__confirm")}),n=w({cancelBtn:e.cancelBtn,globalCancel:i.value.cancel,className:"".concat(p.value,"__cancel")});return(0,l.Wm)("div",{style:P.value},["right"===e.placement?t:null,n,"right"!==e.placement?t:null])};(0,l.YP)(N,(function(){k()}),{immediate:!0}),(0,l.YP)((function(){return e.visible}),(function(t){Xs||(t&&!e.showInAttachedElement?e.preventScrollThrough&&rc(document.body,h.value):e.preventScrollThrough&&oc(document.body,h.value),e.destroyOnClose?t?(n.value=!1,setTimeout((function(){r.value=!0}))):(r.value=!1,setTimeout((function(){n.value=!0}),200)):!0===n.value&&t?(n.value=!1,setTimeout((function(){r.value=!0}))):r.value=t)}),{immediate:!0});var L=function(t){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t}),B({trigger:"close-btn",e:t})},j=function(t){var n,r;null===(n=e.onOverlayClick)||void 0===n||n.call(e,{e:t}),(null!==(r=e.closeOnOverlayClick)&&void 0!==r?r:i.value.closeOnOverlayClick)&&B({trigger:"overlay",e:t})},M=function(t){var n,r;(null!==(n=e.closeOnEscKeydown)&&void 0!==n?n:i.value.closeOnEscKeydown)&&"Escape"===t.key&&(null===(r=e.onEscKeydown)||void 0===r||r.call(e,{e:t}),B({trigger:"esc",e:t}))},B=function(n){var r;null===(r=e.onClose)||void 0===r||r.call(e,n),t.emit("update:visible",!1)};return(0,l.ic)((function(){D()})),function(){if(!n.value){var t=f("body","default"),r=c("header"),o=x();return(0,l.wy)((0,l.Wm)("div",{ref:S,class:C.value,style:{zIndex:e.zIndex},onKeydown:M,tabindex:0},[e.showOverlay&&(0,l.Wm)("div",{class:"".concat(p.value,"__mask"),onClick:j},null),(0,l.Wm)("div",{class:T.value,style:O.value},[r&&(0,l.Wm)("div",{class:"".concat(p.value,"__header")},[r]),e.closeBtn&&(0,l.Wm)("div",{class:"".concat(p.value,"__close-btn"),onClick:L},[c("closeBtn",(0,l.Wm)(s,null,null))]),(0,l.Wm)("div",{class:["".concat(p.value,"__body"),"narrow-scrollbar"]},[t]),e.footer&&(0,l.Wm)("div",{class:"".concat(p.value,"__footer")},[c("footer",o)]),e.sizeDraggable&&(0,l.Wm)("div",{style:y.value,onMousedown:m},null)])]),[[(0,l.Q2)("transfer-dom"),e.attach]])}}}}),Z$=Hf(X$),$$={counter:{type:Function},current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number},finishButtonProps:{type:Object,default:{content:"完成",theme:"primary"}},hideCounter:Boolean,hidePrev:Boolean,hideSkip:Boolean,highlightPadding:{type:Number,default:8},mode:{type:String,default:"popup",validator:function(e){return!e||["popup","dialog"].includes(e)}},nextButtonProps:{type:Object,default:{content:"下一步",theme:"primary"}},prevButtonProps:{type:Object,default:{content:"上一步",theme:"default"}},showOverlay:{type:Boolean,default:!0},skipButtonProps:{type:Object,default:{content:"跳过",theme:"default"}},steps:{type:Array},zIndex:{type:Number,default:999999},onChange:Function,onFinish:Function,onNextStepClick:Function,onPrevStepClick:Function,onSkip:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function e0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=gc(),r=n.scrollTop,o=n.scrollLeft,i=e.getBoundingClientRect(),a=i.top,s=i.left,c=t.getBoundingClientRect(),u=c.top,l=c.left,d=pc(t,"position");return"body"!==t.tagName.toLowerCase()&&"relative"===d||"sticky"===d?{top:a-u,left:s-l}:hc(e)?{top:a,left:s}:{top:a+r,left:s+o}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function t0(e){if(e){var t=null;if("string"===typeof e)t=document.querySelector(e);else{if("function"!==typeof e)throw new Error("elm should be string or function");t=e()}if(t)return t;throw new Error("There is no element with given.")}return document.body}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function n0(e){var t=window.getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var o=e;o.parentElement;)if(o=o.parentElement,t=window.getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.body}function r0(e){var t=n0(e);t!==document.body&&(fc(e,t)||(t.scrollTop=e.offsetTop-t.offsetTop))}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function o0(e){var t=e.getBoundingClientRect();if(!fc(e)){var n=vc().height;t.bottom,t.bottom,t.top;uc(t.top-(n/2-t.height/2),{})}}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var i0=(0,l.aZ)({name:"TGuide",directives:{TransferDom:Nf},props:$$,setup:function(e){var t=op(),n=Os("guide"),r=Os("guide--lock"),o=(0,d.BK)(e),i=o.current,a=o.modelValue,s=o.hideCounter,c=o.hidePrev,f=o.hideSkip,p=o.steps,h=o.zIndex,g=Sy(i,a,e.defaultCurrent,e.onChange,"current"),y=v(g,2),A=y[0],b=y[1],E=(0,d.iH)(),_=(0,d.iH)(),w=(0,d.iH)(),S=(0,d.iH)(),C=(0,d.iH)(),I=(0,d.iH)(),O=(0,d.iH)(),T=(0,d.iH)(!1),R=(0,l.Fl)((function(){return p.value.length})),N=(0,l.Fl)((function(){return p.value[A.value]})),P=(0,l.Fl)((function(){return"popup"===D("mode")})),k=(0,l.Fl)((function(){return hc(S.value||document.body)})),D=function(t){var n;return null!==(n=N.value[t])&&void 0!==n?n:e[t]},x=function(e){var t=e0(C.value,S.value),n=t.top,r=t.left,o=C.value.getBoundingClientRect(),i=o.width,a=o.height,s=D("highlightPadding");if(P.value)i+=2*s,a+=2*s,n-=s,r-=s;else{var c=gc(),u=c.scrollTop,l=c.scrollLeft;n+=u,r+=l}m(e,{width:"".concat(i,"px"),height:"".concat(a,"px"),top:"".concat(n,"px"),left:"".concat(r,"px")})},L=function(){var e=t0(N.value.element);C.value=e,(0,l.Y3)((function(){r0(C.value),x(_.value),x(w.value),o0(C.value),S.value=e}))},j=function(){var e;null===(e=w.value)||void 0===e||e.parentNode.removeChild(w.value)},M=function(){(0,l.Y3)((function(){var e=O.value;C.value=e,r0(C.value),x(_.value),o0(C.value),S.value=e}))},B=function(){var e,t;null===(e=O.value)||void 0===e||e.parentNode.removeChild(O.value),null===(t=I.value)||void 0===t||t.parentNode.removeChild(I.value)},F=function(){P.value?(B(),L()):(j(),M())},U=function(){var e,t;j(),B(),null===(e=_.value)||void 0===e||e.parentNode.removeChild(_.value),null===(t=E.value)||void 0===t||t.parentNode.removeChild(E.value),oc(document.body,r.value)},V=function(t){var n,r=R.value;T.value=!1,b(-1,{e:t,total:r}),null===(n=e.onSkip)||void 0===n||n.call(e,{e:t,current:-1,total:r})},W=function(t){var n,r=R.value;b(A.value-1,{e:t,total:r}),null===(n=e.onPrevStepClick)||void 0===n||n.call(e,{e:t,prev:A.value-1,current:A.value,total:r})},H=function(t){var n,r=R.value;b(A.value+1,{e:t,total:r}),null===(n=e.onNextStepClick)||void 0===n||n.call(e,{e:t,next:A.value+1,current:A.value,total:r})},Q=function(t){var n,r=R.value;T.value=!1,b(-1,{e:t,total:r}),null===(n=e.onFinish)||void 0===n||n.call(e,{e:t,current:-1,total:r})},G=function(){A.value>=0&&A.value<p.value.length&&(T.value||(T.value=!0,rc(document.body,r.value)),F())};return(0,l.YP)(A,(function(e){e>=0&&e<p.value.length?G():(T.value=!1,U())})),(0,l.bv)((function(){G()})),function(){var r=function(){return(0,l.wy)((0,l.Wm)("div",{ref:E,class:"".concat(n.value,"__overlay"),style:{zIndex:h.value-2}},null),[[(0,l.Q2)("transfer-dom"),"body"]])},o=function(){var e={zIndex:h.value-1},t=["".concat(n.value,"__highlight"),"".concat(n.value,"__highlight--").concat(P.value?"popup":"dialog"),"".concat(n.value,"--").concat(k.value&&P.value?"fixed":"absolute")],r=D("showOverlay"),o=["".concat(n.value,"__highlight--").concat(r?"mask":"nomask")],i=N.value.highlightContent,a=i&&P.value;return(0,l.wy)((0,l.Wm)("div",{ref:_,class:t.concat(a?t:o),style:e},[a&&(0,l.Wm)(i,{class:t.concat(o),style:e},null)]),[[(0,l.Q2)("transfer-dom"),"body"]])},i=function(){var e=t("counter",{params:{total:R.value,current:A.value}}),r=(0,l.Wm)("div",{class:"".concat(n.value,"__counter")},[e||(0,l.Wm)("span",null,[A.value+1,"/",R.value])]);return(0,l.Wm)(l.HY,null,[!s.value&&r])},a=function(t){var r=A.value===R.value-1,o=0===A.value,i="popup"===t?"small":"medium";return(0,l.Wm)("div",{class:"".concat(n.value,"__action")},[!f.value&&!r&&(0,l.Wm)(lp,(0,l.dG)({class:"".concat(n.value,"__skip"),theme:"default",size:i,variant:"base",onClick:V},D("skipButtonProps")),null),!c.value&&!o&&(0,l.Wm)(lp,(0,l.dG)({class:"".concat(n.value,"__prev"),theme:"primary",size:i,variant:"base",onClick:W},D("prevButtonProps")),null),!r&&(0,l.Wm)(lp,(0,l.dG)({class:"".concat(n.value,"__next"),theme:"primary",size:i,variant:"base",onClick:H},D("nextButtonProps")),null),r&&(0,l.Wm)(lp,(0,l.dG)({class:"".concat(n.value,"__finish"),theme:"primary",size:i,variant:"base",onClick:Q},e.finishButtonProps),null)])},d=function(){var e=(0,l.Wm)("div",{class:"".concat(n.value,"__title")},[N.value.title]),t=N.value.body;"string"===typeof t||(0,l.Wm)(t,null,null);var r=(0,l.Wm)("div",{class:"".concat(n.value,"__desc")},["string"===typeof t?t:(0,l.Wm)(t,null,null)]);return(0,l.Wm)(l.HY,null,[e,r])},p=function(){var e=["".concat(n.value,"__footer"),"".concat(n.value,"__footer--popup")],t=(0,l.Wm)("div",{class:e},[i(),a("popup")]);return(0,l.Wm)("div",{class:"".concat(n.value,"__tooltip")},[d(),t])},g=function(){var e,t=N.value.content;if(t){var r={handlePrev:W,handleNext:H,handleSkip:V,handleFinish:Q,current:A.value,total:R.value};e=function(){return(0,l.Wm)(t,r,null)}}else e=p;var o=["".concat(n.value,"__reference"),"".concat(n.value,"--").concat(k.value?"fixed":"absolute")];return(0,l.Wm)(Dy,{visible:!0,"show-arrow":!t,zIndex:h.value,overlayClassName:N.value.stepOverlayClass,overlayInnerClassName:u({},"".concat(n.value,"__popup--content"),!!t),placement:N.value.placement},{default:function(){return[(0,l.wy)((0,l.Wm)("div",{ref:w,class:o},null),[[(0,l.Q2)("transfer-dom"),"body"]])]},content:e})},v=function(){var e,t={zIndex:h.value},r=["".concat(n.value,"__wrapper"),u({},"".concat(n.value,"__wrapper--center"),"center"===N.value.placement)],o=["".concat(n.value,"__reference"),"".concat(n.value,"--absolute"),"".concat(n.value,"__dialog"),(e={},u(e,"".concat(n.value,"__dialog--nomask"),!D("showOverlay")),u(e,N.value.stepOverlayClass,!!N.value.stepOverlayClass),e)],s=["".concat(n.value,"__footer"),"".concat(n.value,"__footer--popup")];return(0,l.Wm)(l.HY,null,[(0,l.wy)((0,l.Wm)("div",{ref:I,class:r,style:t},[(0,l.Wm)("div",{ref:O,class:o},[d(),(0,l.Wm)("div",{class:s},[i(),a("dialog")])])]),[[(0,l.Q2)("transfer-dom"),"body"]])])},m=function(){return(0,l.Wm)(l.HY,null,[r(),o(),P.value?g():v()])};return(0,l.Wm)(l.HY,null,[T.value&&m()])}}}),a0=Hf(i0),s0=Hf(Mg),c0={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},default:{type:[String,Function]},duration:{type:Number,default:3e3},footer:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return["info","success","warning","error"].includes(e)}},title:{type:[String,Function]},onCloseBtnClick:Function,onDurationEnd:Function},u0=6e3,l0="16px",d0={"top-left":{left:l0,top:l0},"top-right":{right:l0,top:l0},"bottom-right":{right:l0,bottom:l0},"bottom-left":{left:l0,bottom:l0}},f0=Object.keys(d0),p0={duration:200,easing:"linear"},h0=function(e,t){if(e){var n=(null===e||void 0===e?void 0:e.offsetHeight)||0,r=(null===e||void 0===e?void 0:e.offsetWidth)||0,o=v0(t,r,n);o&&e.animate&&e.animate(o,p0)}},g0=function(e,t,n){if(e){var r=(null===e||void 0===e?void 0:e.offsetHeight)||0,o=(null===e||void 0===e?void 0:e.offsetWidth)||0,i=m0(t,o,r);if(!i)return n();var a=e.animate&&e.animate(i,p0);a?a.onfinish=function(){n()}:(e.style.display="none",n())}},v0=function(e,t,n){return f0.includes(e)?"top-right"===e?[{opacity:0,transform:"translateX(".concat(t,"px)")},{opacity:1,transform:"translateX(0px)"}]:"bottom-right"===e?[{opacity:0,transform:"translateX(".concat(t,"px)"),marginBottom:"-".concat(n,"px")},{opacity:1,transform:"translateX(0px)"}]:"top-left"===e?[{opacity:0,transform:"translateX(-".concat(t,"px)")},{opacity:1,transform:"translateX(0px)"}]:"bottom-left"===e?[{opacity:0,transform:"translateX(-".concat(t,"px)"),marginBottom:"-".concat(n,"px")},{opacity:1,transform:"translateX(0px)"}]:void 0:null},m0=function(e,t,n){return f0.includes(e)?"top-right"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(t,"px)"),marginBottom:"-".concat(n,"px")}]:"bottom-right"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(t,"px)")}]:"top-left"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(t,"px)"),marginBottom:"-".concat(n,"px")}]:"bottom-left"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(t,"px)")}]:void 0:null};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y0(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b0=(0,l.aZ)({name:"TNotification",props:A0(A0({},c0),{},{placement:String}),setup:function(e,t){var n=t.slots,r=t.expose,o=Os("notification"),i=Is("classPrefix"),a=i.classPrefix,s=Tg({InfoCircleFilledIcon:lg,CheckCircleFilledIcon:hg,CloseIcon:Ig}),c=s.InfoCircleFilledIcon,u=s.CheckCircleFilledIcon,f=s.CloseIcon,p=op(),h=ap(),g=(0,d.iH)(null),v=(0,d.iH)(null),m=function(t){var n=v.value;g0(n,e.placement,(function(){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t})}))},y=function(){var t;if(!1===e.icon)return null;if(ce(e.icon))t=e.icon(l.h);else if(n.icon)t=n.icon(null);else if(e.theme){var r="success"===e.theme?(0,l.Wm)(u,{class:"".concat(a.value,"-is-").concat(e.theme)},null):(0,l.Wm)(c,{class:"".concat(a.value,"-is-").concat(e.theme)},null);t=(0,l.Wm)("div",{class:"t-notification__icon"},[r])}return t},A=function(){var e=(0,l.Wm)(f,null,null);return(0,l.Wm)("span",{class:"".concat(a.value,"-message__close"),onClick:m},[p("closeBtn",e)])},b=function(){return(0,l.Wm)("div",{class:"".concat(o.value,"__content")},[h("default","content")])},E=function(){e.duration&&clearTimeout(g.value)},_=function(){e.duration&&(g.value=Number(setTimeout((function(){E();var t=v.value;g0(t,e.placement,(function(){var t;null===(t=e.onDurationEnd)||void 0===t||t.call(e)}))}),e.duration)))};return(0,l.wF)((function(){e.duration&&_()})),(0,l.bv)((function(){var t=v.value;h0(t,e.placement)})),r({close:m}),function(){return(0,l.Wm)("div",{ref:v,class:"".concat(o.value),onMouseenter:E,onMouseleave:_},[y(),(0,l.Wm)("div",{class:"".concat(o.value,"__main")},[(0,l.Wm)("div",{class:"".concat(o.value,"__title__wrap")},[(0,l.Wm)("span",{class:"".concat(o.value,"__title")},[p("title")]),A()]),b(),p("footer")])])}}}),E0=Hf(b0),_0={cancelBtn:{type:[String,Object,Function],default:""},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},destroyOnClose:{type:Boolean,default:!0},icon:{type:Function},placement:{type:String,default:"top",validator:function(e){return!e||["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e)}},popupProps:{type:Object},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return!e||["default","warning","danger"].includes(e)}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,onCancel:Function,onConfirm:Function,onVisibleChange:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function w0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w0(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C0=(0,l.aZ)({name:"TPopconfirm",props:_0,setup:function(e){var t=Is("popconfirm"),n=t.globalConfig,r=Os("popconfirm"),o=Tg({InfoCircleFilledIcon:lg,ErrorCircleFilledIcon:yg}),i=o.InfoCircleFilledIcon,a=o.ErrorCircleFilledIcon,s=(0,d.BK)(e),c=s.visible,u=s.modelValue,f=Sy(c,u,e.defaultVisible,e.onVisibleChange,"visible"),p=v(f,2),h=p[0],g=p[1],m=function(t){var n;null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t}),g(!1,{e:t})},y=function(t){var n;null===(n=e.onCancel)||void 0===n||n.call(e,{e:t}),g(!1,{e:t})},A=xK({confirmBtnAction:m,cancelBtnAction:y}),b=A.getConfirmBtn,E=A.getCancelBtn,_=op(),w=(0,l.Fl)((function(){return S0({showArrow:e.showArrow,overlayClassName:r.value,trigger:"click",destroyOnClose:e.destroyOnClose,placement:e.placement},e.popupProps)})),S=ip(),C=function(){var t=E({cancelBtn:e.cancelBtn,globalCancel:n.value.cancel,className:"".concat(r.value,"__cancel"),size:"small"}),o=b({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:n.value.confirm,globalConfirmBtnTheme:n.value.confirmBtnTheme,className:"".concat(r.value,"__confirm"),size:"small"}),s=function(){var t={default:i,warning:a,danger:a}[e.theme],n=e.theme||"default";return S("icon",(0,l.Wm)(t,{class:"".concat(r.value,"__icon--").concat(n)},null))};return(0,l.Wm)("div",{class:"".concat(r.value,"__content")},[(0,l.Wm)("div",{class:"".concat(r.value,"__body")},[s(),(0,l.Wm)("div",{class:"".concat(r.value,"__inner")},[_("content")])]),Boolean(t||o)&&(0,l.Wm)("div",{class:"".concat(r.value,"__buttons")},[t,o])])},I=function(e,t){g(e,t)},O=ap();return function(){return(0,l.Wm)(Dy,(0,l.dG)({visible:h.value},w.value,{onVisibleChange:I}),{default:function(){return[O("default","triggerElement")]},content:C})}}}),I0=Hf(C0);function O0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O0(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R0={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.74 6.68L7.5 2.9v8.59h1V2.91l3.76 3.77.71-.7-4.62-4.63a.5.5 0 00-.7 0L3.03 5.97l.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M2 11v2a1 1 0 001 1h10a1 1 0 001-1v-2h-1v2H3v-2H2z",fillOpacity:.9}}]},N0=(0,l.aZ)({name:"UploadIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-upload",o.value])),s=(0,l.Fl)((()=>T0(T0({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(R0,c.value)}}),P0={accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function},data:{type:Object},default:{type:[String,Function]},disabled:Boolean,draggable:Boolean,fileListDisplay:{type:Function},files:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultFiles:{type:Array},format:{type:Function},formatResponse:{type:Function},headers:{type:Object},isBatchUpload:Boolean,locale:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(e){return!e||["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(e)}},multiple:Boolean,name:{type:String,default:"file"},placeholder:{type:String,default:""},requestMethod:{type:Function},showUploadProgress:{type:Boolean,default:!0},sizeLimit:{type:[Number,Object]},theme:{type:String,default:"file",validator:function(e){return!e||["custom","file","file-input","file-flow","image","image-flow"].includes(e)}},tips:{type:String,default:""},trigger:{type:[String,Function]},uploadAllFilesInOneRequest:Boolean,useMockProgress:{type:Boolean,default:!0},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onDragenter:Function,onDragleave:Function,onDrop:Function,onFail:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function k0(e){return e<1024?"".concat(e," Bytes"):e>=1024&&e<1048576?"".concat((e/1024).toFixed(1)," KB"):e>=1048576?"".concat((e/1048576).toFixed(1)," MB"):void 0}function D0(){var e=new Date,t=e.getMonth()+1;return t=t<10?"0".concat(t):t,"".concat(e.getFullYear(),"-").concat(t,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())}function x0(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=e,o=0,i=0,a=0;a<r.length;a++){var s=r[a],c=0===escape(s).indexOf("%u");a<2*t&&o<t?o+=c?1:2:a>a-n&&i<n&&(i+=c?1:2)}return r.replace(new RegExp("^(.{".concat(o,"})(.+)(.{").concat(i,"})$")),"$1…$3")}var L0={B:1024,KB:1,MB:1024,GB:1048576};function j0(e,t,n){var r=["B","KB","MB","GB"],o=1,i=r.indexOf(n);-1===i&&(console.warn("TDesign Upload Warn: `sizeLimit.unit` can only be one of ".concat(r.join())),i=o);var a=L0[n],s=i<o?t/a:t*a;return e<=s}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function M0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M0(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F0=(0,l.aZ)({name:"TUploadDragger",props:{file:{type:Object,default:function(){return null}},loadingFile:{type:Object,default:function(){return null}},percent:{type:Number},locale:{type:Object,default:function(){return null}},autoUpload:P0.autoUpload,theme:P0.theme,onCancel:Function,onClick:Function,onRemove:Function,onUpload:Function,onChange:Function,onDragleave:Function,onDragenter:Function},setup:function(e){var t=op(),n=(0,d.iH)(null),r=(0,d.iH)(!1),o=Is("upload"),i=o.globalConfig,a=Os("upload"),s=Tg({CheckCircleFilledIcon:hg,ErrorCircleFilledIcon:yg}),c=s.CheckCircleFilledIcon,f=s.ErrorCircleFilledIcon,p=Ts(),h=p.SIZE,g=(0,l.Fl)((function(){return e.loadingFile&&e.loadingFile.url||e.file&&e.file.url})),v=(0,l.Fl)((function(){return e.loadingFile&&e.loadingFile.name||e.file&&e.file.name||""})),m=(0,l.Fl)((function(){return["".concat(a.value,"__dragger"),u({},"".concat(a.value,"__dragger-center"),!e.loadingFile&&!e.file),u({},"".concat(a.value,"__dragger-error"),e.loadingFile&&"fail"===e.loadingFile.status)]})),y=(0,l.Fl)((function(){return e.loadingFile&&e.loadingFile.size||e.file&&e.file.size})),A=(0,l.Fl)((function(){var t,n;return Boolean(!e.loadingFile&&(null===(t=e.file)||void 0===t?void 0:t.name))||["success","fail"].includes(null===(n=e.loadingFile)||void 0===n?void 0:n.status)})),b=function(t){var n,o;t.preventDefault(),null===(n=e.onChange)||void 0===n||n.call(e,t.dataTransfer.files),null===(o=e.onDragleave)||void 0===o||o.call(e,t),r.value=!1},E=function(t){var o;t.preventDefault(),n.value=t.target,null===(o=e.onDragenter)||void 0===o||o.call(e,t),r.value=!0},_=function(t){var o;n.value===t.target&&(t.preventDefault(),null===(o=e.onDragleave)||void 0===o||o.call(e,t),r.value=!1)},w=function(){return(0,l.Wm)("div",{class:"".concat(a.value,"__dragger-img-wrap")},[g.value&&(0,l.Wm)("img",{src:g.value},null)])},S=function(){return"fail"===e.loadingFile.status?(0,l.Wm)(f,null,null):"progress"===e.loadingFile.status?(0,l.Wm)("div",{class:"".concat(a.value,"__single-progress")},[(0,l.Wm)(Qf,null,null),(0,l.Wm)("span",{class:"".concat(a.value,"__single-percent")},[Math.min(e.percent,99),"%"])]):void 0},C=function(){var t,n,r,o,s,u,d,f,p;return(0,l.Wm)("div",{class:"".concat(a.value,"__dragger-progress")},["image"===e.theme&&w(),(0,l.Wm)("div",{class:"".concat(a.value,"__dragger-progress-info")},[(0,l.Wm)("div",{class:"".concat(a.value,"__dragger-text")},[(0,l.Wm)("span",{class:"".concat(a.value,"__single-name")},[x0(v.value)]),e.loadingFile&&S(),!e.loadingFile&&!!e.file&&(0,l.Wm)(c,null,null)]),(0,l.Wm)("small",{class:"".concat(h.value.small)},[i.value.file.fileSizeText,"：",k0(y.value)]),(0,l.Wm)("small",{class:"".concat(h.value.small)},[i.value.file.fileOperationDateText,"：",D0()]),(0,l.Wm)("div",{class:"".concat(a.value,"__dragger-btns")},[["progress","waiting"].includes(null===(t=e.loadingFile)||void 0===t?void 0:t.status)&&(0,l.Wm)(lp,{theme:"primary",variant:"text",class:"".concat(a.value,"__dragger-progress-cancel"),onClick:e.onCancel},{default:function(){return[(null===(n=e.locale)||void 0===n?void 0:n.cancelUploadText)||i.value.cancelUploadText]}}),!e.autoUpload&&"waiting"===(null===(r=e.loadingFile)||void 0===r?void 0:r.status)&&(0,l.Wm)(lp,{variant:"text",theme:"primary",onClick:function(t){return e.onUpload(B0({},e.loadingFile),t)}},{default:function(){return[(null===(o=e.locale)||void 0===o||null===(s=o.triggerUploadText)||void 0===s?void 0:s.normal)||i.value.triggerUploadText.normal]}})]),A.value&&(0,l.Wm)("div",{class:"".concat(a.value,"__dragger-btns")},[(0,l.Wm)(lp,{theme:"primary",variant:"text",class:"".concat(a.value,"__dragger-progress-cancel"),onClick:function(t){e.onRemove(t),e.onClick(t)}},{default:function(){return[(null===(u=e.locale)||void 0===u||null===(d=u.triggerUploadText)||void 0===d?void 0:d.reupload)||i.value.triggerUploadText.reupload]}}),(0,l.Wm)(lp,{theme:"danger",variant:"text",onClick:e.onRemove},{default:function(){return[(null===(f=e.locale)||void 0===f||null===(p=f.triggerUploadText)||void 0===p?void 0:p["delete"])||i.value.triggerUploadText["delete"]]}})])])])},I=function(){var t,n,o=(0,l.Wm)("div",null,[(0,l.Wm)("span",{class:"".concat(a.value,"--highlight")},[(null===(t=e.locale)||void 0===t||null===(n=t.triggerUploadText)||void 0===n?void 0:n.normal)||i.value.triggerUploadText.normal]),(0,l.Wm)("span",null,["  /  ",i.value.dragger.draggingText])]),s=(0,l.Wm)("div",null,[i.value.dragger.dragDropText]);return r.value?s:o};return function(){var n=null;return n=(e.loadingFile||e.file)&&"custom"!==e.theme?C():(0,l.Wm)("div",{class:"".concat(a.value,"__trigger"),onClick:e.onClick},[t("default")||I()]),(0,l.Wm)("div",{class:m.value,onDrop:b,onDragenter:E,onDragleave:_,onDragover:function(e){e.preventDefault()}},[n])}}}),U0=(0,l.aZ)({name:"TImageUpload",props:{files:P0.files,loadingFile:{type:Object,default:function(){return null}},locale:{type:Object,default:function(){return null}},percent:Number,showUploadProgress:P0.showUploadProgress,placeholder:P0.placeholder,multiple:P0.multiple,max:P0.max,disabled:P0.disabled,onClick:Function,onRemove:Function,onImgPreview:Function},setup:function(e){var t=np(),n=Is("upload"),r=n.classPrefix,o=n.globalConfig,i=Os("upload"),a=Tg({AddIcon:jb,DeleteIcon:OQ,BrowseIcon:i_}),s=a.AddIcon,c=a.DeleteIcon,d=a.BrowseIcon,f=Ts(),p=f.STATUS,h=(0,l.Fl)((function(){var t=e.multiple,n=e.max,r=e.files;return t?!n||r&&r.length<n:!(r&&r[0])})),g=function(t){!h.value&&e.onClick(t)},v=function(n,o){return(0,l.Wm)("li",{class:"".concat(i.value,"__card-item ").concat(r.value,"-is--background")},[(0,l.Wm)("div",{class:"".concat(i.value,"__card-content ").concat(i.value,"__card-box")},[(0,l.Wm)("img",{class:"".concat(i.value,"__card-image"),src:n.url},null),(0,l.Wm)("div",{class:"".concat(i.value,"__card-mask"),onClick:g},[(0,l.Wm)("span",{class:"".concat(i.value,"__card-mask-item")},[(0,l.Wm)(d,{onClick:function(t){var r=t.e;r.stopPropagation(),e.onImgPreview(r,n)}},null)]),!t.value&&[(0,l.Wm)("span",{class:"".concat(i.value,"__card-mask-item-divider"),key:"divider"},null),(0,l.Wm)("span",{class:"".concat(i.value,"__card-mask-item"),key:"delete-icon"},[(0,l.Wm)(c,{onClick:function(t){var r=t.e;r.stopPropagation(),e.onRemove({e:r,file:n,index:o})}},null)])]])])])},m=function(){var n,a,c,d;return(0,l.Wm)("li",{class:["".concat(i.value,"__card-item ").concat(r.value,"-is--background"),u({},p.value.disabled,t.value)],onClick:e.onClick},[e.showUploadProgress&&e.loadingFile&&"progress"===e.loadingFile.status?(0,l.Wm)("div",{class:"".concat(i.value,"__card-container ").concat(i.value,"__card-box")},[(0,l.Wm)(Qf,null,null),(0,l.Wm)("p",null,[(null===(n=e.locale)||void 0===n||null===(a=n.progress)||void 0===a?void 0:a.uploadingText)||o.value.progress.uploadingText," ",Math.min(e.percent,99),"%"])]):(0,l.Wm)("div",{class:"".concat(i.value,"__card-container ").concat(i.value,"__card-box")},[(0,l.Wm)(s,null,null),(0,l.Wm)("p",{class:"".concat(r.value,"-size-s")},[e.placeholder||(null===(c=e.locale)||void 0===c||null===(d=c.triggerUploadText)||void 0===d?void 0:d.image)||o.value.triggerUploadText.image])])])};return function(){return(0,l.Wm)("ul",{class:"".concat(i.value,"__card")},[e.files&&e.files.map((function(e,t){return v(e,t)})),h.value&&m()])}}});function V0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V0(Object(n),!0).forEach((function(t){dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H0={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM7.5 5h1v2.97l2.85 2.86-.7.7L7.5 8.4V5z",fillOpacity:.9}}]},Q0=(0,l.aZ)({name:"TimeFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,l.Fl)((()=>e.size)),{className:o,style:i}=vp(r),a=(0,l.Fl)((()=>["t-icon","t-icon-time-filled",o.value])),s=(0,l.Fl)((()=>W0(W0({},i.value),n.style))),c=(0,l.Fl)((()=>({class:a.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>Yh(H0,c.value)}}),G0=(0,l.aZ)({name:"TUploadFlowList",props:{showUploadProgress:P0.showUploadProgress,allowUploadDuplicateFile:P0.allowUploadDuplicateFile,placeholder:P0.placeholder,autoUpload:P0.autoUpload,disabled:P0.disabled,theme:P0.theme,batchUpload:P0.isBatchUpload,files:P0.files,toUploadFiles:Array,onRemove:Function,onUpload:Function,onCancel:Function,onChange:Function,onDragleave:Function,onDragenter:Function,onImgPreview:Function,locale:{type:Object,default:function(){return null}}},setup:function(e){var t=(0,d.iH)(null),n=(0,d.iH)(!1),r=op(),o=np(),i=Is("upload"),a=i.classPrefix,s=i.globalConfig,c=Tg({TimeFilledIcon:Q0,CheckCircleFilledIcon:hg,ErrorCircleFilledIcon:yg,DeleteIcon:OQ,BrowseIcon:i_}),f=c.TimeFilledIcon,p=c.CheckCircleFilledIcon,h=c.ErrorCircleFilledIcon,g=c.DeleteIcon,v=c.BrowseIcon,m=Os("upload"),y=Ts(),A=y.SIZE,b=(0,l.Fl)((function(){var t=[];return e.toUploadFiles.forEach((function(n){if(e.allowUploadDuplicateFile)t.push(n);else{var r=e.files.filter((function(e){return e.name===n.name}));r.length||t.push(n)}})),t})),E=(0,l.Fl)((function(){var t=!b.value||!b.value.length;return(!e.files||!e.files.length)&&t})),_=(0,l.Fl)((function(){return e.files&&e.files.length?e.files.concat(b.value):e.toUploadFiles})),w=(0,l.Fl)((function(){return e.toUploadFiles.filter((function(e){return"fail"===e.status}))})),S=(0,l.Fl)((function(){return e.toUploadFiles.filter((function(e){return"progress"===e.status}))})),C=(0,l.Fl)((function(){return!!S.value.length})),I=(0,l.Fl)((function(){return Boolean(b.value&&b.value.length)&&!C.value})),O=(0,l.Fl)((function(){var t,n,r=e.locale;return C.value?"".concat(s.value.progress.uploadingText,"..."):w.value&&w.value.length?(null===r||void 0===r||null===(t=r.triggerUploadText)||void 0===t?void 0:t.reupload)||s.value.triggerUploadText.reupload:(null===r||void 0===r||null===(n=r.triggerUploadText)||void 0===n?void 0:n.normal)||s.value.triggerUploadText.normal})),T=function(t){t.preventDefault(),e.onChange(t.dataTransfer.files),e.onDragleave(t),n.value=!1},R=function(r){t.value=r.target,r.preventDefault(),e.onDragenter(r),n.value=!0},N=function(r){t.value===r.target&&(r.preventDefault(),e.onDragleave(r),n.value=!1)},P=function(e){e.preventDefault()},k=function(){return(0,l.Wm)("div",{class:"".concat(m.value,"__flow-empty"),onDrop:T,onDragenter:R,onDragover:P,onDragleave:N},[n.value?s.value.dragger.dragDropText:s.value.dragger.clickAndDragText])},D=function(t){var n,r=null===(n=e.locale)||void 0===n?void 0:n.progress,o={success:(0,l.Wm)(p,null,null),fail:(0,l.Wm)(h,null,null),progress:(0,l.Wm)(Qf,null,null),waiting:(0,l.Wm)(f,null,null)},i={success:(null===r||void 0===r?void 0:r.successText)||s.value.progress.successText,fail:(null===r||void 0===r?void 0:r.failText)||s.value.progress.failText,progress:"".concat((null===r||void 0===r?void 0:r.uploadingText)||s.value.progress.uploadingText," ").concat(Math.min(t.percent,99),"%"),waiting:(null===r||void 0===r?void 0:r.waitingText)||s.value.progress.waitingText};return{iconMap:o,textMap:i}},x=function(t){if(e.showUploadProgress){var n=D(t),r=n.iconMap,o=n.textMap;return(0,l.Wm)("div",{class:"".concat(m.value,"__flow-status")},[r[t.status],(0,l.Wm)("span",null,[o[t.status]])])}},L=function(t,n){var r,o;return(0,l.Wm)("td",null,[(0,l.Wm)("span",{class:"".concat(m.value,"__flow-button"),onClick:function(r){return e.onRemove({e:r,index:n,file:t})}},[(null===(r=e.locale)||void 0===r||null===(o=r.triggerUploadText)||void 0===o?void 0:o["delete"])||s.value.triggerUploadText["delete"]])])},j=function(t){var n,r;return 0===t?(0,l.Wm)("td",{rowspan:_.value.length,class:"".concat(m.value,"__flow-table__batch-row")},[(0,l.Wm)("span",{class:"".concat(m.value,"__flow-button"),onClick:function(t){return e.onRemove({e:t,index:-1,file:null})}},[(null===(n=e.locale)||void 0===n||null===(r=n.triggerUploadText)||void 0===r?void 0:r["delete"])||s.value.triggerUploadText["delete"]])]):""},M=function(){var t,n,r,o,i,a,c,u;return"file-flow"===e.theme&&(0,l.Wm)("table",{class:"".concat(m.value,"__flow-table")},[(0,l.Wm)("tr",null,[(0,l.Wm)("th",null,[(null===(t=e.locale)||void 0===t||null===(n=t.file)||void 0===n?void 0:n.fileNameText)||s.value.file.fileNameText]),(0,l.Wm)("th",null,[(null===(r=e.locale)||void 0===r||null===(o=r.file)||void 0===o?void 0:o.fileSizeText)||s.value.file.fileSizeText]),(0,l.Wm)("th",null,[(null===(i=e.locale)||void 0===i||null===(a=i.file)||void 0===a?void 0:a.fileStatusText)||s.value.file.fileStatusText]),(0,l.Wm)("th",null,[(null===(c=e.locale)||void 0===c||null===(u=c.file)||void 0===u?void 0:u.fileOperationText)||s.value.file.fileOperationText])]),E.value&&(0,l.Wm)("tr",null,[(0,l.Wm)("td",{colspan:4},[k()])]),_.value.map((function(t,n){var r=e.batchUpload&&0===e.toUploadFiles.length;return(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,[x0(t.name,7,10)]),(0,l.Wm)("td",null,[k0(t.size)]),(0,l.Wm)("td",null,[x(t)]),r?j(n):L(t,n)])}))])},B=function(t,n){var r=D(t),i=r.iconMap,s=r.textMap;return(0,l.Wm)("li",{class:"".concat(m.value,"__card-item")},[(0,l.Wm)("div",{class:["".concat(m.value,"__card-content"),u({},"".concat(a.value,"-is-bordered"),"waiting"!==t.status)]},[["fail","progress"].includes(t.status)&&(0,l.Wm)("div",{class:"".concat(m.value,"__card-status-wrap")},[i[t.status],(0,l.Wm)("p",null,[s[t.status]])]),(["waiting","success"].includes(t.status)||!t.status&&t.url)&&(0,l.Wm)("img",{class:"".concat(m.value,"__card-image"),src:t.url||"//tdesign.gtimg.com/tdesign-default-img.png"},null),(0,l.Wm)("div",{class:"".concat(m.value,"__card-mask")},[t.url&&(0,l.Wm)("span",{class:"".concat(m.value,"__card-mask-item")},[(0,l.Wm)(v,{onClick:function(n){var r=n.e;return e.onImgPreview(r,t)}},null),(0,l.Wm)("span",{class:"".concat(m.value,"__card-mask-item-divider")},null)]),!o.value&&(0,l.Wm)("span",{class:"".concat(m.value,"__card-mask-item"),onClick:function(r){return e.onRemove({e:r,index:n,file:t})}},[(0,l.Wm)(g,null,null)])])]),(0,l.Wm)("p",{class:"".concat(m.value,"__card-name")},[x0(t.name)])])},F=function(){return"image-flow"===e.theme&&(0,l.Wm)("div",{class:"".concat(m.value,"__flow-card-area"),onDrop:T,onDragenter:R,onDragover:P,onDragleave:N},[E.value&&k(),!!_.value.length&&(0,l.Wm)("ul",{class:"".concat(m.value,"__card clearfix")},[_.value.map((function(e,t){return B(e,t)}))])])},U=function(){var t;return!e.autoUpload&&(0,l.Wm)("div",{class:"".concat(m.value,"__flow-bottom")},[(0,l.Wm)(lp,{theme:"default",onClick:e.onCancel,disabled:!I.value},{default:function(){return[(null===(t=e.locale)||void 0===t?void 0:t.cancelUploadText)||s.value.cancelUploadText]}}),(0,l.Wm)(lp,{disabled:!I.value,theme:"primary",onClick:function(t){return e.onUpload(b.value,t)}},{default:function(){return[O.value]}})])};return function(){return(0,l.Wm)("div",{class:["".concat(m.value,"__flow"),"".concat(m.value,"__flow-").concat(e.theme)]},[(0,l.Wm)("div",{class:"".concat(m.value,"__flow-op")},[r("default"),(0,l.Wm)("small",{class:"".concat(A.value.small," ").concat(m.value,"__flow-placeholder")},[e.placeholder])]),M(),F(),U()])}}}),K0={file:{type:Object,default:function(){return null}},loadingFile:{type:Object,default:function(){return null}},percent:{type:Number},showUploadProgress:P0.showUploadProgress,theme:P0.theme,placeholder:P0.placeholder,onRemove:Function},q0=(0,l.aZ)({name:"TUploadSingleFile",props:K0,setup:function(e){var t=op(),n=Is("upload"),r=n.classPrefix,o=Os("upload"),i=Tg({CloseCircleFilledIcon:p_,ErrorCircleFilledIcon:yg,CheckCircleFilledIcon:hg}),a=i.CloseCircleFilledIcon,s=i.ErrorCircleFilledIcon,c=i.CheckCircleFilledIcon,d=(0,l.Fl)((function(){return!(!e.loadingFile||"progress"!==e.loadingFile.status)})),f=(0,l.Fl)((function(){var t=e.file&&e.file.name,n=e.loadingFile&&e.loadingFile.name;return d.value?n:t})),p=(0,l.Fl)((function(){return f.value||e.placeholder})),h=(0,l.Fl)((function(){return["".concat(r.value,"-input__inner"),u({},"".concat(o.value,"__placeholder"),!f.value)]})),g=(0,l.Fl)((function(){return["".concat(o.value,"__single"),"".concat(o.value,"__single-").concat(e.theme)]})),v=function(){return"fail"===e.loadingFile.status?(0,l.Wm)(s,null,null):e.showUploadProgress?(0,l.Wm)("div",{class:"".concat(o.value,"__single-progress")},[(0,l.Wm)(Qf,null,null),(0,l.Wm)("span",{class:"".concat(o.value,"__single-percent")},[Math.min(e.percent,99),"%"])]):void 0},m=function(){if(f.value&&"file"===e.theme)return(0,l.Wm)("div",{class:"".concat(o.value,"__single-display-text ").concat(o.value,"__display-text--margin")},[(0,l.Wm)("span",{class:"".concat(o.value,"__single-name")},[f.value]),d.value?v():(0,l.Wm)(a,{class:"".concat(o.value,"__icon-delete"),onClick:function(t){var n=t.e;return e.onRemove(n)}},null)])},y=function(){if("file-input"===e.theme){var t=function(){return e.loadingFile&&"fail"===e.loadingFile.status?(0,l.Wm)(s,null,null):e.file&&e.file.name&&!e.loadingFile?(0,l.Wm)(c,null,null):""};return(0,l.Wm)("div",{class:"".concat(o.value,"__single-input-preview ").concat(r.value,"-input")},[(0,l.Wm)("div",{class:h.value},[(0,l.Wm)("span",{class:"".concat(o.value,"__single-input-text")},[x0(p.value,4,6)]),d.value&&v(),t()])])}};return function(){return(0,l.Wm)("div",{class:g.value},[y(),t("default"),m()])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z0(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J0(e){var t,n,r=e.method,o=void 0===r?"POST":r,i=e.action,a=e.withCredentials,s=void 0!==a&&a,c=e.headers,u=void 0===c?{}:c,l=e.data,d=void 0===l?{}:l,f=e.file,p=e.files,h=e.name,g=void 0===h?"file":h,v=e.useMockProgress,m=void 0===v||v,y=e.formatRequest,A=e.onError,b=e.onProgress,E=e.onSuccess,_=p||[],w=0,S=new XMLHttpRequest;if(s&&(S.withCredentials=!0),m&&"progress"===p[0].status)var C=setTimeout((function(){t=setInterval((function(){!w&&w<100?(w+=10,b({percent:w,file:f,files:_.map((function(e){return Y0(Y0({},e),{},{percent:w})})),type:"mock"})):clearInterval(t)}),300),clearTimeout(C)}),300);var I={};if(d){var O="function"===typeof d?d(f):d;Object.assign(I,O)}_.forEach((function(e,t){var n=_.length>1?"".concat(g,"[").concat(t,"]"):g;I[n]=e.raw,I[g]=e.raw})),y&&(I=y(I));var T=new FormData;return Object.keys(I).forEach((function(e){T.append(e,I[e])})),S.open(o,i,!0),Object.keys(u).forEach((function(e){S.setRequestHeader(e,u[e])})),S.onerror=function(e){A({event:e,file:f,files:_}),clearInterval(t),clearTimeout(n)},S.upload&&(S.upload.onprogress=function(e){var t=0;e.total>0&&(t=Math.round(e.loaded/e.total*100)),w=Math.max(t,w),b({event:e,percent:w,file:f,files:_.map((function(e){return Y0(Y0({},e),{},{percent:w})})),type:"real"})}),S.onload=function(e){var r,o=S.status<200||S.status>=300;if(o)return A({event:e,file:f,files:_,response:r});var i=S.responseText||S.response;try{r=JSON.parse(i)}catch(a){r=i}clearInterval(t),clearTimeout(n),E({event:e,file:f,files:_,response:r})},S.send(T),S}
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var X0=wD,Z0=ra,$0=Zi,e1=Z0((function(e,t){return $0(e)?X0(e,t):[]})),t1=e1;function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n1(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o1=function(e,t){var n=function(n){var r,o=n.event,i=n.file,a=n.files,s=n.percent,c=n.type,u=void 0===c?"real":c,l=Array.isArray(a)?a:[i];if((null===l||void 0===l?void 0:l.length)<=0)return qA.error("Uploader","Progress Error files");l.forEach((function(e){e.percent=Math.min(s,100),t.loadingFile=e,t.percent=e.percent}));var d={percent:s,e:o,file:i,type:u,currentFiles:l};null===(r=e.onProgress)||void 0===r||r.call(e,d)},r=function(n){var r,o,i=n.event,a=n.file,s=n.files,c=n.response,u=n.resFormatted,l=Array.isArray(s)?s:[a];l.forEach((function(e){e.status="fail",t.loadingFile=e}));var d=c;u||"function"!==typeof e.formatResponse||(d=e.formatResponse(c,{file:a,currentFiles:s})),t.errorMsg=null===(r=d)||void 0===r?void 0:r.error;var f={e:i,file:t.uploadInOneRequest?null:l[0],currentFiles:l};null===(o=e.onFail)||void 0===o||o.call(e,f),t.loadingFile=null},o=function(n){var o,i,a=n.event,s=n.file,u=n.files,l=n.response,d=Array.isArray(u)?u:[s];if((null===d||void 0===d?void 0:d.length)<=0)return qA.error("Uploader","success no files");d.forEach((function(e){e.status="success"}));var f=l;if("function"===typeof e.formatResponse&&(f=e.formatResponse(l,{file:t.uploadInOneRequest?null:d[0],currentFiles:d})),null!==(o=f)&&void 0!==o&&o.error)r({event:a,file:t.uploadInOneRequest?null:d[0],files:d,response:f,resFormatted:!0});else{t.uploadInOneRequest||(d[0].url=f.url||d[0].url),t.toUploadFiles=t1.apply(void 0,[t.toUploadFiles].concat(c(d)));var p=d.map((function(e){return r1(r1({},e),{},{response:f})})),h=e.multiple?t.uploadValue.concat(p):p,g={e:a,response:f,trigger:"upload-success"};t.setUploadValue(h,g);var v={file:t.uploadInOneRequest?null:p[0],fileList:h,currentFiles:p,e:a,response:f};null===(i=e.onSuccess)||void 0===i||i.call(e,v),t.loadingFile=null}},i=function(e){var t=setInterval((function(){e.forEach((function(e){"success"===e.status||e.percent>=99?clearInterval(t):e.percent+=1}));var r=e[0].percent;n({files:e,percent:r,type:"mock"})}),10)};return{handleProgress:n,handleMockProgress:i,handleSuccess:o,onError:r}},i1=function(e,t){var n=(0,d.iH)(null),r=Is("upload"),o=r.globalConfig,i=r.t,a=o1(e,t),s=a.handleProgress,u=a.handleMockProgress,l=a.handleSuccess,f=a.onError,p=function(n){var r="number"===typeof e.sizeLimit?{size:e.sizeLimit,unit:"KB"}:e.sizeLimit,a=j0(n/1024,r.size,r.unit);return a||(t.errorMsg=r.message?i(r.message,{sizeLimit:r.size}):"".concat(i(o.value.sizeLimitMessage,{sizeLimit:r.size})," ").concat(r.unit)),a},h=function(n){if(t.errorMsg="","function"===typeof e.beforeUpload){var r=e.beforeUpload(n);return r instanceof Promise?r:new Promise((function(e){return e(r)}))}return new Promise((function(t){e.sizeLimit&&t(p(n.size)),t(!0)}))},g=function(e){return e?e.status?["success","fail"].includes(e.status)?("success"!==e.status||e.response&&e.response.url||qA.warn("Upload","`requestMethodResponse.response.url` is required, when `status` is `success`"),!0):(qA.error("Upload","`requestMethodResponse.status` must be `success` or `fail`"),!1):(qA.error("Upload","`requestMethodResponse.status` is missing, which value is `success` or `fail`"),!1):(qA.error("Upload","`requestMethodResponse` is required."),!1)},v=function(n){if(ce(e.requestMethod)){var r=t.uploadInOneRequest?n:n[0];e.requestMethod(r).then((function(e){if(g(e))if("success"===e.status)l({files:n,response:e.response});else if("fail"===e.status){var r=e.response||{};f({event:null,file:t.uploadInOneRequest?null:n[0],files:n,response:r1(r1({},r),{},{error:e.error})})}}))}else qA.warn("Upload","`requestMethod` must be a function.")},m=function(){var r=Oh(Ph.mark((function r(o){var i,a;return Ph.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=Array.isArray(o)?o:[o],e.action||e.requestMethod){r.next=4;break}return qA.error("Upload","one of action and requestMethod must be exist."),r.abrupt("return");case 4:i.forEach((function(e){e.status="progress",t.loadingFile=e})),e.requestMethod?v(i):(e.useMockProgress&&u(i),a=J0,n.value=a({action:e.action,data:e.data,files:i,name:e.name,headers:e.headers,withCredentials:e.withCredentials,onError:f,onProgress:s,onSuccess:l,method:e.method}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),y=function(n){var r,o;if(t.canBatchUpload&&(null===(r=t.uploadValue)||void 0===r?void 0:r.length)>0){var i={trigger:"batch-clear"};t.setUploadValue([],i)}null===(o=e.onSelectChange)||void 0===o||o.call(e,c(n));var a=c(n);e.max&&(a=a.slice(0,e.max-t.uploadValue.length),a.length!==n.length&&console.warn("TDesign Upload Warn: you can only upload ".concat(e.max," files"))),a.forEach((function(n){var r=n;"function"===typeof e.format&&(r=e.format(n));var o=r1({raw:n,lastModified:n.lastModified,name:n.name,size:n.size,type:n.type,percent:0,status:"waiting"},r),i=new FileReader;i.readAsDataURL(n),i.onload=function(e){o.url=e.target.result},h(r).then((function(n){if(n){var r=t.toUploadFiles.concat();!e.allowUploadDuplicateFile&&t.toUploadFiles.find((function(e){return e.name===o.name}))||r.push(o),t.toUploadFiles=c(new Set(r)),t.loadingFile=o,e.autoUpload&&m(o)}}))}))};return{uploadFiles:y,upload:m,xhrReq:n}},a1=So,s1=hD,c1=1,u1=2;function l1(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;e=Object(e);while(o--){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}while(++o<i){s=n[o];var c=s[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var d=new a1;if(r)var f=r(u,l,c,e,t,d);if(!(void 0===f?s1(l,u,c1|u1,r,d):f))return!1}}return!0}var d1=l1,f1=ee;function p1(e){return e===e&&!f1(e)}var h1=p1,g1=h1,v1=zS;function m1(e){var t=v1(e),n=t.length;while(n--){var r=t[n],o=e[r];t[n]=[r,o,g1(o)]}return t}var y1=m1;function A1(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var b1=A1,E1=d1,_1=y1,w1=b1;function S1(e){var t=_1(e);return 1==t.length&&t[0][2]?w1(t[0][0],t[0][1]):function(n){return n===e||E1(n,e,t)}}var C1=S1,I1=hD,O1=sT,T1=lS,R1=vw,N1=h1,P1=b1,k1=Fw,D1=1,x1=2;function L1(e,t){return R1(e)&&N1(t)?P1(k1(e),t):function(n){var r=O1(n,e);return void 0===r&&r===t?T1(n,e):I1(t,r,D1|x1)}}var j1=L1,M1=Hw;function B1(e){return function(t){return M1(t,e)}}var F1=B1,U1=ZL,V1=F1,W1=vw,H1=Fw;function Q1(e){return W1(e)?U1(H1(e)):V1(e)}var G1=Q1,K1=C1,q1=j1,z1=Ii,Y1=Kr,J1=G1;function X1(e){return"function"==typeof e?e:null==e?z1:"object"==S(e)?Y1(e)?q1(e[0],e[1]):K1(e):J1(e)}var Z1=X1,$1=BR,e2=Z1,t2=Cx,n2=Math.max;function r2(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:t2(n);return o<0&&(o=n2(r+o,0)),$1(e,e2(t,3),o)}var o2=r2;function i2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i2(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s2=function(e,t){var n=(0,l.Fl)((function(){return!(!e.multiple||"file"!==e.theme||!e.draggable)||e.multiple&&["file-flow","image-flow"].includes(e.theme)})),r=(0,l.Fl)((function(){if("file"===e.theme){var n=(!t.uploadValue||!t.uploadValue.length)&&!t.loadingFile;return e.tips&&n}return Boolean(e.tips)})),o=(0,l.Fl)((function(){return!n.value&&!!t.errorMsg})),i=(0,l.Fl)((function(){return!e.multiple&&e.draggable&&["file","file-input","image"].includes(e.theme)}));return{showUploadList:n,showTips:r,showErrorMsg:o,singleDraggable:i}},c2=function(e){var t=(0,d.iH)(""),n=(0,d.iH)(!1),r=function(r,o){var i;if(!o||!o.url)return qA.error("Uploader","Preview Error file");t.value=o.url,n.value=!0;var a={file:o,e:r};null===(i=e.onPreview)||void 0===i||i.call(e,a)},o=function(){n.value=!1;var e=setTimeout((function(){t.value=null,clearTimeout(e),e=null}),500)};return{showImageViewUrl:t,showImageViewDialog:n,handlePreviewImg:r,cancelPreviewImgDialog:o}},u2=function(e,t){var n=(0,d.iH)(!1),r=function(r){var o;t.value||(n.value=!0,null===(o=e.onDragenter)||void 0===o||o.call(e,{e:r}))},o=function(r){var o;t.value||(n.value=!1,null===(o=e.onDragleave)||void 0===o||o.call(e,{e:r}))};return{handleDragenter:r,handleDragleave:o,dragActive:n}},l2=function(e,t){var n=function(n){var r,o={trigger:"remove"};t.loadingFile&&(t.loadingFile=null),t.errorMsg="",t.setUploadValue([],o),null===(r=e.onRemove)||void 0===r||r.call(e,{e:n})},r=function(e){null===e||void 0===e||e.stopPropagation(),n(e)},o=function(n){var r,o=[];t.canBatchUpload?(o=[],n.files=t.uploadValue.concat()):(o=t.uploadValue.concat(),o.splice(n.index,1));var i=a2({trigger:"remove"},n);t.setUploadValue(o,i),null===(r=e.onRemove)||void 0===r||r.call(e,n)},i=function(e){var n=e.file,r=o2(t.toUploadFiles,(function(e){return e.name===(null===n||void 0===n?void 0:n.name)}));if(r>=0)t.toUploadFiles.splice(r,1);else{var i=o2(t.uploadValue,(function(e){return e.name===(null===n||void 0===n?void 0:n.name)}));o({e:e.e,index:i})}};return{handleFileInputRemove:r,handleSingleRemove:n,handleMultipleRemove:o,handleListRemove:i}},d2=function(e,t,n){var r=i1(e,t),o=r.uploadFiles,i=r.upload,a=r.xhrReq,s=(0,d.iH)(null),c=function(e){var t=e.target.files;n.value||(o(t),s.value.value="")},u=function(t){e.uploadAllFilesInOneRequest?i(t):t.forEach((function(e){i(e)}))},l=function(){n.value||s.value.click()},f=function(){var n;t.loadingFile&&(e.requestMethod||(a.value&&a.value.abort(),t.toUploadFiles=[]),null===(n=e.onCancelUpload)||void 0===n||n.call(e),t.loadingFile=null);s.value.value=""},p=function(e){n.value||o(e)};return{handleChange:c,multipleUpload:u,triggerUpload:l,cancelUpload:f,handleDragChange:p,upload:i,inputRef:s}},f2=function(e){var t=(0,l.Fl)((function(){return e.multiple&&e.uploadAllFilesInOneRequest})),n=(0,l.Fl)((function(){return t.value&&e.isBatchUpload}));return{uploadInOneRequest:t,canBatchUpload:n}};
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function p2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p2(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g2(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,l.lA)(e)}var v2=(0,l.aZ)({name:"TUpload",props:P0,setup:function(e,t){var n=t.expose,r=ap(),o=Is("upload"),i=o.classPrefix,a=o.globalConfig,s=Os("upload"),c=Tg({UploadIcon:N0}),u=c.UploadIcon,f=(0,d.BK)(e),p=f.files,h=f.modelValue,g=f2(e),m=g.canBatchUpload,y=g.uploadInOneRequest,A=Sy(p,h,e.defaultFiles||[],e.onChange,"files"),b=v(A,2),E=b[0],_=b[1],w=(0,d.qj)({uploadValue:E,setUploadValue:_,uploadInOneRequest:y,canBatchUpload:m,loadingFile:null,percent:0,toUploadFiles:[],errorMsg:""}),S=np(),C=s2(e,w),I=C.showUploadList,O=C.showTips,T=C.showErrorMsg,R=C.singleDraggable,N=c2(e),P=N.showImageViewUrl,k=N.showImageViewDialog,D=N.handlePreviewImg,x=N.cancelPreviewImgDialog,L=u2(e,S),j=L.handleDragenter,M=L.handleDragleave,B=L.dragActive,F=l2(e,w),U=F.handleFileInputRemove,V=F.handleSingleRemove,W=F.handleMultipleRemove,H=F.handleListRemove,Q=d2(e,w,S),G=Q.handleChange,K=Q.multipleUpload,q=Q.triggerUpload,z=Q.cancelUpload,Y=Q.handleDragChange,J=Q.upload,X=Q.inputRef;n({triggerUpload:q,setPercent:function(e){w.percent=e}});var Z=function(){return(0,l.Wm)("input",{ref:X,type:"file",disabled:S.value,onChange:G,multiple:e.multiple,accept:e.accept,hidden:!0},null)},$=function(t){var n;return!e.draggable&&["file","file-input"].includes(e.theme)&&(0,l.Wm)(q0,{file:E.value&&E.value[0],loadingFile:w.loadingFile,percent:w.percent,theme:e.theme,onRemove:V,showUploadProgress:e.showUploadProgress,placeholder:e.placeholder},{default:function(){return[(0,l.Wm)("div",{class:"".concat(i.value,"-upload__trigger"),onclick:q},[t,!("file-input"!==e.theme||null===(n=E.value)||void 0===n||!n.length)&&(0,l.Wm)(lp,{theme:"primary",variant:"text",onClick:U},{default:function(){return["删除"]}})])]}})},ee=function(){var t={dragActive:B.value,uploadingFile:e.multiple?w.toUploadFiles:w.loadingFile},n=r("default","trigger",{params:t});return Array.isArray(n)||(n={}),(0,l.Wm)(F0,{showUploadProgress:e.showUploadProgress,loadingFile:w.loadingFile,percent:w.percent,file:E.value&&E.value[0],theme:e.theme,autoUpload:e.autoUpload,onChange:Y,onDragenter:j,onDragleave:M,onCancel:z,onClick:q,onRemove:V,onUpload:J,locale:e.locale},g2(n)?n:{default:function(){return[n]}})},te=(0,l.Fl)((function(){var t,n,r,o,i,s,c=e.locale,u=a.value.triggerUploadText.fileInput||(null===c||void 0===c||null===(t=c.triggerUploadText)||void 0===t?void 0:t.fileInput);((null===(n=w.toUploadFiles)||void 0===n?void 0:n.length)>0||(null===(r=w.uploadValue)||void 0===r?void 0:r.length)>0)&&(u="file-input"===e.theme||(null===(o=w.uploadValue)||void 0===o?void 0:o.length)>0&&m.value?(null===c||void 0===c||null===(i=c.triggerUploadText)||void 0===i?void 0:i.reupload)||a.value.triggerUploadText.reupload:(null===c||void 0===c||null===(s=c.triggerUploadText)||void 0===s?void 0:s.continueUpload)||a.value.triggerUploadText.continueUpload);return u})),ne=function(){var t=function(){var t,n=e.locale;if("file-input"===e.theme||I.value)return(0,l.Wm)((0,l.up)("t-button"),{variant:"outline"},{default:function(){return[(null===n||void 0===n||null===(t=n.triggerUploadText)||void 0===t?void 0:t.fileInput)||a.value.triggerUploadText.fileInput]}});var r={icon:function(){return(0,l.Wm)(u,null,null)}};return(0,l.Wm)(lp,{variant:"outline"},h2({default:function(){return[te.value]}},r))},n=t();return r("default","trigger",n)},re=function(t){if("custom"===e.theme)return e.draggable?ee():(0,l.Wm)("div",{class:"".concat(s.value,"__trigger"),onclick:q},[t])},oe=function(){return!e.draggable&&"image"===e.theme&&(0,l.Wm)(U0,{files:E.value,loadingFile:w.loadingFile,percent:w.percent,showUploadProgress:e.showUploadProgress,placeholder:e.placeholder,multiple:e.multiple,max:e.max,disabled:S.value,onClick:q,onRemove:W,onImgPreview:D,locale:e.locale},null)},ie=function(t){var n=e.theme;return e.multiple&&"file"===e.theme&&e.draggable&&(n="file-flow"),I.value&&(0,l.Wm)(G0,{files:E.value,placeholder:e.placeholder,autoUpload:e.autoUpload,toUploadFiles:w.toUploadFiles,theme:n,batchUpload:w.canBatchUpload,showUploadProgress:e.showUploadProgress,allowUploadDuplicateFile:e.allowUploadDuplicateFile,onRemove:H,onUpload:K,onCancel:z,onImgPreview:D,onChange:Y,onDragenter:j,onDragleave:M,locale:e.locale},{default:function(){return[(0,l.Wm)("div",{class:"".concat(s.value,"__trigger"),onclick:q},[t])]}})},ae=function(){return["image","image-flow","custom"].includes(e.theme)&&(0,l.Wm)(QK,{visible:k.value,showOverlay:!0,width:"auto",top:"10%",class:"".concat(s.value,"__dialog"),footer:!1,header:!1,onClose:x},{default:function(){return[(0,l.Wm)("div",{class:"".concat(i.value,"__dialog-body-img-box")},[(0,l.Wm)("img",{src:P.value,alt:""},null)])]}})},se=(0,l.Fl)((function(){return["".concat(s.value,"__tips ").concat(i.value,"-size-s")]})),ce=(0,l.Fl)((function(){return se.value.concat("".concat(s.value,"__tips-error"))}));return function(){var t=ne();return(0,l.Wm)("div",{class:"".concat(s.value)},[Z(),re(t),$(t),R.value&&ee(),oe(),ie(t),ae(),!w.errorMsg&&O.value&&(0,l.Wm)("small",{class:se.value},[e.tips]),T.value&&(0,l.Wm)("small",{class:ce.value},[w.errorMsg])])}}}),m2=Hf(v2),y2=(0,l.aZ)({name:"TConfigProvider",props:{globalConfig:Object},setup:function(e){var t=oT(ws);(0,l.JJ)(Ss,(0,l.Fl)((function(){return Cs(t,e.globalConfig)})));var n=op();return function(){return(0,l.Wm)("div",null,[n("default")])}}}),A2=Hf(y2);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b2(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _2=(0,l.aZ)({props:{placement:{type:String,default:"top-right",validator:function(e){return["top-left","top-right","bottom-left","bottom-right"].indexOf(e)>-1}}},setup:function(e,t){var n=t.expose,r=Os("notification-list"),o=e.placement,i=(0,d.iH)([]),a=(0,d.iH)([]),s=(0,l.Fl)((function(){return E2({zIndex:u0},d0[o])})),c=function(e){return i.value.push(e),i.value.length-1},u=function(e){i.value.splice(e,1)},f=function(){i.value=[]},p=function(e){if(e)return isNaN(Number(e))?e:"".concat(e,"px")},h=function(e){var t={marginBottom:l0};return e.offset&&(t.position="relative",t.left=p(e.offset[0]),t.top=p(e.offset[1])),e.zIndex&&(t["z-index"]=e.zIndex),t},g=function(e,t){return E2(E2({},t),{},{onCloseBtnClick:function(n){return t.onCloseBtnClick&&t.onCloseBtnClick(n),u(e)},onDurationEnd:function(){return t.onDurationEnd&&t.onDurationEnd(),u(e)}})},v=function(e){e&&a.value.push(e)};return n({add:c,remove:u,removeAll:f,list:i,notificationList:a}),function(){if(i.value.length)return(0,l.Wm)("div",{class:"".concat(r.value,"__show"),style:s.value},[i.value.map((function(e,t){return(0,l.Wm)(b0,(0,l.dG)({ref:v,key:e.id,style:h(e)},g(t,e)),null)}))])}}});
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function w2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w2(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C2=0,I2=new Map,O2=function(e){C2+=1;var t=S2({placement:"top-right",zIndex:6e3,attach:"body",id:C2},e);t.content=e.content?e.content:"";var n=ic(t.attach);I2.get(n)||I2.set(n,{});var r=I2.get(n)[t.placement];if(r)r.add(t);else{var o=document.createElement("div"),i=(0,f.ri)(_2,{placement:t.placement}).mount(o);i.add(t),I2.get(n)[t.placement]=i,r=i,n.appendChild(i.$el)}return new Promise((function(e){var r=I2.get(n)[t.placement];(0,l.Y3)((function(){var t=r.notificationList;e(t[t.length-1])}))}))},T2=function(e,t){var n=S2(S2({},t),{},{theme:e});return O2(n)},R2={info:function(e){return T2("info",e)},success:function(e){return T2("success",e)},warning:function(e){return T2("warning",e)},error:function(e){return T2("error",e)},close:function(e){e.then((function(e){return e.close()}))},closeAll:function(){I2.forEach((function(e){Object.keys(e).forEach((function(t){e[t].removeAll()}))}))}},N2=T2;N2.install=function(e){e.config.globalProperties.$notify=T2,Object.keys(R2).forEach((function(t){e.config.globalProperties.$notify[t]=R2[t]}))},Object.keys(R2).forEach((function(e){N2[e]=R2[e]}));
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
var P2=Object.freeze({__proto__:null,Button:lp,Icon:Ip,Link:Pp,Row:$p,Col:eh,Aside:uh,Layout:lh,Header:dh,Footer:fh,Content:ph,Divider:yh,Space:Ch,Affix:xh,Anchor:$g,AnchorItem:ev,AnchorTarget:tv,Breadcrumb:Gy,BreadcrumbItem:Ky,Dropdown:hA,DropdownItem:gA,DropdownMenu:vA,Jumper:MA,Menu:_E,HeadMenu:wE,Submenu:SE,MenuItem:CE,MenuGroup:IE,Pagination:wP,Steps:jP,StepItem:MP,Tabs:oE,TabPanel:iE,Cascader:cx,CascaderPanel:ux,Checkbox:SN,CheckboxGroup:CN,DatePicker:lB,DatePickerPanel:dB,DateRangePicker:fB,DateRangePickerPanel:pB,Form:hU,FormItem:gU,InputAdornment:fP,Input:T_,InputGroup:R_,InputNumber:lw,Radio:PU,RadioGroup:kU,RadioButton:DU,Select:sP,Option:cP,OptionGroup:uP,Slider:$U,SliderButton:eV,Switch:aV,TagInput:DT,SelectInput:KT,Textarea:vV,Transfer:qV,TimePicker:iW,TimeRangePicker:aW,TimePickerPanel:sW,TreeSelect:KW,ColorPickerPanel:VQ,ColorPicker:WQ,RangeInput:KM,RangeInputPopup:qM,Avatar:JQ,AvatarGroup:XQ,Badge:nG,Calendar:DG,Card:MG,Comment:UG,ImageViewer:JK,List:aq,ListItem:sq,ListItemMeta:cq,Progress:bq,Skeleton:Oq,Swiper:Uq,SwiperItem:Vq,BaseTable:l$,PrimaryTable:d$,EnhancedTable:f$,Table:h$,Tag:_T,CheckTag:wT,Tooltip:By,Tree:VW,Collapse:E$,CollapsePanel:_$,Watermark:L$,Rate:Q$,Alert:z$,DialogPlugin:mY,Dialog:QK,Drawer:Z$,Guide:a0,LoadingPlugin:Ff,Loading:Qf,MessagePlugin:Jg,Message:s0,NotifyPlugin:N2,Notification:E0,Popconfirm:I0,Popup:Dy,Upload:m2,ConfigProvider:A2});n(385);
/**
 * tdesign v0.22.0
 * (c) 2022 tdesign
 * @license MIT
 */
function k2(e,t){Object.keys(P2).forEach((function(n){/plugin/i.test(n)?e.use(P2[n]):e.use(P2[n],t)}))}var D2={install:k2,version:"0.22.0"}},2483:function(e,t,n){"use strict";n.d(t,{PO:function(){return F},p7:function(){return tt}});n(6699),n(1703);var r=n(3396),o=n(4870);
/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const i="undefined"!==typeof window;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function c(e,t){const n={};for(const r in t){const o=t[r];n[r]=l(o)?o.map(e):e(o)}return n}const u=()=>{},l=Array.isArray;const d=/\/$/,f=e=>e.replace(d,"");function p(e,t,n="/"){let r,o={},i="",a="";const s=t.indexOf("#");let c=t.indexOf("?");return s<c&&s>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,s>-1?s:t.length),o=e(i)),s>-1&&(r=r||t.slice(0,s),a=t.slice(s,t.length)),r=E(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:o,hash:a}}function h(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function g(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function v(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&m(t.matched[r],n.matched[o])&&y(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function m(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!A(e[n],t[n]))return!1;return!0}function A(e,t){return l(e)?b(e,t):l(t)?b(t,e):e===t}function b(e,t){return l(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function E(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,i,a=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],"."!==i){if(".."!==i)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var _,w;(function(e){e["pop"]="pop",e["push"]="push"})(_||(_={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(w||(w={}));function S(e){if(!e)if(i){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),f(e)}const C=/^[^#]+#/;function I(e,t){return e.replace(C,"#")+t}function O(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const T=()=>({left:window.pageXOffset,top:window.pageYOffset});function R(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const o="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=O(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function N(e,t){const n=history.state?history.state.position-t:-1;return n+e}const P=new Map;function k(e,t){P.set(e,t)}function D(e){const t=P.get(e);return P.delete(e),t}let x=()=>location.protocol+"//"+location.host;function L(e,t){const{pathname:n,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let t=o.includes(e.slice(i))?e.slice(i).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),g(n,"")}const a=g(n,e);return a+r+o}function j(e,t,n,r){let o=[],i=[],a=null;const c=({state:i})=>{const s=L(e,location),c=n.value,u=t.value;let l=0;if(i){if(n.value=s,t.value=i,a&&a===c)return void(a=null);l=u?i.position-u.position:0}else r(s);o.forEach((e=>{e(n.value,c,{delta:l,type:_.pop,direction:l?l>0?w.forward:w.back:w.unknown})}))};function u(){a=n.value}function l(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(s({},e.state,{scroll:T()}),"")}function f(){for(const e of i)e();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:l,destroy:f}}function M(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?T():null}}function B(e){const{history:t,location:n}=window,r={value:L(e,n)},o={value:t.state};function i(r,i,a){const s=e.indexOf("#"),c=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:x()+e+r;try{t[a?"replaceState":"pushState"](i,"",c),o.value=i}catch(u){console.error(u),n[a?"replace":"assign"](c)}}function a(e,n){const a=s({},t.state,M(o.value.back,e,o.value.forward,!0),n,{position:o.value.position});i(e,a,!0),r.value=e}function c(e,n){const a=s({},o.value,t.state,{forward:e,scroll:T()});i(a.current,a,!0);const c=s({},M(r.value,e,null),{position:a.position+1},n);i(e,c,!1),r.value=e}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:c,replace:a}}function F(e){e=S(e);const t=B(e),n=j(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const o=s({location:"",base:e,go:r,createHref:I.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function U(e){return"string"===typeof e||e&&"object"===typeof e}function V(e){return"string"===typeof e||"symbol"===typeof e}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},H=Symbol("");var Q;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Q||(Q={}));function G(e,t){return s(new Error,{type:e,[H]:!0},t)}function K(e,t){return e instanceof Error&&H in e&&(null==t||!!(e.type&t))}const q="[^/]+?",z={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function J(e,t){const n=s({},z,t),r=[];let o=n.start?"^":"";const i=[];for(const s of e){const e=s.length?[]:[90];n.strict&&!s.length&&(o+="/");for(let t=0;t<s.length;t++){const r=s[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(Y,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:u}=r;i.push({name:e,repeatable:n,optional:c});const l=u||q;if(l!==q){a+=10;try{new RegExp(`(${l})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${l}): `+d.message)}}let f=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;t||(f=c&&s.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),o+=f,a+=20,c&&(a+=-8),n&&(a+=-20),".*"===l&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function c(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=i[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n}function u(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:a,optional:s}=e,c=i in t?t[i]:"";if(l(c)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const u=l(c)?c.join("/"):c;if(!u){if(!s)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}return{re:a,score:r,keys:i,parse:c,stringify:u}}function X(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Z(e,t){let n=0;const r=e.score,o=t.score;while(n<r.length&&n<o.length){const e=X(r[n],o[n]);if(e)return e;n++}if(1===Math.abs(o.length-r.length)){if($(r))return 1;if($(o))return-1}return o.length-r.length}function $(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function ne(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const o=[];let i;function a(){i&&o.push(i),i=[]}let s,c=0,u="",l="";function d(){u&&(0===n?i.push({type:0,value:u}):1===n||2===n||3===n?(i.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:l,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),u="")}function f(){u+=s}while(c<e.length)if(s=e[c++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(u&&d(),a()):":"===s?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===s?n=2:te.test(s)?f():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&c--);break;case 2:")"===s?"\\"==l[l.length-1]?l=l.slice(0,-1)+s:n=3:l+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&c--,l="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),o}function re(e,t,n){const r=J(ne(e.path),n);const o=s(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf===!t.record.aliasOf&&t.children.push(o),o}function oe(e,t){const n=[],r=new Map;function o(e){return r.get(e)}function i(e,n,r){const o=!r,c=ae(e);c.aliasOf=r&&r.record;const d=le(t,e),f=[c];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(s({},c,{components:r?r.record.components:c.components,path:e,aliasOf:r?r.record:c}))}let p,h;for(const t of f){const{path:s}=t;if(n&&"/"!==s[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(s&&r+s)}if(p=re(t,n,d),r?r.alias.push(p):(h=h||p,h!==p&&h.alias.push(p),o&&e.name&&!ce(p)&&a(e.name)),c.children){const e=c.children;for(let t=0;t<e.length;t++)i(e[t],p,r&&r.children[t])}r=r||p,l(p)}return h?()=>{a(h)}:u}function a(e){if(V(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function c(){return n}function l(e){let t=0;while(t<n.length&&Z(e,n[t])>=0&&(e.record.path!==n[t].record.path||!de(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!ce(e)&&r.set(e.record.name,e)}function d(e,t){let o,i,a,c={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw G(1,{location:e});a=o.record.name,c=s(ie(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=o.stringify(c)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(c=o.parse(i),a=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw G(1,{location:e,currentLocation:t});a=o.record.name,c=s({},t.params,e.params),i=o.stringify(c)}const u=[];let l=o;while(l)u.unshift(l.record),l=l.parent;return{name:a,path:i,params:c,matched:u,meta:ue(u)}}return t=le({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:d,removeRoute:a,getRoutes:c,getRecordMatcher:o}}function ie(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ae(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:se(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function se(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function ce(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ue(e){return e.reduce(((e,t)=>s(e,t.meta)),{})}function le(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const fe=/#/g,pe=/&/g,he=/\//g,ge=/=/g,ve=/\?/g,me=/\+/g,ye=/%5B/g,Ae=/%5D/g,be=/%5E/g,Ee=/%60/g,_e=/%7B/g,we=/%7C/g,Se=/%7D/g,Ce=/%20/g;function Ie(e){return encodeURI(""+e).replace(we,"|").replace(ye,"[").replace(Ae,"]")}function Oe(e){return Ie(e).replace(_e,"{").replace(Se,"}").replace(be,"^")}function Te(e){return Ie(e).replace(me,"%2B").replace(Ce,"+").replace(fe,"%23").replace(pe,"%26").replace(Ee,"`").replace(_e,"{").replace(Se,"}").replace(be,"^")}function Re(e){return Te(e).replace(ge,"%3D")}function Ne(e){return Ie(e).replace(fe,"%23").replace(ve,"%3F")}function Pe(e){return null==e?"":Ne(e).replace(he,"%2F")}function ke(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function De(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const e=r[o].replace(me," "),n=e.indexOf("="),i=ke(n<0?e:e.slice(0,n)),a=n<0?null:ke(e.slice(n+1));if(i in t){let e=t[i];l(e)||(e=t[i]=[e]),e.push(a)}else t[i]=a}return t}function xe(e){let t="";for(let n in e){const r=e[n];if(n=Re(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const o=l(r)?r.map((e=>e&&Te(e))):[r&&Te(r)];o.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Le(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=l(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const je=Symbol(""),Me=Symbol(""),Be=Symbol(""),Fe=Symbol(""),Ue=Symbol("");function Ve(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function We(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((a,s)=>{const c=e=>{!1===e?s(G(4,{from:n,to:t})):e instanceof Error?s(e):U(e)?s(G(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"===typeof e&&i.push(e),a())},u=e.call(r&&r.instances[o],t,n,c);let l=Promise.resolve(u);e.length<3&&(l=l.then(c)),l.catch((e=>s(e)))}))}function He(e,t,n,r){const o=[];for(const i of e){0;for(const e in i.components){let s=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if(Qe(s)){const a=s.__vccOpts||s,c=a[t];c&&o.push(We(c,n,r,i,e))}else{let c=s();0,o.push((()=>c.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${i.path}"`));const s=a(o)?o.default:o;i.components[e]=s;const c=s.__vccOpts||s,u=c[t];return u&&We(u,n,r,i,e)()}))))}}}return o}function Qe(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ge(e){const t=(0,r.f3)(Be),n=(0,r.f3)(Fe),i=(0,r.Fl)((()=>t.resolve((0,o.SU)(e.to)))),a=(0,r.Fl)((()=>{const{matched:e}=i.value,{length:t}=e,r=e[t-1],o=n.matched;if(!r||!o.length)return-1;const a=o.findIndex(m.bind(null,r));if(a>-1)return a;const s=Je(e[t-2]);return t>1&&Je(r)===s&&o[o.length-1].path!==s?o.findIndex(m.bind(null,e[t-2])):a})),s=(0,r.Fl)((()=>a.value>-1&&Ye(n.params,i.value.params))),c=(0,r.Fl)((()=>a.value>-1&&a.value===n.matched.length-1&&y(n.params,i.value.params)));function l(n={}){return ze(n)?t[(0,o.SU)(e.replace)?"replace":"push"]((0,o.SU)(e.to)).catch(u):Promise.resolve()}return{route:i,href:(0,r.Fl)((()=>i.value.href)),isActive:s,isExactActive:c,navigate:l}}const Ke=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ge,setup(e,{slots:t}){const n=(0,o.qj)(Ge(e)),{options:i}=(0,r.f3)(Be),a=(0,r.Fl)((()=>({[Xe(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Xe(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const o=t.default&&t.default(n);return e.custom?o:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},o)}}}),qe=Ke;function ze(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const n in t){const r=t[n],o=e[n];if("string"===typeof r){if(r!==o)return!1}else if(!l(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}function Je(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xe=(e,t,n)=>null!=e?e:null!=t?t:n,Ze=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=(0,r.f3)(Ue),a=(0,r.Fl)((()=>e.route||i.value)),c=(0,r.f3)(Me,0),u=(0,r.Fl)((()=>{let e=(0,o.SU)(c);const{matched:t}=a.value;let n;while((n=t[e])&&!n.components)e++;return e})),l=(0,r.Fl)((()=>a.value.matched[u.value]));(0,r.JJ)(Me,(0,r.Fl)((()=>u.value+1))),(0,r.JJ)(je,l),(0,r.JJ)(Ue,a);const d=(0,o.iH)();return(0,r.YP)((()=>[d.value,l.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&m(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const o=a.value,i=e.name,c=l.value,u=c&&c.components[i];if(!u)return $e(n.default,{Component:u,route:o});const f=c.props[i],p=f?!0===f?o.params:"function"===typeof f?f(o):f:null,h=e=>{e.component.isUnmounted&&(c.instances[i]=null)},g=(0,r.h)(u,s({},p,t,{onVnodeUnmounted:h,ref:d}));return $e(n.default,{Component:g,route:o})||g}}});function $e(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Ze;function tt(e){const t=oe(e.routes,e),n=e.parseQuery||De,a=e.stringifyQuery||xe,d=e.history;const f=Ve(),g=Ve(),m=Ve(),y=(0,o.XI)(W);let A=W;i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=c.bind(null,(e=>""+e)),E=c.bind(null,Pe),w=c.bind(null,ke);function S(e,n){let r,o;return V(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)}function C(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function I(){return t.getRoutes().map((e=>e.record))}function O(e){return!!t.getRecordMatcher(e)}function P(e,r){if(r=s({},r||y.value),"string"===typeof e){const o=p(n,e,r.path),i=t.resolve({path:o.path},r),a=d.createHref(o.fullPath);return s(o,i,{params:w(i.params),hash:ke(o.hash),redirectedFrom:void 0,href:a})}let o;if("path"in e)o=s({},e,{path:p(n,e.path,r.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];o=s({},e,{params:E(e.params)}),r.params=E(r.params)}const i=t.resolve(o,r),c=e.hash||"";i.params=b(w(i.params));const u=h(a,s({},e,{hash:Oe(c),path:i.path})),l=d.createHref(u);return s({fullPath:u,hash:c,query:a===xe?Le(e.query):e.query||{}},i,{redirectedFrom:void 0,href:l})}function x(e){return"string"===typeof e?p(n,e,y.value.path):s({},e)}function L(e,t){if(A!==e)return G(8,{from:t,to:e})}function j(e){return F(e)}function M(e){return j(s(x(e),{replace:!0}))}function B(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=x(r):{path:r},r.params={}),s({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function F(e,t){const n=A=P(e),r=y.value,o=e.state,i=e.force,c=!0===e.replace,u=B(n);if(u)return F(s(x(u),{state:o,force:i,replace:c}),t||n);const l=n;let d;return l.redirectedFrom=t,!i&&v(a,r,n)&&(d=G(16,{to:l,from:r}),ne(r,r,!0,!1)),(d?Promise.resolve(d):H(l,r)).catch((e=>K(e)?K(e,2)?e:te(e):$(e,l,r))).then((e=>{if(e){if(K(e,2))return F(s({replace:c},x(e.to),{state:o,force:i}),t||l)}else e=q(l,r,!0,c,o);return Q(l,r,e),e}))}function U(e,t){const n=L(e,t);return n?Promise.reject(n):Promise.resolve()}function H(e,t){let n;const[r,o,i]=rt(e,t);n=He(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(We(r,e,t))}));const a=U.bind(null,e,t);return n.push(a),nt(n).then((()=>{n=[];for(const r of f.list())n.push(We(r,e,t));return n.push(a),nt(n)})).then((()=>{n=He(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(We(r,e,t))}));return n.push(a),nt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(l(r.beforeEnter))for(const o of r.beforeEnter)n.push(We(o,e,t));else n.push(We(r.beforeEnter,e,t));return n.push(a),nt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=He(i,"beforeRouteEnter",e,t),n.push(a),nt(n)))).then((()=>{n=[];for(const r of g.list())n.push(We(r,e,t));return n.push(a),nt(n)})).catch((e=>K(e,8)?e:Promise.reject(e)))}function Q(e,t,n){for(const r of m.list())r(e,t,n)}function q(e,t,n,r,o){const a=L(e,t);if(a)return a;const c=t===W,u=i?history.state:{};n&&(r||c?d.replace(e.fullPath,s({scroll:c&&u&&u.scroll},o)):d.push(e.fullPath,o)),y.value=e,ne(e,t,n,c),te()}let z;function Y(){z||(z=d.listen(((e,t,n)=>{if(!se.listening)return;const r=P(e),o=B(r);if(o)return void F(s(o,{replace:!0}),r).catch(u);A=r;const a=y.value;i&&k(N(a.fullPath,n.delta),T()),H(r,a).catch((e=>K(e,12)?e:K(e,2)?(F(e.to,r).then((e=>{K(e,20)&&!n.delta&&n.type===_.pop&&d.go(-1,!1)})).catch(u),Promise.reject()):(n.delta&&d.go(-n.delta,!1),$(e,r,a)))).then((e=>{e=e||q(r,a,!1),e&&(n.delta&&!K(e,8)?d.go(-n.delta,!1):n.type===_.pop&&K(e,20)&&d.go(-1,!1)),Q(r,a,e)})).catch(u)})))}let J,X=Ve(),Z=Ve();function $(e,t,n){te(e);const r=Z.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ee(){return J&&y.value!==W?Promise.resolve():new Promise(((e,t)=>{X.add([e,t])}))}function te(e){return J||(J=!e,Y(),X.list().forEach((([t,n])=>e?n(e):t())),X.reset()),e}function ne(t,n,o,a){const{scrollBehavior:s}=e;if(!i||!s)return Promise.resolve();const c=!o&&D(N(t.fullPath,0))||(a||!o)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>s(t,n,c))).then((e=>e&&R(e))).catch((e=>$(e,t,n)))}const re=e=>d.go(e);let ie;const ae=new Set,se={currentRoute:y,listening:!0,addRoute:S,removeRoute:C,hasRoute:O,getRoutes:I,resolve:P,options:e,push:j,replace:M,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:f.add,beforeResolve:g.add,afterEach:m.add,onError:Z.add,isReady:ee,install(e){const t=this;e.component("RouterLink",qe),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,o.SU)(y)}),i&&!ie&&y.value===W&&(ie=!0,j(d.location).catch((e=>{0})));const n={};for(const o in W)n[o]=(0,r.Fl)((()=>y.value[o]));e.provide(Be,t),e.provide(Fe,(0,o.qj)(n)),e.provide(Ue,y);const a=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(A=W,z&&z(),z=null,y.value=W,ie=!1,J=!1),a()}}};return se}function nt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const i=t.matched[a];i&&(e.matched.find((e=>m(e,i)))?r.push(i):n.push(i));const s=e.matched[a];s&&(t.matched.find((e=>m(e,s)))||o.push(s))}return[n,r,o]}}}]);
//# sourceMappingURL=chunk-vendors.df8dcceb.js.map